/*! jQuery v2.1.0 | (c) 2005, 2014 jQuery Foundation, Inc. | jquery.org/license */ ! function (a, b) {
    "object" == typeof module && "object" == typeof module.exports ? module.exports = a.document ? b(a, !0) : function (a) {
        if (!a.document) throw new Error("jQuery requires a window with a document");
        return b(a)
    } : b(a)
}("undefined" != typeof window ? window : this, function (a, b) {
    var c = [],
        d = c.slice,
        e = c.concat,
        f = c.push,
        g = c.indexOf,
        h = {},
        i = h.toString,
        j = h.hasOwnProperty,
        k = "".trim,
        l = {},
        m = a.document,
        n = "2.1.0",
        o = function (a, b) {
            return new o.fn.init(a, b)
        },
        p = /^-ms-/,
        q = /-([\da-z])/gi,
        r = function (a, b) {
            return b.toUpperCase()
        };
    o.fn = o.prototype = {
        jquery: n,
        constructor: o,
        selector: "",
        length: 0,
        toArray: function () {
            return d.call(this)
        },
        get: function (a) {
            return null != a ? 0 > a ? this[a + this.length] : this[a] : d.call(this)
        },
        pushStack: function (a) {
            var b = o.merge(this.constructor(), a);
            return b.prevObject = this, b.context = this.context, b
        },
        each: function (a, b) {
            return o.each(this, a, b)
        },
        map: function (a) {
            return this.pushStack(o.map(this, function (b, c) {
                return a.call(b, c, b)
            }))
        },
        slice: function () {
            return this.pushStack(d.apply(this, arguments))
        },
        first: function () {
            return this.eq(0)
        },
        last: function () {
            return this.eq(-1)
        },
        eq: function (a) {
            var b = this.length,
                c = +a + (0 > a ? b : 0);
            return this.pushStack(c >= 0 && b > c ? [this[c]] : [])
        },
        end: function () {
            return this.prevObject || this.constructor(null)
        },
        push: f,
        sort: c.sort,
        splice: c.splice
    }, o.extend = o.fn.extend = function () {
        var a, b, c, d, e, f, g = arguments[0] || {},
            h = 1,
            i = arguments.length,
            j = !1;
        for ("boolean" == typeof g && (j = g, g = arguments[h] || {}, h++), "object" == typeof g || o.isFunction(g) || (g = {}), h === i && (g = this, h--); i > h; h++)
            if (null != (a = arguments[h]))
                for (b in a) c = g[b], d = a[b], g !== d && (j && d && (o.isPlainObject(d) || (e = o.isArray(d))) ? (e ? (e = !1, f = c && o.isArray(c) ? c : []) : f = c && o.isPlainObject(c) ? c : {}, g[b] = o.extend(j, f, d)) : void 0 !== d && (g[b] = d));
        return g
    }, o.extend({
        expando: "jQuery" + (n + Math.random()).replace(/\D/g, ""),
        isReady: !0,
        error: function (a) {
            throw new Error(a)
        },
        noop: function () {},
        isFunction: function (a) {
            return "function" === o.type(a)
        },
        isArray: Array.isArray,
        isWindow: function (a) {
            return null != a && a === a.window
        },
        isNumeric: function (a) {
            return a - parseFloat(a) >= 0
        },
        isPlainObject: function (a) {
            if ("object" !== o.type(a) || a.nodeType || o.isWindow(a)) return !1;
            try {
                if (a.constructor && !j.call(a.constructor.prototype, "isPrototypeOf")) return !1
            } catch (b) {
                return !1
            }
            return !0
        },
        isEmptyObject: function (a) {
            var b;
            for (b in a) return !1;
            return !0
        },
        type: function (a) {
            return null == a ? a + "" : "object" == typeof a || "function" == typeof a ? h[i.call(a)] || "object" : typeof a
        },
        globalEval: function (a) {
            var b, c = eval;
            a = o.trim(a), a && (1 === a.indexOf("use strict") ? (b = m.createElement("script"), b.text = a, m.head.appendChild(b).parentNode.removeChild(b)) : c(a))
        },
        camelCase: function (a) {
            return a.replace(p, "ms-").replace(q, r)
        },
        nodeName: function (a, b) {
            return a.nodeName && a.nodeName.toLowerCase() === b.toLowerCase()
        },
        each: function (a, b, c) {
            var d, e = 0,
                f = a.length,
                g = s(a);
            if (c) {
                if (g) {
                    for (; f > e; e++)
                        if (d = b.apply(a[e], c), d === !1) break
                } else
                    for (e in a)
                        if (d = b.apply(a[e], c), d === !1) break
            } else if (g) {
                for (; f > e; e++)
                    if (d = b.call(a[e], e, a[e]), d === !1) break
            } else
                for (e in a)
                    if (d = b.call(a[e], e, a[e]), d === !1) break;
            return a
        },
        trim: function (a) {
            return null == a ? "" : k.call(a)
        },
        makeArray: function (a, b) {
            var c = b || [];
            return null != a && (s(Object(a)) ? o.merge(c, "string" == typeof a ? [a] : a) : f.call(c, a)), c
        },
        inArray: function (a, b, c) {
            return null == b ? -1 : g.call(b, a, c)
        },
        merge: function (a, b) {
            for (var c = +b.length, d = 0, e = a.length; c > d; d++) a[e++] = b[d];
            return a.length = e, a
        },
        grep: function (a, b, c) {
            for (var d, e = [], f = 0, g = a.length, h = !c; g > f; f++) d = !b(a[f], f), d !== h && e.push(a[f]);
            return e
        },
        map: function (a, b, c) {
            var d, f = 0,
                g = a.length,
                h = s(a),
                i = [];
            if (h)
                for (; g > f; f++) d = b(a[f], f, c), null != d && i.push(d);
            else
                for (f in a) d = b(a[f], f, c), null != d && i.push(d);
            return e.apply([], i)
        },
        guid: 1,
        proxy: function (a, b) {
            var c, e, f;
            return "string" == typeof b && (c = a[b], b = a, a = c), o.isFunction(a) ? (e = d.call(arguments, 2), f = function () {
                return a.apply(b || this, e.concat(d.call(arguments)))
            }, f.guid = a.guid = a.guid || o.guid++, f) : void 0
        },
        now: Date.now,
        support: l
    }), o.each("Boolean Number String Function Array Date RegExp Object Error".split(" "), function (a, b) {
        h["[object " + b + "]"] = b.toLowerCase()
    });

    function s(a) {
        var b = a.length,
            c = o.type(a);
        return "function" === c || o.isWindow(a) ? !1 : 1 === a.nodeType && b ? !0 : "array" === c || 0 === b || "number" == typeof b && b > 0 && b - 1 in a
    }
    var t = function (a) {
        var b, c, d, e, f, g, h, i, j, k, l, m, n, o, p, q, r, s = "sizzle" + -new Date,
            t = a.document,
            u = 0,
            v = 0,
            w = eb(),
            x = eb(),
            y = eb(),
            z = function (a, b) {
                return a === b && (j = !0), 0
            },
            A = "undefined",
            B = 1 << 31,
            C = {}.hasOwnProperty,
            D = [],
            E = D.pop,
            F = D.push,
            G = D.push,
            H = D.slice,
            I = D.indexOf || function (a) {
                for (var b = 0, c = this.length; c > b; b++)
                    if (this[b] === a) return b;
                return -1
            },
            J = "checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",
            K = "[\\x20\\t\\r\\n\\f]",
            L = "(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",
            M = L.replace("w", "w#"),
            N = "\\[" + K + "*(" + L + ")" + K + "*(?:([*^$|!~]?=)" + K + "*(?:(['\"])((?:\\\\.|[^\\\\])*?)\\3|(" + M + ")|)|)" + K + "*\\]",
            O = ":(" + L + ")(?:\\(((['\"])((?:\\\\.|[^\\\\])*?)\\3|((?:\\\\.|[^\\\\()[\\]]|" + N.replace(3, 8) + ")*)|.*)\\)|)",
            P = new RegExp("^" + K + "+|((?:^|[^\\\\])(?:\\\\.)*)" + K + "+$", "g"),
            Q = new RegExp("^" + K + "*," + K + "*"),
            R = new RegExp("^" + K + "*([>+~]|" + K + ")" + K + "*"),
            S = new RegExp("=" + K + "*([^\\]'\"]*?)" + K + "*\\]", "g"),
            T = new RegExp(O),
            U = new RegExp("^" + M + "$"),
            V = {
                ID: new RegExp("^#(" + L + ")"),
                CLASS: new RegExp("^\\.(" + L + ")"),
                TAG: new RegExp("^(" + L.replace("w", "w*") + ")"),
                ATTR: new RegExp("^" + N),
                PSEUDO: new RegExp("^" + O),
                CHILD: new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\(" + K + "*(even|odd|(([+-]|)(\\d*)n|)" + K + "*(?:([+-]|)" + K + "*(\\d+)|))" + K + "*\\)|)", "i"),
                bool: new RegExp("^(?:" + J + ")$", "i"),
                needsContext: new RegExp("^" + K + "*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\(" + K + "*((?:-\\d)?\\d*)" + K + "*\\)|)(?=[^-]|$)", "i")
            },
            W = /^(?:input|select|textarea|button)$/i,
            X = /^h\d$/i,
            Y = /^[^{]+\{\s*\[native \w/,
            Z = /^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,
            $ = /[+~]/,
            _ = /'|\\/g,
            ab = new RegExp("\\\\([\\da-f]{1,6}" + K + "?|(" + K + ")|.)", "ig"),
            bb = function (a, b, c) {
                var d = "0x" + b - 65536;
                return d !== d || c ? b : 0 > d ? String.fromCharCode(d + 65536) : String.fromCharCode(d >> 10 | 55296, 1023 & d | 56320)
            };
        try {
            G.apply(D = H.call(t.childNodes), t.childNodes), D[t.childNodes.length].nodeType
        } catch (cb) {
            G = {
                apply: D.length ? function (a, b) {
                    F.apply(a, H.call(b))
                } : function (a, b) {
                    var c = a.length,
                        d = 0;
                    while (a[c++] = b[d++]);
                    a.length = c - 1
                }
            }
        }

        function db(a, b, d, e) {
            var f, g, h, i, j, m, p, q, u, v;
            if ((b ? b.ownerDocument || b : t) !== l && k(b), b = b || l, d = d || [], !a || "string" != typeof a) return d;
            if (1 !== (i = b.nodeType) && 9 !== i) return [];
            if (n && !e) {
                if (f = Z.exec(a))
                    if (h = f[1]) {
                        if (9 === i) {
                            if (g = b.getElementById(h), !g || !g.parentNode) return d;
                            if (g.id === h) return d.push(g), d
                        } else if (b.ownerDocument && (g = b.ownerDocument.getElementById(h)) && r(b, g) && g.id === h) return d.push(g), d
                    } else {
                        if (f[2]) return G.apply(d, b.getElementsByTagName(a)), d;
                        if ((h = f[3]) && c.getElementsByClassName && b.getElementsByClassName) return G.apply(d, b.getElementsByClassName(h)), d
                    } if (c.qsa && (!o || !o.test(a))) {
                    if (q = p = s, u = b, v = 9 === i && a, 1 === i && "object" !== b.nodeName.toLowerCase()) {
                        m = ob(a), (p = b.getAttribute("id")) ? q = p.replace(_, "\\$&") : b.setAttribute("id", q), q = "[id='" + q + "'] ", j = m.length;
                        while (j--) m[j] = q + pb(m[j]);
                        u = $.test(a) && mb(b.parentNode) || b, v = m.join(",")
                    }
                    if (v) try {
                        return G.apply(d, u.querySelectorAll(v)), d
                    } catch (w) {} finally {
                        p || b.removeAttribute("id")
                    }
                }
            }
            return xb(a.replace(P, "$1"), b, d, e)
        }

        function eb() {
            var a = [];

            function b(c, e) {
                return a.push(c + " ") > d.cacheLength && delete b[a.shift()], b[c + " "] = e
            }
            return b
        }

        function fb(a) {
            return a[s] = !0, a
        }

        function gb(a) {
            var b = l.createElement("div");
            try {
                return !!a(b)
            } catch (c) {
                return !1
            } finally {
                b.parentNode && b.parentNode.removeChild(b), b = null
            }
        }

        function hb(a, b) {
            var c = a.split("|"),
                e = a.length;
            while (e--) d.attrHandle[c[e]] = b
        }

        function ib(a, b) {
            var c = b && a,
                d = c && 1 === a.nodeType && 1 === b.nodeType && (~b.sourceIndex || B) - (~a.sourceIndex || B);
            if (d) return d;
            if (c)
                while (c = c.nextSibling)
                    if (c === b) return -1;
            return a ? 1 : -1
        }

        function jb(a) {
            return function (b) {
                var c = b.nodeName.toLowerCase();
                return "input" === c && b.type === a
            }
        }

        function kb(a) {
            return function (b) {
                var c = b.nodeName.toLowerCase();
                return ("input" === c || "button" === c) && b.type === a
            }
        }

        function lb(a) {
            return fb(function (b) {
                return b = +b, fb(function (c, d) {
                    var e, f = a([], c.length, b),
                        g = f.length;
                    while (g--) c[e = f[g]] && (c[e] = !(d[e] = c[e]))
                })
            })
        }

        function mb(a) {
            return a && typeof a.getElementsByTagName !== A && a
        }
        c = db.support = {}, f = db.isXML = function (a) {
            var b = a && (a.ownerDocument || a).documentElement;
            return b ? "HTML" !== b.nodeName : !1
        }, k = db.setDocument = function (a) {
            var b, e = a ? a.ownerDocument || a : t,
                g = e.defaultView;
            return e !== l && 9 === e.nodeType && e.documentElement ? (l = e, m = e.documentElement, n = !f(e), g && g !== g.top && (g.addEventListener ? g.addEventListener("unload", function () {
                k()
            }, !1) : g.attachEvent && g.attachEvent("onunload", function () {
                k()
            })), c.attributes = gb(function (a) {
                return a.className = "i", !a.getAttribute("className")
            }), c.getElementsByTagName = gb(function (a) {
                return a.appendChild(e.createComment("")), !a.getElementsByTagName("*").length
            }), c.getElementsByClassName = Y.test(e.getElementsByClassName) && gb(function (a) {
                return a.innerHTML = "<div class='a'></div><div class='a i'></div>", a.firstChild.className = "i", 2 === a.getElementsByClassName("i").length
            }), c.getById = gb(function (a) {
                return m.appendChild(a).id = s, !e.getElementsByName || !e.getElementsByName(s).length
            }), c.getById ? (d.find.ID = function (a, b) {
                if (typeof b.getElementById !== A && n) {
                    var c = b.getElementById(a);
                    return c && c.parentNode ? [c] : []
                }
            }, d.filter.ID = function (a) {
                var b = a.replace(ab, bb);
                return function (a) {
                    return a.getAttribute("id") === b
                }
            }) : (delete d.find.ID, d.filter.ID = function (a) {
                var b = a.replace(ab, bb);
                return function (a) {
                    var c = typeof a.getAttributeNode !== A && a.getAttributeNode("id");
                    return c && c.value === b
                }
            }), d.find.TAG = c.getElementsByTagName ? function (a, b) {
                return typeof b.getElementsByTagName !== A ? b.getElementsByTagName(a) : void 0
            } : function (a, b) {
                var c, d = [],
                    e = 0,
                    f = b.getElementsByTagName(a);
                if ("*" === a) {
                    while (c = f[e++]) 1 === c.nodeType && d.push(c);
                    return d
                }
                return f
            }, d.find.CLASS = c.getElementsByClassName && function (a, b) {
                return typeof b.getElementsByClassName !== A && n ? b.getElementsByClassName(a) : void 0
            }, p = [], o = [], (c.qsa = Y.test(e.querySelectorAll)) && (gb(function (a) {
                a.innerHTML = "<select t=''><option selected=''></option></select>", a.querySelectorAll("[t^='']").length && o.push("[*^$]=" + K + "*(?:''|\"\")"), a.querySelectorAll("[selected]").length || o.push("\\[" + K + "*(?:value|" + J + ")"), a.querySelectorAll(":checked").length || o.push(":checked")
            }), gb(function (a) {
                var b = e.createElement("input");
                b.setAttribute("type", "hidden"), a.appendChild(b).setAttribute("name", "D"), a.querySelectorAll("[name=d]").length && o.push("name" + K + "*[*^$|!~]?="), a.querySelectorAll(":enabled").length || o.push(":enabled", ":disabled"), a.querySelectorAll("*,:x"), o.push(",.*:")
            })), (c.matchesSelector = Y.test(q = m.webkitMatchesSelector || m.mozMatchesSelector || m.oMatchesSelector || m.msMatchesSelector)) && gb(function (a) {
                c.disconnectedMatch = q.call(a, "div"), q.call(a, "[s!='']:x"), p.push("!=", O)
            }), o = o.length && new RegExp(o.join("|")), p = p.length && new RegExp(p.join("|")), b = Y.test(m.compareDocumentPosition), r = b || Y.test(m.contains) ? function (a, b) {
                var c = 9 === a.nodeType ? a.documentElement : a,
                    d = b && b.parentNode;
                return a === d || !(!d || 1 !== d.nodeType || !(c.contains ? c.contains(d) : a.compareDocumentPosition && 16 & a.compareDocumentPosition(d)))
            } : function (a, b) {
                if (b)
                    while (b = b.parentNode)
                        if (b === a) return !0;
                return !1
            }, z = b ? function (a, b) {
                if (a === b) return j = !0, 0;
                var d = !a.compareDocumentPosition - !b.compareDocumentPosition;
                return d ? d : (d = (a.ownerDocument || a) === (b.ownerDocument || b) ? a.compareDocumentPosition(b) : 1, 1 & d || !c.sortDetached && b.compareDocumentPosition(a) === d ? a === e || a.ownerDocument === t && r(t, a) ? -1 : b === e || b.ownerDocument === t && r(t, b) ? 1 : i ? I.call(i, a) - I.call(i, b) : 0 : 4 & d ? -1 : 1)
            } : function (a, b) {
                if (a === b) return j = !0, 0;
                var c, d = 0,
                    f = a.parentNode,
                    g = b.parentNode,
                    h = [a],
                    k = [b];
                if (!f || !g) return a === e ? -1 : b === e ? 1 : f ? -1 : g ? 1 : i ? I.call(i, a) - I.call(i, b) : 0;
                if (f === g) return ib(a, b);
                c = a;
                while (c = c.parentNode) h.unshift(c);
                c = b;
                while (c = c.parentNode) k.unshift(c);
                while (h[d] === k[d]) d++;
                return d ? ib(h[d], k[d]) : h[d] === t ? -1 : k[d] === t ? 1 : 0
            }, e) : l
        }, db.matches = function (a, b) {
            return db(a, null, null, b)
        }, db.matchesSelector = function (a, b) {
            if ((a.ownerDocument || a) !== l && k(a), b = b.replace(S, "='$1']"), !(!c.matchesSelector || !n || p && p.test(b) || o && o.test(b))) try {
                var d = q.call(a, b);
                if (d || c.disconnectedMatch || a.document && 11 !== a.document.nodeType) return d
            } catch (e) {}
            return db(b, l, null, [a]).length > 0
        }, db.contains = function (a, b) {
            return (a.ownerDocument || a) !== l && k(a), r(a, b)
        }, db.attr = function (a, b) {
            (a.ownerDocument || a) !== l && k(a);
            var e = d.attrHandle[b.toLowerCase()],
                f = e && C.call(d.attrHandle, b.toLowerCase()) ? e(a, b, !n) : void 0;
            return void 0 !== f ? f : c.attributes || !n ? a.getAttribute(b) : (f = a.getAttributeNode(b)) && f.specified ? f.value : null
        }, db.error = function (a) {
            throw new Error("Syntax error, unrecognized expression: " + a)
        }, db.uniqueSort = function (a) {
            var b, d = [],
                e = 0,
                f = 0;
            if (j = !c.detectDuplicates, i = !c.sortStable && a.slice(0), a.sort(z), j) {
                while (b = a[f++]) b === a[f] && (e = d.push(f));
                while (e--) a.splice(d[e], 1)
            }
            return i = null, a
        }, e = db.getText = function (a) {
            var b, c = "",
                d = 0,
                f = a.nodeType;
            if (f) {
                if (1 === f || 9 === f || 11 === f) {
                    if ("string" == typeof a.textContent) return a.textContent;
                    for (a = a.firstChild; a; a = a.nextSibling) c += e(a)
                } else if (3 === f || 4 === f) return a.nodeValue
            } else
                while (b = a[d++]) c += e(b);
            return c
        }, d = db.selectors = {
            cacheLength: 50,
            createPseudo: fb,
            match: V,
            attrHandle: {},
            find: {},
            relative: {
                ">": {
                    dir: "parentNode",
                    first: !0
                },
                " ": {
                    dir: "parentNode"
                },
                "+": {
                    dir: "previousSibling",
                    first: !0
                },
                "~": {
                    dir: "previousSibling"
                }
            },
            preFilter: {
                ATTR: function (a) {
                    return a[1] = a[1].replace(ab, bb), a[3] = (a[4] || a[5] || "").replace(ab, bb), "~=" === a[2] && (a[3] = " " + a[3] + " "), a.slice(0, 4)
                },
                CHILD: function (a) {
                    return a[1] = a[1].toLowerCase(), "nth" === a[1].slice(0, 3) ? (a[3] || db.error(a[0]), a[4] = +(a[4] ? a[5] + (a[6] || 1) : 2 * ("even" === a[3] || "odd" === a[3])), a[5] = +(a[7] + a[8] || "odd" === a[3])) : a[3] && db.error(a[0]), a
                },
                PSEUDO: function (a) {
                    var b, c = !a[5] && a[2];
                    return V.CHILD.test(a[0]) ? null : (a[3] && void 0 !== a[4] ? a[2] = a[4] : c && T.test(c) && (b = ob(c, !0)) && (b = c.indexOf(")", c.length - b) - c.length) && (a[0] = a[0].slice(0, b), a[2] = c.slice(0, b)), a.slice(0, 3))
                }
            },
            filter: {
                TAG: function (a) {
                    var b = a.replace(ab, bb).toLowerCase();
                    return "*" === a ? function () {
                        return !0
                    } : function (a) {
                        return a.nodeName && a.nodeName.toLowerCase() === b
                    }
                },
                CLASS: function (a) {
                    var b = w[a + " "];
                    return b || (b = new RegExp("(^|" + K + ")" + a + "(" + K + "|$)")) && w(a, function (a) {
                        return b.test("string" == typeof a.className && a.className || typeof a.getAttribute !== A && a.getAttribute("class") || "")
                    })
                },
                ATTR: function (a, b, c) {
                    return function (d) {
                        var e = db.attr(d, a);
                        return null == e ? "!=" === b : b ? (e += "", "=" === b ? e === c : "!=" === b ? e !== c : "^=" === b ? c && 0 === e.indexOf(c) : "*=" === b ? c && e.indexOf(c) > -1 : "$=" === b ? c && e.slice(-c.length) === c : "~=" === b ? (" " + e + " ").indexOf(c) > -1 : "|=" === b ? e === c || e.slice(0, c.length + 1) === c + "-" : !1) : !0
                    }
                },
                CHILD: function (a, b, c, d, e) {
                    var f = "nth" !== a.slice(0, 3),
                        g = "last" !== a.slice(-4),
                        h = "of-type" === b;
                    return 1 === d && 0 === e ? function (a) {
                        return !!a.parentNode
                    } : function (b, c, i) {
                        var j, k, l, m, n, o, p = f !== g ? "nextSibling" : "previousSibling",
                            q = b.parentNode,
                            r = h && b.nodeName.toLowerCase(),
                            t = !i && !h;
                        if (q) {
                            if (f) {
                                while (p) {
                                    l = b;
                                    while (l = l[p])
                                        if (h ? l.nodeName.toLowerCase() === r : 1 === l.nodeType) return !1;
                                    o = p = "only" === a && !o && "nextSibling"
                                }
                                return !0
                            }
                            if (o = [g ? q.firstChild : q.lastChild], g && t) {
                                k = q[s] || (q[s] = {}), j = k[a] || [], n = j[0] === u && j[1], m = j[0] === u && j[2], l = n && q.childNodes[n];
                                while (l = ++n && l && l[p] || (m = n = 0) || o.pop())
                                    if (1 === l.nodeType && ++m && l === b) {
                                        k[a] = [u, n, m];
                                        break
                                    }
                            } else if (t && (j = (b[s] || (b[s] = {}))[a]) && j[0] === u) m = j[1];
                            else
                                while (l = ++n && l && l[p] || (m = n = 0) || o.pop())
                                    if ((h ? l.nodeName.toLowerCase() === r : 1 === l.nodeType) && ++m && (t && ((l[s] || (l[s] = {}))[a] = [u, m]), l === b)) break;
                            return m -= e, m === d || m % d === 0 && m / d >= 0
                        }
                    }
                },
                PSEUDO: function (a, b) {
                    var c, e = d.pseudos[a] || d.setFilters[a.toLowerCase()] || db.error("unsupported pseudo: " + a);
                    return e[s] ? e(b) : e.length > 1 ? (c = [a, a, "", b], d.setFilters.hasOwnProperty(a.toLowerCase()) ? fb(function (a, c) {
                        var d, f = e(a, b),
                            g = f.length;
                        while (g--) d = I.call(a, f[g]), a[d] = !(c[d] = f[g])
                    }) : function (a) {
                        return e(a, 0, c)
                    }) : e
                }
            },
            pseudos: {
                not: fb(function (a) {
                    var b = [],
                        c = [],
                        d = g(a.replace(P, "$1"));
                    return d[s] ? fb(function (a, b, c, e) {
                        var f, g = d(a, null, e, []),
                            h = a.length;
                        while (h--)(f = g[h]) && (a[h] = !(b[h] = f))
                    }) : function (a, e, f) {
                        return b[0] = a, d(b, null, f, c), !c.pop()
                    }
                }),
                has: fb(function (a) {
                    return function (b) {
                        return db(a, b).length > 0
                    }
                }),
                contains: fb(function (a) {
                    return function (b) {
                        return (b.textContent || b.innerText || e(b)).indexOf(a) > -1
                    }
                }),
                lang: fb(function (a) {
                    return U.test(a || "") || db.error("unsupported lang: " + a), a = a.replace(ab, bb).toLowerCase(),
                        function (b) {
                            var c;
                            do
                                if (c = n ? b.lang : b.getAttribute("xml:lang") || b.getAttribute("lang")) return c = c.toLowerCase(), c === a || 0 === c.indexOf(a + "-"); while ((b = b.parentNode) && 1 === b.nodeType);
                            return !1
                        }
                }),
                target: function (b) {
                    var c = a.location && a.location.hash;
                    return c && c.slice(1) === b.id
                },
                root: function (a) {
                    return a === m
                },
                focus: function (a) {
                    return a === l.activeElement && (!l.hasFocus || l.hasFocus()) && !!(a.type || a.href || ~a.tabIndex)
                },
                enabled: function (a) {
                    return a.disabled === !1
                },
                disabled: function (a) {
                    return a.disabled === !0
                },
                checked: function (a) {
                    var b = a.nodeName.toLowerCase();
                    return "input" === b && !!a.checked || "option" === b && !!a.selected
                },
                selected: function (a) {
                    return a.parentNode && a.parentNode.selectedIndex, a.selected === !0
                },
                empty: function (a) {
                    for (a = a.firstChild; a; a = a.nextSibling)
                        if (a.nodeType < 6) return !1;
                    return !0
                },
                parent: function (a) {
                    return !d.pseudos.empty(a)
                },
                header: function (a) {
                    return X.test(a.nodeName)
                },
                input: function (a) {
                    return W.test(a.nodeName)
                },
                button: function (a) {
                    var b = a.nodeName.toLowerCase();
                    return "input" === b && "button" === a.type || "button" === b
                },
                text: function (a) {
                    var b;
                    return "input" === a.nodeName.toLowerCase() && "text" === a.type && (null == (b = a.getAttribute("type")) || "text" === b.toLowerCase())
                },
                first: lb(function () {
                    return [0]
                }),
                last: lb(function (a, b) {
                    return [b - 1]
                }),
                eq: lb(function (a, b, c) {
                    return [0 > c ? c + b : c]
                }),
                even: lb(function (a, b) {
                    for (var c = 0; b > c; c += 2) a.push(c);
                    return a
                }),
                odd: lb(function (a, b) {
                    for (var c = 1; b > c; c += 2) a.push(c);
                    return a
                }),
                lt: lb(function (a, b, c) {
                    for (var d = 0 > c ? c + b : c; --d >= 0;) a.push(d);
                    return a
                }),
                gt: lb(function (a, b, c) {
                    for (var d = 0 > c ? c + b : c; ++d < b;) a.push(d);
                    return a
                })
            }
        }, d.pseudos.nth = d.pseudos.eq;
        for (b in {
                radio: !0,
                checkbox: !0,
                file: !0,
                password: !0,
                image: !0
            }) d.pseudos[b] = jb(b);
        for (b in {
                submit: !0,
                reset: !0
            }) d.pseudos[b] = kb(b);

        function nb() {}
        nb.prototype = d.filters = d.pseudos, d.setFilters = new nb;

        function ob(a, b) {
            var c, e, f, g, h, i, j, k = x[a + " "];
            if (k) return b ? 0 : k.slice(0);
            h = a, i = [], j = d.preFilter;
            while (h) {
                (!c || (e = Q.exec(h))) && (e && (h = h.slice(e[0].length) || h), i.push(f = [])), c = !1, (e = R.exec(h)) && (c = e.shift(), f.push({
                    value: c,
                    type: e[0].replace(P, " ")
                }), h = h.slice(c.length));
                for (g in d.filter) !(e = V[g].exec(h)) || j[g] && !(e = j[g](e)) || (c = e.shift(), f.push({
                    value: c,
                    type: g,
                    matches: e
                }), h = h.slice(c.length));
                if (!c) break
            }
            return b ? h.length : h ? db.error(a) : x(a, i).slice(0)
        }

        function pb(a) {
            for (var b = 0, c = a.length, d = ""; c > b; b++) d += a[b].value;
            return d
        }

        function qb(a, b, c) {
            var d = b.dir,
                e = c && "parentNode" === d,
                f = v++;
            return b.first ? function (b, c, f) {
                while (b = b[d])
                    if (1 === b.nodeType || e) return a(b, c, f)
            } : function (b, c, g) {
                var h, i, j = [u, f];
                if (g) {
                    while (b = b[d])
                        if ((1 === b.nodeType || e) && a(b, c, g)) return !0
                } else
                    while (b = b[d])
                        if (1 === b.nodeType || e) {
                            if (i = b[s] || (b[s] = {}), (h = i[d]) && h[0] === u && h[1] === f) return j[2] = h[2];
                            if (i[d] = j, j[2] = a(b, c, g)) return !0
                        }
            }
        }

        function rb(a) {
            return a.length > 1 ? function (b, c, d) {
                var e = a.length;
                while (e--)
                    if (!a[e](b, c, d)) return !1;
                return !0
            } : a[0]
        }

        function sb(a, b, c, d, e) {
            for (var f, g = [], h = 0, i = a.length, j = null != b; i > h; h++)(f = a[h]) && (!c || c(f, d, e)) && (g.push(f), j && b.push(h));
            return g
        }

        function tb(a, b, c, d, e, f) {
            return d && !d[s] && (d = tb(d)), e && !e[s] && (e = tb(e, f)), fb(function (f, g, h, i) {
                var j, k, l, m = [],
                    n = [],
                    o = g.length,
                    p = f || wb(b || "*", h.nodeType ? [h] : h, []),
                    q = !a || !f && b ? p : sb(p, m, a, h, i),
                    r = c ? e || (f ? a : o || d) ? [] : g : q;
                if (c && c(q, r, h, i), d) {
                    j = sb(r, n), d(j, [], h, i), k = j.length;
                    while (k--)(l = j[k]) && (r[n[k]] = !(q[n[k]] = l))
                }
                if (f) {
                    if (e || a) {
                        if (e) {
                            j = [], k = r.length;
                            while (k--)(l = r[k]) && j.push(q[k] = l);
                            e(null, r = [], j, i)
                        }
                        k = r.length;
                        while (k--)(l = r[k]) && (j = e ? I.call(f, l) : m[k]) > -1 && (f[j] = !(g[j] = l))
                    }
                } else r = sb(r === g ? r.splice(o, r.length) : r), e ? e(null, g, r, i) : G.apply(g, r)
            })
        }

        function ub(a) {
            for (var b, c, e, f = a.length, g = d.relative[a[0].type], i = g || d.relative[" "], j = g ? 1 : 0, k = qb(function (a) {
                    return a === b
                }, i, !0), l = qb(function (a) {
                    return I.call(b, a) > -1
                }, i, !0), m = [function (a, c, d) {
                    return !g && (d || c !== h) || ((b = c).nodeType ? k(a, c, d) : l(a, c, d))
                }]; f > j; j++)
                if (c = d.relative[a[j].type]) m = [qb(rb(m), c)];
                else {
                    if (c = d.filter[a[j].type].apply(null, a[j].matches), c[s]) {
                        for (e = ++j; f > e; e++)
                            if (d.relative[a[e].type]) break;
                        return tb(j > 1 && rb(m), j > 1 && pb(a.slice(0, j - 1).concat({
                            value: " " === a[j - 2].type ? "*" : ""
                        })).replace(P, "$1"), c, e > j && ub(a.slice(j, e)), f > e && ub(a = a.slice(e)), f > e && pb(a))
                    }
                    m.push(c)
                } return rb(m)
        }

        function vb(a, b) {
            var c = b.length > 0,
                e = a.length > 0,
                f = function (f, g, i, j, k) {
                    var m, n, o, p = 0,
                        q = "0",
                        r = f && [],
                        s = [],
                        t = h,
                        v = f || e && d.find.TAG("*", k),
                        w = u += null == t ? 1 : Math.random() || .1,
                        x = v.length;
                    for (k && (h = g !== l && g); q !== x && null != (m = v[q]); q++) {
                        if (e && m) {
                            n = 0;
                            while (o = a[n++])
                                if (o(m, g, i)) {
                                    j.push(m);
                                    break
                                } k && (u = w)
                        }
                        c && ((m = !o && m) && p--, f && r.push(m))
                    }
                    if (p += q, c && q !== p) {
                        n = 0;
                        while (o = b[n++]) o(r, s, g, i);
                        if (f) {
                            if (p > 0)
                                while (q--) r[q] || s[q] || (s[q] = E.call(j));
                            s = sb(s)
                        }
                        G.apply(j, s), k && !f && s.length > 0 && p + b.length > 1 && db.uniqueSort(j)
                    }
                    return k && (u = w, h = t), r
                };
            return c ? fb(f) : f
        }
        g = db.compile = function (a, b) {
            var c, d = [],
                e = [],
                f = y[a + " "];
            if (!f) {
                b || (b = ob(a)), c = b.length;
                while (c--) f = ub(b[c]), f[s] ? d.push(f) : e.push(f);
                f = y(a, vb(e, d))
            }
            return f
        };

        function wb(a, b, c) {
            for (var d = 0, e = b.length; e > d; d++) db(a, b[d], c);
            return c
        }

        function xb(a, b, e, f) {
            var h, i, j, k, l, m = ob(a);
            if (!f && 1 === m.length) {
                if (i = m[0] = m[0].slice(0), i.length > 2 && "ID" === (j = i[0]).type && c.getById && 9 === b.nodeType && n && d.relative[i[1].type]) {
                    if (b = (d.find.ID(j.matches[0].replace(ab, bb), b) || [])[0], !b) return e;
                    a = a.slice(i.shift().value.length)
                }
                h = V.needsContext.test(a) ? 0 : i.length;
                while (h--) {
                    if (j = i[h], d.relative[k = j.type]) break;
                    if ((l = d.find[k]) && (f = l(j.matches[0].replace(ab, bb), $.test(i[0].type) && mb(b.parentNode) || b))) {
                        if (i.splice(h, 1), a = f.length && pb(i), !a) return G.apply(e, f), e;
                        break
                    }
                }
            }
            return g(a, m)(f, b, !n, e, $.test(a) && mb(b.parentNode) || b), e
        }
        return c.sortStable = s.split("").sort(z).join("") === s, c.detectDuplicates = !!j, k(), c.sortDetached = gb(function (a) {
            return 1 & a.compareDocumentPosition(l.createElement("div"))
        }), gb(function (a) {
            return a.innerHTML = "<a href='#'></a>", "#" === a.firstChild.getAttribute("href")
        }) || hb("type|href|height|width", function (a, b, c) {
            return c ? void 0 : a.getAttribute(b, "type" === b.toLowerCase() ? 1 : 2)
        }), c.attributes && gb(function (a) {
            return a.innerHTML = "<input/>", a.firstChild.setAttribute("value", ""), "" === a.firstChild.getAttribute("value")
        }) || hb("value", function (a, b, c) {
            return c || "input" !== a.nodeName.toLowerCase() ? void 0 : a.defaultValue
        }), gb(function (a) {
            return null == a.getAttribute("disabled")
        }) || hb(J, function (a, b, c) {
            var d;
            return c ? void 0 : a[b] === !0 ? b.toLowerCase() : (d = a.getAttributeNode(b)) && d.specified ? d.value : null
        }), db
    }(a);
    o.find = t, o.expr = t.selectors, o.expr[":"] = o.expr.pseudos, o.unique = t.uniqueSort, o.text = t.getText, o.isXMLDoc = t.isXML, o.contains = t.contains;
    var u = o.expr.match.needsContext,
        v = /^<(\w+)\s*\/?>(?:<\/\1>|)$/,
        w = /^.[^:#\[\.,]*$/;

    function x(a, b, c) {
        if (o.isFunction(b)) return o.grep(a, function (a, d) {
            return !!b.call(a, d, a) !== c
        });
        if (b.nodeType) return o.grep(a, function (a) {
            return a === b !== c
        });
        if ("string" == typeof b) {
            if (w.test(b)) return o.filter(b, a, c);
            b = o.filter(b, a)
        }
        return o.grep(a, function (a) {
            return g.call(b, a) >= 0 !== c
        })
    }
    o.filter = function (a, b, c) {
        var d = b[0];
        return c && (a = ":not(" + a + ")"), 1 === b.length && 1 === d.nodeType ? o.find.matchesSelector(d, a) ? [d] : [] : o.find.matches(a, o.grep(b, function (a) {
            return 1 === a.nodeType
        }))
    }, o.fn.extend({
        find: function (a) {
            var b, c = this.length,
                d = [],
                e = this;
            if ("string" != typeof a) return this.pushStack(o(a).filter(function () {
                for (b = 0; c > b; b++)
                    if (o.contains(e[b], this)) return !0
            }));
            for (b = 0; c > b; b++) o.find(a, e[b], d);
            return d = this.pushStack(c > 1 ? o.unique(d) : d), d.selector = this.selector ? this.selector + " " + a : a, d
        },
        filter: function (a) {
            return this.pushStack(x(this, a || [], !1))
        },
        not: function (a) {
            return this.pushStack(x(this, a || [], !0))
        },
        is: function (a) {
            return !!x(this, "string" == typeof a && u.test(a) ? o(a) : a || [], !1).length
        }
    });
    var y, z = /^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/,
        A = o.fn.init = function (a, b) {
            var c, d;
            if (!a) return this;
            if ("string" == typeof a) {
                if (c = "<" === a[0] && ">" === a[a.length - 1] && a.length >= 3 ? [null, a, null] : z.exec(a), !c || !c[1] && b) return !b || b.jquery ? (b || y).find(a) : this.constructor(b).find(a);
                if (c[1]) {
                    if (b = b instanceof o ? b[0] : b, o.merge(this, o.parseHTML(c[1], b && b.nodeType ? b.ownerDocument || b : m, !0)), v.test(c[1]) && o.isPlainObject(b))
                        for (c in b) o.isFunction(this[c]) ? this[c](b[c]) : this.attr(c, b[c]);
                    return this
                }
                return d = m.getElementById(c[2]), d && d.parentNode && (this.length = 1, this[0] = d), this.context = m, this.selector = a, this
            }
            return a.nodeType ? (this.context = this[0] = a, this.length = 1, this) : o.isFunction(a) ? "undefined" != typeof y.ready ? y.ready(a) : a(o) : (void 0 !== a.selector && (this.selector = a.selector, this.context = a.context), o.makeArray(a, this))
        };
    A.prototype = o.fn, y = o(m);
    var B = /^(?:parents|prev(?:Until|All))/,
        C = {
            children: !0,
            contents: !0,
            next: !0,
            prev: !0
        };
    o.extend({
        dir: function (a, b, c) {
            var d = [],
                e = void 0 !== c;
            while ((a = a[b]) && 9 !== a.nodeType)
                if (1 === a.nodeType) {
                    if (e && o(a).is(c)) break;
                    d.push(a)
                } return d
        },
        sibling: function (a, b) {
            for (var c = []; a; a = a.nextSibling) 1 === a.nodeType && a !== b && c.push(a);
            return c
        }
    }), o.fn.extend({
        has: function (a) {
            var b = o(a, this),
                c = b.length;
            return this.filter(function () {
                for (var a = 0; c > a; a++)
                    if (o.contains(this, b[a])) return !0
            })
        },
        closest: function (a, b) {
            for (var c, d = 0, e = this.length, f = [], g = u.test(a) || "string" != typeof a ? o(a, b || this.context) : 0; e > d; d++)
                for (c = this[d]; c && c !== b; c = c.parentNode)
                    if (c.nodeType < 11 && (g ? g.index(c) > -1 : 1 === c.nodeType && o.find.matchesSelector(c, a))) {
                        f.push(c);
                        break
                    } return this.pushStack(f.length > 1 ? o.unique(f) : f)
        },
        index: function (a) {
            return a ? "string" == typeof a ? g.call(o(a), this[0]) : g.call(this, a.jquery ? a[0] : a) : this[0] && this[0].parentNode ? this.first().prevAll().length : -1
        },
        add: function (a, b) {
            return this.pushStack(o.unique(o.merge(this.get(), o(a, b))))
        },
        addBack: function (a) {
            return this.add(null == a ? this.prevObject : this.prevObject.filter(a))
        }
    });

    function D(a, b) {
        while ((a = a[b]) && 1 !== a.nodeType);
        return a
    }
    o.each({
        parent: function (a) {
            var b = a.parentNode;
            return b && 11 !== b.nodeType ? b : null
        },
        parents: function (a) {
            return o.dir(a, "parentNode")
        },
        parentsUntil: function (a, b, c) {
            return o.dir(a, "parentNode", c)
        },
        next: function (a) {
            return D(a, "nextSibling")
        },
        prev: function (a) {
            return D(a, "previousSibling")
        },
        nextAll: function (a) {
            return o.dir(a, "nextSibling")
        },
        prevAll: function (a) {
            return o.dir(a, "previousSibling")
        },
        nextUntil: function (a, b, c) {
            return o.dir(a, "nextSibling", c)
        },
        prevUntil: function (a, b, c) {
            return o.dir(a, "previousSibling", c)
        },
        siblings: function (a) {
            return o.sibling((a.parentNode || {}).firstChild, a)
        },
        children: function (a) {
            return o.sibling(a.firstChild)
        },
        contents: function (a) {
            return a.contentDocument || o.merge([], a.childNodes)
        }
    }, function (a, b) {
        o.fn[a] = function (c, d) {
            var e = o.map(this, b, c);
            return "Until" !== a.slice(-5) && (d = c), d && "string" == typeof d && (e = o.filter(d, e)), this.length > 1 && (C[a] || o.unique(e), B.test(a) && e.reverse()), this.pushStack(e)
        }
    });
    var E = /\S+/g,
        F = {};

    function G(a) {
        var b = F[a] = {};
        return o.each(a.match(E) || [], function (a, c) {
            b[c] = !0
        }), b
    }
    o.Callbacks = function (a) {
        a = "string" == typeof a ? F[a] || G(a) : o.extend({}, a);
        var b, c, d, e, f, g, h = [],
            i = !a.once && [],
            j = function (l) {
                for (b = a.memory && l, c = !0, g = e || 0, e = 0, f = h.length, d = !0; h && f > g; g++)
                    if (h[g].apply(l[0], l[1]) === !1 && a.stopOnFalse) {
                        b = !1;
                        break
                    } d = !1, h && (i ? i.length && j(i.shift()) : b ? h = [] : k.disable())
            },
            k = {
                add: function () {
                    if (h) {
                        var c = h.length;
                        ! function g(b) {
                            o.each(b, function (b, c) {
                                var d = o.type(c);
                                "function" === d ? a.unique && k.has(c) || h.push(c) : c && c.length && "string" !== d && g(c)
                            })
                        }(arguments), d ? f = h.length : b && (e = c, j(b))
                    }
                    return this
                },
                remove: function () {
                    return h && o.each(arguments, function (a, b) {
                        var c;
                        while ((c = o.inArray(b, h, c)) > -1) h.splice(c, 1), d && (f >= c && f--, g >= c && g--)
                    }), this
                },
                has: function (a) {
                    return a ? o.inArray(a, h) > -1 : !(!h || !h.length)
                },
                empty: function () {
                    return h = [], f = 0, this
                },
                disable: function () {
                    return h = i = b = void 0, this
                },
                disabled: function () {
                    return !h
                },
                lock: function () {
                    return i = void 0, b || k.disable(), this
                },
                locked: function () {
                    return !i
                },
                fireWith: function (a, b) {
                    return !h || c && !i || (b = b || [], b = [a, b.slice ? b.slice() : b], d ? i.push(b) : j(b)), this
                },
                fire: function () {
                    return k.fireWith(this, arguments), this
                },
                fired: function () {
                    return !!c
                }
            };
        return k
    }, o.extend({
        Deferred: function (a) {
            var b = [["resolve", "done", o.Callbacks("once memory"), "resolved"], ["reject", "fail", o.Callbacks("once memory"), "rejected"], ["notify", "progress", o.Callbacks("memory")]],
                c = "pending",
                d = {
                    state: function () {
                        return c
                    },
                    always: function () {
                        return e.done(arguments).fail(arguments), this
                    },
                    then: function () {
                        var a = arguments;
                        return o.Deferred(function (c) {
                            o.each(b, function (b, f) {
                                var g = o.isFunction(a[b]) && a[b];
                                e[f[1]](function () {
                                    var a = g && g.apply(this, arguments);
                                    a && o.isFunction(a.promise) ? a.promise().done(c.resolve).fail(c.reject).progress(c.notify) : c[f[0] + "With"](this === d ? c.promise() : this, g ? [a] : arguments)
                                })
                            }), a = null
                        }).promise()
                    },
                    promise: function (a) {
                        return null != a ? o.extend(a, d) : d
                    }
                },
                e = {};
            return d.pipe = d.then, o.each(b, function (a, f) {
                var g = f[2],
                    h = f[3];
                d[f[1]] = g.add, h && g.add(function () {
                    c = h
                }, b[1 ^ a][2].disable, b[2][2].lock), e[f[0]] = function () {
                    return e[f[0] + "With"](this === e ? d : this, arguments), this
                }, e[f[0] + "With"] = g.fireWith
            }), d.promise(e), a && a.call(e, e), e
        },
        when: function (a) {
            var b = 0,
                c = d.call(arguments),
                e = c.length,
                f = 1 !== e || a && o.isFunction(a.promise) ? e : 0,
                g = 1 === f ? a : o.Deferred(),
                h = function (a, b, c) {
                    return function (e) {
                        b[a] = this, c[a] = arguments.length > 1 ? d.call(arguments) : e, c === i ? g.notifyWith(b, c) : --f || g.resolveWith(b, c)
                    }
                },
                i, j, k;
            if (e > 1)
                for (i = new Array(e), j = new Array(e), k = new Array(e); e > b; b++) c[b] && o.isFunction(c[b].promise) ? c[b].promise().done(h(b, k, c)).fail(g.reject).progress(h(b, j, i)) : --f;
            return f || g.resolveWith(k, c), g.promise()
        }
    });
    var H;
    o.fn.ready = function (a) {
        return o.ready.promise().done(a), this
    }, o.extend({
        isReady: !1,
        readyWait: 1,
        holdReady: function (a) {
            a ? o.readyWait++ : o.ready(!0)
        },
        ready: function (a) {
            (a === !0 ? --o.readyWait : o.isReady) || (o.isReady = !0, a !== !0 && --o.readyWait > 0 || (H.resolveWith(m, [o]), o.fn.trigger && o(m).trigger("ready").off("ready")))
        }
    });

    function I() {
        m.removeEventListener("DOMContentLoaded", I, !1), a.removeEventListener("load", I, !1), o.ready()
    }
    o.ready.promise = function (b) {
        return H || (H = o.Deferred(), "complete" === m.readyState ? setTimeout(o.ready) : (m.addEventListener("DOMContentLoaded", I, !1), a.addEventListener("load", I, !1))), H.promise(b)
    }, o.ready.promise();
    var J = o.access = function (a, b, c, d, e, f, g) {
        var h = 0,
            i = a.length,
            j = null == c;
        if ("object" === o.type(c)) {
            e = !0;
            for (h in c) o.access(a, b, h, c[h], !0, f, g)
        } else if (void 0 !== d && (e = !0, o.isFunction(d) || (g = !0), j && (g ? (b.call(a, d), b = null) : (j = b, b = function (a, b, c) {
                return j.call(o(a), c)
            })), b))
            for (; i > h; h++) b(a[h], c, g ? d : d.call(a[h], h, b(a[h], c)));
        return e ? a : j ? b.call(a) : i ? b(a[0], c) : f
    };
    o.acceptData = function (a) {
        return 1 === a.nodeType || 9 === a.nodeType || !+a.nodeType
    };

    function K() {
        Object.defineProperty(this.cache = {}, 0, {
            get: function () {
                return {}
            }
        }), this.expando = o.expando + Math.random()
    }
    K.uid = 1, K.accepts = o.acceptData, K.prototype = {
        key: function (a) {
            if (!K.accepts(a)) return 0;
            var b = {},
                c = a[this.expando];
            if (!c) {
                c = K.uid++;
                try {
                    b[this.expando] = {
                        value: c
                    }, Object.defineProperties(a, b)
                } catch (d) {
                    b[this.expando] = c, o.extend(a, b)
                }
            }
            return this.cache[c] || (this.cache[c] = {}), c
        },
        set: function (a, b, c) {
            var d, e = this.key(a),
                f = this.cache[e];
            if ("string" == typeof b) f[b] = c;
            else if (o.isEmptyObject(f)) o.extend(this.cache[e], b);
            else
                for (d in b) f[d] = b[d];
            return f
        },
        get: function (a, b) {
            var c = this.cache[this.key(a)];
            return void 0 === b ? c : c[b]
        },
        access: function (a, b, c) {
            var d;
            return void 0 === b || b && "string" == typeof b && void 0 === c ? (d = this.get(a, b), void 0 !== d ? d : this.get(a, o.camelCase(b))) : (this.set(a, b, c), void 0 !== c ? c : b)
        },
        remove: function (a, b) {
            var c, d, e, f = this.key(a),
                g = this.cache[f];
            if (void 0 === b) this.cache[f] = {};
            else {
                o.isArray(b) ? d = b.concat(b.map(o.camelCase)) : (e = o.camelCase(b), b in g ? d = [b, e] : (d = e, d = d in g ? [d] : d.match(E) || [])), c = d.length;
                while (c--) delete g[d[c]]
            }
        },
        hasData: function (a) {
            return !o.isEmptyObject(this.cache[a[this.expando]] || {})
        },
        discard: function (a) {
            a[this.expando] && delete this.cache[a[this.expando]]
        }
    };
    var L = new K,
        M = new K,
        N = /^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,
        O = /([A-Z])/g;

    function P(a, b, c) {
        var d;
        if (void 0 === c && 1 === a.nodeType)
            if (d = "data-" + b.replace(O, "-$1").toLowerCase(), c = a.getAttribute(d), "string" == typeof c) {
                try {
                    c = "true" === c ? !0 : "false" === c ? !1 : "null" === c ? null : +c + "" === c ? +c : N.test(c) ? o.parseJSON(c) : c
                } catch (e) {}
                M.set(a, b, c)
            } else c = void 0;
        return c
    }
    o.extend({
        hasData: function (a) {
            return M.hasData(a) || L.hasData(a)
        },
        data: function (a, b, c) {
            return M.access(a, b, c)
        },
        removeData: function (a, b) {
            M.remove(a, b)
        },
        _data: function (a, b, c) {
            return L.access(a, b, c)
        },
        _removeData: function (a, b) {
            L.remove(a, b)
        }
    }), o.fn.extend({
        data: function (a, b) {
            var c, d, e, f = this[0],
                g = f && f.attributes;
            if (void 0 === a) {
                if (this.length && (e = M.get(f), 1 === f.nodeType && !L.get(f, "hasDataAttrs"))) {
                    c = g.length;
                    while (c--) d = g[c].name, 0 === d.indexOf("data-") && (d = o.camelCase(d.slice(5)), P(f, d, e[d]));
                    L.set(f, "hasDataAttrs", !0)
                }
                return e
            }
            return "object" == typeof a ? this.each(function () {
                M.set(this, a)
            }) : J(this, function (b) {
                var c, d = o.camelCase(a);
                if (f && void 0 === b) {
                    if (c = M.get(f, a), void 0 !== c) return c;
                    if (c = M.get(f, d), void 0 !== c) return c;
                    if (c = P(f, d, void 0), void 0 !== c) return c
                } else this.each(function () {
                    var c = M.get(this, d);
                    M.set(this, d, b), -1 !== a.indexOf("-") && void 0 !== c && M.set(this, a, b)
                })
            }, null, b, arguments.length > 1, null, !0)
        },
        removeData: function (a) {
            return this.each(function () {
                M.remove(this, a)
            })
        }
    }), o.extend({
        queue: function (a, b, c) {
            var d;
            return a ? (b = (b || "fx") + "queue", d = L.get(a, b), c && (!d || o.isArray(c) ? d = L.access(a, b, o.makeArray(c)) : d.push(c)), d || []) : void 0
        },
        dequeue: function (a, b) {
            b = b || "fx";
            var c = o.queue(a, b),
                d = c.length,
                e = c.shift(),
                f = o._queueHooks(a, b),
                g = function () {
                    o.dequeue(a, b)
                };
            "inprogress" === e && (e = c.shift(), d--), e && ("fx" === b && c.unshift("inprogress"), delete f.stop, e.call(a, g, f)), !d && f && f.empty.fire()
        },
        _queueHooks: function (a, b) {
            var c = b + "queueHooks";
            return L.get(a, c) || L.access(a, c, {
                empty: o.Callbacks("once memory").add(function () {
                    L.remove(a, [b + "queue", c])
                })
            })
        }
    }), o.fn.extend({
        queue: function (a, b) {
            var c = 2;
            return "string" != typeof a && (b = a, a = "fx", c--), arguments.length < c ? o.queue(this[0], a) : void 0 === b ? this : this.each(function () {
                var c = o.queue(this, a, b);
                o._queueHooks(this, a), "fx" === a && "inprogress" !== c[0] && o.dequeue(this, a)
            })
        },
        dequeue: function (a) {
            return this.each(function () {
                o.dequeue(this, a)
            })
        },
        clearQueue: function (a) {
            return this.queue(a || "fx", [])
        },
        promise: function (a, b) {
            var c, d = 1,
                e = o.Deferred(),
                f = this,
                g = this.length,
                h = function () {
                    --d || e.resolveWith(f, [f])
                };
            "string" != typeof a && (b = a, a = void 0), a = a || "fx";
            while (g--) c = L.get(f[g], a + "queueHooks"), c && c.empty && (d++, c.empty.add(h));
            return h(), e.promise(b)
        }
    });
    var Q = /[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,
        R = ["Top", "Right", "Bottom", "Left"],
        S = function (a, b) {
            return a = b || a, "none" === o.css(a, "display") || !o.contains(a.ownerDocument, a)
        },
        T = /^(?:checkbox|radio)$/i;
    ! function () {
        var a = m.createDocumentFragment(),
            b = a.appendChild(m.createElement("div"));
        b.innerHTML = "<input type='radio' checked='checked' name='t'/>", l.checkClone = b.cloneNode(!0).cloneNode(!0).lastChild.checked, b.innerHTML = "<textarea>x</textarea>", l.noCloneChecked = !!b.cloneNode(!0).lastChild.defaultValue
    }();
    var U = "undefined";
    l.focusinBubbles = "onfocusin" in a;
    var V = /^key/,
        W = /^(?:mouse|contextmenu)|click/,
        X = /^(?:focusinfocus|focusoutblur)$/,
        Y = /^([^.]*)(?:\.(.+)|)$/;

    function Z() {
        return !0
    }

    function $() {
        return !1
    }

    function _() {
        try {
            return m.activeElement
        } catch (a) {}
    }
    o.event = {
        global: {},
        add: function (a, b, c, d, e) {
            var f, g, h, i, j, k, l, m, n, p, q, r = L.get(a);
            if (r) {
                c.handler && (f = c, c = f.handler, e = f.selector), c.guid || (c.guid = o.guid++), (i = r.events) || (i = r.events = {}), (g = r.handle) || (g = r.handle = function (b) {
                    return typeof o !== U && o.event.triggered !== b.type ? o.event.dispatch.apply(a, arguments) : void 0
                }), b = (b || "").match(E) || [""], j = b.length;
                while (j--) h = Y.exec(b[j]) || [], n = q = h[1], p = (h[2] || "").split(".").sort(), n && (l = o.event.special[n] || {}, n = (e ? l.delegateType : l.bindType) || n, l = o.event.special[n] || {}, k = o.extend({
                    type: n,
                    origType: q,
                    data: d,
                    handler: c,
                    guid: c.guid,
                    selector: e,
                    needsContext: e && o.expr.match.needsContext.test(e),
                    namespace: p.join(".")
                }, f), (m = i[n]) || (m = i[n] = [], m.delegateCount = 0, l.setup && l.setup.call(a, d, p, g) !== !1 || a.addEventListener && a.addEventListener(n, g, !1)), l.add && (l.add.call(a, k), k.handler.guid || (k.handler.guid = c.guid)), e ? m.splice(m.delegateCount++, 0, k) : m.push(k), o.event.global[n] = !0)
            }
        },
        remove: function (a, b, c, d, e) {
            var f, g, h, i, j, k, l, m, n, p, q, r = L.hasData(a) && L.get(a);
            if (r && (i = r.events)) {
                b = (b || "").match(E) || [""], j = b.length;
                while (j--)
                    if (h = Y.exec(b[j]) || [], n = q = h[1], p = (h[2] || "").split(".").sort(), n) {
                        l = o.event.special[n] || {}, n = (d ? l.delegateType : l.bindType) || n, m = i[n] || [], h = h[2] && new RegExp("(^|\\.)" + p.join("\\.(?:.*\\.|)") + "(\\.|$)"), g = f = m.length;
                        while (f--) k = m[f], !e && q !== k.origType || c && c.guid !== k.guid || h && !h.test(k.namespace) || d && d !== k.selector && ("**" !== d || !k.selector) || (m.splice(f, 1), k.selector && m.delegateCount--, l.remove && l.remove.call(a, k));
                        g && !m.length && (l.teardown && l.teardown.call(a, p, r.handle) !== !1 || o.removeEvent(a, n, r.handle), delete i[n])
                    } else
                        for (n in i) o.event.remove(a, n + b[j], c, d, !0);
                o.isEmptyObject(i) && (delete r.handle, L.remove(a, "events"))
            }
        },
        trigger: function (b, c, d, e) {
            var f, g, h, i, k, l, n, p = [d || m],
                q = j.call(b, "type") ? b.type : b,
                r = j.call(b, "namespace") ? b.namespace.split(".") : [];
            if (g = h = d = d || m, 3 !== d.nodeType && 8 !== d.nodeType && !X.test(q + o.event.triggered) && (q.indexOf(".") >= 0 && (r = q.split("."), q = r.shift(), r.sort()), k = q.indexOf(":") < 0 && "on" + q, b = b[o.expando] ? b : new o.Event(q, "object" == typeof b && b), b.isTrigger = e ? 2 : 3, b.namespace = r.join("."), b.namespace_re = b.namespace ? new RegExp("(^|\\.)" + r.join("\\.(?:.*\\.|)") + "(\\.|$)") : null, b.result = void 0, b.target || (b.target = d), c = null == c ? [b] : o.makeArray(c, [b]), n = o.event.special[q] || {}, e || !n.trigger || n.trigger.apply(d, c) !== !1)) {
                if (!e && !n.noBubble && !o.isWindow(d)) {
                    for (i = n.delegateType || q, X.test(i + q) || (g = g.parentNode); g; g = g.parentNode) p.push(g), h = g;
                    h === (d.ownerDocument || m) && p.push(h.defaultView || h.parentWindow || a)
                }
                f = 0;
                while ((g = p[f++]) && !b.isPropagationStopped()) b.type = f > 1 ? i : n.bindType || q, l = (L.get(g, "events") || {})[b.type] && L.get(g, "handle"), l && l.apply(g, c), l = k && g[k], l && l.apply && o.acceptData(g) && (b.result = l.apply(g, c), b.result === !1 && b.preventDefault());
                return b.type = q, e || b.isDefaultPrevented() || n._default && n._default.apply(p.pop(), c) !== !1 || !o.acceptData(d) || k && o.isFunction(d[q]) && !o.isWindow(d) && (h = d[k], h && (d[k] = null), o.event.triggered = q, d[q](), o.event.triggered = void 0, h && (d[k] = h)), b.result
            }
        },
        dispatch: function (a) {
            a = o.event.fix(a);
            var b, c, e, f, g, h = [],
                i = d.call(arguments),
                j = (L.get(this, "events") || {})[a.type] || [],
                k = o.event.special[a.type] || {};
            if (i[0] = a, a.delegateTarget = this, !k.preDispatch || k.preDispatch.call(this, a) !== !1) {
                h = o.event.handlers.call(this, a, j), b = 0;
                while ((f = h[b++]) && !a.isPropagationStopped()) {
                    a.currentTarget = f.elem, c = 0;
                    while ((g = f.handlers[c++]) && !a.isImmediatePropagationStopped())(!a.namespace_re || a.namespace_re.test(g.namespace)) && (a.handleObj = g, a.data = g.data, e = ((o.event.special[g.origType] || {}).handle || g.handler).apply(f.elem, i), void 0 !== e && (a.result = e) === !1 && (a.preventDefault(), a.stopPropagation()))
                }
                return k.postDispatch && k.postDispatch.call(this, a), a.result
            }
        },
        handlers: function (a, b) {
            var c, d, e, f, g = [],
                h = b.delegateCount,
                i = a.target;
            if (h && i.nodeType && (!a.button || "click" !== a.type))
                for (; i !== this; i = i.parentNode || this)
                    if (i.disabled !== !0 || "click" !== a.type) {
                        for (d = [], c = 0; h > c; c++) f = b[c], e = f.selector + " ", void 0 === d[e] && (d[e] = f.needsContext ? o(e, this).index(i) >= 0 : o.find(e, this, null, [i]).length), d[e] && d.push(f);
                        d.length && g.push({
                            elem: i,
                            handlers: d
                        })
                    } return h < b.length && g.push({
                elem: this,
                handlers: b.slice(h)
            }), g
        },
        props: "altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),
        fixHooks: {},
        keyHooks: {
            props: "char charCode key keyCode".split(" "),
            filter: function (a, b) {
                return null == a.which && (a.which = null != b.charCode ? b.charCode : b.keyCode), a
            }
        },
        mouseHooks: {
            props: "button buttons clientX clientY offsetX offsetY pageX pageY screenX screenY toElement".split(" "),
            filter: function (a, b) {
                var c, d, e, f = b.button;
                return null == a.pageX && null != b.clientX && (c = a.target.ownerDocument || m, d = c.documentElement, e = c.body, a.pageX = b.clientX + (d && d.scrollLeft || e && e.scrollLeft || 0) - (d && d.clientLeft || e && e.clientLeft || 0), a.pageY = b.clientY + (d && d.scrollTop || e && e.scrollTop || 0) - (d && d.clientTop || e && e.clientTop || 0)), a.which || void 0 === f || (a.which = 1 & f ? 1 : 2 & f ? 3 : 4 & f ? 2 : 0), a
            }
        },
        fix: function (a) {
            if (a[o.expando]) return a;
            var b, c, d, e = a.type,
                f = a,
                g = this.fixHooks[e];
            g || (this.fixHooks[e] = g = W.test(e) ? this.mouseHooks : V.test(e) ? this.keyHooks : {}), d = g.props ? this.props.concat(g.props) : this.props, a = new o.Event(f), b = d.length;
            while (b--) c = d[b], a[c] = f[c];
            return a.target || (a.target = m), 3 === a.target.nodeType && (a.target = a.target.parentNode), g.filter ? g.filter(a, f) : a
        },
        special: {
            load: {
                noBubble: !0
            },
            focus: {
                trigger: function () {
                    return this !== _() && this.focus ? (this.focus(), !1) : void 0
                },
                delegateType: "focusin"
            },
            blur: {
                trigger: function () {
                    return this === _() && this.blur ? (this.blur(), !1) : void 0
                },
                delegateType: "focusout"
            },
            click: {
                trigger: function () {
                    return "checkbox" === this.type && this.click && o.nodeName(this, "input") ? (this.click(), !1) : void 0
                },
                _default: function (a) {
                    return o.nodeName(a.target, "a")
                }
            },
            beforeunload: {
                postDispatch: function (a) {
                    void 0 !== a.result && (a.originalEvent.returnValue = a.result)
                }
            }
        },
        simulate: function (a, b, c, d) {
            var e = o.extend(new o.Event, c, {
                type: a,
                isSimulated: !0,
                originalEvent: {}
            });
            d ? o.event.trigger(e, null, b) : o.event.dispatch.call(b, e), e.isDefaultPrevented() && c.preventDefault()
        }
    }, o.removeEvent = function (a, b, c) {
        a.removeEventListener && a.removeEventListener(b, c, !1)
    }, o.Event = function (a, b) {
        return this instanceof o.Event ? (a && a.type ? (this.originalEvent = a, this.type = a.type, this.isDefaultPrevented = a.defaultPrevented || void 0 === a.defaultPrevented && a.getPreventDefault && a.getPreventDefault() ? Z : $) : this.type = a, b && o.extend(this, b), this.timeStamp = a && a.timeStamp || o.now(), void(this[o.expando] = !0)) : new o.Event(a, b)
    }, o.Event.prototype = {
        isDefaultPrevented: $,
        isPropagationStopped: $,
        isImmediatePropagationStopped: $,
        preventDefault: function () {
            var a = this.originalEvent;
            this.isDefaultPrevented = Z, a && a.preventDefault && a.preventDefault()
        },
        stopPropagation: function () {
            var a = this.originalEvent;
            this.isPropagationStopped = Z, a && a.stopPropagation && a.stopPropagation()
        },
        stopImmediatePropagation: function () {
            this.isImmediatePropagationStopped = Z, this.stopPropagation()
        }
    }, o.each({
        mouseenter: "mouseover",
        mouseleave: "mouseout"
    }, function (a, b) {
        o.event.special[a] = {
            delegateType: b,
            bindType: b,
            handle: function (a) {
                var c, d = this,
                    e = a.relatedTarget,
                    f = a.handleObj;
                return (!e || e !== d && !o.contains(d, e)) && (a.type = f.origType, c = f.handler.apply(this, arguments), a.type = b), c
            }
        }
    }), l.focusinBubbles || o.each({
        focus: "focusin",
        blur: "focusout"
    }, function (a, b) {
        var c = function (a) {
            o.event.simulate(b, a.target, o.event.fix(a), !0)
        };
        o.event.special[b] = {
            setup: function () {
                var d = this.ownerDocument || this,
                    e = L.access(d, b);
                e || d.addEventListener(a, c, !0), L.access(d, b, (e || 0) + 1)
            },
            teardown: function () {
                var d = this.ownerDocument || this,
                    e = L.access(d, b) - 1;
                e ? L.access(d, b, e) : (d.removeEventListener(a, c, !0), L.remove(d, b))
            }
        }
    }), o.fn.extend({
        on: function (a, b, c, d, e) {
            var f, g;
            if ("object" == typeof a) {
                "string" != typeof b && (c = c || b, b = void 0);
                for (g in a) this.on(g, b, c, a[g], e);
                return this
            }
            if (null == c && null == d ? (d = b, c = b = void 0) : null == d && ("string" == typeof b ? (d = c, c = void 0) : (d = c, c = b, b = void 0)), d === !1) d = $;
            else if (!d) return this;
            return 1 === e && (f = d, d = function (a) {
                return o().off(a), f.apply(this, arguments)
            }, d.guid = f.guid || (f.guid = o.guid++)), this.each(function () {
                o.event.add(this, a, d, c, b)
            })
        },
        one: function (a, b, c, d) {
            return this.on(a, b, c, d, 1)
        },
        off: function (a, b, c) {
            var d, e;
            if (a && a.preventDefault && a.handleObj) return d = a.handleObj, o(a.delegateTarget).off(d.namespace ? d.origType + "." + d.namespace : d.origType, d.selector, d.handler), this;
            if ("object" == typeof a) {
                for (e in a) this.off(e, b, a[e]);
                return this
            }
            return (b === !1 || "function" == typeof b) && (c = b, b = void 0), c === !1 && (c = $), this.each(function () {
                o.event.remove(this, a, c, b)
            })
        },
        trigger: function (a, b) {
            return this.each(function () {
                o.event.trigger(a, b, this)
            })
        },
        triggerHandler: function (a, b) {
            var c = this[0];
            return c ? o.event.trigger(a, b, c, !0) : void 0
        }
    });
    var ab = /<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,
        bb = /<([\w:]+)/,
        cb = /<|&#?\w+;/,
        db = /<(?:script|style|link)/i,
        eb = /checked\s*(?:[^=]|=\s*.checked.)/i,
        fb = /^$|\/(?:java|ecma)script/i,
        gb = /^true\/(.*)/,
        hb = /^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,
        ib = {
            option: [1, "<select multiple='multiple'>", "</select>"],
            thead: [1, "<table>", "</table>"],
            col: [2, "<table><colgroup>", "</colgroup></table>"],
            tr: [2, "<table><tbody>", "</tbody></table>"],
            td: [3, "<table><tbody><tr>", "</tr></tbody></table>"],
            _default: [0, "", ""]
        };
    ib.optgroup = ib.option, ib.tbody = ib.tfoot = ib.colgroup = ib.caption = ib.thead, ib.th = ib.td;

    function jb(a, b) {
        return o.nodeName(a, "table") && o.nodeName(11 !== b.nodeType ? b : b.firstChild, "tr") ? a.getElementsByTagName("tbody")[0] || a.appendChild(a.ownerDocument.createElement("tbody")) : a
    }

    function kb(a) {
        return a.type = (null !== a.getAttribute("type")) + "/" + a.type, a
    }

    function lb(a) {
        var b = gb.exec(a.type);
        return b ? a.type = b[1] : a.removeAttribute("type"), a
    }

    function mb(a, b) {
        for (var c = 0, d = a.length; d > c; c++) L.set(a[c], "globalEval", !b || L.get(b[c], "globalEval"))
    }

    function nb(a, b) {
        var c, d, e, f, g, h, i, j;
        if (1 === b.nodeType) {
            if (L.hasData(a) && (f = L.access(a), g = L.set(b, f), j = f.events)) {
                delete g.handle, g.events = {};
                for (e in j)
                    for (c = 0, d = j[e].length; d > c; c++) o.event.add(b, e, j[e][c])
            }
            M.hasData(a) && (h = M.access(a), i = o.extend({}, h), M.set(b, i))
        }
    }

    function ob(a, b) {
        var c = a.getElementsByTagName ? a.getElementsByTagName(b || "*") : a.querySelectorAll ? a.querySelectorAll(b || "*") : [];
        return void 0 === b || b && o.nodeName(a, b) ? o.merge([a], c) : c
    }

    function pb(a, b) {
        var c = b.nodeName.toLowerCase();
        "input" === c && T.test(a.type) ? b.checked = a.checked : ("input" === c || "textarea" === c) && (b.defaultValue = a.defaultValue)
    }
    o.extend({
        clone: function (a, b, c) {
            var d, e, f, g, h = a.cloneNode(!0),
                i = o.contains(a.ownerDocument, a);
            if (!(l.noCloneChecked || 1 !== a.nodeType && 11 !== a.nodeType || o.isXMLDoc(a)))
                for (g = ob(h), f = ob(a), d = 0, e = f.length; e > d; d++) pb(f[d], g[d]);
            if (b)
                if (c)
                    for (f = f || ob(a), g = g || ob(h), d = 0, e = f.length; e > d; d++) nb(f[d], g[d]);
                else nb(a, h);
            return g = ob(h, "script"), g.length > 0 && mb(g, !i && ob(a, "script")), h
        },
        buildFragment: function (a, b, c, d) {
            for (var e, f, g, h, i, j, k = b.createDocumentFragment(), l = [], m = 0, n = a.length; n > m; m++)
                if (e = a[m], e || 0 === e)
                    if ("object" === o.type(e)) o.merge(l, e.nodeType ? [e] : e);
                    else if (cb.test(e)) {
                f = f || k.appendChild(b.createElement("div")), g = (bb.exec(e) || ["", ""])[1].toLowerCase(), h = ib[g] || ib._default, f.innerHTML = h[1] + e.replace(ab, "<$1></$2>") + h[2], j = h[0];
                while (j--) f = f.lastChild;
                o.merge(l, f.childNodes), f = k.firstChild, f.textContent = ""
            } else l.push(b.createTextNode(e));
            k.textContent = "", m = 0;
            while (e = l[m++])
                if ((!d || -1 === o.inArray(e, d)) && (i = o.contains(e.ownerDocument, e), f = ob(k.appendChild(e), "script"), i && mb(f), c)) {
                    j = 0;
                    while (e = f[j++]) fb.test(e.type || "") && c.push(e)
                } return k
        },
        cleanData: function (a) {
            for (var b, c, d, e, f, g, h = o.event.special, i = 0; void 0 !== (c = a[i]); i++) {
                if (o.acceptData(c) && (f = c[L.expando], f && (b = L.cache[f]))) {
                    if (d = Object.keys(b.events || {}), d.length)
                        for (g = 0; void 0 !== (e = d[g]); g++) h[e] ? o.event.remove(c, e) : o.removeEvent(c, e, b.handle);
                    L.cache[f] && delete L.cache[f]
                }
                delete M.cache[c[M.expando]]
            }
        }
    }), o.fn.extend({
        text: function (a) {
            return J(this, function (a) {
                return void 0 === a ? o.text(this) : this.empty().each(function () {
                    (1 === this.nodeType || 11 === this.nodeType || 9 === this.nodeType) && (this.textContent = a)
                })
            }, null, a, arguments.length)
        },
        append: function () {
            return this.domManip(arguments, function (a) {
                if (1 === this.nodeType || 11 === this.nodeType || 9 === this.nodeType) {
                    var b = jb(this, a);
                    b.appendChild(a)
                }
            })
        },
        prepend: function () {
            return this.domManip(arguments, function (a) {
                if (1 === this.nodeType || 11 === this.nodeType || 9 === this.nodeType) {
                    var b = jb(this, a);
                    b.insertBefore(a, b.firstChild)
                }
            })
        },
        before: function () {
            return this.domManip(arguments, function (a) {
                this.parentNode && this.parentNode.insertBefore(a, this)
            })
        },
        after: function () {
            return this.domManip(arguments, function (a) {
                this.parentNode && this.parentNode.insertBefore(a, this.nextSibling)
            })
        },
        remove: function (a, b) {
            for (var c, d = a ? o.filter(a, this) : this, e = 0; null != (c = d[e]); e++) b || 1 !== c.nodeType || o.cleanData(ob(c)), c.parentNode && (b && o.contains(c.ownerDocument, c) && mb(ob(c, "script")), c.parentNode.removeChild(c));
            return this
        },
        empty: function () {
            for (var a, b = 0; null != (a = this[b]); b++) 1 === a.nodeType && (o.cleanData(ob(a, !1)), a.textContent = "");
            return this
        },
        clone: function (a, b) {
            return a = null == a ? !1 : a, b = null == b ? a : b, this.map(function () {
                return o.clone(this, a, b)
            })
        },
        html: function (a) {
            return J(this, function (a) {
                var b = this[0] || {},
                    c = 0,
                    d = this.length;
                if (void 0 === a && 1 === b.nodeType) return b.innerHTML;
                if ("string" == typeof a && !db.test(a) && !ib[(bb.exec(a) || ["", ""])[1].toLowerCase()]) {
                    a = a.replace(ab, "<$1></$2>");
                    try {
                        for (; d > c; c++) b = this[c] || {}, 1 === b.nodeType && (o.cleanData(ob(b, !1)), b.innerHTML = a);
                        b = 0
                    } catch (e) {}
                }
                b && this.empty().append(a)
            }, null, a, arguments.length)
        },
        replaceWith: function () {
            var a = arguments[0];
            return this.domManip(arguments, function (b) {
                a = this.parentNode, o.cleanData(ob(this)), a && a.replaceChild(b, this)
            }), a && (a.length || a.nodeType) ? this : this.remove()
        },
        detach: function (a) {
            return this.remove(a, !0)
        },
        domManip: function (a, b) {
            a = e.apply([], a);
            var c, d, f, g, h, i, j = 0,
                k = this.length,
                m = this,
                n = k - 1,
                p = a[0],
                q = o.isFunction(p);
            if (q || k > 1 && "string" == typeof p && !l.checkClone && eb.test(p)) return this.each(function (c) {
                var d = m.eq(c);
                q && (a[0] = p.call(this, c, d.html())), d.domManip(a, b)
            });
            if (k && (c = o.buildFragment(a, this[0].ownerDocument, !1, this), d = c.firstChild, 1 === c.childNodes.length && (c = d), d)) {
                for (f = o.map(ob(c, "script"), kb), g = f.length; k > j; j++) h = c, j !== n && (h = o.clone(h, !0, !0), g && o.merge(f, ob(h, "script"))), b.call(this[j], h, j);
                if (g)
                    for (i = f[f.length - 1].ownerDocument, o.map(f, lb), j = 0; g > j; j++) h = f[j], fb.test(h.type || "") && !L.access(h, "globalEval") && o.contains(i, h) && (h.src ? o._evalUrl && o._evalUrl(h.src) : o.globalEval(h.textContent.replace(hb, "")))
            }
            return this
        }
    }), o.each({
        appendTo: "append",
        prependTo: "prepend",
        insertBefore: "before",
        insertAfter: "after",
        replaceAll: "replaceWith"
    }, function (a, b) {
        o.fn[a] = function (a) {
            for (var c, d = [], e = o(a), g = e.length - 1, h = 0; g >= h; h++) c = h === g ? this : this.clone(!0), o(e[h])[b](c), f.apply(d, c.get());
            return this.pushStack(d)
        }
    });
    var qb, rb = {};

    function sb(b, c) {
        var d = o(c.createElement(b)).appendTo(c.body),
            e = a.getDefaultComputedStyle ? a.getDefaultComputedStyle(d[0]).display : o.css(d[0], "display");
        return d.detach(), e
    }

    function tb(a) {
        var b = m,
            c = rb[a];
        return c || (c = sb(a, b), "none" !== c && c || (qb = (qb || o("<iframe frameborder='0' width='0' height='0'/>")).appendTo(b.documentElement), b = qb[0].contentDocument, b.write(), b.close(), c = sb(a, b), qb.detach()), rb[a] = c), c
    }
    var ub = /^margin/,
        vb = new RegExp("^(" + Q + ")(?!px)[a-z%]+$", "i"),
        wb = function (a) {
            return a.ownerDocument.defaultView.getComputedStyle(a, null)
        };

    function xb(a, b, c) {
        var d, e, f, g, h = a.style;
        return c = c || wb(a), c && (g = c.getPropertyValue(b) || c[b]), c && ("" !== g || o.contains(a.ownerDocument, a) || (g = o.style(a, b)), vb.test(g) && ub.test(b) && (d = h.width, e = h.minWidth, f = h.maxWidth, h.minWidth = h.maxWidth = h.width = g, g = c.width, h.width = d, h.minWidth = e, h.maxWidth = f)), void 0 !== g ? g + "" : g
    }

    function yb(a, b) {
        return {
            get: function () {
                return a() ? void delete this.get : (this.get = b).apply(this, arguments)
            }
        }
    }! function () {
        var b, c, d = "padding:0;margin:0;border:0;display:block;-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box",
            e = m.documentElement,
            f = m.createElement("div"),
            g = m.createElement("div");
        g.style.backgroundClip = "content-box", g.cloneNode(!0).style.backgroundClip = "", l.clearCloneStyle = "content-box" === g.style.backgroundClip, f.style.cssText = "border:0;width:0;height:0;position:absolute;top:0;left:-9999px;margin-top:1px", f.appendChild(g);

        function h() {
            g.style.cssText = "-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;padding:1px;border:1px;display:block;width:4px;margin-top:1%;position:absolute;top:1%", e.appendChild(f);
            var d = a.getComputedStyle(g, null);
            b = "1%" !== d.top, c = "4px" === d.width, e.removeChild(f)
        }
        a.getComputedStyle && o.extend(l, {
            pixelPosition: function () {
                return h(), b
            },
            boxSizingReliable: function () {
                return null == c && h(), c
            },
            reliableMarginRight: function () {
                var b, c = g.appendChild(m.createElement("div"));
                return c.style.cssText = g.style.cssText = d, c.style.marginRight = c.style.width = "0", g.style.width = "1px", e.appendChild(f), b = !parseFloat(a.getComputedStyle(c, null).marginRight), e.removeChild(f), g.innerHTML = "", b
            }
        })
    }(), o.swap = function (a, b, c, d) {
        var e, f, g = {};
        for (f in b) g[f] = a.style[f], a.style[f] = b[f];
        e = c.apply(a, d || []);
        for (f in b) a.style[f] = g[f];
        return e
    };
    var zb = /^(none|table(?!-c[ea]).+)/,
        Ab = new RegExp("^(" + Q + ")(.*)$", "i"),
        Bb = new RegExp("^([+-])=(" + Q + ")", "i"),
        Cb = {
            position: "absolute",
            visibility: "hidden",
            display: "block"
        },
        Db = {
            letterSpacing: 0,
            fontWeight: 400
        },
        Eb = ["Webkit", "O", "Moz", "ms"];

    function Fb(a, b) {
        if (b in a) return b;
        var c = b[0].toUpperCase() + b.slice(1),
            d = b,
            e = Eb.length;
        while (e--)
            if (b = Eb[e] + c, b in a) return b;
        return d
    }

    function Gb(a, b, c) {
        var d = Ab.exec(b);
        return d ? Math.max(0, d[1] - (c || 0)) + (d[2] || "px") : b
    }

    function Hb(a, b, c, d, e) {
        for (var f = c === (d ? "border" : "content") ? 4 : "width" === b ? 1 : 0, g = 0; 4 > f; f += 2) "margin" === c && (g += o.css(a, c + R[f], !0, e)), d ? ("content" === c && (g -= o.css(a, "padding" + R[f], !0, e)), "margin" !== c && (g -= o.css(a, "border" + R[f] + "Width", !0, e))) : (g += o.css(a, "padding" + R[f], !0, e), "padding" !== c && (g += o.css(a, "border" + R[f] + "Width", !0, e)));
        return g
    }

    function Ib(a, b, c) {
        var d = !0,
            e = "width" === b ? a.offsetWidth : a.offsetHeight,
            f = wb(a),
            g = "border-box" === o.css(a, "boxSizing", !1, f);
        if (0 >= e || null == e) {
            if (e = xb(a, b, f), (0 > e || null == e) && (e = a.style[b]), vb.test(e)) return e;
            d = g && (l.boxSizingReliable() || e === a.style[b]), e = parseFloat(e) || 0
        }
        return e + Hb(a, b, c || (g ? "border" : "content"), d, f) + "px"
    }

    function Jb(a, b) {
        for (var c, d, e, f = [], g = 0, h = a.length; h > g; g++) d = a[g], d.style && (f[g] = L.get(d, "olddisplay"), c = d.style.display, b ? (f[g] || "none" !== c || (d.style.display = ""), "" === d.style.display && S(d) && (f[g] = L.access(d, "olddisplay", tb(d.nodeName)))) : f[g] || (e = S(d), (c && "none" !== c || !e) && L.set(d, "olddisplay", e ? c : o.css(d, "display"))));
        for (g = 0; h > g; g++) d = a[g], d.style && (b && "none" !== d.style.display && "" !== d.style.display || (d.style.display = b ? f[g] || "" : "none"));
        return a
    }
    o.extend({
        cssHooks: {
            opacity: {
                get: function (a, b) {
                    if (b) {
                        var c = xb(a, "opacity");
                        return "" === c ? "1" : c
                    }
                }
            }
        },
        cssNumber: {
            columnCount: !0,
            fillOpacity: !0,
            fontWeight: !0,
            lineHeight: !0,
            opacity: !0,
            order: !0,
            orphans: !0,
            widows: !0,
            zIndex: !0,
            zoom: !0
        },
        cssProps: {
            "float": "cssFloat"
        },
        style: function (a, b, c, d) {
            if (a && 3 !== a.nodeType && 8 !== a.nodeType && a.style) {
                var e, f, g, h = o.camelCase(b),
                    i = a.style;
                return b = o.cssProps[h] || (o.cssProps[h] = Fb(i, h)), g = o.cssHooks[b] || o.cssHooks[h], void 0 === c ? g && "get" in g && void 0 !== (e = g.get(a, !1, d)) ? e : i[b] : (f = typeof c, "string" === f && (e = Bb.exec(c)) && (c = (e[1] + 1) * e[2] + parseFloat(o.css(a, b)), f = "number"), null != c && c === c && ("number" !== f || o.cssNumber[h] || (c += "px"), l.clearCloneStyle || "" !== c || 0 !== b.indexOf("background") || (i[b] = "inherit"), g && "set" in g && void 0 === (c = g.set(a, c, d)) || (i[b] = "", i[b] = c)), void 0)
            }
        },
        css: function (a, b, c, d) {
            var e, f, g, h = o.camelCase(b);
            return b = o.cssProps[h] || (o.cssProps[h] = Fb(a.style, h)), g = o.cssHooks[b] || o.cssHooks[h], g && "get" in g && (e = g.get(a, !0, c)), void 0 === e && (e = xb(a, b, d)), "normal" === e && b in Db && (e = Db[b]), "" === c || c ? (f = parseFloat(e), c === !0 || o.isNumeric(f) ? f || 0 : e) : e
        }
    }), o.each(["height", "width"], function (a, b) {
        o.cssHooks[b] = {
            get: function (a, c, d) {
                return c ? 0 === a.offsetWidth && zb.test(o.css(a, "display")) ? o.swap(a, Cb, function () {
                    return Ib(a, b, d)
                }) : Ib(a, b, d) : void 0
            },
            set: function (a, c, d) {
                var e = d && wb(a);
                return Gb(a, c, d ? Hb(a, b, d, "border-box" === o.css(a, "boxSizing", !1, e), e) : 0)
            }
        }
    }), o.cssHooks.marginRight = yb(l.reliableMarginRight, function (a, b) {
        return b ? o.swap(a, {
            display: "inline-block"
        }, xb, [a, "marginRight"]) : void 0
    }), o.each({
        margin: "",
        padding: "",
        border: "Width"
    }, function (a, b) {
        o.cssHooks[a + b] = {
            expand: function (c) {
                for (var d = 0, e = {}, f = "string" == typeof c ? c.split(" ") : [c]; 4 > d; d++) e[a + R[d] + b] = f[d] || f[d - 2] || f[0];
                return e
            }
        }, ub.test(a) || (o.cssHooks[a + b].set = Gb)
    }), o.fn.extend({
        css: function (a, b) {
            return J(this, function (a, b, c) {
                var d, e, f = {},
                    g = 0;
                if (o.isArray(b)) {
                    for (d = wb(a), e = b.length; e > g; g++) f[b[g]] = o.css(a, b[g], !1, d);
                    return f
                }
                return void 0 !== c ? o.style(a, b, c) : o.css(a, b)
            }, a, b, arguments.length > 1)
        },
        show: function () {
            return Jb(this, !0)
        },
        hide: function () {
            return Jb(this)
        },
        toggle: function (a) {
            return "boolean" == typeof a ? a ? this.show() : this.hide() : this.each(function () {
                S(this) ? o(this).show() : o(this).hide()
            })
        }
    });

    function Kb(a, b, c, d, e) {
        return new Kb.prototype.init(a, b, c, d, e)
    }
    o.Tween = Kb, Kb.prototype = {
        constructor: Kb,
        init: function (a, b, c, d, e, f) {
            this.elem = a, this.prop = c, this.easing = e || "swing", this.options = b, this.start = this.now = this.cur(), this.end = d, this.unit = f || (o.cssNumber[c] ? "" : "px")
        },
        cur: function () {
            var a = Kb.propHooks[this.prop];
            return a && a.get ? a.get(this) : Kb.propHooks._default.get(this)
        },
        run: function (a) {
            var b, c = Kb.propHooks[this.prop];
            return this.pos = b = this.options.duration ? o.easing[this.easing](a, this.options.duration * a, 0, 1, this.options.duration) : a, this.now = (this.end - this.start) * b + this.start, this.options.step && this.options.step.call(this.elem, this.now, this), c && c.set ? c.set(this) : Kb.propHooks._default.set(this), this
        }
    }, Kb.prototype.init.prototype = Kb.prototype, Kb.propHooks = {
        _default: {
            get: function (a) {
                var b;
                return null == a.elem[a.prop] || a.elem.style && null != a.elem.style[a.prop] ? (b = o.css(a.elem, a.prop, ""), b && "auto" !== b ? b : 0) : a.elem[a.prop]
            },
            set: function (a) {
                o.fx.step[a.prop] ? o.fx.step[a.prop](a) : a.elem.style && (null != a.elem.style[o.cssProps[a.prop]] || o.cssHooks[a.prop]) ? o.style(a.elem, a.prop, a.now + a.unit) : a.elem[a.prop] = a.now
            }
        }
    }, Kb.propHooks.scrollTop = Kb.propHooks.scrollLeft = {
        set: function (a) {
            a.elem.nodeType && a.elem.parentNode && (a.elem[a.prop] = a.now)
        }
    }, o.easing = {
        linear: function (a) {
            return a
        },
        swing: function (a) {
            return .5 - Math.cos(a * Math.PI) / 2
        }
    }, o.fx = Kb.prototype.init, o.fx.step = {};
    var Lb, Mb, Nb = /^(?:toggle|show|hide)$/,
        Ob = new RegExp("^(?:([+-])=|)(" + Q + ")([a-z%]*)$", "i"),
        Pb = /queueHooks$/,
        Qb = [Vb],
        Rb = {
            "*": [function (a, b) {
                var c = this.createTween(a, b),
                    d = c.cur(),
                    e = Ob.exec(b),
                    f = e && e[3] || (o.cssNumber[a] ? "" : "px"),
                    g = (o.cssNumber[a] || "px" !== f && +d) && Ob.exec(o.css(c.elem, a)),
                    h = 1,
                    i = 20;
                if (g && g[3] !== f) {
                    f = f || g[3], e = e || [], g = +d || 1;
                    do h = h || ".5", g /= h, o.style(c.elem, a, g + f); while (h !== (h = c.cur() / d) && 1 !== h && --i)
                }
                return e && (g = c.start = +g || +d || 0, c.unit = f, c.end = e[1] ? g + (e[1] + 1) * e[2] : +e[2]), c
            }]
        };

    function Sb() {
        return setTimeout(function () {
            Lb = void 0
        }), Lb = o.now()
    }

    function Tb(a, b) {
        var c, d = 0,
            e = {
                height: a
            };
        for (b = b ? 1 : 0; 4 > d; d += 2 - b) c = R[d], e["margin" + c] = e["padding" + c] = a;
        return b && (e.opacity = e.width = a), e
    }

    function Ub(a, b, c) {
        for (var d, e = (Rb[b] || []).concat(Rb["*"]), f = 0, g = e.length; g > f; f++)
            if (d = e[f].call(c, b, a)) return d
    }

    function Vb(a, b, c) {
        var d, e, f, g, h, i, j, k = this,
            l = {},
            m = a.style,
            n = a.nodeType && S(a),
            p = L.get(a, "fxshow");
        c.queue || (h = o._queueHooks(a, "fx"), null == h.unqueued && (h.unqueued = 0, i = h.empty.fire, h.empty.fire = function () {
            h.unqueued || i()
        }), h.unqueued++, k.always(function () {
            k.always(function () {
                h.unqueued--, o.queue(a, "fx").length || h.empty.fire()
            })
        })), 1 === a.nodeType && ("height" in b || "width" in b) && (c.overflow = [m.overflow, m.overflowX, m.overflowY], j = o.css(a, "display"), "none" === j && (j = tb(a.nodeName)), "inline" === j && "none" === o.css(a, "float") && (m.display = "inline-block")), c.overflow && (m.overflow = "hidden", k.always(function () {
            m.overflow = c.overflow[0], m.overflowX = c.overflow[1], m.overflowY = c.overflow[2]
        }));
        for (d in b)
            if (e = b[d], Nb.exec(e)) {
                if (delete b[d], f = f || "toggle" === e, e === (n ? "hide" : "show")) {
                    if ("show" !== e || !p || void 0 === p[d]) continue;
                    n = !0
                }
                l[d] = p && p[d] || o.style(a, d)
            } if (!o.isEmptyObject(l)) {
            p ? "hidden" in p && (n = p.hidden) : p = L.access(a, "fxshow", {}), f && (p.hidden = !n), n ? o(a).show() : k.done(function () {
                o(a).hide()
            }), k.done(function () {
                var b;
                L.remove(a, "fxshow");
                for (b in l) o.style(a, b, l[b])
            });
            for (d in l) g = Ub(n ? p[d] : 0, d, k), d in p || (p[d] = g.start, n && (g.end = g.start, g.start = "width" === d || "height" === d ? 1 : 0))
        }
    }

    function Wb(a, b) {
        var c, d, e, f, g;
        for (c in a)
            if (d = o.camelCase(c), e = b[d], f = a[c], o.isArray(f) && (e = f[1], f = a[c] = f[0]), c !== d && (a[d] = f, delete a[c]), g = o.cssHooks[d], g && "expand" in g) {
                f = g.expand(f), delete a[d];
                for (c in f) c in a || (a[c] = f[c], b[c] = e)
            } else b[d] = e
    }

    function Xb(a, b, c) {
        var d, e, f = 0,
            g = Qb.length,
            h = o.Deferred().always(function () {
                delete i.elem
            }),
            i = function () {
                if (e) return !1;
                for (var b = Lb || Sb(), c = Math.max(0, j.startTime + j.duration - b), d = c / j.duration || 0, f = 1 - d, g = 0, i = j.tweens.length; i > g; g++) j.tweens[g].run(f);
                return h.notifyWith(a, [j, f, c]), 1 > f && i ? c : (h.resolveWith(a, [j]), !1)
            },
            j = h.promise({
                elem: a,
                props: o.extend({}, b),
                opts: o.extend(!0, {
                    specialEasing: {}
                }, c),
                originalProperties: b,
                originalOptions: c,
                startTime: Lb || Sb(),
                duration: c.duration,
                tweens: [],
                createTween: function (b, c) {
                    var d = o.Tween(a, j.opts, b, c, j.opts.specialEasing[b] || j.opts.easing);
                    return j.tweens.push(d), d
                },
                stop: function (b) {
                    var c = 0,
                        d = b ? j.tweens.length : 0;
                    if (e) return this;
                    for (e = !0; d > c; c++) j.tweens[c].run(1);
                    return b ? h.resolveWith(a, [j, b]) : h.rejectWith(a, [j, b]), this
                }
            }),
            k = j.props;
        for (Wb(k, j.opts.specialEasing); g > f; f++)
            if (d = Qb[f].call(j, a, k, j.opts)) return d;
        return o.map(k, Ub, j), o.isFunction(j.opts.start) && j.opts.start.call(a, j), o.fx.timer(o.extend(i, {
            elem: a,
            anim: j,
            queue: j.opts.queue
        })), j.progress(j.opts.progress).done(j.opts.done, j.opts.complete).fail(j.opts.fail).always(j.opts.always)
    }
    o.Animation = o.extend(Xb, {
            tweener: function (a, b) {
                o.isFunction(a) ? (b = a, a = ["*"]) : a = a.split(" ");
                for (var c, d = 0, e = a.length; e > d; d++) c = a[d], Rb[c] = Rb[c] || [], Rb[c].unshift(b)
            },
            prefilter: function (a, b) {
                b ? Qb.unshift(a) : Qb.push(a)
            }
        }), o.speed = function (a, b, c) {
            var d = a && "object" == typeof a ? o.extend({}, a) : {
                complete: c || !c && b || o.isFunction(a) && a,
                duration: a,
                easing: c && b || b && !o.isFunction(b) && b
            };
            return d.duration = o.fx.off ? 0 : "number" == typeof d.duration ? d.duration : d.duration in o.fx.speeds ? o.fx.speeds[d.duration] : o.fx.speeds._default, (null == d.queue || d.queue === !0) && (d.queue = "fx"), d.old = d.complete, d.complete = function () {
                o.isFunction(d.old) && d.old.call(this), d.queue && o.dequeue(this, d.queue)
            }, d
        }, o.fn.extend({
            fadeTo: function (a, b, c, d) {
                return this.filter(S).css("opacity", 0).show().end().animate({
                    opacity: b
                }, a, c, d)
            },
            animate: function (a, b, c, d) {
                var e = o.isEmptyObject(a),
                    f = o.speed(b, c, d),
                    g = function () {
                        var b = Xb(this, o.extend({}, a), f);
                        (e || L.get(this, "finish")) && b.stop(!0)
                    };
                return g.finish = g, e || f.queue === !1 ? this.each(g) : this.queue(f.queue, g)
            },
            stop: function (a, b, c) {
                var d = function (a) {
                    var b = a.stop;
                    delete a.stop, b(c)
                };
                return "string" != typeof a && (c = b, b = a, a = void 0), b && a !== !1 && this.queue(a || "fx", []), this.each(function () {
                    var b = !0,
                        e = null != a && a + "queueHooks",
                        f = o.timers,
                        g = L.get(this);
                    if (e) g[e] && g[e].stop && d(g[e]);
                    else
                        for (e in g) g[e] && g[e].stop && Pb.test(e) && d(g[e]);
                    for (e = f.length; e--;) f[e].elem !== this || null != a && f[e].queue !== a || (f[e].anim.stop(c), b = !1, f.splice(e, 1));
                    (b || !c) && o.dequeue(this, a)
                })
            },
            finish: function (a) {
                return a !== !1 && (a = a || "fx"), this.each(function () {
                    var b, c = L.get(this),
                        d = c[a + "queue"],
                        e = c[a + "queueHooks"],
                        f = o.timers,
                        g = d ? d.length : 0;
                    for (c.finish = !0, o.queue(this, a, []), e && e.stop && e.stop.call(this, !0), b = f.length; b--;) f[b].elem === this && f[b].queue === a && (f[b].anim.stop(!0), f.splice(b, 1));
                    for (b = 0; g > b; b++) d[b] && d[b].finish && d[b].finish.call(this);
                    delete c.finish
                })
            }
        }), o.each(["toggle", "show", "hide"], function (a, b) {
            var c = o.fn[b];
            o.fn[b] = function (a, d, e) {
                return null == a || "boolean" == typeof a ? c.apply(this, arguments) : this.animate(Tb(b, !0), a, d, e)
            }
        }), o.each({
            slideDown: Tb("show"),
            slideUp: Tb("hide"),
            slideToggle: Tb("toggle"),
            fadeIn: {
                opacity: "show"
            },
            fadeOut: {
                opacity: "hide"
            },
            fadeToggle: {
                opacity: "toggle"
            }
        }, function (a, b) {
            o.fn[a] = function (a, c, d) {
                return this.animate(b, a, c, d)
            }
        }), o.timers = [], o.fx.tick = function () {
            var a, b = 0,
                c = o.timers;
            for (Lb = o.now(); b < c.length; b++) a = c[b], a() || c[b] !== a || c.splice(b--, 1);
            c.length || o.fx.stop(), Lb = void 0
        }, o.fx.timer = function (a) {
            o.timers.push(a), a() ? o.fx.start() : o.timers.pop()
        }, o.fx.interval = 13, o.fx.start = function () {
            Mb || (Mb = setInterval(o.fx.tick, o.fx.interval))
        }, o.fx.stop = function () {
            clearInterval(Mb), Mb = null
        }, o.fx.speeds = {
            slow: 600,
            fast: 200,
            _default: 400
        }, o.fn.delay = function (a, b) {
            return a = o.fx ? o.fx.speeds[a] || a : a, b = b || "fx", this.queue(b, function (b, c) {
                var d = setTimeout(b, a);
                c.stop = function () {
                    clearTimeout(d)
                }
            })
        },
        function () {
            var a = m.createElement("input"),
                b = m.createElement("select"),
                c = b.appendChild(m.createElement("option"));
            a.type = "checkbox", l.checkOn = "" !== a.value, l.optSelected = c.selected, b.disabled = !0, l.optDisabled = !c.disabled, a = m.createElement("input"), a.value = "t", a.type = "radio", l.radioValue = "t" === a.value
        }();
    var Yb, Zb, $b = o.expr.attrHandle;
    o.fn.extend({
        attr: function (a, b) {
            return J(this, o.attr, a, b, arguments.length > 1)
        },
        removeAttr: function (a) {
            return this.each(function () {
                o.removeAttr(this, a)
            })
        }
    }), o.extend({
        attr: function (a, b, c) {
            var d, e, f = a.nodeType;
            if (a && 3 !== f && 8 !== f && 2 !== f) return typeof a.getAttribute === U ? o.prop(a, b, c) : (1 === f && o.isXMLDoc(a) || (b = b.toLowerCase(), d = o.attrHooks[b] || (o.expr.match.bool.test(b) ? Zb : Yb)), void 0 === c ? d && "get" in d && null !== (e = d.get(a, b)) ? e : (e = o.find.attr(a, b), null == e ? void 0 : e) : null !== c ? d && "set" in d && void 0 !== (e = d.set(a, c, b)) ? e : (a.setAttribute(b, c + ""), c) : void o.removeAttr(a, b))
        },
        removeAttr: function (a, b) {
            var c, d, e = 0,
                f = b && b.match(E);
            if (f && 1 === a.nodeType)
                while (c = f[e++]) d = o.propFix[c] || c, o.expr.match.bool.test(c) && (a[d] = !1), a.removeAttribute(c)
        },
        attrHooks: {
            type: {
                set: function (a, b) {
                    if (!l.radioValue && "radio" === b && o.nodeName(a, "input")) {
                        var c = a.value;
                        return a.setAttribute("type", b), c && (a.value = c), b
                    }
                }
            }
        }
    }), Zb = {
        set: function (a, b, c) {
            return b === !1 ? o.removeAttr(a, c) : a.setAttribute(c, c), c
        }
    }, o.each(o.expr.match.bool.source.match(/\w+/g), function (a, b) {
        var c = $b[b] || o.find.attr;
        $b[b] = function (a, b, d) {
            var e, f;
            return d || (f = $b[b], $b[b] = e, e = null != c(a, b, d) ? b.toLowerCase() : null, $b[b] = f), e
        }
    });
    var _b = /^(?:input|select|textarea|button)$/i;
    o.fn.extend({
        prop: function (a, b) {
            return J(this, o.prop, a, b, arguments.length > 1)
        },
        removeProp: function (a) {
            return this.each(function () {
                delete this[o.propFix[a] || a]
            })
        }
    }), o.extend({
        propFix: {
            "for": "htmlFor",
            "class": "className"
        },
        prop: function (a, b, c) {
            var d, e, f, g = a.nodeType;
            if (a && 3 !== g && 8 !== g && 2 !== g) return f = 1 !== g || !o.isXMLDoc(a), f && (b = o.propFix[b] || b, e = o.propHooks[b]), void 0 !== c ? e && "set" in e && void 0 !== (d = e.set(a, c, b)) ? d : a[b] = c : e && "get" in e && null !== (d = e.get(a, b)) ? d : a[b]
        },
        propHooks: {
            tabIndex: {
                get: function (a) {
                    return a.hasAttribute("tabindex") || _b.test(a.nodeName) || a.href ? a.tabIndex : -1
                }
            }
        }
    }), l.optSelected || (o.propHooks.selected = {
        get: function (a) {
            var b = a.parentNode;
            return b && b.parentNode && b.parentNode.selectedIndex, null
        }
    }), o.each(["tabIndex", "readOnly", "maxLength", "cellSpacing", "cellPadding", "rowSpan", "colSpan", "useMap", "frameBorder", "contentEditable"], function () {
        o.propFix[this.toLowerCase()] = this
    });
    var ac = /[\t\r\n\f]/g;
    o.fn.extend({
        addClass: function (a) {
            var b, c, d, e, f, g, h = "string" == typeof a && a,
                i = 0,
                j = this.length;
            if (o.isFunction(a)) return this.each(function (b) {
                o(this).addClass(a.call(this, b, this.className))
            });
            if (h)
                for (b = (a || "").match(E) || []; j > i; i++)
                    if (c = this[i], d = 1 === c.nodeType && (c.className ? (" " + c.className + " ").replace(ac, " ") : " ")) {
                        f = 0;
                        while (e = b[f++]) d.indexOf(" " + e + " ") < 0 && (d += e + " ");
                        g = o.trim(d), c.className !== g && (c.className = g)
                    } return this
        },
        removeClass: function (a) {
            var b, c, d, e, f, g, h = 0 === arguments.length || "string" == typeof a && a,
                i = 0,
                j = this.length;
            if (o.isFunction(a)) return this.each(function (b) {
                o(this).removeClass(a.call(this, b, this.className))
            });
            if (h)
                for (b = (a || "").match(E) || []; j > i; i++)
                    if (c = this[i], d = 1 === c.nodeType && (c.className ? (" " + c.className + " ").replace(ac, " ") : "")) {
                        f = 0;
                        while (e = b[f++])
                            while (d.indexOf(" " + e + " ") >= 0) d = d.replace(" " + e + " ", " ");
                        g = a ? o.trim(d) : "", c.className !== g && (c.className = g)
                    } return this
        },
        toggleClass: function (a, b) {
            var c = typeof a;
            return "boolean" == typeof b && "string" === c ? b ? this.addClass(a) : this.removeClass(a) : this.each(o.isFunction(a) ? function (c) {
                o(this).toggleClass(a.call(this, c, this.className, b), b)
            } : function () {
                if ("string" === c) {
                    var b, d = 0,
                        e = o(this),
                        f = a.match(E) || [];
                    while (b = f[d++]) e.hasClass(b) ? e.removeClass(b) : e.addClass(b)
                } else(c === U || "boolean" === c) && (this.className && L.set(this, "__className__", this.className), this.className = this.className || a === !1 ? "" : L.get(this, "__className__") || "")
            })
        },
        hasClass: function (a) {
            for (var b = " " + a + " ", c = 0, d = this.length; d > c; c++)
                if (1 === this[c].nodeType && (" " + this[c].className + " ").replace(ac, " ").indexOf(b) >= 0) return !0;
            return !1
        }
    });
    var bc = /\r/g;
    o.fn.extend({
        val: function (a) {
            var b, c, d, e = this[0]; {
                if (arguments.length) return d = o.isFunction(a), this.each(function (c) {
                    var e;
                    1 === this.nodeType && (e = d ? a.call(this, c, o(this).val()) : a, null == e ? e = "" : "number" == typeof e ? e += "" : o.isArray(e) && (e = o.map(e, function (a) {
                        return null == a ? "" : a + ""
                    })), b = o.valHooks[this.type] || o.valHooks[this.nodeName.toLowerCase()], b && "set" in b && void 0 !== b.set(this, e, "value") || (this.value = e))
                });
                if (e) return b = o.valHooks[e.type] || o.valHooks[e.nodeName.toLowerCase()], b && "get" in b && void 0 !== (c = b.get(e, "value")) ? c : (c = e.value, "string" == typeof c ? c.replace(bc, "") : null == c ? "" : c)
            }
        }
    }), o.extend({
        valHooks: {
            select: {
                get: function (a) {
                    for (var b, c, d = a.options, e = a.selectedIndex, f = "select-one" === a.type || 0 > e, g = f ? null : [], h = f ? e + 1 : d.length, i = 0 > e ? h : f ? e : 0; h > i; i++)
                        if (c = d[i], !(!c.selected && i !== e || (l.optDisabled ? c.disabled : null !== c.getAttribute("disabled")) || c.parentNode.disabled && o.nodeName(c.parentNode, "optgroup"))) {
                            if (b = o(c).val(), f) return b;
                            g.push(b)
                        } return g
                },
                set: function (a, b) {
                    var c, d, e = a.options,
                        f = o.makeArray(b),
                        g = e.length;
                    while (g--) d = e[g], (d.selected = o.inArray(o(d).val(), f) >= 0) && (c = !0);
                    return c || (a.selectedIndex = -1), f
                }
            }
        }
    }), o.each(["radio", "checkbox"], function () {
        o.valHooks[this] = {
            set: function (a, b) {
                return o.isArray(b) ? a.checked = o.inArray(o(a).val(), b) >= 0 : void 0
            }
        }, l.checkOn || (o.valHooks[this].get = function (a) {
            return null === a.getAttribute("value") ? "on" : a.value
        })
    }), o.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "), function (a, b) {
        o.fn[b] = function (a, c) {
            return arguments.length > 0 ? this.on(b, null, a, c) : this.trigger(b)
        }
    }), o.fn.extend({
        hover: function (a, b) {
            return this.mouseenter(a).mouseleave(b || a)
        },
        bind: function (a, b, c) {
            return this.on(a, null, b, c)
        },
        unbind: function (a, b) {
            return this.off(a, null, b)
        },
        delegate: function (a, b, c, d) {
            return this.on(b, a, c, d)
        },
        undelegate: function (a, b, c) {
            return 1 === arguments.length ? this.off(a, "**") : this.off(b, a || "**", c)
        }
    });
    var cc = o.now(),
        dc = /\?/;
    o.parseJSON = function (a) {
        return JSON.parse(a + "")
    }, o.parseXML = function (a) {
        var b, c;
        if (!a || "string" != typeof a) return null;
        try {
            c = new DOMParser, b = c.parseFromString(a, "text/xml")
        } catch (d) {
            b = void 0
        }
        return (!b || b.getElementsByTagName("parsererror").length) && o.error("Invalid XML: " + a), b
    };
    var ec, fc, gc = /#.*$/,
        hc = /([?&])_=[^&]*/,
        ic = /^(.*?):[ \t]*([^\r\n]*)$/gm,
        jc = /^(?:about|app|app-storage|.+-extension|file|res|widget):$/,
        kc = /^(?:GET|HEAD)$/,
        lc = /^\/\//,
        mc = /^([\w.+-]+:)(?:\/\/(?:[^\/?#]*@|)([^\/?#:]*)(?::(\d+)|)|)/,
        nc = {},
        oc = {},
        pc = "*/".concat("*");
    try {
        fc = location.href
    } catch (qc) {
        fc = m.createElement("a"), fc.href = "", fc = fc.href
    }
    ec = mc.exec(fc.toLowerCase()) || [];

    function rc(a) {
        return function (b, c) {
            "string" != typeof b && (c = b, b = "*");
            var d, e = 0,
                f = b.toLowerCase().match(E) || [];
            if (o.isFunction(c))
                while (d = f[e++]) "+" === d[0] ? (d = d.slice(1) || "*", (a[d] = a[d] || []).unshift(c)) : (a[d] = a[d] || []).push(c)
        }
    }

    function sc(a, b, c, d) {
        var e = {},
            f = a === oc;

        function g(h) {
            var i;
            return e[h] = !0, o.each(a[h] || [], function (a, h) {
                var j = h(b, c, d);
                return "string" != typeof j || f || e[j] ? f ? !(i = j) : void 0 : (b.dataTypes.unshift(j), g(j), !1)
            }), i
        }
        return g(b.dataTypes[0]) || !e["*"] && g("*")
    }

    function tc(a, b) {
        var c, d, e = o.ajaxSettings.flatOptions || {};
        for (c in b) void 0 !== b[c] && ((e[c] ? a : d || (d = {}))[c] = b[c]);
        return d && o.extend(!0, a, d), a
    }

    function uc(a, b, c) {
        var d, e, f, g, h = a.contents,
            i = a.dataTypes;
        while ("*" === i[0]) i.shift(), void 0 === d && (d = a.mimeType || b.getResponseHeader("Content-Type"));
        if (d)
            for (e in h)
                if (h[e] && h[e].test(d)) {
                    i.unshift(e);
                    break
                } if (i[0] in c) f = i[0];
        else {
            for (e in c) {
                if (!i[0] || a.converters[e + " " + i[0]]) {
                    f = e;
                    break
                }
                g || (g = e)
            }
            f = f || g
        }
        return f ? (f !== i[0] && i.unshift(f), c[f]) : void 0
    }

    function vc(a, b, c, d) {
        var e, f, g, h, i, j = {},
            k = a.dataTypes.slice();
        if (k[1])
            for (g in a.converters) j[g.toLowerCase()] = a.converters[g];
        f = k.shift();
        while (f)
            if (a.responseFields[f] && (c[a.responseFields[f]] = b), !i && d && a.dataFilter && (b = a.dataFilter(b, a.dataType)), i = f, f = k.shift())
                if ("*" === f) f = i;
                else if ("*" !== i && i !== f) {
            if (g = j[i + " " + f] || j["* " + f], !g)
                for (e in j)
                    if (h = e.split(" "), h[1] === f && (g = j[i + " " + h[0]] || j["* " + h[0]])) {
                        g === !0 ? g = j[e] : j[e] !== !0 && (f = h[0], k.unshift(h[1]));
                        break
                    } if (g !== !0)
                if (g && a["throws"]) b = g(b);
                else try {
                    b = g(b)
                } catch (l) {
                    return {
                        state: "parsererror",
                        error: g ? l : "No conversion from " + i + " to " + f
                    }
                }
        }
        return {
            state: "success",
            data: b
        }
    }
    o.extend({
        active: 0,
        lastModified: {},
        etag: {},
        ajaxSettings: {
            url: fc,
            type: "GET",
            isLocal: jc.test(ec[1]),
            global: !0,
            processData: !0,
            async: !0,
            contentType: "application/x-www-form-urlencoded; charset=UTF-8",
            accepts: {
                "*": pc,
                text: "text/plain",
                html: "text/html",
                xml: "application/xml, text/xml",
                json: "application/json, text/javascript"
            },
            contents: {
                xml: /xml/,
                html: /html/,
                json: /json/
            },
            responseFields: {
                xml: "responseXML",
                text: "responseText",
                json: "responseJSON"
            },
            converters: {
                "* text": String,
                "text html": !0,
                "text json": o.parseJSON,
                "text xml": o.parseXML
            },
            flatOptions: {
                url: !0,
                context: !0
            }
        },
        ajaxSetup: function (a, b) {
            return b ? tc(tc(a, o.ajaxSettings), b) : tc(o.ajaxSettings, a)
        },
        ajaxPrefilter: rc(nc),
        ajaxTransport: rc(oc),
        ajax: function (a, b) {
            "object" == typeof a && (b = a, a = void 0), b = b || {};
            var c, d, e, f, g, h, i, j, k = o.ajaxSetup({}, b),
                l = k.context || k,
                m = k.context && (l.nodeType || l.jquery) ? o(l) : o.event,
                n = o.Deferred(),
                p = o.Callbacks("once memory"),
                q = k.statusCode || {},
                r = {},
                s = {},
                t = 0,
                u = "canceled",
                v = {
                    readyState: 0,
                    getResponseHeader: function (a) {
                        var b;
                        if (2 === t) {
                            if (!f) {
                                f = {};
                                while (b = ic.exec(e)) f[b[1].toLowerCase()] = b[2]
                            }
                            b = f[a.toLowerCase()]
                        }
                        return null == b ? null : b
                    },
                    getAllResponseHeaders: function () {
                        return 2 === t ? e : null
                    },
                    setRequestHeader: function (a, b) {
                        var c = a.toLowerCase();
                        return t || (a = s[c] = s[c] || a, r[a] = b), this
                    },
                    overrideMimeType: function (a) {
                        return t || (k.mimeType = a), this
                    },
                    statusCode: function (a) {
                        var b;
                        if (a)
                            if (2 > t)
                                for (b in a) q[b] = [q[b], a[b]];
                            else v.always(a[v.status]);
                        return this
                    },
                    abort: function (a) {
                        var b = a || u;
                        return c && c.abort(b), x(0, b), this
                    }
                };
            if (n.promise(v).complete = p.add, v.success = v.done, v.error = v.fail, k.url = ((a || k.url || fc) + "").replace(gc, "").replace(lc, ec[1] + "//"), k.type = b.method || b.type || k.method || k.type, k.dataTypes = o.trim(k.dataType || "*").toLowerCase().match(E) || [""], null == k.crossDomain && (h = mc.exec(k.url.toLowerCase()), k.crossDomain = !(!h || h[1] === ec[1] && h[2] === ec[2] && (h[3] || ("http:" === h[1] ? "80" : "443")) === (ec[3] || ("http:" === ec[1] ? "80" : "443")))), k.data && k.processData && "string" != typeof k.data && (k.data = o.param(k.data, k.traditional)), sc(nc, k, b, v), 2 === t) return v;
            i = k.global, i && 0 === o.active++ && o.event.trigger("ajaxStart"), k.type = k.type.toUpperCase(), k.hasContent = !kc.test(k.type), d = k.url, k.hasContent || (k.data && (d = k.url += (dc.test(d) ? "&" : "?") + k.data, delete k.data), k.cache === !1 && (k.url = hc.test(d) ? d.replace(hc, "$1_=" + cc++) : d + (dc.test(d) ? "&" : "?") + "_=" + cc++)), k.ifModified && (o.lastModified[d] && v.setRequestHeader("If-Modified-Since", o.lastModified[d]), o.etag[d] && v.setRequestHeader("If-None-Match", o.etag[d])), (k.data && k.hasContent && k.contentType !== !1 || b.contentType) && v.setRequestHeader("Content-Type", k.contentType), v.setRequestHeader("Accept", k.dataTypes[0] && k.accepts[k.dataTypes[0]] ? k.accepts[k.dataTypes[0]] + ("*" !== k.dataTypes[0] ? ", " + pc + "; q=0.01" : "") : k.accepts["*"]);
            for (j in k.headers) v.setRequestHeader(j, k.headers[j]);
            if (k.beforeSend && (k.beforeSend.call(l, v, k) === !1 || 2 === t)) return v.abort();
            u = "abort";
            for (j in {
                    success: 1,
                    error: 1,
                    complete: 1
                }) v[j](k[j]);
            if (c = sc(oc, k, b, v)) {
                v.readyState = 1, i && m.trigger("ajaxSend", [v, k]), k.async && k.timeout > 0 && (g = setTimeout(function () {
                    v.abort("timeout")
                }, k.timeout));
                try {
                    t = 1, c.send(r, x)
                } catch (w) {
                    if (!(2 > t)) throw w;
                    x(-1, w)
                }
            } else x(-1, "No Transport");

            function x(a, b, f, h) {
                var j, r, s, u, w, x = b;
                2 !== t && (t = 2, g && clearTimeout(g), c = void 0, e = h || "", v.readyState = a > 0 ? 4 : 0, j = a >= 200 && 300 > a || 304 === a, f && (u = uc(k, v, f)), u = vc(k, u, v, j), j ? (k.ifModified && (w = v.getResponseHeader("Last-Modified"), w && (o.lastModified[d] = w), w = v.getResponseHeader("etag"), w && (o.etag[d] = w)), 204 === a || "HEAD" === k.type ? x = "nocontent" : 304 === a ? x = "notmodified" : (x = u.state, r = u.data, s = u.error, j = !s)) : (s = x, (a || !x) && (x = "error", 0 > a && (a = 0))), v.status = a, v.statusText = (b || x) + "", j ? n.resolveWith(l, [r, x, v]) : n.rejectWith(l, [v, x, s]), v.statusCode(q), q = void 0, i && m.trigger(j ? "ajaxSuccess" : "ajaxError", [v, k, j ? r : s]), p.fireWith(l, [v, x]), i && (m.trigger("ajaxComplete", [v, k]), --o.active || o.event.trigger("ajaxStop")))
            }
            return v
        },
        getJSON: function (a, b, c) {
            return o.get(a, b, c, "json")
        },
        getScript: function (a, b) {
            return o.get(a, void 0, b, "script")
        }
    }), o.each(["get", "post"], function (a, b) {
        o[b] = function (a, c, d, e) {
            return o.isFunction(c) && (e = e || d, d = c, c = void 0), o.ajax({
                url: a,
                type: b,
                dataType: e,
                data: c,
                success: d
            })
        }
    }), o.each(["ajaxStart", "ajaxStop", "ajaxComplete", "ajaxError", "ajaxSuccess", "ajaxSend"], function (a, b) {
        o.fn[b] = function (a) {
            return this.on(b, a)
        }
    }), o._evalUrl = function (a) {
        return o.ajax({
            url: a,
            type: "GET",
            dataType: "script",
            async: !1,
            global: !1,
            "throws": !0
        })
    }, o.fn.extend({
        wrapAll: function (a) {
            var b;
            return o.isFunction(a) ? this.each(function (b) {
                o(this).wrapAll(a.call(this, b))
            }) : (this[0] && (b = o(a, this[0].ownerDocument).eq(0).clone(!0), this[0].parentNode && b.insertBefore(this[0]), b.map(function () {
                var a = this;
                while (a.firstElementChild) a = a.firstElementChild;
                return a
            }).append(this)), this)
        },
        wrapInner: function (a) {
            return this.each(o.isFunction(a) ? function (b) {
                o(this).wrapInner(a.call(this, b))
            } : function () {
                var b = o(this),
                    c = b.contents();
                c.length ? c.wrapAll(a) : b.append(a)
            })
        },
        wrap: function (a) {
            var b = o.isFunction(a);
            return this.each(function (c) {
                o(this).wrapAll(b ? a.call(this, c) : a)
            })
        },
        unwrap: function () {
            return this.parent().each(function () {
                o.nodeName(this, "body") || o(this).replaceWith(this.childNodes)
            }).end()
        }
    }), o.expr.filters.hidden = function (a) {
        return a.offsetWidth <= 0 && a.offsetHeight <= 0
    }, o.expr.filters.visible = function (a) {
        return !o.expr.filters.hidden(a)
    };
    var wc = /%20/g,
        xc = /\[\]$/,
        yc = /\r?\n/g,
        zc = /^(?:submit|button|image|reset|file)$/i,
        Ac = /^(?:input|select|textarea|keygen)/i;

    function Bc(a, b, c, d) {
        var e;
        if (o.isArray(b)) o.each(b, function (b, e) {
            c || xc.test(a) ? d(a, e) : Bc(a + "[" + ("object" == typeof e ? b : "") + "]", e, c, d)
        });
        else if (c || "object" !== o.type(b)) d(a, b);
        else
            for (e in b) Bc(a + "[" + e + "]", b[e], c, d)
    }
    o.param = function (a, b) {
        var c, d = [],
            e = function (a, b) {
                b = o.isFunction(b) ? b() : null == b ? "" : b, d[d.length] = encodeURIComponent(a) + "=" + encodeURIComponent(b)
            };
        if (void 0 === b && (b = o.ajaxSettings && o.ajaxSettings.traditional), o.isArray(a) || a.jquery && !o.isPlainObject(a)) o.each(a, function () {
            e(this.name, this.value)
        });
        else
            for (c in a) Bc(c, a[c], b, e);
        return d.join("&").replace(wc, "+")
    }, o.fn.extend({
        serialize: function () {
            return o.param(this.serializeArray())
        },
        serializeArray: function () {
            return this.map(function () {
                var a = o.prop(this, "elements");
                return a ? o.makeArray(a) : this
            }).filter(function () {
                var a = this.type;
                return this.name && !o(this).is(":disabled") && Ac.test(this.nodeName) && !zc.test(a) && (this.checked || !T.test(a))
            }).map(function (a, b) {
                var c = o(this).val();
                return null == c ? null : o.isArray(c) ? o.map(c, function (a) {
                    return {
                        name: b.name,
                        value: a.replace(yc, "\r\n")
                    }
                }) : {
                    name: b.name,
                    value: c.replace(yc, "\r\n")
                }
            }).get()
        }
    }), o.ajaxSettings.xhr = function () {
        try {
            return new XMLHttpRequest
        } catch (a) {}
    };
    var Cc = 0,
        Dc = {},
        Ec = {
            0: 200,
            1223: 204
        },
        Fc = o.ajaxSettings.xhr();
    a.ActiveXObject && o(a).on("unload", function () {
        for (var a in Dc) Dc[a]()
    }), l.cors = !!Fc && "withCredentials" in Fc, l.ajax = Fc = !!Fc, o.ajaxTransport(function (a) {
        var b;
        return l.cors || Fc && !a.crossDomain ? {
            send: function (c, d) {
                var e, f = a.xhr(),
                    g = ++Cc;
                if (f.open(a.type, a.url, a.async, a.username, a.password), a.xhrFields)
                    for (e in a.xhrFields) f[e] = a.xhrFields[e];
                a.mimeType && f.overrideMimeType && f.overrideMimeType(a.mimeType), a.crossDomain || c["X-Requested-With"] || (c["X-Requested-With"] = "XMLHttpRequest");
                for (e in c) f.setRequestHeader(e, c[e]);
                b = function (a) {
                    return function () {
                        b && (delete Dc[g], b = f.onload = f.onerror = null, "abort" === a ? f.abort() : "error" === a ? d(f.status, f.statusText) : d(Ec[f.status] || f.status, f.statusText, "string" == typeof f.responseText ? {
                            text: f.responseText
                        } : void 0, f.getAllResponseHeaders()))
                    }
                }, f.onload = b(), f.onerror = b("error"), b = Dc[g] = b("abort"), f.send(a.hasContent && a.data || null)
            },
            abort: function () {
                b && b()
            }
        } : void 0
    }), o.ajaxSetup({
        accepts: {
            script: "text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"
        },
        contents: {
            script: /(?:java|ecma)script/
        },
        converters: {
            "text script": function (a) {
                return o.globalEval(a), a
            }
        }
    }), o.ajaxPrefilter("script", function (a) {
        void 0 === a.cache && (a.cache = !1), a.crossDomain && (a.type = "GET")
    }), o.ajaxTransport("script", function (a) {
        if (a.crossDomain) {
            var b, c;
            return {
                send: function (d, e) {
                    b = o("<script>").prop({
                        async: !0,
                        charset: a.scriptCharset,
                        src: a.url
                    }).on("load error", c = function (a) {
                        b.remove(), c = null, a && e("error" === a.type ? 404 : 200, a.type)
                    }), m.head.appendChild(b[0])
                },
                abort: function () {
                    c && c()
                }
            }
        }
    });
    var Gc = [],
        Hc = /(=)\?(?=&|$)|\?\?/;
    o.ajaxSetup({
        jsonp: "callback",
        jsonpCallback: function () {
            var a = Gc.pop() || o.expando + "_" + cc++;
            return this[a] = !0, a
        }
    }), o.ajaxPrefilter("json jsonp", function (b, c, d) {
        var e, f, g, h = b.jsonp !== !1 && (Hc.test(b.url) ? "url" : "string" == typeof b.data && !(b.contentType || "").indexOf("application/x-www-form-urlencoded") && Hc.test(b.data) && "data");
        return h || "jsonp" === b.dataTypes[0] ? (e = b.jsonpCallback = o.isFunction(b.jsonpCallback) ? b.jsonpCallback() : b.jsonpCallback, h ? b[h] = b[h].replace(Hc, "$1" + e) : b.jsonp !== !1 && (b.url += (dc.test(b.url) ? "&" : "?") + b.jsonp + "=" + e), b.converters["script json"] = function () {
            return g || o.error(e + " was not called"), g[0]
        }, b.dataTypes[0] = "json", f = a[e], a[e] = function () {
            g = arguments
        }, d.always(function () {
            a[e] = f, b[e] && (b.jsonpCallback = c.jsonpCallback, Gc.push(e)), g && o.isFunction(f) && f(g[0]), g = f = void 0
        }), "script") : void 0
    }), o.parseHTML = function (a, b, c) {
        if (!a || "string" != typeof a) return null;
        "boolean" == typeof b && (c = b, b = !1), b = b || m;
        var d = v.exec(a),
            e = !c && [];
        return d ? [b.createElement(d[1])] : (d = o.buildFragment([a], b, e), e && e.length && o(e).remove(), o.merge([], d.childNodes))
    };
    var Ic = o.fn.load;
    o.fn.load = function (a, b, c) {
        if ("string" != typeof a && Ic) return Ic.apply(this, arguments);
        var d, e, f, g = this,
            h = a.indexOf(" ");
        return h >= 0 && (d = a.slice(h), a = a.slice(0, h)), o.isFunction(b) ? (c = b, b = void 0) : b && "object" == typeof b && (e = "POST"), g.length > 0 && o.ajax({
            url: a,
            type: e,
            dataType: "html",
            data: b
        }).done(function (a) {
            f = arguments, g.html(d ? o("<div>").append(o.parseHTML(a)).find(d) : a)
        }).complete(c && function (a, b) {
            g.each(c, f || [a.responseText, b, a])
        }), this
    }, o.expr.filters.animated = function (a) {
        return o.grep(o.timers, function (b) {
            return a === b.elem
        }).length
    };
    var Jc = a.document.documentElement;

    function Kc(a) {
        return o.isWindow(a) ? a : 9 === a.nodeType && a.defaultView
    }
    o.offset = {
        setOffset: function (a, b, c) {
            var d, e, f, g, h, i, j, k = o.css(a, "position"),
                l = o(a),
                m = {};
            "static" === k && (a.style.position = "relative"), h = l.offset(), f = o.css(a, "top"), i = o.css(a, "left"), j = ("absolute" === k || "fixed" === k) && (f + i).indexOf("auto") > -1, j ? (d = l.position(), g = d.top, e = d.left) : (g = parseFloat(f) || 0, e = parseFloat(i) || 0), o.isFunction(b) && (b = b.call(a, c, h)), null != b.top && (m.top = b.top - h.top + g), null != b.left && (m.left = b.left - h.left + e), "using" in b ? b.using.call(a, m) : l.css(m)
        }
    }, o.fn.extend({
        offset: function (a) {
            if (arguments.length) return void 0 === a ? this : this.each(function (b) {
                o.offset.setOffset(this, a, b)
            });
            var b, c, d = this[0],
                e = {
                    top: 0,
                    left: 0
                },
                f = d && d.ownerDocument;
            if (f) return b = f.documentElement, o.contains(b, d) ? (typeof d.getBoundingClientRect !== U && (e = d.getBoundingClientRect()), c = Kc(f), {
                top: e.top + c.pageYOffset - b.clientTop,
                left: e.left + c.pageXOffset - b.clientLeft
            }) : e
        },
        position: function () {
            if (this[0]) {
                var a, b, c = this[0],
                    d = {
                        top: 0,
                        left: 0
                    };
                return "fixed" === o.css(c, "position") ? b = c.getBoundingClientRect() : (a = this.offsetParent(), b = this.offset(), o.nodeName(a[0], "html") || (d = a.offset()), d.top += o.css(a[0], "borderTopWidth", !0), d.left += o.css(a[0], "borderLeftWidth", !0)), {
                    top: b.top - d.top - o.css(c, "marginTop", !0),
                    left: b.left - d.left - o.css(c, "marginLeft", !0)
                }
            }
        },
        offsetParent: function () {
            return this.map(function () {
                var a = this.offsetParent || Jc;
                while (a && !o.nodeName(a, "html") && "static" === o.css(a, "position")) a = a.offsetParent;
                return a || Jc
            })
        }
    }), o.each({
        scrollLeft: "pageXOffset",
        scrollTop: "pageYOffset"
    }, function (b, c) {
        var d = "pageYOffset" === c;
        o.fn[b] = function (e) {
            return J(this, function (b, e, f) {
                var g = Kc(b);
                return void 0 === f ? g ? g[c] : b[e] : void(g ? g.scrollTo(d ? a.pageXOffset : f, d ? f : a.pageYOffset) : b[e] = f)
            }, b, e, arguments.length, null)
        }
    }), o.each(["top", "left"], function (a, b) {
        o.cssHooks[b] = yb(l.pixelPosition, function (a, c) {
            return c ? (c = xb(a, b), vb.test(c) ? o(a).position()[b] + "px" : c) : void 0
        })
    }), o.each({
        Height: "height",
        Width: "width"
    }, function (a, b) {
        o.each({
            padding: "inner" + a,
            content: b,
            "": "outer" + a
        }, function (c, d) {
            o.fn[d] = function (d, e) {
                var f = arguments.length && (c || "boolean" != typeof d),
                    g = c || (d === !0 || e === !0 ? "margin" : "border");
                return J(this, function (b, c, d) {
                    var e;
                    return o.isWindow(b) ? b.document.documentElement["client" + a] : 9 === b.nodeType ? (e = b.documentElement, Math.max(b.body["scroll" + a], e["scroll" + a], b.body["offset" + a], e["offset" + a], e["client" + a])) : void 0 === d ? o.css(b, c, g) : o.style(b, c, d, g)
                }, b, f ? d : void 0, f, null)
            }
        })
    }), o.fn.size = function () {
        return this.length
    }, o.fn.andSelf = o.fn.addBack, "function" == typeof define && define.amd && define("jquery", [], function () {
        return o
    });
    var Lc = a.jQuery,
        Mc = a.$;
    return o.noConflict = function (b) {
        return a.$ === o && (a.$ = Mc), b && a.jQuery === o && (a.jQuery = Lc), o
    }, typeof b === U && (a.jQuery = a.$ = o), o
});

/*! jQuery UI - v1.10.4 - 2014-01-17
 * http://jqueryui.com
 * Includes: jquery.ui.core.js, jquery.ui.widget.js, jquery.ui.mouse.js, jquery.ui.position.js, jquery.ui.accordion.js, jquery.ui.autocomplete.js, jquery.ui.button.js, jquery.ui.datepicker.js, jquery.ui.dialog.js, jquery.ui.draggable.js, jquery.ui.droppable.js, jquery.ui.effect.js, jquery.ui.effect-blind.js, jquery.ui.effect-bounce.js, jquery.ui.effect-clip.js, jquery.ui.effect-drop.js, jquery.ui.effect-explode.js, jquery.ui.effect-fade.js, jquery.ui.effect-fold.js, jquery.ui.effect-highlight.js, jquery.ui.effect-pulsate.js, jquery.ui.effect-scale.js, jquery.ui.effect-shake.js, jquery.ui.effect-slide.js, jquery.ui.effect-transfer.js, jquery.ui.menu.js, jquery.ui.progressbar.js, jquery.ui.resizable.js, jquery.ui.selectable.js, jquery.ui.slider.js, jquery.ui.sortable.js, jquery.ui.spinner.js, jquery.ui.tabs.js, jquery.ui.tooltip.js
 * Copyright 2014 jQuery Foundation and other contributors; Licensed MIT */

(function (e, t) {
    function i(t, i) {
        var s, a, o, r = t.nodeName.toLowerCase();
        return "area" === r ? (s = t.parentNode, a = s.name, t.href && a && "map" === s.nodeName.toLowerCase() ? (o = e("img[usemap=#" + a + "]")[0], !!o && n(o)) : !1) : (/input|select|textarea|button|object/.test(r) ? !t.disabled : "a" === r ? t.href || i : i) && n(t)
    }

    function n(t) {
        return e.expr.filters.visible(t) && !e(t).parents().addBack().filter(function () {
            return "hidden" === e.css(this, "visibility")
        }).length
    }
    var s = 0,
        a = /^ui-id-\d+$/;
    e.ui = e.ui || {}, e.extend(e.ui, {
        version: "1.10.4",
        keyCode: {
            BACKSPACE: 8,
            COMMA: 188,
            DELETE: 46,
            DOWN: 40,
            END: 35,
            ENTER: 13,
            ESCAPE: 27,
            HOME: 36,
            LEFT: 37,
            NUMPAD_ADD: 107,
            NUMPAD_DECIMAL: 110,
            NUMPAD_DIVIDE: 111,
            NUMPAD_ENTER: 108,
            NUMPAD_MULTIPLY: 106,
            NUMPAD_SUBTRACT: 109,
            PAGE_DOWN: 34,
            PAGE_UP: 33,
            PERIOD: 190,
            RIGHT: 39,
            SPACE: 32,
            TAB: 9,
            UP: 38
        }
    }), e.fn.extend({
        focus: function (t) {
            return function (i, n) {
                return "number" == typeof i ? this.each(function () {
                    var t = this;
                    setTimeout(function () {
                        e(t).focus(), n && n.call(t)
                    }, i)
                }) : t.apply(this, arguments)
            }
        }(e.fn.focus),
        scrollParent: function () {
            var t;
            return t = e.ui.ie && /(static|relative)/.test(this.css("position")) || /absolute/.test(this.css("position")) ? this.parents().filter(function () {
                return /(relative|absolute|fixed)/.test(e.css(this, "position")) && /(auto|scroll)/.test(e.css(this, "overflow") + e.css(this, "overflow-y") + e.css(this, "overflow-x"))
            }).eq(0) : this.parents().filter(function () {
                return /(auto|scroll)/.test(e.css(this, "overflow") + e.css(this, "overflow-y") + e.css(this, "overflow-x"))
            }).eq(0), /fixed/.test(this.css("position")) || !t.length ? e(document) : t
        },
        zIndex: function (i) {
            if (i !== t) return this.css("zIndex", i);
            if (this.length)
                for (var n, s, a = e(this[0]); a.length && a[0] !== document;) {
                    if (n = a.css("position"), ("absolute" === n || "relative" === n || "fixed" === n) && (s = parseInt(a.css("zIndex"), 10), !isNaN(s) && 0 !== s)) return s;
                    a = a.parent()
                }
            return 0
        },
        uniqueId: function () {
            return this.each(function () {
                this.id || (this.id = "ui-id-" + ++s)
            })
        },
        removeUniqueId: function () {
            return this.each(function () {
                a.test(this.id) && e(this).removeAttr("id")
            })
        }
    }), e.extend(e.expr[":"], {
        data: e.expr.createPseudo ? e.expr.createPseudo(function (t) {
            return function (i) {
                return !!e.data(i, t)
            }
        }) : function (t, i, n) {
            return !!e.data(t, n[3])
        },
        focusable: function (t) {
            return i(t, !isNaN(e.attr(t, "tabindex")))
        },
        tabbable: function (t) {
            var n = e.attr(t, "tabindex"),
                s = isNaN(n);
            return (s || n >= 0) && i(t, !s)
        }
    }), e("<a>").outerWidth(1).jquery || e.each(["Width", "Height"], function (i, n) {
        function s(t, i, n, s) {
            return e.each(a, function () {
                i -= parseFloat(e.css(t, "padding" + this)) || 0, n && (i -= parseFloat(e.css(t, "border" + this + "Width")) || 0), s && (i -= parseFloat(e.css(t, "margin" + this)) || 0)
            }), i
        }
        var a = "Width" === n ? ["Left", "Right"] : ["Top", "Bottom"],
            o = n.toLowerCase(),
            r = {
                innerWidth: e.fn.innerWidth,
                innerHeight: e.fn.innerHeight,
                outerWidth: e.fn.outerWidth,
                outerHeight: e.fn.outerHeight
            };
        e.fn["inner" + n] = function (i) {
            return i === t ? r["inner" + n].call(this) : this.each(function () {
                e(this).css(o, s(this, i) + "px")
            })
        }, e.fn["outer" + n] = function (t, i) {
            return "number" != typeof t ? r["outer" + n].call(this, t) : this.each(function () {
                e(this).css(o, s(this, t, !0, i) + "px")
            })
        }
    }), e.fn.addBack || (e.fn.addBack = function (e) {
        return this.add(null == e ? this.prevObject : this.prevObject.filter(e))
    }), e("<a>").data("a-b", "a").removeData("a-b").data("a-b") && (e.fn.removeData = function (t) {
        return function (i) {
            return arguments.length ? t.call(this, e.camelCase(i)) : t.call(this)
        }
    }(e.fn.removeData)), e.ui.ie = !!/msie [\w.]+/.exec(navigator.userAgent.toLowerCase()), e.support.selectstart = "onselectstart" in document.createElement("div"), e.fn.extend({
        disableSelection: function () {
            return this.bind((e.support.selectstart ? "selectstart" : "mousedown") + ".ui-disableSelection", function (e) {
                e.preventDefault()
            })
        },
        enableSelection: function () {
            return this.unbind(".ui-disableSelection")
        }
    }), e.extend(e.ui, {
        plugin: {
            add: function (t, i, n) {
                var s, a = e.ui[t].prototype;
                for (s in n) a.plugins[s] = a.plugins[s] || [], a.plugins[s].push([i, n[s]])
            },
            call: function (e, t, i) {
                var n, s = e.plugins[t];
                if (s && e.element[0].parentNode && 11 !== e.element[0].parentNode.nodeType)
                    for (n = 0; s.length > n; n++) e.options[s[n][0]] && s[n][1].apply(e.element, i)
            }
        },
        hasScroll: function (t, i) {
            if ("hidden" === e(t).css("overflow")) return !1;
            var n = i && "left" === i ? "scrollLeft" : "scrollTop",
                s = !1;
            return t[n] > 0 ? !0 : (t[n] = 1, s = t[n] > 0, t[n] = 0, s)
        }
    })
})(jQuery);
(function (t, e) {
    var i = 0,
        s = Array.prototype.slice,
        n = t.cleanData;
    t.cleanData = function (e) {
        for (var i, s = 0; null != (i = e[s]); s++) try {
            t(i).triggerHandler("remove")
        } catch (o) {}
        n(e)
    }, t.widget = function (i, s, n) {
        var o, a, r, h, l = {},
            c = i.split(".")[0];
        i = i.split(".")[1], o = c + "-" + i, n || (n = s, s = t.Widget), t.expr[":"][o.toLowerCase()] = function (e) {
            return !!t.data(e, o)
        }, t[c] = t[c] || {}, a = t[c][i], r = t[c][i] = function (t, i) {
            return this._createWidget ? (arguments.length && this._createWidget(t, i), e) : new r(t, i)
        }, t.extend(r, a, {
            version: n.version,
            _proto: t.extend({}, n),
            _childConstructors: []
        }), h = new s, h.options = t.widget.extend({}, h.options), t.each(n, function (i, n) {
            return t.isFunction(n) ? (l[i] = function () {
                var t = function () {
                        return s.prototype[i].apply(this, arguments)
                    },
                    e = function (t) {
                        return s.prototype[i].apply(this, t)
                    };
                return function () {
                    var i, s = this._super,
                        o = this._superApply;
                    return this._super = t, this._superApply = e, i = n.apply(this, arguments), this._super = s, this._superApply = o, i
                }
            }(), e) : (l[i] = n, e)
        }), r.prototype = t.widget.extend(h, {
            widgetEventPrefix: a ? h.widgetEventPrefix || i : i
        }, l, {
            constructor: r,
            namespace: c,
            widgetName: i,
            widgetFullName: o
        }), a ? (t.each(a._childConstructors, function (e, i) {
            var s = i.prototype;
            t.widget(s.namespace + "." + s.widgetName, r, i._proto)
        }), delete a._childConstructors) : s._childConstructors.push(r), t.widget.bridge(i, r)
    }, t.widget.extend = function (i) {
        for (var n, o, a = s.call(arguments, 1), r = 0, h = a.length; h > r; r++)
            for (n in a[r]) o = a[r][n], a[r].hasOwnProperty(n) && o !== e && (i[n] = t.isPlainObject(o) ? t.isPlainObject(i[n]) ? t.widget.extend({}, i[n], o) : t.widget.extend({}, o) : o);
        return i
    }, t.widget.bridge = function (i, n) {
        var o = n.prototype.widgetFullName || i;
        t.fn[i] = function (a) {
            var r = "string" == typeof a,
                h = s.call(arguments, 1),
                l = this;
            return a = !r && h.length ? t.widget.extend.apply(null, [a].concat(h)) : a, r ? this.each(function () {
                var s, n = t.data(this, o);
                return n ? t.isFunction(n[a]) && "_" !== a.charAt(0) ? (s = n[a].apply(n, h), s !== n && s !== e ? (l = s && s.jquery ? l.pushStack(s.get()) : s, !1) : e) : t.error("no such method '" + a + "' for " + i + " widget instance") : t.error("cannot call methods on " + i + " prior to initialization; " + "attempted to call method '" + a + "'")
            }) : this.each(function () {
                var e = t.data(this, o);
                e ? e.option(a || {})._init() : t.data(this, o, new n(a, this))
            }), l
        }
    }, t.Widget = function () {}, t.Widget._childConstructors = [], t.Widget.prototype = {
        widgetName: "widget",
        widgetEventPrefix: "",
        defaultElement: "<div>",
        options: {
            disabled: !1,
            create: null
        },
        _createWidget: function (e, s) {
            s = t(s || this.defaultElement || this)[0], this.element = t(s), this.uuid = i++, this.eventNamespace = "." + this.widgetName + this.uuid, this.options = t.widget.extend({}, this.options, this._getCreateOptions(), e), this.bindings = t(), this.hoverable = t(), this.focusable = t(), s !== this && (t.data(s, this.widgetFullName, this), this._on(!0, this.element, {
                remove: function (t) {
                    t.target === s && this.destroy()
                }
            }), this.document = t(s.style ? s.ownerDocument : s.document || s), this.window = t(this.document[0].defaultView || this.document[0].parentWindow)), this._create(), this._trigger("create", null, this._getCreateEventData()), this._init()
        },
        _getCreateOptions: t.noop,
        _getCreateEventData: t.noop,
        _create: t.noop,
        _init: t.noop,
        destroy: function () {
            this._destroy(), this.element.unbind(this.eventNamespace).removeData(this.widgetName).removeData(this.widgetFullName).removeData(t.camelCase(this.widgetFullName)), this.widget().unbind(this.eventNamespace).removeAttr("aria-disabled").removeClass(this.widgetFullName + "-disabled " + "ui-state-disabled"), this.bindings.unbind(this.eventNamespace), this.hoverable.removeClass("ui-state-hover"), this.focusable.removeClass("ui-state-focus")
        },
        _destroy: t.noop,
        widget: function () {
            return this.element
        },
        option: function (i, s) {
            var n, o, a, r = i;
            if (0 === arguments.length) return t.widget.extend({}, this.options);
            if ("string" == typeof i)
                if (r = {}, n = i.split("."), i = n.shift(), n.length) {
                    for (o = r[i] = t.widget.extend({}, this.options[i]), a = 0; n.length - 1 > a; a++) o[n[a]] = o[n[a]] || {}, o = o[n[a]];
                    if (i = n.pop(), 1 === arguments.length) return o[i] === e ? null : o[i];
                    o[i] = s
                } else {
                    if (1 === arguments.length) return this.options[i] === e ? null : this.options[i];
                    r[i] = s
                } return this._setOptions(r), this
        },
        _setOptions: function (t) {
            var e;
            for (e in t) this._setOption(e, t[e]);
            return this
        },
        _setOption: function (t, e) {
            return this.options[t] = e, "disabled" === t && (this.widget().toggleClass(this.widgetFullName + "-disabled ui-state-disabled", !!e).attr("aria-disabled", e), this.hoverable.removeClass("ui-state-hover"), this.focusable.removeClass("ui-state-focus")), this
        },
        enable: function () {
            return this._setOption("disabled", !1)
        },
        disable: function () {
            return this._setOption("disabled", !0)
        },
        _on: function (i, s, n) {
            var o, a = this;
            "boolean" != typeof i && (n = s, s = i, i = !1), n ? (s = o = t(s), this.bindings = this.bindings.add(s)) : (n = s, s = this.element, o = this.widget()), t.each(n, function (n, r) {
                function h() {
                    return i || a.options.disabled !== !0 && !t(this).hasClass("ui-state-disabled") ? ("string" == typeof r ? a[r] : r).apply(a, arguments) : e
                }
                "string" != typeof r && (h.guid = r.guid = r.guid || h.guid || t.guid++);
                var l = n.match(/^(\w+)\s*(.*)$/),
                    c = l[1] + a.eventNamespace,
                    u = l[2];
                u ? o.delegate(u, c, h) : s.bind(c, h)
            })
        },
        _off: function (t, e) {
            e = (e || "").split(" ").join(this.eventNamespace + " ") + this.eventNamespace, t.unbind(e).undelegate(e)
        },
        _delay: function (t, e) {
            function i() {
                return ("string" == typeof t ? s[t] : t).apply(s, arguments)
            }
            var s = this;
            return setTimeout(i, e || 0)
        },
        _hoverable: function (e) {
            this.hoverable = this.hoverable.add(e), this._on(e, {
                mouseenter: function (e) {
                    t(e.currentTarget).addClass("ui-state-hover")
                },
                mouseleave: function (e) {
                    t(e.currentTarget).removeClass("ui-state-hover")
                }
            })
        },
        _focusable: function (e) {
            this.focusable = this.focusable.add(e), this._on(e, {
                focusin: function (e) {
                    t(e.currentTarget).addClass("ui-state-focus")
                },
                focusout: function (e) {
                    t(e.currentTarget).removeClass("ui-state-focus")
                }
            })
        },
        _trigger: function (e, i, s) {
            var n, o, a = this.options[e];
            if (s = s || {}, i = t.Event(i), i.type = (e === this.widgetEventPrefix ? e : this.widgetEventPrefix + e).toLowerCase(), i.target = this.element[0], o = i.originalEvent)
                for (n in o) n in i || (i[n] = o[n]);
            return this.element.trigger(i, s), !(t.isFunction(a) && a.apply(this.element[0], [i].concat(s)) === !1 || i.isDefaultPrevented())
        }
    }, t.each({
        show: "fadeIn",
        hide: "fadeOut"
    }, function (e, i) {
        t.Widget.prototype["_" + e] = function (s, n, o) {
            "string" == typeof n && (n = {
                effect: n
            });
            var a, r = n ? n === !0 || "number" == typeof n ? i : n.effect || i : e;
            n = n || {}, "number" == typeof n && (n = {
                duration: n
            }), a = !t.isEmptyObject(n), n.complete = o, n.delay && s.delay(n.delay), a && t.effects && t.effects.effect[r] ? s[e](n) : r !== e && s[r] ? s[r](n.duration, n.easing, o) : s.queue(function (i) {
                t(this)[e](), o && o.call(s[0]), i()
            })
        }
    })
})(jQuery);
(function (t) {
    var e = !1;
    t(document).mouseup(function () {
        e = !1
    }), t.widget("ui.mouse", {
        version: "1.10.4",
        options: {
            cancel: "input,textarea,button,select,option",
            distance: 1,
            delay: 0
        },
        _mouseInit: function () {
            var e = this;
            this.element.bind("mousedown." + this.widgetName, function (t) {
                return e._mouseDown(t)
            }).bind("click." + this.widgetName, function (i) {
                return !0 === t.data(i.target, e.widgetName + ".preventClickEvent") ? (t.removeData(i.target, e.widgetName + ".preventClickEvent"), i.stopImmediatePropagation(), !1) : undefined
            }), this.started = !1
        },
        _mouseDestroy: function () {
            this.element.unbind("." + this.widgetName), this._mouseMoveDelegate && t(document).unbind("mousemove." + this.widgetName, this._mouseMoveDelegate).unbind("mouseup." + this.widgetName, this._mouseUpDelegate)
        },
        _mouseDown: function (i) {
            if (!e) {
                this._mouseStarted && this._mouseUp(i), this._mouseDownEvent = i;
                var s = this,
                    n = 1 === i.which,
                    a = "string" == typeof this.options.cancel && i.target.nodeName ? t(i.target).closest(this.options.cancel).length : !1;
                return n && !a && this._mouseCapture(i) ? (this.mouseDelayMet = !this.options.delay, this.mouseDelayMet || (this._mouseDelayTimer = setTimeout(function () {
                    s.mouseDelayMet = !0
                }, this.options.delay)), this._mouseDistanceMet(i) && this._mouseDelayMet(i) && (this._mouseStarted = this._mouseStart(i) !== !1, !this._mouseStarted) ? (i.preventDefault(), !0) : (!0 === t.data(i.target, this.widgetName + ".preventClickEvent") && t.removeData(i.target, this.widgetName + ".preventClickEvent"), this._mouseMoveDelegate = function (t) {
                    return s._mouseMove(t)
                }, this._mouseUpDelegate = function (t) {
                    return s._mouseUp(t)
                }, t(document).bind("mousemove." + this.widgetName, this._mouseMoveDelegate).bind("mouseup." + this.widgetName, this._mouseUpDelegate), i.preventDefault(), e = !0, !0)) : !0
            }
        },
        _mouseMove: function (e) {
            return t.ui.ie && (!document.documentMode || 9 > document.documentMode) && !e.button ? this._mouseUp(e) : this._mouseStarted ? (this._mouseDrag(e), e.preventDefault()) : (this._mouseDistanceMet(e) && this._mouseDelayMet(e) && (this._mouseStarted = this._mouseStart(this._mouseDownEvent, e) !== !1, this._mouseStarted ? this._mouseDrag(e) : this._mouseUp(e)), !this._mouseStarted)
        },
        _mouseUp: function (e) {
            return t(document).unbind("mousemove." + this.widgetName, this._mouseMoveDelegate).unbind("mouseup." + this.widgetName, this._mouseUpDelegate), this._mouseStarted && (this._mouseStarted = !1, e.target === this._mouseDownEvent.target && t.data(e.target, this.widgetName + ".preventClickEvent", !0), this._mouseStop(e)), !1
        },
        _mouseDistanceMet: function (t) {
            return Math.max(Math.abs(this._mouseDownEvent.pageX - t.pageX), Math.abs(this._mouseDownEvent.pageY - t.pageY)) >= this.options.distance
        },
        _mouseDelayMet: function () {
            return this.mouseDelayMet
        },
        _mouseStart: function () {},
        _mouseDrag: function () {},
        _mouseStop: function () {},
        _mouseCapture: function () {
            return !0
        }
    })
})(jQuery);
(function (t, e) {
    function i(t, e, i) {
        return [parseFloat(t[0]) * (p.test(t[0]) ? e / 100 : 1), parseFloat(t[1]) * (p.test(t[1]) ? i / 100 : 1)]
    }

    function s(e, i) {
        return parseInt(t.css(e, i), 10) || 0
    }

    function n(e) {
        var i = e[0];
        return 9 === i.nodeType ? {
            width: e.width(),
            height: e.height(),
            offset: {
                top: 0,
                left: 0
            }
        } : t.isWindow(i) ? {
            width: e.width(),
            height: e.height(),
            offset: {
                top: e.scrollTop(),
                left: e.scrollLeft()
            }
        } : i.preventDefault ? {
            width: 0,
            height: 0,
            offset: {
                top: i.pageY,
                left: i.pageX
            }
        } : {
            width: e.outerWidth(),
            height: e.outerHeight(),
            offset: e.offset()
        }
    }
    t.ui = t.ui || {};
    var a, o = Math.max,
        r = Math.abs,
        l = Math.round,
        h = /left|center|right/,
        c = /top|center|bottom/,
        u = /[\+\-]\d+(\.[\d]+)?%?/,
        d = /^\w+/,
        p = /%$/,
        f = t.fn.position;
    t.position = {
            scrollbarWidth: function () {
                if (a !== e) return a;
                var i, s, n = t("<div style='display:block;position:absolute;width:50px;height:50px;overflow:hidden;'><div style='height:100px;width:auto;'></div></div>"),
                    o = n.children()[0];
                return t("body").append(n), i = o.offsetWidth, n.css("overflow", "scroll"), s = o.offsetWidth, i === s && (s = n[0].clientWidth), n.remove(), a = i - s
            },
            getScrollInfo: function (e) {
                var i = e.isWindow || e.isDocument ? "" : e.element.css("overflow-x"),
                    s = e.isWindow || e.isDocument ? "" : e.element.css("overflow-y"),
                    n = "scroll" === i || "auto" === i && e.width < e.element[0].scrollWidth,
                    a = "scroll" === s || "auto" === s && e.height < e.element[0].scrollHeight;
                return {
                    width: a ? t.position.scrollbarWidth() : 0,
                    height: n ? t.position.scrollbarWidth() : 0
                }
            },
            getWithinInfo: function (e) {
                var i = t(e || window),
                    s = t.isWindow(i[0]),
                    n = !!i[0] && 9 === i[0].nodeType;
                return {
                    element: i,
                    isWindow: s,
                    isDocument: n,
                    offset: i.offset() || {
                        left: 0,
                        top: 0
                    },
                    scrollLeft: i.scrollLeft(),
                    scrollTop: i.scrollTop(),
                    width: s ? i.width() : i.outerWidth(),
                    height: s ? i.height() : i.outerHeight()
                }
            }
        }, t.fn.position = function (e) {
            if (!e || !e.of) return f.apply(this, arguments);
            e = t.extend({}, e);
            var a, p, g, m, v, _, b = t(e.of),
                y = t.position.getWithinInfo(e.within),
                k = t.position.getScrollInfo(y),
                w = (e.collision || "flip").split(" "),
                D = {};
            return _ = n(b), b[0].preventDefault && (e.at = "left top"), p = _.width, g = _.height, m = _.offset, v = t.extend({}, m), t.each(["my", "at"], function () {
                var t, i, s = (e[this] || "").split(" ");
                1 === s.length && (s = h.test(s[0]) ? s.concat(["center"]) : c.test(s[0]) ? ["center"].concat(s) : ["center", "center"]), s[0] = h.test(s[0]) ? s[0] : "center", s[1] = c.test(s[1]) ? s[1] : "center", t = u.exec(s[0]), i = u.exec(s[1]), D[this] = [t ? t[0] : 0, i ? i[0] : 0], e[this] = [d.exec(s[0])[0], d.exec(s[1])[0]]
            }), 1 === w.length && (w[1] = w[0]), "right" === e.at[0] ? v.left += p : "center" === e.at[0] && (v.left += p / 2), "bottom" === e.at[1] ? v.top += g : "center" === e.at[1] && (v.top += g / 2), a = i(D.at, p, g), v.left += a[0], v.top += a[1], this.each(function () {
                var n, h, c = t(this),
                    u = c.outerWidth(),
                    d = c.outerHeight(),
                    f = s(this, "marginLeft"),
                    _ = s(this, "marginTop"),
                    x = u + f + s(this, "marginRight") + k.width,
                    C = d + _ + s(this, "marginBottom") + k.height,
                    M = t.extend({}, v),
                    T = i(D.my, c.outerWidth(), c.outerHeight());
                "right" === e.my[0] ? M.left -= u : "center" === e.my[0] && (M.left -= u / 2), "bottom" === e.my[1] ? M.top -= d : "center" === e.my[1] && (M.top -= d / 2), M.left += T[0], M.top += T[1], t.support.offsetFractions || (M.left = l(M.left), M.top = l(M.top)), n = {
                    marginLeft: f,
                    marginTop: _
                }, t.each(["left", "top"], function (i, s) {
                    t.ui.position[w[i]] && t.ui.position[w[i]][s](M, {
                        targetWidth: p,
                        targetHeight: g,
                        elemWidth: u,
                        elemHeight: d,
                        collisionPosition: n,
                        collisionWidth: x,
                        collisionHeight: C,
                        offset: [a[0] + T[0], a[1] + T[1]],
                        my: e.my,
                        at: e.at,
                        within: y,
                        elem: c
                    })
                }), e.using && (h = function (t) {
                    var i = m.left - M.left,
                        s = i + p - u,
                        n = m.top - M.top,
                        a = n + g - d,
                        l = {
                            target: {
                                element: b,
                                left: m.left,
                                top: m.top,
                                width: p,
                                height: g
                            },
                            element: {
                                element: c,
                                left: M.left,
                                top: M.top,
                                width: u,
                                height: d
                            },
                            horizontal: 0 > s ? "left" : i > 0 ? "right" : "center",
                            vertical: 0 > a ? "top" : n > 0 ? "bottom" : "middle"
                        };
                    u > p && p > r(i + s) && (l.horizontal = "center"), d > g && g > r(n + a) && (l.vertical = "middle"), l.important = o(r(i), r(s)) > o(r(n), r(a)) ? "horizontal" : "vertical", e.using.call(this, t, l)
                }), c.offset(t.extend(M, {
                    using: h
                }))
            })
        }, t.ui.position = {
            fit: {
                left: function (t, e) {
                    var i, s = e.within,
                        n = s.isWindow ? s.scrollLeft : s.offset.left,
                        a = s.width,
                        r = t.left - e.collisionPosition.marginLeft,
                        l = n - r,
                        h = r + e.collisionWidth - a - n;
                    e.collisionWidth > a ? l > 0 && 0 >= h ? (i = t.left + l + e.collisionWidth - a - n, t.left += l - i) : t.left = h > 0 && 0 >= l ? n : l > h ? n + a - e.collisionWidth : n : l > 0 ? t.left += l : h > 0 ? t.left -= h : t.left = o(t.left - r, t.left)
                },
                top: function (t, e) {
                    var i, s = e.within,
                        n = s.isWindow ? s.scrollTop : s.offset.top,
                        a = e.within.height,
                        r = t.top - e.collisionPosition.marginTop,
                        l = n - r,
                        h = r + e.collisionHeight - a - n;
                    e.collisionHeight > a ? l > 0 && 0 >= h ? (i = t.top + l + e.collisionHeight - a - n, t.top += l - i) : t.top = h > 0 && 0 >= l ? n : l > h ? n + a - e.collisionHeight : n : l > 0 ? t.top += l : h > 0 ? t.top -= h : t.top = o(t.top - r, t.top)
                }
            },
            flip: {
                left: function (t, e) {
                    var i, s, n = e.within,
                        a = n.offset.left + n.scrollLeft,
                        o = n.width,
                        l = n.isWindow ? n.scrollLeft : n.offset.left,
                        h = t.left - e.collisionPosition.marginLeft,
                        c = h - l,
                        u = h + e.collisionWidth - o - l,
                        d = "left" === e.my[0] ? -e.elemWidth : "right" === e.my[0] ? e.elemWidth : 0,
                        p = "left" === e.at[0] ? e.targetWidth : "right" === e.at[0] ? -e.targetWidth : 0,
                        f = -2 * e.offset[0];
                    0 > c ? (i = t.left + d + p + f + e.collisionWidth - o - a, (0 > i || r(c) > i) && (t.left += d + p + f)) : u > 0 && (s = t.left - e.collisionPosition.marginLeft + d + p + f - l, (s > 0 || u > r(s)) && (t.left += d + p + f))
                },
                top: function (t, e) {
                    var i, s, n = e.within,
                        a = n.offset.top + n.scrollTop,
                        o = n.height,
                        l = n.isWindow ? n.scrollTop : n.offset.top,
                        h = t.top - e.collisionPosition.marginTop,
                        c = h - l,
                        u = h + e.collisionHeight - o - l,
                        d = "top" === e.my[1],
                        p = d ? -e.elemHeight : "bottom" === e.my[1] ? e.elemHeight : 0,
                        f = "top" === e.at[1] ? e.targetHeight : "bottom" === e.at[1] ? -e.targetHeight : 0,
                        g = -2 * e.offset[1];
                    0 > c ? (s = t.top + p + f + g + e.collisionHeight - o - a, t.top + p + f + g > c && (0 > s || r(c) > s) && (t.top += p + f + g)) : u > 0 && (i = t.top - e.collisionPosition.marginTop + p + f + g - l, t.top + p + f + g > u && (i > 0 || u > r(i)) && (t.top += p + f + g))
                }
            },
            flipfit: {
                left: function () {
                    t.ui.position.flip.left.apply(this, arguments), t.ui.position.fit.left.apply(this, arguments)
                },
                top: function () {
                    t.ui.position.flip.top.apply(this, arguments), t.ui.position.fit.top.apply(this, arguments)
                }
            }
        },
        function () {
            var e, i, s, n, a, o = document.getElementsByTagName("body")[0],
                r = document.createElement("div");
            e = document.createElement(o ? "div" : "body"), s = {
                visibility: "hidden",
                width: 0,
                height: 0,
                border: 0,
                margin: 0,
                background: "none"
            }, o && t.extend(s, {
                position: "absolute",
                left: "-1000px",
                top: "-1000px"
            });
            for (a in s) e.style[a] = s[a];
            e.appendChild(r), i = o || document.documentElement, i.insertBefore(e, i.firstChild), r.style.cssText = "position: absolute; left: 10.7432222px;", n = t(r).offset().left, t.support.offsetFractions = n > 10 && 11 > n, e.innerHTML = "", i.removeChild(e)
        }()
})(jQuery);
(function (e) {
    var t = 0,
        i = {},
        a = {};
    i.height = i.paddingTop = i.paddingBottom = i.borderTopWidth = i.borderBottomWidth = "hide", a.height = a.paddingTop = a.paddingBottom = a.borderTopWidth = a.borderBottomWidth = "show", e.widget("ui.accordion", {
        version: "1.10.4",
        options: {
            active: 0,
            animate: {},
            collapsible: !1,
            event: "click",
            header: "> li > :first-child,> :not(li):even",
            heightStyle: "auto",
            icons: {
                activeHeader: "ui-icon-triangle-1-s",
                header: "ui-icon-triangle-1-e"
            },
            activate: null,
            beforeActivate: null
        },
        _create: function () {
            var t = this.options;
            this.prevShow = this.prevHide = e(), this.element.addClass("ui-accordion ui-widget ui-helper-reset").attr("role", "tablist"), t.collapsible || t.active !== !1 && null != t.active || (t.active = 0), this._processPanels(), 0 > t.active && (t.active += this.headers.length), this._refresh()
        },
        _getCreateEventData: function () {
            return {
                header: this.active,
                panel: this.active.length ? this.active.next() : e(),
                content: this.active.length ? this.active.next() : e()
            }
        },
        _createIcons: function () {
            var t = this.options.icons;
            t && (e("<span>").addClass("ui-accordion-header-icon ui-icon " + t.header).prependTo(this.headers), this.active.children(".ui-accordion-header-icon").removeClass(t.header).addClass(t.activeHeader), this.headers.addClass("ui-accordion-icons"))
        },
        _destroyIcons: function () {
            this.headers.removeClass("ui-accordion-icons").children(".ui-accordion-header-icon").remove()
        },
        _destroy: function () {
            var e;
            this.element.removeClass("ui-accordion ui-widget ui-helper-reset").removeAttr("role"), this.headers.removeClass("ui-accordion-header ui-accordion-header-active ui-helper-reset ui-state-default ui-corner-all ui-state-active ui-state-disabled ui-corner-top").removeAttr("role").removeAttr("aria-expanded").removeAttr("aria-selected").removeAttr("aria-controls").removeAttr("tabIndex").each(function () {
                /^ui-accordion/.test(this.id) && this.removeAttribute("id")
            }), this._destroyIcons(), e = this.headers.next().css("display", "").removeAttr("role").removeAttr("aria-hidden").removeAttr("aria-labelledby").removeClass("ui-helper-reset ui-widget-content ui-corner-bottom ui-accordion-content ui-accordion-content-active ui-state-disabled").each(function () {
                /^ui-accordion/.test(this.id) && this.removeAttribute("id")
            }), "content" !== this.options.heightStyle && e.css("height", "")
        },
        _setOption: function (e, t) {
            return "active" === e ? (this._activate(t), undefined) : ("event" === e && (this.options.event && this._off(this.headers, this.options.event), this._setupEvents(t)), this._super(e, t), "collapsible" !== e || t || this.options.active !== !1 || this._activate(0), "icons" === e && (this._destroyIcons(), t && this._createIcons()), "disabled" === e && this.headers.add(this.headers.next()).toggleClass("ui-state-disabled", !!t), undefined)
        },
        _keydown: function (t) {
            if (!t.altKey && !t.ctrlKey) {
                var i = e.ui.keyCode,
                    a = this.headers.length,
                    s = this.headers.index(t.target),
                    n = !1;
                switch (t.keyCode) {
                    case i.RIGHT:
                    case i.DOWN:
                        n = this.headers[(s + 1) % a];
                        break;
                    case i.LEFT:
                    case i.UP:
                        n = this.headers[(s - 1 + a) % a];
                        break;
                    case i.SPACE:
                    case i.ENTER:
                        this._eventHandler(t);
                        break;
                    case i.HOME:
                        n = this.headers[0];
                        break;
                    case i.END:
                        n = this.headers[a - 1]
                }
                n && (e(t.target).attr("tabIndex", -1), e(n).attr("tabIndex", 0), n.focus(), t.preventDefault())
            }
        },
        _panelKeyDown: function (t) {
            t.keyCode === e.ui.keyCode.UP && t.ctrlKey && e(t.currentTarget).prev().focus()
        },
        refresh: function () {
            var t = this.options;
            this._processPanels(), t.active === !1 && t.collapsible === !0 || !this.headers.length ? (t.active = !1, this.active = e()) : t.active === !1 ? this._activate(0) : this.active.length && !e.contains(this.element[0], this.active[0]) ? this.headers.length === this.headers.find(".ui-state-disabled").length ? (t.active = !1, this.active = e()) : this._activate(Math.max(0, t.active - 1)) : t.active = this.headers.index(this.active), this._destroyIcons(), this._refresh()
        },
        _processPanels: function () {
            this.headers = this.element.find(this.options.header).addClass("ui-accordion-header ui-helper-reset ui-state-default ui-corner-all"), this.headers.next().addClass("ui-accordion-content ui-helper-reset ui-widget-content ui-corner-bottom").filter(":not(.ui-accordion-content-active)").hide()
        },
        _refresh: function () {
            var i, a = this.options,
                s = a.heightStyle,
                n = this.element.parent(),
                r = this.accordionId = "ui-accordion-" + (this.element.attr("id") || ++t);
            this.active = this._findActive(a.active).addClass("ui-accordion-header-active ui-state-active ui-corner-top").removeClass("ui-corner-all"), this.active.next().addClass("ui-accordion-content-active").show(), this.headers.attr("role", "tab").each(function (t) {
                var i = e(this),
                    a = i.attr("id"),
                    s = i.next(),
                    n = s.attr("id");
                a || (a = r + "-header-" + t, i.attr("id", a)), n || (n = r + "-panel-" + t, s.attr("id", n)), i.attr("aria-controls", n), s.attr("aria-labelledby", a)
            }).next().attr("role", "tabpanel"), this.headers.not(this.active).attr({
                "aria-selected": "false",
                "aria-expanded": "false",
                tabIndex: -1
            }).next().attr({
                "aria-hidden": "true"
            }).hide(), this.active.length ? this.active.attr({
                "aria-selected": "true",
                "aria-expanded": "true",
                tabIndex: 0
            }).next().attr({
                "aria-hidden": "false"
            }) : this.headers.eq(0).attr("tabIndex", 0), this._createIcons(), this._setupEvents(a.event), "fill" === s ? (i = n.height(), this.element.siblings(":visible").each(function () {
                var t = e(this),
                    a = t.css("position");
                "absolute" !== a && "fixed" !== a && (i -= t.outerHeight(!0))
            }), this.headers.each(function () {
                i -= e(this).outerHeight(!0)
            }), this.headers.next().each(function () {
                e(this).height(Math.max(0, i - e(this).innerHeight() + e(this).height()))
            }).css("overflow", "auto")) : "auto" === s && (i = 0, this.headers.next().each(function () {
                i = Math.max(i, e(this).css("height", "").height())
            }).height(i))
        },
        _activate: function (t) {
            var i = this._findActive(t)[0];
            i !== this.active[0] && (i = i || this.active[0], this._eventHandler({
                target: i,
                currentTarget: i,
                preventDefault: e.noop
            }))
        },
        _findActive: function (t) {
            return "number" == typeof t ? this.headers.eq(t) : e()
        },
        _setupEvents: function (t) {
            var i = {
                keydown: "_keydown"
            };
            t && e.each(t.split(" "), function (e, t) {
                i[t] = "_eventHandler"
            }), this._off(this.headers.add(this.headers.next())), this._on(this.headers, i), this._on(this.headers.next(), {
                keydown: "_panelKeyDown"
            }), this._hoverable(this.headers), this._focusable(this.headers)
        },
        _eventHandler: function (t) {
            var i = this.options,
                a = this.active,
                s = e(t.currentTarget),
                n = s[0] === a[0],
                r = n && i.collapsible,
                o = r ? e() : s.next(),
                h = a.next(),
                d = {
                    oldHeader: a,
                    oldPanel: h,
                    newHeader: r ? e() : s,
                    newPanel: o
                };
            t.preventDefault(), n && !i.collapsible || this._trigger("beforeActivate", t, d) === !1 || (i.active = r ? !1 : this.headers.index(s), this.active = n ? e() : s, this._toggle(d), a.removeClass("ui-accordion-header-active ui-state-active"), i.icons && a.children(".ui-accordion-header-icon").removeClass(i.icons.activeHeader).addClass(i.icons.header), n || (s.removeClass("ui-corner-all").addClass("ui-accordion-header-active ui-state-active ui-corner-top"), i.icons && s.children(".ui-accordion-header-icon").removeClass(i.icons.header).addClass(i.icons.activeHeader), s.next().addClass("ui-accordion-content-active")))
        },
        _toggle: function (t) {
            var i = t.newPanel,
                a = this.prevShow.length ? this.prevShow : t.oldPanel;
            this.prevShow.add(this.prevHide).stop(!0, !0), this.prevShow = i, this.prevHide = a, this.options.animate ? this._animate(i, a, t) : (a.hide(), i.show(), this._toggleComplete(t)), a.attr({
                "aria-hidden": "true"
            }), a.prev().attr("aria-selected", "false"), i.length && a.length ? a.prev().attr({
                tabIndex: -1,
                "aria-expanded": "false"
            }) : i.length && this.headers.filter(function () {
                return 0 === e(this).attr("tabIndex")
            }).attr("tabIndex", -1), i.attr("aria-hidden", "false").prev().attr({
                "aria-selected": "true",
                tabIndex: 0,
                "aria-expanded": "true"
            })
        },
        _animate: function (e, t, s) {
            var n, r, o, h = this,
                d = 0,
                c = e.length && (!t.length || e.index() < t.index()),
                l = this.options.animate || {},
                u = c && l.down || l,
                v = function () {
                    h._toggleComplete(s)
                };
            return "number" == typeof u && (o = u), "string" == typeof u && (r = u), r = r || u.easing || l.easing, o = o || u.duration || l.duration, t.length ? e.length ? (n = e.show().outerHeight(), t.animate(i, {
                duration: o,
                easing: r,
                step: function (e, t) {
                    t.now = Math.round(e)
                }
            }), e.hide().animate(a, {
                duration: o,
                easing: r,
                complete: v,
                step: function (e, i) {
                    i.now = Math.round(e), "height" !== i.prop ? d += i.now : "content" !== h.options.heightStyle && (i.now = Math.round(n - t.outerHeight() - d), d = 0)
                }
            }), undefined) : t.animate(i, o, r, v) : e.animate(a, o, r, v)
        },
        _toggleComplete: function (e) {
            var t = e.oldPanel;
            t.removeClass("ui-accordion-content-active").prev().removeClass("ui-corner-top").addClass("ui-corner-all"), t.length && (t.parent()[0].className = t.parent()[0].className), this._trigger("activate", null, e)
        }
    })
})(jQuery);
(function (e) {
    e.widget("ui.autocomplete", {
        version: "1.10.4",
        defaultElement: "<input>",
        options: {
            appendTo: null,
            autoFocus: !1,
            delay: 300,
            minLength: 1,
            position: {
                my: "left top",
                at: "left bottom",
                collision: "none"
            },
            source: null,
            change: null,
            close: null,
            focus: null,
            open: null,
            response: null,
            search: null,
            select: null
        },
        requestIndex: 0,
        pending: 0,
        _create: function () {
            var t, i, s, n = this.element[0].nodeName.toLowerCase(),
                a = "textarea" === n,
                o = "input" === n;
            this.isMultiLine = a ? !0 : o ? !1 : this.element.prop("isContentEditable"), this.valueMethod = this.element[a || o ? "val" : "text"], this.isNewMenu = !0, this.element.addClass("ui-autocomplete-input").attr("autocomplete", "off"), this._on(this.element, {
                keydown: function (n) {
                    if (this.element.prop("readOnly")) return t = !0, s = !0, i = !0, undefined;
                    t = !1, s = !1, i = !1;
                    var a = e.ui.keyCode;
                    switch (n.keyCode) {
                        case a.PAGE_UP:
                            t = !0, this._move("previousPage", n);
                            break;
                        case a.PAGE_DOWN:
                            t = !0, this._move("nextPage", n);
                            break;
                        case a.UP:
                            t = !0, this._keyEvent("previous", n);
                            break;
                        case a.DOWN:
                            t = !0, this._keyEvent("next", n);
                            break;
                        case a.ENTER:
                        case a.NUMPAD_ENTER:
                            this.menu.active && (t = !0, n.preventDefault(), this.menu.select(n));
                            break;
                        case a.TAB:
                            this.menu.active && this.menu.select(n);
                            break;
                        case a.ESCAPE:
                            this.menu.element.is(":visible") && (this._value(this.term), this.close(n), n.preventDefault());
                            break;
                        default:
                            i = !0, this._searchTimeout(n)
                    }
                },
                keypress: function (s) {
                    if (t) return t = !1, (!this.isMultiLine || this.menu.element.is(":visible")) && s.preventDefault(), undefined;
                    if (!i) {
                        var n = e.ui.keyCode;
                        switch (s.keyCode) {
                            case n.PAGE_UP:
                                this._move("previousPage", s);
                                break;
                            case n.PAGE_DOWN:
                                this._move("nextPage", s);
                                break;
                            case n.UP:
                                this._keyEvent("previous", s);
                                break;
                            case n.DOWN:
                                this._keyEvent("next", s)
                        }
                    }
                },
                input: function (e) {
                    return s ? (s = !1, e.preventDefault(), undefined) : (this._searchTimeout(e), undefined)
                },
                focus: function () {
                    this.selectedItem = null, this.previous = this._value()
                },
                blur: function (e) {
                    return this.cancelBlur ? (delete this.cancelBlur, undefined) : (clearTimeout(this.searching), this.close(e), this._change(e), undefined)
                }
            }), this._initSource(), this.menu = e("<ul>").addClass("ui-autocomplete ui-front").appendTo(this._appendTo()).menu({
                role: null
            }).hide().data("ui-menu"), this._on(this.menu.element, {
                mousedown: function (t) {
                    t.preventDefault(), this.cancelBlur = !0, this._delay(function () {
                        delete this.cancelBlur
                    });
                    var i = this.menu.element[0];
                    e(t.target).closest(".ui-menu-item").length || this._delay(function () {
                        var t = this;
                        this.document.one("mousedown", function (s) {
                            s.target === t.element[0] || s.target === i || e.contains(i, s.target) || t.close()
                        })
                    })
                },
                menufocus: function (t, i) {
                    if (this.isNewMenu && (this.isNewMenu = !1, t.originalEvent && /^mouse/.test(t.originalEvent.type))) return this.menu.blur(), this.document.one("mousemove", function () {
                        e(t.target).trigger(t.originalEvent)
                    }), undefined;
                    var s = i.item.data("ui-autocomplete-item");
                    !1 !== this._trigger("focus", t, {
                        item: s
                    }) ? t.originalEvent && /^key/.test(t.originalEvent.type) && this._value(s.value) : this.liveRegion.text(s.value)
                },
                menuselect: function (e, t) {
                    var i = t.item.data("ui-autocomplete-item"),
                        s = this.previous;
                    this.element[0] !== this.document[0].activeElement && (this.element.focus(), this.previous = s, this._delay(function () {
                        this.previous = s, this.selectedItem = i
                    })), !1 !== this._trigger("select", e, {
                        item: i
                    }) && this._value(i.value), this.term = this._value(), this.close(e), this.selectedItem = i
                }
            }), this.liveRegion = e("<span>", {
                role: "status",
                "aria-live": "polite"
            }).addClass("ui-helper-hidden-accessible").insertBefore(this.element), this._on(this.window, {
                beforeunload: function () {
                    this.element.removeAttr("autocomplete")
                }
            })
        },
        _destroy: function () {
            clearTimeout(this.searching), this.element.removeClass("ui-autocomplete-input").removeAttr("autocomplete"), this.menu.element.remove(), this.liveRegion.remove()
        },
        _setOption: function (e, t) {
            this._super(e, t), "source" === e && this._initSource(), "appendTo" === e && this.menu.element.appendTo(this._appendTo()), "disabled" === e && t && this.xhr && this.xhr.abort()
        },
        _appendTo: function () {
            var t = this.options.appendTo;
            return t && (t = t.jquery || t.nodeType ? e(t) : this.document.find(t).eq(0)), t || (t = this.element.closest(".ui-front")), t.length || (t = this.document[0].body), t
        },
        _initSource: function () {
            var t, i, s = this;
            e.isArray(this.options.source) ? (t = this.options.source, this.source = function (i, s) {
                s(e.ui.autocomplete.filter(t, i.term))
            }) : "string" == typeof this.options.source ? (i = this.options.source, this.source = function (t, n) {
                s.xhr && s.xhr.abort(), s.xhr = e.ajax({
                    url: i,
                    data: t,
                    dataType: "json",
                    success: function (e) {
                        n(e)
                    },
                    error: function () {
                        n([])
                    }
                })
            }) : this.source = this.options.source
        },
        _searchTimeout: function (e) {
            clearTimeout(this.searching), this.searching = this._delay(function () {
                this.term !== this._value() && (this.selectedItem = null, this.search(null, e))
            }, this.options.delay)
        },
        search: function (e, t) {
            return e = null != e ? e : this._value(), this.term = this._value(), e.length < this.options.minLength ? this.close(t) : this._trigger("search", t) !== !1 ? this._search(e) : undefined
        },
        _search: function (e) {
            this.pending++, this.element.addClass("ui-autocomplete-loading"), this.cancelSearch = !1, this.source({
                term: e
            }, this._response())
        },
        _response: function () {
            var t = ++this.requestIndex;
            return e.proxy(function (e) {
                t === this.requestIndex && this.__response(e), this.pending--, this.pending || this.element.removeClass("ui-autocomplete-loading")
            }, this)
        },
        __response: function (e) {
            e && (e = this._normalize(e)), this._trigger("response", null, {
                content: e
            }), !this.options.disabled && e && e.length && !this.cancelSearch ? (this._suggest(e), this._trigger("open")) : this._close()
        },
        close: function (e) {
            this.cancelSearch = !0, this._close(e)
        },
        _close: function (e) {
            this.menu.element.is(":visible") && (this.menu.element.hide(), this.menu.blur(), this.isNewMenu = !0, this._trigger("close", e))
        },
        _change: function (e) {
            this.previous !== this._value() && this._trigger("change", e, {
                item: this.selectedItem
            })
        },
        _normalize: function (t) {
            return t.length && t[0].label && t[0].value ? t : e.map(t, function (t) {
                return "string" == typeof t ? {
                    label: t,
                    value: t
                } : e.extend({
                    label: t.label || t.value,
                    value: t.value || t.label
                }, t)
            })
        },
        _suggest: function (t) {
            var i = this.menu.element.empty();
            this._renderMenu(i, t), this.isNewMenu = !0, this.menu.refresh(), i.show(), this._resizeMenu(), i.position(e.extend({
                of: this.element
            }, this.options.position)), this.options.autoFocus && this.menu.next()
        },
        _resizeMenu: function () {
            var e = this.menu.element;
            e.outerWidth(Math.max(e.width("").outerWidth() + 1, this.element.outerWidth()))
        },
        _renderMenu: function (t, i) {
            var s = this;
            e.each(i, function (e, i) {
                s._renderItemData(t, i)
            })
        },
        _renderItemData: function (e, t) {
            return this._renderItem(e, t).data("ui-autocomplete-item", t)
        },
        _renderItem: function (t, i) {
            return e("<li>").append(e("<a>").text(i.label)).appendTo(t)
        },
        _move: function (e, t) {
            return this.menu.element.is(":visible") ? this.menu.isFirstItem() && /^previous/.test(e) || this.menu.isLastItem() && /^next/.test(e) ? (this._value(this.term), this.menu.blur(), undefined) : (this.menu[e](t), undefined) : (this.search(null, t), undefined)
        },
        widget: function () {
            return this.menu.element
        },
        _value: function () {
            return this.valueMethod.apply(this.element, arguments)
        },
        _keyEvent: function (e, t) {
            (!this.isMultiLine || this.menu.element.is(":visible")) && (this._move(e, t), t.preventDefault())
        }
    }), e.extend(e.ui.autocomplete, {
        escapeRegex: function (e) {
            return e.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g, "\\$&")
        },
        filter: function (t, i) {
            var s = RegExp(e.ui.autocomplete.escapeRegex(i), "i");
            return e.grep(t, function (e) {
                return s.test(e.label || e.value || e)
            })
        }
    }), e.widget("ui.autocomplete", e.ui.autocomplete, {
        options: {
            messages: {
                noResults: "No search results.",
                results: function (e) {
                    return e + (e > 1 ? " results are" : " result is") + " available, use up and down arrow keys to navigate."
                }
            }
        },
        __response: function (e) {
            var t;
            this._superApply(arguments), this.options.disabled || this.cancelSearch || (t = e && e.length ? this.options.messages.results(e.length) : this.options.messages.noResults, this.liveRegion.text(t))
        }
    })
})(jQuery);
(function (e) {
    var t, i = "ui-button ui-widget ui-state-default ui-corner-all",
        n = "ui-button-icons-only ui-button-icon-only ui-button-text-icons ui-button-text-icon-primary ui-button-text-icon-secondary ui-button-text-only",
        s = function () {
            var t = e(this);
            setTimeout(function () {
                t.find(":ui-button").button("refresh")
            }, 1)
        },
        a = function (t) {
            var i = t.name,
                n = t.form,
                s = e([]);
            return i && (i = i.replace(/'/g, "\\'"), s = n ? e(n).find("[name='" + i + "']") : e("[name='" + i + "']", t.ownerDocument).filter(function () {
                return !this.form
            })), s
        };
    e.widget("ui.button", {
        version: "1.10.4",
        defaultElement: "<button>",
        options: {
            disabled: null,
            text: !0,
            label: null,
            icons: {
                primary: null,
                secondary: null
            }
        },
        _create: function () {
            this.element.closest("form").unbind("reset" + this.eventNamespace).bind("reset" + this.eventNamespace, s), "boolean" != typeof this.options.disabled ? this.options.disabled = !!this.element.prop("disabled") : this.element.prop("disabled", this.options.disabled), this._determineButtonType(), this.hasTitle = !!this.buttonElement.attr("title");
            var n = this,
                o = this.options,
                r = "checkbox" === this.type || "radio" === this.type,
                h = r ? "" : "ui-state-active";
            null === o.label && (o.label = "input" === this.type ? this.buttonElement.val() : this.buttonElement.html()), this._hoverable(this.buttonElement), this.buttonElement.addClass(i).attr("role", "button").bind("mouseenter" + this.eventNamespace, function () {
                o.disabled || this === t && e(this).addClass("ui-state-active")
            }).bind("mouseleave" + this.eventNamespace, function () {
                o.disabled || e(this).removeClass(h)
            }).bind("click" + this.eventNamespace, function (e) {
                o.disabled && (e.preventDefault(), e.stopImmediatePropagation())
            }), this._on({
                focus: function () {
                    this.buttonElement.addClass("ui-state-focus")
                },
                blur: function () {
                    this.buttonElement.removeClass("ui-state-focus")
                }
            }), r && this.element.bind("change" + this.eventNamespace, function () {
                n.refresh()
            }), "checkbox" === this.type ? this.buttonElement.bind("click" + this.eventNamespace, function () {
                return o.disabled ? !1 : undefined
            }) : "radio" === this.type ? this.buttonElement.bind("click" + this.eventNamespace, function () {
                if (o.disabled) return !1;
                e(this).addClass("ui-state-active"), n.buttonElement.attr("aria-pressed", "true");
                var t = n.element[0];
                a(t).not(t).map(function () {
                    return e(this).button("widget")[0]
                }).removeClass("ui-state-active").attr("aria-pressed", "false")
            }) : (this.buttonElement.bind("mousedown" + this.eventNamespace, function () {
                return o.disabled ? !1 : (e(this).addClass("ui-state-active"), t = this, n.document.one("mouseup", function () {
                    t = null
                }), undefined)
            }).bind("mouseup" + this.eventNamespace, function () {
                return o.disabled ? !1 : (e(this).removeClass("ui-state-active"), undefined)
            }).bind("keydown" + this.eventNamespace, function (t) {
                return o.disabled ? !1 : ((t.keyCode === e.ui.keyCode.SPACE || t.keyCode === e.ui.keyCode.ENTER) && e(this).addClass("ui-state-active"), undefined)
            }).bind("keyup" + this.eventNamespace + " blur" + this.eventNamespace, function () {
                e(this).removeClass("ui-state-active")
            }), this.buttonElement.is("a") && this.buttonElement.keyup(function (t) {
                t.keyCode === e.ui.keyCode.SPACE && e(this).click()
            })), this._setOption("disabled", o.disabled), this._resetButton()
        },
        _determineButtonType: function () {
            var e, t, i;
            this.type = this.element.is("[type=checkbox]") ? "checkbox" : this.element.is("[type=radio]") ? "radio" : this.element.is("input") ? "input" : "button", "checkbox" === this.type || "radio" === this.type ? (e = this.element.parents().last(), t = "label[for='" + this.element.attr("id") + "']", this.buttonElement = e.find(t), this.buttonElement.length || (e = e.length ? e.siblings() : this.element.siblings(), this.buttonElement = e.filter(t), this.buttonElement.length || (this.buttonElement = e.find(t))), this.element.addClass("ui-helper-hidden-accessible"), i = this.element.is(":checked"), i && this.buttonElement.addClass("ui-state-active"), this.buttonElement.prop("aria-pressed", i)) : this.buttonElement = this.element
        },
        widget: function () {
            return this.buttonElement
        },
        _destroy: function () {
            this.element.removeClass("ui-helper-hidden-accessible"), this.buttonElement.removeClass(i + " ui-state-active " + n).removeAttr("role").removeAttr("aria-pressed").html(this.buttonElement.find(".ui-button-text").html()), this.hasTitle || this.buttonElement.removeAttr("title")
        },
        _setOption: function (e, t) {
            return this._super(e, t), "disabled" === e ? (this.element.prop("disabled", !!t), t && this.buttonElement.removeClass("ui-state-focus"), undefined) : (this._resetButton(), undefined)
        },
        refresh: function () {
            var t = this.element.is("input, button") ? this.element.is(":disabled") : this.element.hasClass("ui-button-disabled");
            t !== this.options.disabled && this._setOption("disabled", t), "radio" === this.type ? a(this.element[0]).each(function () {
                e(this).is(":checked") ? e(this).button("widget").addClass("ui-state-active").attr("aria-pressed", "true") : e(this).button("widget").removeClass("ui-state-active").attr("aria-pressed", "false")
            }) : "checkbox" === this.type && (this.element.is(":checked") ? this.buttonElement.addClass("ui-state-active").attr("aria-pressed", "true") : this.buttonElement.removeClass("ui-state-active").attr("aria-pressed", "false"))
        },
        _resetButton: function () {
            if ("input" === this.type) return this.options.label && this.element.val(this.options.label), undefined;
            var t = this.buttonElement.removeClass(n),
                i = e("<span></span>", this.document[0]).addClass("ui-button-text").html(this.options.label).appendTo(t.empty()).text(),
                s = this.options.icons,
                a = s.primary && s.secondary,
                o = [];
            s.primary || s.secondary ? (this.options.text && o.push("ui-button-text-icon" + (a ? "s" : s.primary ? "-primary" : "-secondary")), s.primary && t.prepend("<span class='ui-button-icon-primary ui-icon " + s.primary + "'></span>"), s.secondary && t.append("<span class='ui-button-icon-secondary ui-icon " + s.secondary + "'></span>"), this.options.text || (o.push(a ? "ui-button-icons-only" : "ui-button-icon-only"), this.hasTitle || t.attr("title", e.trim(i)))) : o.push("ui-button-text-only"), t.addClass(o.join(" "))
        }
    }), e.widget("ui.buttonset", {
        version: "1.10.4",
        options: {
            items: "button, input[type=button], input[type=submit], input[type=reset], input[type=checkbox], input[type=radio], a, :data(ui-button)"
        },
        _create: function () {
            this.element.addClass("ui-buttonset")
        },
        _init: function () {
            this.refresh()
        },
        _setOption: function (e, t) {
            "disabled" === e && this.buttons.button("option", e, t), this._super(e, t)
        },
        refresh: function () {
            var t = "rtl" === this.element.css("direction");
            this.buttons = this.element.find(this.options.items).filter(":ui-button").button("refresh").end().not(":ui-button").button().end().map(function () {
                return e(this).button("widget")[0]
            }).removeClass("ui-corner-all ui-corner-left ui-corner-right").filter(":first").addClass(t ? "ui-corner-right" : "ui-corner-left").end().filter(":last").addClass(t ? "ui-corner-left" : "ui-corner-right").end().end()
        },
        _destroy: function () {
            this.element.removeClass("ui-buttonset"), this.buttons.map(function () {
                return e(this).button("widget")[0]
            }).removeClass("ui-corner-left ui-corner-right").end().button("destroy")
        }
    })
})(jQuery);
(function (e, t) {
    function i() {
        this._curInst = null, this._keyEvent = !1, this._disabledInputs = [], this._datepickerShowing = !1, this._inDialog = !1, this._mainDivId = "ui-datepicker-div", this._inlineClass = "ui-datepicker-inline", this._appendClass = "ui-datepicker-append", this._triggerClass = "ui-datepicker-trigger", this._dialogClass = "ui-datepicker-dialog", this._disableClass = "ui-datepicker-disabled", this._unselectableClass = "ui-datepicker-unselectable", this._currentClass = "ui-datepicker-current-day", this._dayOverClass = "ui-datepicker-days-cell-over", this.regional = [], this.regional[""] = {
            closeText: "Done",
            prevText: "Prev",
            nextText: "Next",
            currentText: "Today",
            monthNames: ["January", "February", "March", "April", "May", "June", "July", "August", "September", "October", "November", "December"],
            monthNamesShort: ["Jan", "Feb", "Mar", "Apr", "May", "Jun", "Jul", "Aug", "Sep", "Oct", "Nov", "Dec"],
            dayNames: ["Sunday", "Monday", "Tuesday", "Wednesday", "Thursday", "Friday", "Saturday"],
            dayNamesShort: ["Sun", "Mon", "Tue", "Wed", "Thu", "Fri", "Sat"],
            dayNamesMin: ["Su", "Mo", "Tu", "We", "Th", "Fr", "Sa"],
            weekHeader: "Wk",
            dateFormat: "mm/dd/yy",
            firstDay: 0,
            isRTL: !1,
            showMonthAfterYear: !1,
            yearSuffix: ""
        }, this._defaults = {
            showOn: "focus",
            showAnim: "fadeIn",
            showOptions: {},
            defaultDate: null,
            appendText: "",
            buttonText: "...",
            buttonImage: "",
            buttonImageOnly: !1,
            hideIfNoPrevNext: !1,
            navigationAsDateFormat: !1,
            gotoCurrent: !1,
            changeMonth: !1,
            changeYear: !1,
            yearRange: "c-10:c+10",
            showOtherMonths: !1,
            selectOtherMonths: !1,
            showWeek: !1,
            calculateWeek: this.iso8601Week,
            shortYearCutoff: "+10",
            minDate: null,
            maxDate: null,
            duration: "fast",
            beforeShowDay: null,
            beforeShow: null,
            onSelect: null,
            onChangeMonthYear: null,
            onClose: null,
            numberOfMonths: 1,
            showCurrentAtPos: 0,
            stepMonths: 1,
            stepBigMonths: 12,
            altField: "",
            altFormat: "",
            constrainInput: !0,
            showButtonPanel: !1,
            autoSize: !1,
            disabled: !1
        }, e.extend(this._defaults, this.regional[""]), this.dpDiv = a(e("<div id='" + this._mainDivId + "' class='ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>"))
    }

    function a(t) {
        var i = "button, .ui-datepicker-prev, .ui-datepicker-next, .ui-datepicker-calendar td a";
        return t.delegate(i, "mouseout", function () {
            e(this).removeClass("ui-state-hover"), -1 !== this.className.indexOf("ui-datepicker-prev") && e(this).removeClass("ui-datepicker-prev-hover"), -1 !== this.className.indexOf("ui-datepicker-next") && e(this).removeClass("ui-datepicker-next-hover")
        }).delegate(i, "mouseover", function () {
            e.datepicker._isDisabledDatepicker(n.inline ? t.parent()[0] : n.input[0]) || (e(this).parents(".ui-datepicker-calendar").find("a").removeClass("ui-state-hover"), e(this).addClass("ui-state-hover"), -1 !== this.className.indexOf("ui-datepicker-prev") && e(this).addClass("ui-datepicker-prev-hover"), -1 !== this.className.indexOf("ui-datepicker-next") && e(this).addClass("ui-datepicker-next-hover"))
        })
    }

    function s(t, i) {
        e.extend(t, i);
        for (var a in i) null == i[a] && (t[a] = i[a]);
        return t
    }
    e.extend(e.ui, {
        datepicker: {
            version: "1.10.4"
        }
    });
    var n, r = "datepicker";
    e.extend(i.prototype, {
        markerClassName: "hasDatepicker",
        maxRows: 4,
        _widgetDatepicker: function () {
            return this.dpDiv
        },
        setDefaults: function (e) {
            return s(this._defaults, e || {}), this
        },
        _attachDatepicker: function (t, i) {
            var a, s, n;
            a = t.nodeName.toLowerCase(), s = "div" === a || "span" === a, t.id || (this.uuid += 1, t.id = "dp" + this.uuid), n = this._newInst(e(t), s), n.settings = e.extend({}, i || {}), "input" === a ? this._connectDatepicker(t, n) : s && this._inlineDatepicker(t, n)
        },
        _newInst: function (t, i) {
            var s = t[0].id.replace(/([^A-Za-z0-9_\-])/g, "\\\\$1");
            return {
                id: s,
                input: t,
                selectedDay: 0,
                selectedMonth: 0,
                selectedYear: 0,
                drawMonth: 0,
                drawYear: 0,
                inline: i,
                dpDiv: i ? a(e("<div class='" + this._inlineClass + " ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>")) : this.dpDiv
            }
        },
        _connectDatepicker: function (t, i) {
            var a = e(t);
            i.append = e([]), i.trigger = e([]), a.hasClass(this.markerClassName) || (this._attachments(a, i), a.addClass(this.markerClassName).keydown(this._doKeyDown).keypress(this._doKeyPress).keyup(this._doKeyUp), this._autoSize(i), e.data(t, r, i), i.settings.disabled && this._disableDatepicker(t))
        },
        _attachments: function (t, i) {
            var a, s, n, r = this._get(i, "appendText"),
                o = this._get(i, "isRTL");
            i.append && i.append.remove(), r && (i.append = e("<span class='" + this._appendClass + "'>" + r + "</span>"), t[o ? "before" : "after"](i.append)), t.unbind("focus", this._showDatepicker), i.trigger && i.trigger.remove(), a = this._get(i, "showOn"), ("focus" === a || "both" === a) && t.focus(this._showDatepicker), ("button" === a || "both" === a) && (s = this._get(i, "buttonText"), n = this._get(i, "buttonImage"), i.trigger = e(this._get(i, "buttonImageOnly") ? e("<img/>").addClass(this._triggerClass).attr({
                src: n,
                alt: s,
                title: s
            }) : e("<button type='button'></button>").addClass(this._triggerClass).html(n ? e("<img/>").attr({
                src: n,
                alt: s,
                title: s
            }) : s)), t[o ? "before" : "after"](i.trigger), i.trigger.click(function () {
                return e.datepicker._datepickerShowing && e.datepicker._lastInput === t[0] ? e.datepicker._hideDatepicker() : e.datepicker._datepickerShowing && e.datepicker._lastInput !== t[0] ? (e.datepicker._hideDatepicker(), e.datepicker._showDatepicker(t[0])) : e.datepicker._showDatepicker(t[0]), !1
            }))
        },
        _autoSize: function (e) {
            if (this._get(e, "autoSize") && !e.inline) {
                var t, i, a, s, n = new Date(2009, 11, 20),
                    r = this._get(e, "dateFormat");
                r.match(/[DM]/) && (t = function (e) {
                    for (i = 0, a = 0, s = 0; e.length > s; s++) e[s].length > i && (i = e[s].length, a = s);
                    return a
                }, n.setMonth(t(this._get(e, r.match(/MM/) ? "monthNames" : "monthNamesShort"))), n.setDate(t(this._get(e, r.match(/DD/) ? "dayNames" : "dayNamesShort")) + 20 - n.getDay())), e.input.attr("size", this._formatDate(e, n).length)
            }
        },
        _inlineDatepicker: function (t, i) {
            var a = e(t);
            a.hasClass(this.markerClassName) || (a.addClass(this.markerClassName).append(i.dpDiv), e.data(t, r, i), this._setDate(i, this._getDefaultDate(i), !0), this._updateDatepicker(i), this._updateAlternate(i), i.settings.disabled && this._disableDatepicker(t), i.dpDiv.css("display", "block"))
        },
        _dialogDatepicker: function (t, i, a, n, o) {
            var u, c, h, l, d, p = this._dialogInst;
            return p || (this.uuid += 1, u = "dp" + this.uuid, this._dialogInput = e("<input type='text' id='" + u + "' style='position: absolute; top: -100px; width: 0px;'/>"), this._dialogInput.keydown(this._doKeyDown), e("body").append(this._dialogInput), p = this._dialogInst = this._newInst(this._dialogInput, !1), p.settings = {}, e.data(this._dialogInput[0], r, p)), s(p.settings, n || {}), i = i && i.constructor === Date ? this._formatDate(p, i) : i, this._dialogInput.val(i), this._pos = o ? o.length ? o : [o.pageX, o.pageY] : null, this._pos || (c = document.documentElement.clientWidth, h = document.documentElement.clientHeight, l = document.documentElement.scrollLeft || document.body.scrollLeft, d = document.documentElement.scrollTop || document.body.scrollTop, this._pos = [c / 2 - 100 + l, h / 2 - 150 + d]), this._dialogInput.css("left", this._pos[0] + 20 + "px").css("top", this._pos[1] + "px"), p.settings.onSelect = a, this._inDialog = !0, this.dpDiv.addClass(this._dialogClass), this._showDatepicker(this._dialogInput[0]), e.blockUI && e.blockUI(this.dpDiv), e.data(this._dialogInput[0], r, p), this
        },
        _destroyDatepicker: function (t) {
            var i, a = e(t),
                s = e.data(t, r);
            a.hasClass(this.markerClassName) && (i = t.nodeName.toLowerCase(), e.removeData(t, r), "input" === i ? (s.append.remove(), s.trigger.remove(), a.removeClass(this.markerClassName).unbind("focus", this._showDatepicker).unbind("keydown", this._doKeyDown).unbind("keypress", this._doKeyPress).unbind("keyup", this._doKeyUp)) : ("div" === i || "span" === i) && a.removeClass(this.markerClassName).empty())
        },
        _enableDatepicker: function (t) {
            var i, a, s = e(t),
                n = e.data(t, r);
            s.hasClass(this.markerClassName) && (i = t.nodeName.toLowerCase(), "input" === i ? (t.disabled = !1, n.trigger.filter("button").each(function () {
                this.disabled = !1
            }).end().filter("img").css({
                opacity: "1.0",
                cursor: ""
            })) : ("div" === i || "span" === i) && (a = s.children("." + this._inlineClass), a.children().removeClass("ui-state-disabled"), a.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled", !1)), this._disabledInputs = e.map(this._disabledInputs, function (e) {
                return e === t ? null : e
            }))
        },
        _disableDatepicker: function (t) {
            var i, a, s = e(t),
                n = e.data(t, r);
            s.hasClass(this.markerClassName) && (i = t.nodeName.toLowerCase(), "input" === i ? (t.disabled = !0, n.trigger.filter("button").each(function () {
                this.disabled = !0
            }).end().filter("img").css({
                opacity: "0.5",
                cursor: "default"
            })) : ("div" === i || "span" === i) && (a = s.children("." + this._inlineClass), a.children().addClass("ui-state-disabled"), a.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled", !0)), this._disabledInputs = e.map(this._disabledInputs, function (e) {
                return e === t ? null : e
            }), this._disabledInputs[this._disabledInputs.length] = t)
        },
        _isDisabledDatepicker: function (e) {
            if (!e) return !1;
            for (var t = 0; this._disabledInputs.length > t; t++)
                if (this._disabledInputs[t] === e) return !0;
            return !1
        },
        _getInst: function (t) {
            try {
                return e.data(t, r)
            } catch (i) {
                throw "Missing instance data for this datepicker"
            }
        },
        _optionDatepicker: function (i, a, n) {
            var r, o, u, c, h = this._getInst(i);
            return 2 === arguments.length && "string" == typeof a ? "defaults" === a ? e.extend({}, e.datepicker._defaults) : h ? "all" === a ? e.extend({}, h.settings) : this._get(h, a) : null : (r = a || {}, "string" == typeof a && (r = {}, r[a] = n), h && (this._curInst === h && this._hideDatepicker(), o = this._getDateDatepicker(i, !0), u = this._getMinMaxDate(h, "min"), c = this._getMinMaxDate(h, "max"), s(h.settings, r), null !== u && r.dateFormat !== t && r.minDate === t && (h.settings.minDate = this._formatDate(h, u)), null !== c && r.dateFormat !== t && r.maxDate === t && (h.settings.maxDate = this._formatDate(h, c)), "disabled" in r && (r.disabled ? this._disableDatepicker(i) : this._enableDatepicker(i)), this._attachments(e(i), h), this._autoSize(h), this._setDate(h, o), this._updateAlternate(h), this._updateDatepicker(h)), t)
        },
        _changeDatepicker: function (e, t, i) {
            this._optionDatepicker(e, t, i)
        },
        _refreshDatepicker: function (e) {
            var t = this._getInst(e);
            t && this._updateDatepicker(t)
        },
        _setDateDatepicker: function (e, t) {
            var i = this._getInst(e);
            i && (this._setDate(i, t), this._updateDatepicker(i), this._updateAlternate(i))
        },
        _getDateDatepicker: function (e, t) {
            var i = this._getInst(e);
            return i && !i.inline && this._setDateFromField(i, t), i ? this._getDate(i) : null
        },
        _doKeyDown: function (t) {
            var i, a, s, n = e.datepicker._getInst(t.target),
                r = !0,
                o = n.dpDiv.is(".ui-datepicker-rtl");
            if (n._keyEvent = !0, e.datepicker._datepickerShowing) switch (t.keyCode) {
                case 9:
                    e.datepicker._hideDatepicker(), r = !1;
                    break;
                case 13:
                    return s = e("td." + e.datepicker._dayOverClass + ":not(." + e.datepicker._currentClass + ")", n.dpDiv), s[0] && e.datepicker._selectDay(t.target, n.selectedMonth, n.selectedYear, s[0]), i = e.datepicker._get(n, "onSelect"), i ? (a = e.datepicker._formatDate(n), i.apply(n.input ? n.input[0] : null, [a, n])) : e.datepicker._hideDatepicker(), !1;
                case 27:
                    e.datepicker._hideDatepicker();
                    break;
                case 33:
                    e.datepicker._adjustDate(t.target, t.ctrlKey ? -e.datepicker._get(n, "stepBigMonths") : -e.datepicker._get(n, "stepMonths"), "M");
                    break;
                case 34:
                    e.datepicker._adjustDate(t.target, t.ctrlKey ? +e.datepicker._get(n, "stepBigMonths") : +e.datepicker._get(n, "stepMonths"), "M");
                    break;
                case 35:
                    (t.ctrlKey || t.metaKey) && e.datepicker._clearDate(t.target), r = t.ctrlKey || t.metaKey;
                    break;
                case 36:
                    (t.ctrlKey || t.metaKey) && e.datepicker._gotoToday(t.target), r = t.ctrlKey || t.metaKey;
                    break;
                case 37:
                    (t.ctrlKey || t.metaKey) && e.datepicker._adjustDate(t.target, o ? 1 : -1, "D"), r = t.ctrlKey || t.metaKey, t.originalEvent.altKey && e.datepicker._adjustDate(t.target, t.ctrlKey ? -e.datepicker._get(n, "stepBigMonths") : -e.datepicker._get(n, "stepMonths"), "M");
                    break;
                case 38:
                    (t.ctrlKey || t.metaKey) && e.datepicker._adjustDate(t.target, -7, "D"), r = t.ctrlKey || t.metaKey;
                    break;
                case 39:
                    (t.ctrlKey || t.metaKey) && e.datepicker._adjustDate(t.target, o ? -1 : 1, "D"), r = t.ctrlKey || t.metaKey, t.originalEvent.altKey && e.datepicker._adjustDate(t.target, t.ctrlKey ? +e.datepicker._get(n, "stepBigMonths") : +e.datepicker._get(n, "stepMonths"), "M");
                    break;
                case 40:
                    (t.ctrlKey || t.metaKey) && e.datepicker._adjustDate(t.target, 7, "D"), r = t.ctrlKey || t.metaKey;
                    break;
                default:
                    r = !1
            } else 36 === t.keyCode && t.ctrlKey ? e.datepicker._showDatepicker(this) : r = !1;
            r && (t.preventDefault(), t.stopPropagation())
        },
        _doKeyPress: function (i) {
            var a, s, n = e.datepicker._getInst(i.target);
            return e.datepicker._get(n, "constrainInput") ? (a = e.datepicker._possibleChars(e.datepicker._get(n, "dateFormat")), s = String.fromCharCode(null == i.charCode ? i.keyCode : i.charCode), i.ctrlKey || i.metaKey || " " > s || !a || a.indexOf(s) > -1) : t
        },
        _doKeyUp: function (t) {
            var i, a = e.datepicker._getInst(t.target);
            if (a.input.val() !== a.lastVal) try {
                i = e.datepicker.parseDate(e.datepicker._get(a, "dateFormat"), a.input ? a.input.val() : null, e.datepicker._getFormatConfig(a)), i && (e.datepicker._setDateFromField(a), e.datepicker._updateAlternate(a), e.datepicker._updateDatepicker(a))
            } catch (s) {}
            return !0
        },
        _showDatepicker: function (t) {
            if (t = t.target || t, "input" !== t.nodeName.toLowerCase() && (t = e("input", t.parentNode)[0]), !e.datepicker._isDisabledDatepicker(t) && e.datepicker._lastInput !== t) {
                var i, a, n, r, o, u, c;
                i = e.datepicker._getInst(t), e.datepicker._curInst && e.datepicker._curInst !== i && (e.datepicker._curInst.dpDiv.stop(!0, !0), i && e.datepicker._datepickerShowing && e.datepicker._hideDatepicker(e.datepicker._curInst.input[0])), a = e.datepicker._get(i, "beforeShow"), n = a ? a.apply(t, [t, i]) : {}, n !== !1 && (s(i.settings, n), i.lastVal = null, e.datepicker._lastInput = t, e.datepicker._setDateFromField(i), e.datepicker._inDialog && (t.value = ""), e.datepicker._pos || (e.datepicker._pos = e.datepicker._findPos(t), e.datepicker._pos[1] += t.offsetHeight), r = !1, e(t).parents().each(function () {
                    return r |= "fixed" === e(this).css("position"), !r
                }), o = {
                    left: e.datepicker._pos[0],
                    top: e.datepicker._pos[1]
                }, e.datepicker._pos = null, i.dpDiv.empty(), i.dpDiv.css({
                    position: "absolute",
                    display: "block",
                    top: "-1000px"
                }), e.datepicker._updateDatepicker(i), o = e.datepicker._checkOffset(i, o, r), i.dpDiv.css({
                    position: e.datepicker._inDialog && e.blockUI ? "static" : r ? "fixed" : "absolute",
                    display: "none",
                    left: o.left + "px",
                    top: o.top + "px"
                }), i.inline || (u = e.datepicker._get(i, "showAnim"), c = e.datepicker._get(i, "duration"), i.dpDiv.zIndex(e(t).zIndex() + 1), e.datepicker._datepickerShowing = !0, e.effects && e.effects.effect[u] ? i.dpDiv.show(u, e.datepicker._get(i, "showOptions"), c) : i.dpDiv[u || "show"](u ? c : null), e.datepicker._shouldFocusInput(i) && i.input.focus(), e.datepicker._curInst = i))
            }
        },
        _updateDatepicker: function (t) {
            this.maxRows = 4, n = t, t.dpDiv.empty().append(this._generateHTML(t)), this._attachHandlers(t), t.dpDiv.find("." + this._dayOverClass + " a").mouseover();
            var i, a = this._getNumberOfMonths(t),
                s = a[1],
                r = 17;
            t.dpDiv.removeClass("ui-datepicker-multi-2 ui-datepicker-multi-3 ui-datepicker-multi-4").width(""), s > 1 && t.dpDiv.addClass("ui-datepicker-multi-" + s).css("width", r * s + "em"), t.dpDiv[(1 !== a[0] || 1 !== a[1] ? "add" : "remove") + "Class"]("ui-datepicker-multi"), t.dpDiv[(this._get(t, "isRTL") ? "add" : "remove") + "Class"]("ui-datepicker-rtl"), t === e.datepicker._curInst && e.datepicker._datepickerShowing && e.datepicker._shouldFocusInput(t) && t.input.focus(), t.yearshtml && (i = t.yearshtml, setTimeout(function () {
                i === t.yearshtml && t.yearshtml && t.dpDiv.find("select.ui-datepicker-year:first").replaceWith(t.yearshtml), i = t.yearshtml = null
            }, 0))
        },
        _shouldFocusInput: function (e) {
            return e.input && e.input.is(":visible") && !e.input.is(":disabled") && !e.input.is(":focus")
        },
        _checkOffset: function (t, i, a) {
            var s = t.dpDiv.outerWidth(),
                n = t.dpDiv.outerHeight(),
                r = t.input ? t.input.outerWidth() : 0,
                o = t.input ? t.input.outerHeight() : 0,
                u = document.documentElement.clientWidth + (a ? 0 : e(document).scrollLeft()),
                c = document.documentElement.clientHeight + (a ? 0 : e(document).scrollTop());
            return i.left -= this._get(t, "isRTL") ? s - r : 0, i.left -= a && i.left === t.input.offset().left ? e(document).scrollLeft() : 0, i.top -= a && i.top === t.input.offset().top + o ? e(document).scrollTop() : 0, i.left -= Math.min(i.left, i.left + s > u && u > s ? Math.abs(i.left + s - u) : 0), i.top -= Math.min(i.top, i.top + n > c && c > n ? Math.abs(n + o) : 0), i
        },
        _findPos: function (t) {
            for (var i, a = this._getInst(t), s = this._get(a, "isRTL"); t && ("hidden" === t.type || 1 !== t.nodeType || e.expr.filters.hidden(t));) t = t[s ? "previousSibling" : "nextSibling"];
            return i = e(t).offset(), [i.left, i.top]
        },
        _hideDatepicker: function (t) {
            var i, a, s, n, o = this._curInst;
            !o || t && o !== e.data(t, r) || this._datepickerShowing && (i = this._get(o, "showAnim"), a = this._get(o, "duration"), s = function () {
                e.datepicker._tidyDialog(o)
            }, e.effects && (e.effects.effect[i] || e.effects[i]) ? o.dpDiv.hide(i, e.datepicker._get(o, "showOptions"), a, s) : o.dpDiv["slideDown" === i ? "slideUp" : "fadeIn" === i ? "fadeOut" : "hide"](i ? a : null, s), i || s(), this._datepickerShowing = !1, n = this._get(o, "onClose"), n && n.apply(o.input ? o.input[0] : null, [o.input ? o.input.val() : "", o]), this._lastInput = null, this._inDialog && (this._dialogInput.css({
                position: "absolute",
                left: "0",
                top: "-100px"
            }), e.blockUI && (e.unblockUI(), e("body").append(this.dpDiv))), this._inDialog = !1)
        },
        _tidyDialog: function (e) {
            e.dpDiv.removeClass(this._dialogClass).unbind(".ui-datepicker-calendar")
        },
        _checkExternalClick: function (t) {
            if (e.datepicker._curInst) {
                var i = e(t.target),
                    a = e.datepicker._getInst(i[0]);
                (i[0].id !== e.datepicker._mainDivId && 0 === i.parents("#" + e.datepicker._mainDivId).length && !i.hasClass(e.datepicker.markerClassName) && !i.closest("." + e.datepicker._triggerClass).length && e.datepicker._datepickerShowing && (!e.datepicker._inDialog || !e.blockUI) || i.hasClass(e.datepicker.markerClassName) && e.datepicker._curInst !== a) && e.datepicker._hideDatepicker()
            }
        },
        _adjustDate: function (t, i, a) {
            var s = e(t),
                n = this._getInst(s[0]);
            this._isDisabledDatepicker(s[0]) || (this._adjustInstDate(n, i + ("M" === a ? this._get(n, "showCurrentAtPos") : 0), a), this._updateDatepicker(n))
        },
        _gotoToday: function (t) {
            var i, a = e(t),
                s = this._getInst(a[0]);
            this._get(s, "gotoCurrent") && s.currentDay ? (s.selectedDay = s.currentDay, s.drawMonth = s.selectedMonth = s.currentMonth, s.drawYear = s.selectedYear = s.currentYear) : (i = new Date, s.selectedDay = i.getDate(), s.drawMonth = s.selectedMonth = i.getMonth(), s.drawYear = s.selectedYear = i.getFullYear()), this._notifyChange(s), this._adjustDate(a)
        },
        _selectMonthYear: function (t, i, a) {
            var s = e(t),
                n = this._getInst(s[0]);
            n["selected" + ("M" === a ? "Month" : "Year")] = n["draw" + ("M" === a ? "Month" : "Year")] = parseInt(i.options[i.selectedIndex].value, 10), this._notifyChange(n), this._adjustDate(s)
        },
        _selectDay: function (t, i, a, s) {
            var n, r = e(t);
            e(s).hasClass(this._unselectableClass) || this._isDisabledDatepicker(r[0]) || (n = this._getInst(r[0]), n.selectedDay = n.currentDay = e("a", s).html(), n.selectedMonth = n.currentMonth = i, n.selectedYear = n.currentYear = a, this._selectDate(t, this._formatDate(n, n.currentDay, n.currentMonth, n.currentYear)))
        },
        _clearDate: function (t) {
            var i = e(t);
            this._selectDate(i, "")
        },
        _selectDate: function (t, i) {
            var a, s = e(t),
                n = this._getInst(s[0]);
            i = null != i ? i : this._formatDate(n), n.input && n.input.val(i), this._updateAlternate(n), a = this._get(n, "onSelect"), a ? a.apply(n.input ? n.input[0] : null, [i, n]) : n.input && n.input.trigger("change"), n.inline ? this._updateDatepicker(n) : (this._hideDatepicker(), this._lastInput = n.input[0], "object" != typeof n.input[0] && n.input.focus(), this._lastInput = null)
        },
        _updateAlternate: function (t) {
            var i, a, s, n = this._get(t, "altField");
            n && (i = this._get(t, "altFormat") || this._get(t, "dateFormat"), a = this._getDate(t), s = this.formatDate(i, a, this._getFormatConfig(t)), e(n).each(function () {
                e(this).val(s)
            }))
        },
        noWeekends: function (e) {
            var t = e.getDay();
            return [t > 0 && 6 > t, ""]
        },
        iso8601Week: function (e) {
            var t, i = new Date(e.getTime());
            return i.setDate(i.getDate() + 4 - (i.getDay() || 7)), t = i.getTime(), i.setMonth(0), i.setDate(1), Math.floor(Math.round((t - i) / 864e5) / 7) + 1
        },
        parseDate: function (i, a, s) {
            if (null == i || null == a) throw "Invalid arguments";
            if (a = "object" == typeof a ? "" + a : a + "", "" === a) return null;
            var n, r, o, u, c = 0,
                h = (s ? s.shortYearCutoff : null) || this._defaults.shortYearCutoff,
                l = "string" != typeof h ? h : (new Date).getFullYear() % 100 + parseInt(h, 10),
                d = (s ? s.dayNamesShort : null) || this._defaults.dayNamesShort,
                p = (s ? s.dayNames : null) || this._defaults.dayNames,
                g = (s ? s.monthNamesShort : null) || this._defaults.monthNamesShort,
                m = (s ? s.monthNames : null) || this._defaults.monthNames,
                f = -1,
                _ = -1,
                v = -1,
                k = -1,
                y = !1,
                b = function (e) {
                    var t = i.length > n + 1 && i.charAt(n + 1) === e;
                    return t && n++, t
                },
                D = function (e) {
                    var t = b(e),
                        i = "@" === e ? 14 : "!" === e ? 20 : "y" === e && t ? 4 : "o" === e ? 3 : 2,
                        s = RegExp("^\\d{1," + i + "}"),
                        n = a.substring(c).match(s);
                    if (!n) throw "Missing number at position " + c;
                    return c += n[0].length, parseInt(n[0], 10)
                },
                w = function (i, s, n) {
                    var r = -1,
                        o = e.map(b(i) ? n : s, function (e, t) {
                            return [[t, e]]
                        }).sort(function (e, t) {
                            return -(e[1].length - t[1].length)
                        });
                    if (e.each(o, function (e, i) {
                            var s = i[1];
                            return a.substr(c, s.length).toLowerCase() === s.toLowerCase() ? (r = i[0], c += s.length, !1) : t
                        }), -1 !== r) return r + 1;
                    throw "Unknown name at position " + c
                },
                M = function () {
                    if (a.charAt(c) !== i.charAt(n)) throw "Unexpected literal at position " + c;
                    c++
                };
            for (n = 0; i.length > n; n++)
                if (y) "'" !== i.charAt(n) || b("'") ? M() : y = !1;
                else switch (i.charAt(n)) {
                    case "d":
                        v = D("d");
                        break;
                    case "D":
                        w("D", d, p);
                        break;
                    case "o":
                        k = D("o");
                        break;
                    case "m":
                        _ = D("m");
                        break;
                    case "M":
                        _ = w("M", g, m);
                        break;
                    case "y":
                        f = D("y");
                        break;
                    case "@":
                        u = new Date(D("@")), f = u.getFullYear(), _ = u.getMonth() + 1, v = u.getDate();
                        break;
                    case "!":
                        u = new Date((D("!") - this._ticksTo1970) / 1e4), f = u.getFullYear(), _ = u.getMonth() + 1, v = u.getDate();
                        break;
                    case "'":
                        b("'") ? M() : y = !0;
                        break;
                    default:
                        M()
                }
            if (a.length > c && (o = a.substr(c), !/^\s+/.test(o))) throw "Extra/unparsed characters found in date: " + o;
            if (-1 === f ? f = (new Date).getFullYear() : 100 > f && (f += (new Date).getFullYear() - (new Date).getFullYear() % 100 + (l >= f ? 0 : -100)), k > -1)
                for (_ = 1, v = k;;) {
                    if (r = this._getDaysInMonth(f, _ - 1), r >= v) break;
                    _++, v -= r
                }
            if (u = this._daylightSavingAdjust(new Date(f, _ - 1, v)), u.getFullYear() !== f || u.getMonth() + 1 !== _ || u.getDate() !== v) throw "Invalid date";
            return u
        },
        ATOM: "yy-mm-dd",
        COOKIE: "D, dd M yy",
        ISO_8601: "yy-mm-dd",
        RFC_822: "D, d M y",
        RFC_850: "DD, dd-M-y",
        RFC_1036: "D, d M y",
        RFC_1123: "D, d M yy",
        RFC_2822: "D, d M yy",
        RSS: "D, d M y",
        TICKS: "!",
        TIMESTAMP: "@",
        W3C: "yy-mm-dd",
        _ticksTo1970: 1e7 * 60 * 60 * 24 * (718685 + Math.floor(492.5) - Math.floor(19.7) + Math.floor(4.925)),
        formatDate: function (e, t, i) {
            if (!t) return "";
            var a, s = (i ? i.dayNamesShort : null) || this._defaults.dayNamesShort,
                n = (i ? i.dayNames : null) || this._defaults.dayNames,
                r = (i ? i.monthNamesShort : null) || this._defaults.monthNamesShort,
                o = (i ? i.monthNames : null) || this._defaults.monthNames,
                u = function (t) {
                    var i = e.length > a + 1 && e.charAt(a + 1) === t;
                    return i && a++, i
                },
                c = function (e, t, i) {
                    var a = "" + t;
                    if (u(e))
                        for (; i > a.length;) a = "0" + a;
                    return a
                },
                h = function (e, t, i, a) {
                    return u(e) ? a[t] : i[t]
                },
                l = "",
                d = !1;
            if (t)
                for (a = 0; e.length > a; a++)
                    if (d) "'" !== e.charAt(a) || u("'") ? l += e.charAt(a) : d = !1;
                    else switch (e.charAt(a)) {
                        case "d":
                            l += c("d", t.getDate(), 2);
                            break;
                        case "D":
                            l += h("D", t.getDay(), s, n);
                            break;
                        case "o":
                            l += c("o", Math.round((new Date(t.getFullYear(), t.getMonth(), t.getDate()).getTime() - new Date(t.getFullYear(), 0, 0).getTime()) / 864e5), 3);
                            break;
                        case "m":
                            l += c("m", t.getMonth() + 1, 2);
                            break;
                        case "M":
                            l += h("M", t.getMonth(), r, o);
                            break;
                        case "y":
                            l += u("y") ? t.getFullYear() : (10 > t.getYear() % 100 ? "0" : "") + t.getYear() % 100;
                            break;
                        case "@":
                            l += t.getTime();
                            break;
                        case "!":
                            l += 1e4 * t.getTime() + this._ticksTo1970;
                            break;
                        case "'":
                            u("'") ? l += "'" : d = !0;
                            break;
                        default:
                            l += e.charAt(a)
                    }
            return l
        },
        _possibleChars: function (e) {
            var t, i = "",
                a = !1,
                s = function (i) {
                    var a = e.length > t + 1 && e.charAt(t + 1) === i;
                    return a && t++, a
                };
            for (t = 0; e.length > t; t++)
                if (a) "'" !== e.charAt(t) || s("'") ? i += e.charAt(t) : a = !1;
                else switch (e.charAt(t)) {
                    case "d":
                    case "m":
                    case "y":
                    case "@":
                        i += "0123456789";
                        break;
                    case "D":
                    case "M":
                        return null;
                    case "'":
                        s("'") ? i += "'" : a = !0;
                        break;
                    default:
                        i += e.charAt(t)
                }
            return i
        },
        _get: function (e, i) {
            return e.settings[i] !== t ? e.settings[i] : this._defaults[i]
        },
        _setDateFromField: function (e, t) {
            if (e.input.val() !== e.lastVal) {
                var i = this._get(e, "dateFormat"),
                    a = e.lastVal = e.input ? e.input.val() : null,
                    s = this._getDefaultDate(e),
                    n = s,
                    r = this._getFormatConfig(e);
                try {
                    n = this.parseDate(i, a, r) || s
                } catch (o) {
                    a = t ? "" : a
                }
                e.selectedDay = n.getDate(), e.drawMonth = e.selectedMonth = n.getMonth(), e.drawYear = e.selectedYear = n.getFullYear(), e.currentDay = a ? n.getDate() : 0, e.currentMonth = a ? n.getMonth() : 0, e.currentYear = a ? n.getFullYear() : 0, this._adjustInstDate(e)
            }
        },
        _getDefaultDate: function (e) {
            return this._restrictMinMax(e, this._determineDate(e, this._get(e, "defaultDate"), new Date))
        },
        _determineDate: function (t, i, a) {
            var s = function (e) {
                    var t = new Date;
                    return t.setDate(t.getDate() + e), t
                },
                n = function (i) {
                    try {
                        return e.datepicker.parseDate(e.datepicker._get(t, "dateFormat"), i, e.datepicker._getFormatConfig(t))
                    } catch (a) {}
                    for (var s = (i.toLowerCase().match(/^c/) ? e.datepicker._getDate(t) : null) || new Date, n = s.getFullYear(), r = s.getMonth(), o = s.getDate(), u = /([+\-]?[0-9]+)\s*(d|D|w|W|m|M|y|Y)?/g, c = u.exec(i); c;) {
                        switch (c[2] || "d") {
                            case "d":
                            case "D":
                                o += parseInt(c[1], 10);
                                break;
                            case "w":
                            case "W":
                                o += 7 * parseInt(c[1], 10);
                                break;
                            case "m":
                            case "M":
                                r += parseInt(c[1], 10), o = Math.min(o, e.datepicker._getDaysInMonth(n, r));
                                break;
                            case "y":
                            case "Y":
                                n += parseInt(c[1], 10), o = Math.min(o, e.datepicker._getDaysInMonth(n, r))
                        }
                        c = u.exec(i)
                    }
                    return new Date(n, r, o)
                },
                r = null == i || "" === i ? a : "string" == typeof i ? n(i) : "number" == typeof i ? isNaN(i) ? a : s(i) : new Date(i.getTime());
            return r = r && "Invalid Date" == "" + r ? a : r, r && (r.setHours(0), r.setMinutes(0), r.setSeconds(0), r.setMilliseconds(0)), this._daylightSavingAdjust(r)
        },
        _daylightSavingAdjust: function (e) {
            return e ? (e.setHours(e.getHours() > 12 ? e.getHours() + 2 : 0), e) : null
        },
        _setDate: function (e, t, i) {
            var a = !t,
                s = e.selectedMonth,
                n = e.selectedYear,
                r = this._restrictMinMax(e, this._determineDate(e, t, new Date));
            e.selectedDay = e.currentDay = r.getDate(), e.drawMonth = e.selectedMonth = e.currentMonth = r.getMonth(), e.drawYear = e.selectedYear = e.currentYear = r.getFullYear(), s === e.selectedMonth && n === e.selectedYear || i || this._notifyChange(e), this._adjustInstDate(e), e.input && e.input.val(a ? "" : this._formatDate(e))
        },
        _getDate: function (e) {
            var t = !e.currentYear || e.input && "" === e.input.val() ? null : this._daylightSavingAdjust(new Date(e.currentYear, e.currentMonth, e.currentDay));
            return t
        },
        _attachHandlers: function (t) {
            var i = this._get(t, "stepMonths"),
                a = "#" + t.id.replace(/\\\\/g, "\\");
            t.dpDiv.find("[data-handler]").map(function () {
                var t = {
                    prev: function () {
                        e.datepicker._adjustDate(a, -i, "M")
                    },
                    next: function () {
                        e.datepicker._adjustDate(a, +i, "M")
                    },
                    hide: function () {
                        e.datepicker._hideDatepicker()
                    },
                    today: function () {
                        e.datepicker._gotoToday(a)
                    },
                    selectDay: function () {
                        return e.datepicker._selectDay(a, +this.getAttribute("data-month"), +this.getAttribute("data-year"), this), !1
                    },
                    selectMonth: function () {
                        return e.datepicker._selectMonthYear(a, this, "M"), !1
                    },
                    selectYear: function () {
                        return e.datepicker._selectMonthYear(a, this, "Y"), !1
                    }
                };
                e(this).bind(this.getAttribute("data-event"), t[this.getAttribute("data-handler")])
            })
        },
        _generateHTML: function (e) {
            var t, i, a, s, n, r, o, u, c, h, l, d, p, g, m, f, _, v, k, y, b, D, w, M, C, x, I, N, T, A, E, S, Y, F, P, O, j, K, R, H = new Date,
                W = this._daylightSavingAdjust(new Date(H.getFullYear(), H.getMonth(), H.getDate())),
                L = this._get(e, "isRTL"),
                U = this._get(e, "showButtonPanel"),
                B = this._get(e, "hideIfNoPrevNext"),
                z = this._get(e, "navigationAsDateFormat"),
                q = this._getNumberOfMonths(e),
                G = this._get(e, "showCurrentAtPos"),
                J = this._get(e, "stepMonths"),
                Q = 1 !== q[0] || 1 !== q[1],
                V = this._daylightSavingAdjust(e.currentDay ? new Date(e.currentYear, e.currentMonth, e.currentDay) : new Date(9999, 9, 9)),
                $ = this._getMinMaxDate(e, "min"),
                X = this._getMinMaxDate(e, "max"),
                Z = e.drawMonth - G,
                et = e.drawYear;
            if (0 > Z && (Z += 12, et--), X)
                for (t = this._daylightSavingAdjust(new Date(X.getFullYear(), X.getMonth() - q[0] * q[1] + 1, X.getDate())), t = $ && $ > t ? $ : t; this._daylightSavingAdjust(new Date(et, Z, 1)) > t;) Z--, 0 > Z && (Z = 11, et--);
            for (e.drawMonth = Z, e.drawYear = et, i = this._get(e, "prevText"), i = z ? this.formatDate(i, this._daylightSavingAdjust(new Date(et, Z - J, 1)), this._getFormatConfig(e)) : i, a = this._canAdjustMonth(e, -1, et, Z) ? "<a class='ui-datepicker-prev ui-corner-all' data-handler='prev' data-event='click' title='" + i + "'><span class='ui-icon ui-icon-circle-triangle-" + (L ? "e" : "w") + "'>" + i + "</span></a>" : B ? "" : "<a class='ui-datepicker-prev ui-corner-all ui-state-disabled' title='" + i + "'><span class='ui-icon ui-icon-circle-triangle-" + (L ? "e" : "w") + "'>" + i + "</span></a>", s = this._get(e, "nextText"), s = z ? this.formatDate(s, this._daylightSavingAdjust(new Date(et, Z + J, 1)), this._getFormatConfig(e)) : s, n = this._canAdjustMonth(e, 1, et, Z) ? "<a class='ui-datepicker-next ui-corner-all' data-handler='next' data-event='click' title='" + s + "'><span class='ui-icon ui-icon-circle-triangle-" + (L ? "w" : "e") + "'>" + s + "</span></a>" : B ? "" : "<a class='ui-datepicker-next ui-corner-all ui-state-disabled' title='" + s + "'><span class='ui-icon ui-icon-circle-triangle-" + (L ? "w" : "e") + "'>" + s + "</span></a>", r = this._get(e, "currentText"), o = this._get(e, "gotoCurrent") && e.currentDay ? V : W, r = z ? this.formatDate(r, o, this._getFormatConfig(e)) : r, u = e.inline ? "" : "<button type='button' class='ui-datepicker-close ui-state-default ui-priority-primary ui-corner-all' data-handler='hide' data-event='click'>" + this._get(e, "closeText") + "</button>", c = U ? "<div class='ui-datepicker-buttonpane ui-widget-content'>" + (L ? u : "") + (this._isInRange(e, o) ? "<button type='button' class='ui-datepicker-current ui-state-default ui-priority-secondary ui-corner-all' data-handler='today' data-event='click'>" + r + "</button>" : "") + (L ? "" : u) + "</div>" : "", h = parseInt(this._get(e, "firstDay"), 10), h = isNaN(h) ? 0 : h, l = this._get(e, "showWeek"), d = this._get(e, "dayNames"), p = this._get(e, "dayNamesMin"), g = this._get(e, "monthNames"), m = this._get(e, "monthNamesShort"), f = this._get(e, "beforeShowDay"), _ = this._get(e, "showOtherMonths"), v = this._get(e, "selectOtherMonths"), k = this._getDefaultDate(e), y = "", D = 0; q[0] > D; D++) {
                for (w = "", this.maxRows = 4, M = 0; q[1] > M; M++) {
                    if (C = this._daylightSavingAdjust(new Date(et, Z, e.selectedDay)), x = " ui-corner-all", I = "", Q) {
                        if (I += "<div class='ui-datepicker-group", q[1] > 1) switch (M) {
                            case 0:
                                I += " ui-datepicker-group-first", x = " ui-corner-" + (L ? "right" : "left");
                                break;
                            case q[1] - 1:
                                I += " ui-datepicker-group-last", x = " ui-corner-" + (L ? "left" : "right");
                                break;
                            default:
                                I += " ui-datepicker-group-middle", x = ""
                        }
                        I += "'>"
                    }
                    for (I += "<div class='ui-datepicker-header ui-widget-header ui-helper-clearfix" + x + "'>" + (/all|left/.test(x) && 0 === D ? L ? n : a : "") + (/all|right/.test(x) && 0 === D ? L ? a : n : "") + this._generateMonthYearHeader(e, Z, et, $, X, D > 0 || M > 0, g, m) + "</div><table class='ui-datepicker-calendar'><thead>" + "<tr>", N = l ? "<th class='ui-datepicker-week-col'>" + this._get(e, "weekHeader") + "</th>" : "", b = 0; 7 > b; b++) T = (b + h) % 7, N += "<th" + ((b + h + 6) % 7 >= 5 ? " class='ui-datepicker-week-end'" : "") + ">" + "<span title='" + d[T] + "'>" + p[T] + "</span></th>";
                    for (I += N + "</tr></thead><tbody>", A = this._getDaysInMonth(et, Z), et === e.selectedYear && Z === e.selectedMonth && (e.selectedDay = Math.min(e.selectedDay, A)), E = (this._getFirstDayOfMonth(et, Z) - h + 7) % 7, S = Math.ceil((E + A) / 7), Y = Q ? this.maxRows > S ? this.maxRows : S : S, this.maxRows = Y, F = this._daylightSavingAdjust(new Date(et, Z, 1 - E)), P = 0; Y > P; P++) {
                        for (I += "<tr>", O = l ? "<td class='ui-datepicker-week-col'>" + this._get(e, "calculateWeek")(F) + "</td>" : "", b = 0; 7 > b; b++) j = f ? f.apply(e.input ? e.input[0] : null, [F]) : [!0, ""], K = F.getMonth() !== Z, R = K && !v || !j[0] || $ && $ > F || X && F > X, O += "<td class='" + ((b + h + 6) % 7 >= 5 ? " ui-datepicker-week-end" : "") + (K ? " ui-datepicker-other-month" : "") + (F.getTime() === C.getTime() && Z === e.selectedMonth && e._keyEvent || k.getTime() === F.getTime() && k.getTime() === C.getTime() ? " " + this._dayOverClass : "") + (R ? " " + this._unselectableClass + " ui-state-disabled" : "") + (K && !_ ? "" : " " + j[1] + (F.getTime() === V.getTime() ? " " + this._currentClass : "") + (F.getTime() === W.getTime() ? " ui-datepicker-today" : "")) + "'" + (K && !_ || !j[2] ? "" : " title='" + j[2].replace(/'/g, "&#39;") + "'") + (R ? "" : " data-handler='selectDay' data-event='click' data-month='" + F.getMonth() + "' data-year='" + F.getFullYear() + "'") + ">" + (K && !_ ? "&#xa0;" : R ? "<span class='ui-state-default'>" + F.getDate() + "</span>" : "<a class='ui-state-default" + (F.getTime() === W.getTime() ? " ui-state-highlight" : "") + (F.getTime() === V.getTime() ? " ui-state-active" : "") + (K ? " ui-priority-secondary" : "") + "' href='#'>" + F.getDate() + "</a>") + "</td>", F.setDate(F.getDate() + 1), F = this._daylightSavingAdjust(F);
                        I += O + "</tr>"
                    }
                    Z++, Z > 11 && (Z = 0, et++), I += "</tbody></table>" + (Q ? "</div>" + (q[0] > 0 && M === q[1] - 1 ? "<div class='ui-datepicker-row-break'></div>" : "") : ""), w += I
                }
                y += w
            }
            return y += c, e._keyEvent = !1, y
        },
        _generateMonthYearHeader: function (e, t, i, a, s, n, r, o) {
            var u, c, h, l, d, p, g, m, f = this._get(e, "changeMonth"),
                _ = this._get(e, "changeYear"),
                v = this._get(e, "showMonthAfterYear"),
                k = "<div class='ui-datepicker-title'>",
                y = "";
            if (n || !f) y += "<span class='ui-datepicker-month'>" + r[t] + "</span>";
            else {
                for (u = a && a.getFullYear() === i, c = s && s.getFullYear() === i, y += "<select class='ui-datepicker-month' data-handler='selectMonth' data-event='change'>", h = 0; 12 > h; h++)(!u || h >= a.getMonth()) && (!c || s.getMonth() >= h) && (y += "<option value='" + h + "'" + (h === t ? " selected='selected'" : "") + ">" + o[h] + "</option>");
                y += "</select>"
            }
            if (v || (k += y + (!n && f && _ ? "" : "&#xa0;")), !e.yearshtml)
                if (e.yearshtml = "", n || !_) k += "<span class='ui-datepicker-year'>" + i + "</span>";
                else {
                    for (l = this._get(e, "yearRange").split(":"), d = (new Date).getFullYear(), p = function (e) {
                            var t = e.match(/c[+\-].*/) ? i + parseInt(e.substring(1), 10) : e.match(/[+\-].*/) ? d + parseInt(e, 10) : parseInt(e, 10);
                            return isNaN(t) ? d : t
                        }, g = p(l[0]), m = Math.max(g, p(l[1] || "")), g = a ? Math.max(g, a.getFullYear()) : g, m = s ? Math.min(m, s.getFullYear()) : m, e.yearshtml += "<select class='ui-datepicker-year' data-handler='selectYear' data-event='change'>"; m >= g; g++) e.yearshtml += "<option value='" + g + "'" + (g === i ? " selected='selected'" : "") + ">" + g + "</option>";
                    e.yearshtml += "</select>", k += e.yearshtml, e.yearshtml = null
                } return k += this._get(e, "yearSuffix"), v && (k += (!n && f && _ ? "" : "&#xa0;") + y), k += "</div>"
        },
        _adjustInstDate: function (e, t, i) {
            var a = e.drawYear + ("Y" === i ? t : 0),
                s = e.drawMonth + ("M" === i ? t : 0),
                n = Math.min(e.selectedDay, this._getDaysInMonth(a, s)) + ("D" === i ? t : 0),
                r = this._restrictMinMax(e, this._daylightSavingAdjust(new Date(a, s, n)));
            e.selectedDay = r.getDate(), e.drawMonth = e.selectedMonth = r.getMonth(), e.drawYear = e.selectedYear = r.getFullYear(), ("M" === i || "Y" === i) && this._notifyChange(e)
        },
        _restrictMinMax: function (e, t) {
            var i = this._getMinMaxDate(e, "min"),
                a = this._getMinMaxDate(e, "max"),
                s = i && i > t ? i : t;
            return a && s > a ? a : s
        },
        _notifyChange: function (e) {
            var t = this._get(e, "onChangeMonthYear");
            t && t.apply(e.input ? e.input[0] : null, [e.selectedYear, e.selectedMonth + 1, e])
        },
        _getNumberOfMonths: function (e) {
            var t = this._get(e, "numberOfMonths");
            return null == t ? [1, 1] : "number" == typeof t ? [1, t] : t
        },
        _getMinMaxDate: function (e, t) {
            return this._determineDate(e, this._get(e, t + "Date"), null)
        },
        _getDaysInMonth: function (e, t) {
            return 32 - this._daylightSavingAdjust(new Date(e, t, 32)).getDate()
        },
        _getFirstDayOfMonth: function (e, t) {
            return new Date(e, t, 1).getDay()
        },
        _canAdjustMonth: function (e, t, i, a) {
            var s = this._getNumberOfMonths(e),
                n = this._daylightSavingAdjust(new Date(i, a + (0 > t ? t : s[0] * s[1]), 1));
            return 0 > t && n.setDate(this._getDaysInMonth(n.getFullYear(), n.getMonth())), this._isInRange(e, n)
        },
        _isInRange: function (e, t) {
            var i, a, s = this._getMinMaxDate(e, "min"),
                n = this._getMinMaxDate(e, "max"),
                r = null,
                o = null,
                u = this._get(e, "yearRange");
            return u && (i = u.split(":"), a = (new Date).getFullYear(), r = parseInt(i[0], 10), o = parseInt(i[1], 10), i[0].match(/[+\-].*/) && (r += a), i[1].match(/[+\-].*/) && (o += a)), (!s || t.getTime() >= s.getTime()) && (!n || t.getTime() <= n.getTime()) && (!r || t.getFullYear() >= r) && (!o || o >= t.getFullYear())
        },
        _getFormatConfig: function (e) {
            var t = this._get(e, "shortYearCutoff");
            return t = "string" != typeof t ? t : (new Date).getFullYear() % 100 + parseInt(t, 10), {
                shortYearCutoff: t,
                dayNamesShort: this._get(e, "dayNamesShort"),
                dayNames: this._get(e, "dayNames"),
                monthNamesShort: this._get(e, "monthNamesShort"),
                monthNames: this._get(e, "monthNames")
            }
        },
        _formatDate: function (e, t, i, a) {
            t || (e.currentDay = e.selectedDay, e.currentMonth = e.selectedMonth, e.currentYear = e.selectedYear);
            var s = t ? "object" == typeof t ? t : this._daylightSavingAdjust(new Date(a, i, t)) : this._daylightSavingAdjust(new Date(e.currentYear, e.currentMonth, e.currentDay));
            return this.formatDate(this._get(e, "dateFormat"), s, this._getFormatConfig(e))
        }
    }), e.fn.datepicker = function (t) {
        if (!this.length) return this;
        e.datepicker.initialized || (e(document).mousedown(e.datepicker._checkExternalClick), e.datepicker.initialized = !0), 0 === e("#" + e.datepicker._mainDivId).length && e("body").append(e.datepicker.dpDiv);
        var i = Array.prototype.slice.call(arguments, 1);
        return "string" != typeof t || "isDisabled" !== t && "getDate" !== t && "widget" !== t ? "option" === t && 2 === arguments.length && "string" == typeof arguments[1] ? e.datepicker["_" + t + "Datepicker"].apply(e.datepicker, [this[0]].concat(i)) : this.each(function () {
            "string" == typeof t ? e.datepicker["_" + t + "Datepicker"].apply(e.datepicker, [this].concat(i)) : e.datepicker._attachDatepicker(this, t)
        }) : e.datepicker["_" + t + "Datepicker"].apply(e.datepicker, [this[0]].concat(i))
    }, e.datepicker = new i, e.datepicker.initialized = !1, e.datepicker.uuid = (new Date).getTime(), e.datepicker.version = "1.10.4"
})(jQuery);
(function (e) {
    var t = {
            buttons: !0,
            height: !0,
            maxHeight: !0,
            maxWidth: !0,
            minHeight: !0,
            minWidth: !0,
            width: !0
        },
        i = {
            maxHeight: !0,
            maxWidth: !0,
            minHeight: !0,
            minWidth: !0
        };
    e.widget("ui.dialog", {
        version: "1.10.4",
        options: {
            appendTo: "body",
            autoOpen: !0,
            buttons: [],
            closeOnEscape: !0,
            closeText: "close",
            dialogClass: "",
            draggable: !0,
            hide: null,
            height: "auto",
            maxHeight: null,
            maxWidth: null,
            minHeight: 150,
            minWidth: 150,
            modal: !1,
            position: {
                my: "center",
                at: "center",
                of: window,
                collision: "fit",
                using: function (t) {
                    var i = e(this).css(t).offset().top;
                    0 > i && e(this).css("top", t.top - i)
                }
            },
            resizable: !0,
            show: null,
            title: null,
            width: 300,
            beforeClose: null,
            close: null,
            drag: null,
            dragStart: null,
            dragStop: null,
            focus: null,
            open: null,
            resize: null,
            resizeStart: null,
            resizeStop: null
        },
        _create: function () {
            this.originalCss = {
                display: this.element[0].style.display,
                width: this.element[0].style.width,
                minHeight: this.element[0].style.minHeight,
                maxHeight: this.element[0].style.maxHeight,
                height: this.element[0].style.height
            }, this.originalPosition = {
                parent: this.element.parent(),
                index: this.element.parent().children().index(this.element)
            }, this.originalTitle = this.element.attr("title"), this.options.title = this.options.title || this.originalTitle, this._createWrapper(), this.element.show().removeAttr("title").addClass("ui-dialog-content ui-widget-content").appendTo(this.uiDialog), this._createTitlebar(), this._createButtonPane(), this.options.draggable && e.fn.draggable && this._makeDraggable(), this.options.resizable && e.fn.resizable && this._makeResizable(), this._isOpen = !1
        },
        _init: function () {
            this.options.autoOpen && this.open()
        },
        _appendTo: function () {
            var t = this.options.appendTo;
            return t && (t.jquery || t.nodeType) ? e(t) : this.document.find(t || "body").eq(0)
        },
        _destroy: function () {
            var e, t = this.originalPosition;
            this._destroyOverlay(), this.element.removeUniqueId().removeClass("ui-dialog-content ui-widget-content").css(this.originalCss).detach(), this.uiDialog.stop(!0, !0).remove(), this.originalTitle && this.element.attr("title", this.originalTitle), e = t.parent.children().eq(t.index), e.length && e[0] !== this.element[0] ? e.before(this.element) : t.parent.append(this.element)
        },
        widget: function () {
            return this.uiDialog
        },
        disable: e.noop,
        enable: e.noop,
        close: function (t) {
            var i, a = this;
            if (this._isOpen && this._trigger("beforeClose", t) !== !1) {
                if (this._isOpen = !1, this._destroyOverlay(), !this.opener.filter(":focusable").focus().length) try {
                    i = this.document[0].activeElement, i && "body" !== i.nodeName.toLowerCase() && e(i).blur()
                } catch (s) {}
                this._hide(this.uiDialog, this.options.hide, function () {
                    a._trigger("close", t)
                })
            }
        },
        isOpen: function () {
            return this._isOpen
        },
        moveToTop: function () {
            this._moveToTop()
        },
        _moveToTop: function (e, t) {
            var i = !!this.uiDialog.nextAll(":visible").insertBefore(this.uiDialog).length;
            return i && !t && this._trigger("focus", e), i
        },
        open: function () {
            var t = this;
            return this._isOpen ? (this._moveToTop() && this._focusTabbable(), undefined) : (this._isOpen = !0, this.opener = e(this.document[0].activeElement), this._size(), this._position(), this._createOverlay(), this._moveToTop(null, !0), this._show(this.uiDialog, this.options.show, function () {
                t._focusTabbable(), t._trigger("focus")
            }), this._trigger("open"), undefined)
        },
        _focusTabbable: function () {
            var e = this.element.find("[autofocus]");
            e.length || (e = this.element.find(":tabbable")), e.length || (e = this.uiDialogButtonPane.find(":tabbable")), e.length || (e = this.uiDialogTitlebarClose.filter(":tabbable")), e.length || (e = this.uiDialog), e.eq(0).focus()
        },
        _keepFocus: function (t) {
            function i() {
                var t = this.document[0].activeElement,
                    i = this.uiDialog[0] === t || e.contains(this.uiDialog[0], t);
                i || this._focusTabbable()
            }
            t.preventDefault(), i.call(this), this._delay(i)
        },
        _createWrapper: function () {
            this.uiDialog = e("<div>").addClass("ui-dialog ui-widget ui-widget-content ui-corner-all ui-front " + this.options.dialogClass).hide().attr({
                tabIndex: -1,
                role: "dialog"
            }).appendTo(this._appendTo()), this._on(this.uiDialog, {
                keydown: function (t) {
                    if (this.options.closeOnEscape && !t.isDefaultPrevented() && t.keyCode && t.keyCode === e.ui.keyCode.ESCAPE) return t.preventDefault(), this.close(t), undefined;
                    if (t.keyCode === e.ui.keyCode.TAB) {
                        var i = this.uiDialog.find(":tabbable"),
                            a = i.filter(":first"),
                            s = i.filter(":last");
                        t.target !== s[0] && t.target !== this.uiDialog[0] || t.shiftKey ? t.target !== a[0] && t.target !== this.uiDialog[0] || !t.shiftKey || (s.focus(1), t.preventDefault()) : (a.focus(1), t.preventDefault())
                    }
                },
                mousedown: function (e) {
                    this._moveToTop(e) && this._focusTabbable()
                }
            }), this.element.find("[aria-describedby]").length || this.uiDialog.attr({
                "aria-describedby": this.element.uniqueId().attr("id")
            })
        },
        _createTitlebar: function () {
            var t;
            this.uiDialogTitlebar = e("<div>").addClass("ui-dialog-titlebar ui-widget-header ui-corner-all ui-helper-clearfix").prependTo(this.uiDialog), this._on(this.uiDialogTitlebar, {
                mousedown: function (t) {
                    e(t.target).closest(".ui-dialog-titlebar-close") || this.uiDialog.focus()
                }
            }), this.uiDialogTitlebarClose = e("<button type='button'></button>").button({
                label: this.options.closeText,
                icons: {
                    primary: "ui-icon-closethick"
                },
                text: !1
            }).addClass("ui-dialog-titlebar-close").appendTo(this.uiDialogTitlebar), this._on(this.uiDialogTitlebarClose, {
                click: function (e) {
                    e.preventDefault(), this.close(e)
                }
            }), t = e("<span>").uniqueId().addClass("ui-dialog-title").prependTo(this.uiDialogTitlebar), this._title(t), this.uiDialog.attr({
                "aria-labelledby": t.attr("id")
            })
        },
        _title: function (e) {
            this.options.title || e.html("&#160;"), e.text(this.options.title)
        },
        _createButtonPane: function () {
            this.uiDialogButtonPane = e("<div>").addClass("ui-dialog-buttonpane ui-widget-content ui-helper-clearfix"), this.uiButtonSet = e("<div>").addClass("ui-dialog-buttonset").appendTo(this.uiDialogButtonPane), this._createButtons()
        },
        _createButtons: function () {
            var t = this,
                i = this.options.buttons;
            return this.uiDialogButtonPane.remove(), this.uiButtonSet.empty(), e.isEmptyObject(i) || e.isArray(i) && !i.length ? (this.uiDialog.removeClass("ui-dialog-buttons"), undefined) : (e.each(i, function (i, a) {
                var s, n;
                a = e.isFunction(a) ? {
                    click: a,
                    text: i
                } : a, a = e.extend({
                    type: "button"
                }, a), s = a.click, a.click = function () {
                    s.apply(t.element[0], arguments)
                }, n = {
                    icons: a.icons,
                    text: a.showText
                }, delete a.icons, delete a.showText, e("<button></button>", a).button(n).appendTo(t.uiButtonSet)
            }), this.uiDialog.addClass("ui-dialog-buttons"), this.uiDialogButtonPane.appendTo(this.uiDialog), undefined)
        },
        _makeDraggable: function () {
            function t(e) {
                return {
                    position: e.position,
                    offset: e.offset
                }
            }
            var i = this,
                a = this.options;
            this.uiDialog.draggable({
                cancel: ".ui-dialog-content, .ui-dialog-titlebar-close",
                handle: ".ui-dialog-titlebar",
                containment: "document",
                start: function (a, s) {
                    e(this).addClass("ui-dialog-dragging"), i._blockFrames(), i._trigger("dragStart", a, t(s))
                },
                drag: function (e, a) {
                    i._trigger("drag", e, t(a))
                },
                stop: function (s, n) {
                    a.position = [n.position.left - i.document.scrollLeft(), n.position.top - i.document.scrollTop()], e(this).removeClass("ui-dialog-dragging"), i._unblockFrames(), i._trigger("dragStop", s, t(n))
                }
            })
        },
        _makeResizable: function () {
            function t(e) {
                return {
                    originalPosition: e.originalPosition,
                    originalSize: e.originalSize,
                    position: e.position,
                    size: e.size
                }
            }
            var i = this,
                a = this.options,
                s = a.resizable,
                n = this.uiDialog.css("position"),
                r = "string" == typeof s ? s : "n,e,s,w,se,sw,ne,nw";
            this.uiDialog.resizable({
                cancel: ".ui-dialog-content",
                containment: "document",
                alsoResize: this.element,
                maxWidth: a.maxWidth,
                maxHeight: a.maxHeight,
                minWidth: a.minWidth,
                minHeight: this._minHeight(),
                handles: r,
                start: function (a, s) {
                    e(this).addClass("ui-dialog-resizing"), i._blockFrames(), i._trigger("resizeStart", a, t(s))
                },
                resize: function (e, a) {
                    i._trigger("resize", e, t(a))
                },
                stop: function (s, n) {
                    a.height = e(this).height(), a.width = e(this).width(), e(this).removeClass("ui-dialog-resizing"), i._unblockFrames(), i._trigger("resizeStop", s, t(n))
                }
            }).css("position", n)
        },
        _minHeight: function () {
            var e = this.options;
            return "auto" === e.height ? e.minHeight : Math.min(e.minHeight, e.height)
        },
        _position: function () {
            var e = this.uiDialog.is(":visible");
            e || this.uiDialog.show(), this.uiDialog.position(this.options.position), e || this.uiDialog.hide()
        },
        _setOptions: function (a) {
            var s = this,
                n = !1,
                r = {};
            e.each(a, function (e, a) {
                s._setOption(e, a), e in t && (n = !0), e in i && (r[e] = a)
            }), n && (this._size(), this._position()), this.uiDialog.is(":data(ui-resizable)") && this.uiDialog.resizable("option", r)
        },
        _setOption: function (e, t) {
            var i, a, s = this.uiDialog;
            "dialogClass" === e && s.removeClass(this.options.dialogClass).addClass(t), "disabled" !== e && (this._super(e, t), "appendTo" === e && this.uiDialog.appendTo(this._appendTo()), "buttons" === e && this._createButtons(), "closeText" === e && this.uiDialogTitlebarClose.button({
                label: "" + t
            }), "draggable" === e && (i = s.is(":data(ui-draggable)"), i && !t && s.draggable("destroy"), !i && t && this._makeDraggable()), "position" === e && this._position(), "resizable" === e && (a = s.is(":data(ui-resizable)"), a && !t && s.resizable("destroy"), a && "string" == typeof t && s.resizable("option", "handles", t), a || t === !1 || this._makeResizable()), "title" === e && this._title(this.uiDialogTitlebar.find(".ui-dialog-title")))
        },
        _size: function () {
            var e, t, i, a = this.options;
            this.element.show().css({
                width: "auto",
                minHeight: 0,
                maxHeight: "none",
                height: 0
            }), a.minWidth > a.width && (a.width = a.minWidth), e = this.uiDialog.css({
                height: "auto",
                width: a.width
            }).outerHeight(), t = Math.max(0, a.minHeight - e), i = "number" == typeof a.maxHeight ? Math.max(0, a.maxHeight - e) : "none", "auto" === a.height ? this.element.css({
                minHeight: t,
                maxHeight: i,
                height: "auto"
            }) : this.element.height(Math.max(0, a.height - e)), this.uiDialog.is(":data(ui-resizable)") && this.uiDialog.resizable("option", "minHeight", this._minHeight())
        },
        _blockFrames: function () {
            this.iframeBlocks = this.document.find("iframe").map(function () {
                var t = e(this);
                return e("<div>").css({
                    position: "absolute",
                    width: t.outerWidth(),
                    height: t.outerHeight()
                }).appendTo(t.parent()).offset(t.offset())[0]
            })
        },
        _unblockFrames: function () {
            this.iframeBlocks && (this.iframeBlocks.remove(), delete this.iframeBlocks)
        },
        _allowInteraction: function (t) {
            return e(t.target).closest(".ui-dialog").length ? !0 : !!e(t.target).closest(".ui-datepicker").length
        },
        _createOverlay: function () {
            if (this.options.modal) {
                var t = this,
                    i = this.widgetFullName;
                e.ui.dialog.overlayInstances || this._delay(function () {
                    e.ui.dialog.overlayInstances && this.document.bind("focusin.dialog", function (a) {
                        t._allowInteraction(a) || (a.preventDefault(), e(".ui-dialog:visible:last .ui-dialog-content").data(i)._focusTabbable())
                    })
                }), this.overlay = e("<div>").addClass("ui-widget-overlay ui-front").appendTo(this._appendTo()), this._on(this.overlay, {
                    mousedown: "_keepFocus"
                }), e.ui.dialog.overlayInstances++
            }
        },
        _destroyOverlay: function () {
            this.options.modal && this.overlay && (e.ui.dialog.overlayInstances--, e.ui.dialog.overlayInstances || this.document.unbind("focusin.dialog"), this.overlay.remove(), this.overlay = null)
        }
    }), e.ui.dialog.overlayInstances = 0, e.uiBackCompat !== !1 && e.widget("ui.dialog", e.ui.dialog, {
        _position: function () {
            var t, i = this.options.position,
                a = [],
                s = [0, 0];
            i ? (("string" == typeof i || "object" == typeof i && "0" in i) && (a = i.split ? i.split(" ") : [i[0], i[1]], 1 === a.length && (a[1] = a[0]), e.each(["left", "top"], function (e, t) {
                +a[e] === a[e] && (s[e] = a[e], a[e] = t)
            }), i = {
                my: a[0] + (0 > s[0] ? s[0] : "+" + s[0]) + " " + a[1] + (0 > s[1] ? s[1] : "+" + s[1]),
                at: a.join(" ")
            }), i = e.extend({}, e.ui.dialog.prototype.options.position, i)) : i = e.ui.dialog.prototype.options.position, t = this.uiDialog.is(":visible"), t || this.uiDialog.show(), this.uiDialog.position(i), t || this.uiDialog.hide()
        }
    })
})(jQuery);
(function (t) {
    t.widget("ui.draggable", t.ui.mouse, {
        version: "1.10.4",
        widgetEventPrefix: "drag",
        options: {
            addClasses: !0,
            appendTo: "parent",
            axis: !1,
            connectToSortable: !1,
            containment: !1,
            cursor: "auto",
            cursorAt: !1,
            grid: !1,
            handle: !1,
            helper: "original",
            iframeFix: !1,
            opacity: !1,
            refreshPositions: !1,
            revert: !1,
            revertDuration: 500,
            scope: "default",
            scroll: !0,
            scrollSensitivity: 20,
            scrollSpeed: 20,
            snap: !1,
            snapMode: "both",
            snapTolerance: 20,
            stack: !1,
            zIndex: !1,
            drag: null,
            start: null,
            stop: null
        },
        _create: function () {
            "original" !== this.options.helper || /^(?:r|a|f)/.test(this.element.css("position")) || (this.element[0].style.position = "relative"), this.options.addClasses && this.element.addClass("ui-draggable"), this.options.disabled && this.element.addClass("ui-draggable-disabled"), this._mouseInit()
        },
        _destroy: function () {
            this.element.removeClass("ui-draggable ui-draggable-dragging ui-draggable-disabled"), this._mouseDestroy()
        },
        _mouseCapture: function (e) {
            var i = this.options;
            return this.helper || i.disabled || t(e.target).closest(".ui-resizable-handle").length > 0 ? !1 : (this.handle = this._getHandle(e), this.handle ? (t(i.iframeFix === !0 ? "iframe" : i.iframeFix).each(function () {
                t("<div class='ui-draggable-iframeFix' style='background: #fff;'></div>").css({
                    width: this.offsetWidth + "px",
                    height: this.offsetHeight + "px",
                    position: "absolute",
                    opacity: "0.001",
                    zIndex: 1e3
                }).css(t(this).offset()).appendTo("body")
            }), !0) : !1)
        },
        _mouseStart: function (e) {
            var i = this.options;
            return this.helper = this._createHelper(e), this.helper.addClass("ui-draggable-dragging"), this._cacheHelperProportions(), t.ui.ddmanager && (t.ui.ddmanager.current = this), this._cacheMargins(), this.cssPosition = this.helper.css("position"), this.scrollParent = this.helper.scrollParent(), this.offsetParent = this.helper.offsetParent(), this.offsetParentCssPosition = this.offsetParent.css("position"), this.offset = this.positionAbs = this.element.offset(), this.offset = {
                top: this.offset.top - this.margins.top,
                left: this.offset.left - this.margins.left
            }, this.offset.scroll = !1, t.extend(this.offset, {
                click: {
                    left: e.pageX - this.offset.left,
                    top: e.pageY - this.offset.top
                },
                parent: this._getParentOffset(),
                relative: this._getRelativeOffset()
            }), this.originalPosition = this.position = this._generatePosition(e), this.originalPageX = e.pageX, this.originalPageY = e.pageY, i.cursorAt && this._adjustOffsetFromHelper(i.cursorAt), this._setContainment(), this._trigger("start", e) === !1 ? (this._clear(), !1) : (this._cacheHelperProportions(), t.ui.ddmanager && !i.dropBehaviour && t.ui.ddmanager.prepareOffsets(this, e), this._mouseDrag(e, !0), t.ui.ddmanager && t.ui.ddmanager.dragStart(this, e), !0)
        },
        _mouseDrag: function (e, i) {
            if ("fixed" === this.offsetParentCssPosition && (this.offset.parent = this._getParentOffset()), this.position = this._generatePosition(e), this.positionAbs = this._convertPositionTo("absolute"), !i) {
                var s = this._uiHash();
                if (this._trigger("drag", e, s) === !1) return this._mouseUp({}), !1;
                this.position = s.position
            }
            return this.options.axis && "y" === this.options.axis || (this.helper[0].style.left = this.position.left + "px"), this.options.axis && "x" === this.options.axis || (this.helper[0].style.top = this.position.top + "px"), t.ui.ddmanager && t.ui.ddmanager.drag(this, e), !1
        },
        _mouseStop: function (e) {
            var i = this,
                s = !1;
            return t.ui.ddmanager && !this.options.dropBehaviour && (s = t.ui.ddmanager.drop(this, e)), this.dropped && (s = this.dropped, this.dropped = !1), "original" !== this.options.helper || t.contains(this.element[0].ownerDocument, this.element[0]) ? ("invalid" === this.options.revert && !s || "valid" === this.options.revert && s || this.options.revert === !0 || t.isFunction(this.options.revert) && this.options.revert.call(this.element, s) ? t(this.helper).animate(this.originalPosition, parseInt(this.options.revertDuration, 10), function () {
                i._trigger("stop", e) !== !1 && i._clear()
            }) : this._trigger("stop", e) !== !1 && this._clear(), !1) : !1
        },
        _mouseUp: function (e) {
            return t("div.ui-draggable-iframeFix").each(function () {
                this.parentNode.removeChild(this)
            }), t.ui.ddmanager && t.ui.ddmanager.dragStop(this, e), t.ui.mouse.prototype._mouseUp.call(this, e)
        },
        cancel: function () {
            return this.helper.is(".ui-draggable-dragging") ? this._mouseUp({}) : this._clear(), this
        },
        _getHandle: function (e) {
            return this.options.handle ? !!t(e.target).closest(this.element.find(this.options.handle)).length : !0
        },
        _createHelper: function (e) {
            var i = this.options,
                s = t.isFunction(i.helper) ? t(i.helper.apply(this.element[0], [e])) : "clone" === i.helper ? this.element.clone().removeAttr("id") : this.element;
            return s.parents("body").length || s.appendTo("parent" === i.appendTo ? this.element[0].parentNode : i.appendTo), s[0] === this.element[0] || /(fixed|absolute)/.test(s.css("position")) || s.css("position", "absolute"), s
        },
        _adjustOffsetFromHelper: function (e) {
            "string" == typeof e && (e = e.split(" ")), t.isArray(e) && (e = {
                left: +e[0],
                top: +e[1] || 0
            }), "left" in e && (this.offset.click.left = e.left + this.margins.left), "right" in e && (this.offset.click.left = this.helperProportions.width - e.right + this.margins.left), "top" in e && (this.offset.click.top = e.top + this.margins.top), "bottom" in e && (this.offset.click.top = this.helperProportions.height - e.bottom + this.margins.top)
        },
        _getParentOffset: function () {
            var e = this.offsetParent.offset();
            return "absolute" === this.cssPosition && this.scrollParent[0] !== document && t.contains(this.scrollParent[0], this.offsetParent[0]) && (e.left += this.scrollParent.scrollLeft(), e.top += this.scrollParent.scrollTop()), (this.offsetParent[0] === document.body || this.offsetParent[0].tagName && "html" === this.offsetParent[0].tagName.toLowerCase() && t.ui.ie) && (e = {
                top: 0,
                left: 0
            }), {
                top: e.top + (parseInt(this.offsetParent.css("borderTopWidth"), 10) || 0),
                left: e.left + (parseInt(this.offsetParent.css("borderLeftWidth"), 10) || 0)
            }
        },
        _getRelativeOffset: function () {
            if ("relative" === this.cssPosition) {
                var t = this.element.position();
                return {
                    top: t.top - (parseInt(this.helper.css("top"), 10) || 0) + this.scrollParent.scrollTop(),
                    left: t.left - (parseInt(this.helper.css("left"), 10) || 0) + this.scrollParent.scrollLeft()
                }
            }
            return {
                top: 0,
                left: 0
            }
        },
        _cacheMargins: function () {
            this.margins = {
                left: parseInt(this.element.css("marginLeft"), 10) || 0,
                top: parseInt(this.element.css("marginTop"), 10) || 0,
                right: parseInt(this.element.css("marginRight"), 10) || 0,
                bottom: parseInt(this.element.css("marginBottom"), 10) || 0
            }
        },
        _cacheHelperProportions: function () {
            this.helperProportions = {
                width: this.helper.outerWidth(),
                height: this.helper.outerHeight()
            }
        },
        _setContainment: function () {
            var e, i, s, n = this.options;
            return n.containment ? "window" === n.containment ? (this.containment = [t(window).scrollLeft() - this.offset.relative.left - this.offset.parent.left, t(window).scrollTop() - this.offset.relative.top - this.offset.parent.top, t(window).scrollLeft() + t(window).width() - this.helperProportions.width - this.margins.left, t(window).scrollTop() + (t(window).height() || document.body.parentNode.scrollHeight) - this.helperProportions.height - this.margins.top], undefined) : "document" === n.containment ? (this.containment = [0, 0, t(document).width() - this.helperProportions.width - this.margins.left, (t(document).height() || document.body.parentNode.scrollHeight) - this.helperProportions.height - this.margins.top], undefined) : n.containment.constructor === Array ? (this.containment = n.containment, undefined) : ("parent" === n.containment && (n.containment = this.helper[0].parentNode), i = t(n.containment), s = i[0], s && (e = "hidden" !== i.css("overflow"), this.containment = [(parseInt(i.css("borderLeftWidth"), 10) || 0) + (parseInt(i.css("paddingLeft"), 10) || 0), (parseInt(i.css("borderTopWidth"), 10) || 0) + (parseInt(i.css("paddingTop"), 10) || 0), (e ? Math.max(s.scrollWidth, s.offsetWidth) : s.offsetWidth) - (parseInt(i.css("borderRightWidth"), 10) || 0) - (parseInt(i.css("paddingRight"), 10) || 0) - this.helperProportions.width - this.margins.left - this.margins.right, (e ? Math.max(s.scrollHeight, s.offsetHeight) : s.offsetHeight) - (parseInt(i.css("borderBottomWidth"), 10) || 0) - (parseInt(i.css("paddingBottom"), 10) || 0) - this.helperProportions.height - this.margins.top - this.margins.bottom], this.relative_container = i), undefined) : (this.containment = null, undefined)
        },
        _convertPositionTo: function (e, i) {
            i || (i = this.position);
            var s = "absolute" === e ? 1 : -1,
                n = "absolute" !== this.cssPosition || this.scrollParent[0] !== document && t.contains(this.scrollParent[0], this.offsetParent[0]) ? this.scrollParent : this.offsetParent;
            return this.offset.scroll || (this.offset.scroll = {
                top: n.scrollTop(),
                left: n.scrollLeft()
            }), {
                top: i.top + this.offset.relative.top * s + this.offset.parent.top * s - ("fixed" === this.cssPosition ? -this.scrollParent.scrollTop() : this.offset.scroll.top) * s,
                left: i.left + this.offset.relative.left * s + this.offset.parent.left * s - ("fixed" === this.cssPosition ? -this.scrollParent.scrollLeft() : this.offset.scroll.left) * s
            }
        },
        _generatePosition: function (e) {
            var i, s, n, a, o = this.options,
                r = "absolute" !== this.cssPosition || this.scrollParent[0] !== document && t.contains(this.scrollParent[0], this.offsetParent[0]) ? this.scrollParent : this.offsetParent,
                l = e.pageX,
                h = e.pageY;
            return this.offset.scroll || (this.offset.scroll = {
                top: r.scrollTop(),
                left: r.scrollLeft()
            }), this.originalPosition && (this.containment && (this.relative_container ? (s = this.relative_container.offset(), i = [this.containment[0] + s.left, this.containment[1] + s.top, this.containment[2] + s.left, this.containment[3] + s.top]) : i = this.containment, e.pageX - this.offset.click.left < i[0] && (l = i[0] + this.offset.click.left), e.pageY - this.offset.click.top < i[1] && (h = i[1] + this.offset.click.top), e.pageX - this.offset.click.left > i[2] && (l = i[2] + this.offset.click.left), e.pageY - this.offset.click.top > i[3] && (h = i[3] + this.offset.click.top)), o.grid && (n = o.grid[1] ? this.originalPageY + Math.round((h - this.originalPageY) / o.grid[1]) * o.grid[1] : this.originalPageY, h = i ? n - this.offset.click.top >= i[1] || n - this.offset.click.top > i[3] ? n : n - this.offset.click.top >= i[1] ? n - o.grid[1] : n + o.grid[1] : n, a = o.grid[0] ? this.originalPageX + Math.round((l - this.originalPageX) / o.grid[0]) * o.grid[0] : this.originalPageX, l = i ? a - this.offset.click.left >= i[0] || a - this.offset.click.left > i[2] ? a : a - this.offset.click.left >= i[0] ? a - o.grid[0] : a + o.grid[0] : a)), {
                top: h - this.offset.click.top - this.offset.relative.top - this.offset.parent.top + ("fixed" === this.cssPosition ? -this.scrollParent.scrollTop() : this.offset.scroll.top),
                left: l - this.offset.click.left - this.offset.relative.left - this.offset.parent.left + ("fixed" === this.cssPosition ? -this.scrollParent.scrollLeft() : this.offset.scroll.left)
            }
        },
        _clear: function () {
            this.helper.removeClass("ui-draggable-dragging"), this.helper[0] === this.element[0] || this.cancelHelperRemoval || this.helper.remove(), this.helper = null, this.cancelHelperRemoval = !1
        },
        _trigger: function (e, i, s) {
            return s = s || this._uiHash(), t.ui.plugin.call(this, e, [i, s]), "drag" === e && (this.positionAbs = this._convertPositionTo("absolute")), t.Widget.prototype._trigger.call(this, e, i, s)
        },
        plugins: {},
        _uiHash: function () {
            return {
                helper: this.helper,
                position: this.position,
                originalPosition: this.originalPosition,
                offset: this.positionAbs
            }
        }
    }), t.ui.plugin.add("draggable", "connectToSortable", {
        start: function (e, i) {
            var s = t(this).data("ui-draggable"),
                n = s.options,
                a = t.extend({}, i, {
                    item: s.element
                });
            s.sortables = [], t(n.connectToSortable).each(function () {
                var i = t.data(this, "ui-sortable");
                i && !i.options.disabled && (s.sortables.push({
                    instance: i,
                    shouldRevert: i.options.revert
                }), i.refreshPositions(), i._trigger("activate", e, a))
            })
        },
        stop: function (e, i) {
            var s = t(this).data("ui-draggable"),
                n = t.extend({}, i, {
                    item: s.element
                });
            t.each(s.sortables, function () {
                this.instance.isOver ? (this.instance.isOver = 0, s.cancelHelperRemoval = !0, this.instance.cancelHelperRemoval = !1, this.shouldRevert && (this.instance.options.revert = this.shouldRevert), this.instance._mouseStop(e), this.instance.options.helper = this.instance.options._helper, "original" === s.options.helper && this.instance.currentItem.css({
                    top: "auto",
                    left: "auto"
                })) : (this.instance.cancelHelperRemoval = !1, this.instance._trigger("deactivate", e, n))
            })
        },
        drag: function (e, i) {
            var s = t(this).data("ui-draggable"),
                n = this;
            t.each(s.sortables, function () {
                var a = !1,
                    o = this;
                this.instance.positionAbs = s.positionAbs, this.instance.helperProportions = s.helperProportions, this.instance.offset.click = s.offset.click, this.instance._intersectsWith(this.instance.containerCache) && (a = !0, t.each(s.sortables, function () {
                    return this.instance.positionAbs = s.positionAbs, this.instance.helperProportions = s.helperProportions, this.instance.offset.click = s.offset.click, this !== o && this.instance._intersectsWith(this.instance.containerCache) && t.contains(o.instance.element[0], this.instance.element[0]) && (a = !1), a
                })), a ? (this.instance.isOver || (this.instance.isOver = 1, this.instance.currentItem = t(n).clone().removeAttr("id").appendTo(this.instance.element).data("ui-sortable-item", !0), this.instance.options._helper = this.instance.options.helper, this.instance.options.helper = function () {
                    return i.helper[0]
                }, e.target = this.instance.currentItem[0], this.instance._mouseCapture(e, !0), this.instance._mouseStart(e, !0, !0), this.instance.offset.click.top = s.offset.click.top, this.instance.offset.click.left = s.offset.click.left, this.instance.offset.parent.left -= s.offset.parent.left - this.instance.offset.parent.left, this.instance.offset.parent.top -= s.offset.parent.top - this.instance.offset.parent.top, s._trigger("toSortable", e), s.dropped = this.instance.element, s.currentItem = s.element, this.instance.fromOutside = s), this.instance.currentItem && this.instance._mouseDrag(e)) : this.instance.isOver && (this.instance.isOver = 0, this.instance.cancelHelperRemoval = !0, this.instance.options.revert = !1, this.instance._trigger("out", e, this.instance._uiHash(this.instance)), this.instance._mouseStop(e, !0), this.instance.options.helper = this.instance.options._helper, this.instance.currentItem.remove(), this.instance.placeholder && this.instance.placeholder.remove(), s._trigger("fromSortable", e), s.dropped = !1)
            })
        }
    }), t.ui.plugin.add("draggable", "cursor", {
        start: function () {
            var e = t("body"),
                i = t(this).data("ui-draggable").options;
            e.css("cursor") && (i._cursor = e.css("cursor")), e.css("cursor", i.cursor)
        },
        stop: function () {
            var e = t(this).data("ui-draggable").options;
            e._cursor && t("body").css("cursor", e._cursor)
        }
    }), t.ui.plugin.add("draggable", "opacity", {
        start: function (e, i) {
            var s = t(i.helper),
                n = t(this).data("ui-draggable").options;
            s.css("opacity") && (n._opacity = s.css("opacity")), s.css("opacity", n.opacity)
        },
        stop: function (e, i) {
            var s = t(this).data("ui-draggable").options;
            s._opacity && t(i.helper).css("opacity", s._opacity)
        }
    }), t.ui.plugin.add("draggable", "scroll", {
        start: function () {
            var e = t(this).data("ui-draggable");
            e.scrollParent[0] !== document && "HTML" !== e.scrollParent[0].tagName && (e.overflowOffset = e.scrollParent.offset())
        },
        drag: function (e) {
            var i = t(this).data("ui-draggable"),
                s = i.options,
                n = !1;
            i.scrollParent[0] !== document && "HTML" !== i.scrollParent[0].tagName ? (s.axis && "x" === s.axis || (i.overflowOffset.top + i.scrollParent[0].offsetHeight - e.pageY < s.scrollSensitivity ? i.scrollParent[0].scrollTop = n = i.scrollParent[0].scrollTop + s.scrollSpeed : e.pageY - i.overflowOffset.top < s.scrollSensitivity && (i.scrollParent[0].scrollTop = n = i.scrollParent[0].scrollTop - s.scrollSpeed)), s.axis && "y" === s.axis || (i.overflowOffset.left + i.scrollParent[0].offsetWidth - e.pageX < s.scrollSensitivity ? i.scrollParent[0].scrollLeft = n = i.scrollParent[0].scrollLeft + s.scrollSpeed : e.pageX - i.overflowOffset.left < s.scrollSensitivity && (i.scrollParent[0].scrollLeft = n = i.scrollParent[0].scrollLeft - s.scrollSpeed))) : (s.axis && "x" === s.axis || (e.pageY - t(document).scrollTop() < s.scrollSensitivity ? n = t(document).scrollTop(t(document).scrollTop() - s.scrollSpeed) : t(window).height() - (e.pageY - t(document).scrollTop()) < s.scrollSensitivity && (n = t(document).scrollTop(t(document).scrollTop() + s.scrollSpeed))), s.axis && "y" === s.axis || (e.pageX - t(document).scrollLeft() < s.scrollSensitivity ? n = t(document).scrollLeft(t(document).scrollLeft() - s.scrollSpeed) : t(window).width() - (e.pageX - t(document).scrollLeft()) < s.scrollSensitivity && (n = t(document).scrollLeft(t(document).scrollLeft() + s.scrollSpeed)))), n !== !1 && t.ui.ddmanager && !s.dropBehaviour && t.ui.ddmanager.prepareOffsets(i, e)
        }
    }), t.ui.plugin.add("draggable", "snap", {
        start: function () {
            var e = t(this).data("ui-draggable"),
                i = e.options;
            e.snapElements = [], t(i.snap.constructor !== String ? i.snap.items || ":data(ui-draggable)" : i.snap).each(function () {
                var i = t(this),
                    s = i.offset();
                this !== e.element[0] && e.snapElements.push({
                    item: this,
                    width: i.outerWidth(),
                    height: i.outerHeight(),
                    top: s.top,
                    left: s.left
                })
            })
        },
        drag: function (e, i) {
            var s, n, a, o, r, l, h, c, u, d, p = t(this).data("ui-draggable"),
                g = p.options,
                f = g.snapTolerance,
                m = i.offset.left,
                _ = m + p.helperProportions.width,
                v = i.offset.top,
                b = v + p.helperProportions.height;
            for (u = p.snapElements.length - 1; u >= 0; u--) r = p.snapElements[u].left, l = r + p.snapElements[u].width, h = p.snapElements[u].top, c = h + p.snapElements[u].height, r - f > _ || m > l + f || h - f > b || v > c + f || !t.contains(p.snapElements[u].item.ownerDocument, p.snapElements[u].item) ? (p.snapElements[u].snapping && p.options.snap.release && p.options.snap.release.call(p.element, e, t.extend(p._uiHash(), {
                snapItem: p.snapElements[u].item
            })), p.snapElements[u].snapping = !1) : ("inner" !== g.snapMode && (s = f >= Math.abs(h - b), n = f >= Math.abs(c - v), a = f >= Math.abs(r - _), o = f >= Math.abs(l - m), s && (i.position.top = p._convertPositionTo("relative", {
                top: h - p.helperProportions.height,
                left: 0
            }).top - p.margins.top), n && (i.position.top = p._convertPositionTo("relative", {
                top: c,
                left: 0
            }).top - p.margins.top), a && (i.position.left = p._convertPositionTo("relative", {
                top: 0,
                left: r - p.helperProportions.width
            }).left - p.margins.left), o && (i.position.left = p._convertPositionTo("relative", {
                top: 0,
                left: l
            }).left - p.margins.left)), d = s || n || a || o, "outer" !== g.snapMode && (s = f >= Math.abs(h - v), n = f >= Math.abs(c - b), a = f >= Math.abs(r - m), o = f >= Math.abs(l - _), s && (i.position.top = p._convertPositionTo("relative", {
                top: h,
                left: 0
            }).top - p.margins.top), n && (i.position.top = p._convertPositionTo("relative", {
                top: c - p.helperProportions.height,
                left: 0
            }).top - p.margins.top), a && (i.position.left = p._convertPositionTo("relative", {
                top: 0,
                left: r
            }).left - p.margins.left), o && (i.position.left = p._convertPositionTo("relative", {
                top: 0,
                left: l - p.helperProportions.width
            }).left - p.margins.left)), !p.snapElements[u].snapping && (s || n || a || o || d) && p.options.snap.snap && p.options.snap.snap.call(p.element, e, t.extend(p._uiHash(), {
                snapItem: p.snapElements[u].item
            })), p.snapElements[u].snapping = s || n || a || o || d)
        }
    }), t.ui.plugin.add("draggable", "stack", {
        start: function () {
            var e, i = this.data("ui-draggable").options,
                s = t.makeArray(t(i.stack)).sort(function (e, i) {
                    return (parseInt(t(e).css("zIndex"), 10) || 0) - (parseInt(t(i).css("zIndex"), 10) || 0)
                });
            s.length && (e = parseInt(t(s[0]).css("zIndex"), 10) || 0, t(s).each(function (i) {
                t(this).css("zIndex", e + i)
            }), this.css("zIndex", e + s.length))
        }
    }), t.ui.plugin.add("draggable", "zIndex", {
        start: function (e, i) {
            var s = t(i.helper),
                n = t(this).data("ui-draggable").options;
            s.css("zIndex") && (n._zIndex = s.css("zIndex")), s.css("zIndex", n.zIndex)
        },
        stop: function (e, i) {
            var s = t(this).data("ui-draggable").options;
            s._zIndex && t(i.helper).css("zIndex", s._zIndex)
        }
    })
})(jQuery);
(function (t) {
    function e(t, e, i) {
        return t > e && e + i > t
    }
    t.widget("ui.droppable", {
        version: "1.10.4",
        widgetEventPrefix: "drop",
        options: {
            accept: "*",
            activeClass: !1,
            addClasses: !0,
            greedy: !1,
            hoverClass: !1,
            scope: "default",
            tolerance: "intersect",
            activate: null,
            deactivate: null,
            drop: null,
            out: null,
            over: null
        },
        _create: function () {
            var e, i = this.options,
                s = i.accept;
            this.isover = !1, this.isout = !0, this.accept = t.isFunction(s) ? s : function (t) {
                return t.is(s)
            }, this.proportions = function () {
                return arguments.length ? (e = arguments[0], undefined) : e ? e : e = {
                    width: this.element[0].offsetWidth,
                    height: this.element[0].offsetHeight
                }
            }, t.ui.ddmanager.droppables[i.scope] = t.ui.ddmanager.droppables[i.scope] || [], t.ui.ddmanager.droppables[i.scope].push(this), i.addClasses && this.element.addClass("ui-droppable")
        },
        _destroy: function () {
            for (var e = 0, i = t.ui.ddmanager.droppables[this.options.scope]; i.length > e; e++) i[e] === this && i.splice(e, 1);
            this.element.removeClass("ui-droppable ui-droppable-disabled")
        },
        _setOption: function (e, i) {
            "accept" === e && (this.accept = t.isFunction(i) ? i : function (t) {
                return t.is(i)
            }), t.Widget.prototype._setOption.apply(this, arguments)
        },
        _activate: function (e) {
            var i = t.ui.ddmanager.current;
            this.options.activeClass && this.element.addClass(this.options.activeClass), i && this._trigger("activate", e, this.ui(i))
        },
        _deactivate: function (e) {
            var i = t.ui.ddmanager.current;
            this.options.activeClass && this.element.removeClass(this.options.activeClass), i && this._trigger("deactivate", e, this.ui(i))
        },
        _over: function (e) {
            var i = t.ui.ddmanager.current;
            i && (i.currentItem || i.element)[0] !== this.element[0] && this.accept.call(this.element[0], i.currentItem || i.element) && (this.options.hoverClass && this.element.addClass(this.options.hoverClass), this._trigger("over", e, this.ui(i)))
        },
        _out: function (e) {
            var i = t.ui.ddmanager.current;
            i && (i.currentItem || i.element)[0] !== this.element[0] && this.accept.call(this.element[0], i.currentItem || i.element) && (this.options.hoverClass && this.element.removeClass(this.options.hoverClass), this._trigger("out", e, this.ui(i)))
        },
        _drop: function (e, i) {
            var s = i || t.ui.ddmanager.current,
                n = !1;
            return s && (s.currentItem || s.element)[0] !== this.element[0] ? (this.element.find(":data(ui-droppable)").not(".ui-draggable-dragging").each(function () {
                var e = t.data(this, "ui-droppable");
                return e.options.greedy && !e.options.disabled && e.options.scope === s.options.scope && e.accept.call(e.element[0], s.currentItem || s.element) && t.ui.intersect(s, t.extend(e, {
                    offset: e.element.offset()
                }), e.options.tolerance) ? (n = !0, !1) : undefined
            }), n ? !1 : this.accept.call(this.element[0], s.currentItem || s.element) ? (this.options.activeClass && this.element.removeClass(this.options.activeClass), this.options.hoverClass && this.element.removeClass(this.options.hoverClass), this._trigger("drop", e, this.ui(s)), this.element) : !1) : !1
        },
        ui: function (t) {
            return {
                draggable: t.currentItem || t.element,
                helper: t.helper,
                position: t.position,
                offset: t.positionAbs
            }
        }
    }), t.ui.intersect = function (t, i, s) {
        if (!i.offset) return !1;
        var n, a, o = (t.positionAbs || t.position.absolute).left,
            r = (t.positionAbs || t.position.absolute).top,
            l = o + t.helperProportions.width,
            h = r + t.helperProportions.height,
            c = i.offset.left,
            u = i.offset.top,
            d = c + i.proportions().width,
            p = u + i.proportions().height;
        switch (s) {
            case "fit":
                return o >= c && d >= l && r >= u && p >= h;
            case "intersect":
                return o + t.helperProportions.width / 2 > c && d > l - t.helperProportions.width / 2 && r + t.helperProportions.height / 2 > u && p > h - t.helperProportions.height / 2;
            case "pointer":
                return n = (t.positionAbs || t.position.absolute).left + (t.clickOffset || t.offset.click).left, a = (t.positionAbs || t.position.absolute).top + (t.clickOffset || t.offset.click).top, e(a, u, i.proportions().height) && e(n, c, i.proportions().width);
            case "touch":
                return (r >= u && p >= r || h >= u && p >= h || u > r && h > p) && (o >= c && d >= o || l >= c && d >= l || c > o && l > d);
            default:
                return !1
        }
    }, t.ui.ddmanager = {
        current: null,
        droppables: {
            "default": []
        },
        prepareOffsets: function (e, i) {
            var s, n, a = t.ui.ddmanager.droppables[e.options.scope] || [],
                o = i ? i.type : null,
                r = (e.currentItem || e.element).find(":data(ui-droppable)").addBack();
            t: for (s = 0; a.length > s; s++)
                if (!(a[s].options.disabled || e && !a[s].accept.call(a[s].element[0], e.currentItem || e.element))) {
                    for (n = 0; r.length > n; n++)
                        if (r[n] === a[s].element[0]) {
                            a[s].proportions().height = 0;
                            continue t
                        } a[s].visible = "none" !== a[s].element.css("display"), a[s].visible && ("mousedown" === o && a[s]._activate.call(a[s], i), a[s].offset = a[s].element.offset(), a[s].proportions({
                        width: a[s].element[0].offsetWidth,
                        height: a[s].element[0].offsetHeight
                    }))
                }
        },
        drop: function (e, i) {
            var s = !1;
            return t.each((t.ui.ddmanager.droppables[e.options.scope] || []).slice(), function () {
                this.options && (!this.options.disabled && this.visible && t.ui.intersect(e, this, this.options.tolerance) && (s = this._drop.call(this, i) || s), !this.options.disabled && this.visible && this.accept.call(this.element[0], e.currentItem || e.element) && (this.isout = !0, this.isover = !1, this._deactivate.call(this, i)))
            }), s
        },
        dragStart: function (e, i) {
            e.element.parentsUntil("body").bind("scroll.droppable", function () {
                e.options.refreshPositions || t.ui.ddmanager.prepareOffsets(e, i)
            })
        },
        drag: function (e, i) {
            e.options.refreshPositions && t.ui.ddmanager.prepareOffsets(e, i), t.each(t.ui.ddmanager.droppables[e.options.scope] || [], function () {
                if (!this.options.disabled && !this.greedyChild && this.visible) {
                    var s, n, a, o = t.ui.intersect(e, this, this.options.tolerance),
                        r = !o && this.isover ? "isout" : o && !this.isover ? "isover" : null;
                    r && (this.options.greedy && (n = this.options.scope, a = this.element.parents(":data(ui-droppable)").filter(function () {
                        return t.data(this, "ui-droppable").options.scope === n
                    }), a.length && (s = t.data(a[0], "ui-droppable"), s.greedyChild = "isover" === r)), s && "isover" === r && (s.isover = !1, s.isout = !0, s._out.call(s, i)), this[r] = !0, this["isout" === r ? "isover" : "isout"] = !1, this["isover" === r ? "_over" : "_out"].call(this, i), s && "isout" === r && (s.isout = !1, s.isover = !0, s._over.call(s, i)))
                }
            })
        },
        dragStop: function (e, i) {
            e.element.parentsUntil("body").unbind("scroll.droppable"), e.options.refreshPositions || t.ui.ddmanager.prepareOffsets(e, i)
        }
    }
})(jQuery);
(function (t, e) {
    var i = "ui-effects-";
    t.effects = {
            effect: {}
        },
        function (t, e) {
            function i(t, e, i) {
                var s = u[e.type] || {};
                return null == t ? i || !e.def ? null : e.def : (t = s.floor ? ~~t : parseFloat(t), isNaN(t) ? e.def : s.mod ? (t + s.mod) % s.mod : 0 > t ? 0 : t > s.max ? s.max : t)
            }

            function s(i) {
                var s = h(),
                    n = s._rgba = [];
                return i = i.toLowerCase(), f(l, function (t, a) {
                    var o, r = a.re.exec(i),
                        l = r && a.parse(r),
                        h = a.space || "rgba";
                    return l ? (o = s[h](l), s[c[h].cache] = o[c[h].cache], n = s._rgba = o._rgba, !1) : e
                }), n.length ? ("0,0,0,0" === n.join() && t.extend(n, a.transparent), s) : a[i]
            }

            function n(t, e, i) {
                return i = (i + 1) % 1, 1 > 6 * i ? t + 6 * (e - t) * i : 1 > 2 * i ? e : 2 > 3 * i ? t + 6 * (e - t) * (2 / 3 - i) : t
            }
            var a, o = "backgroundColor borderBottomColor borderLeftColor borderRightColor borderTopColor color columnRuleColor outlineColor textDecorationColor textEmphasisColor",
                r = /^([\-+])=\s*(\d+\.?\d*)/,
                l = [{
                    re: /rgba?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,
                    parse: function (t) {
                        return [t[1], t[2], t[3], t[4]]
                    }
                }, {
                    re: /rgba?\(\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,
                    parse: function (t) {
                        return [2.55 * t[1], 2.55 * t[2], 2.55 * t[3], t[4]]
                    }
                }, {
                    re: /#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})/,
                    parse: function (t) {
                        return [parseInt(t[1], 16), parseInt(t[2], 16), parseInt(t[3], 16)]
                    }
                }, {
                    re: /#([a-f0-9])([a-f0-9])([a-f0-9])/,
                    parse: function (t) {
                        return [parseInt(t[1] + t[1], 16), parseInt(t[2] + t[2], 16), parseInt(t[3] + t[3], 16)]
                    }
                }, {
                    re: /hsla?\(\s*(\d+(?:\.\d+)?)\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,
                    space: "hsla",
                    parse: function (t) {
                        return [t[1], t[2] / 100, t[3] / 100, t[4]]
                    }
                }],
                h = t.Color = function (e, i, s, n) {
                    return new t.Color.fn.parse(e, i, s, n)
                },
                c = {
                    rgba: {
                        props: {
                            red: {
                                idx: 0,
                                type: "byte"
                            },
                            green: {
                                idx: 1,
                                type: "byte"
                            },
                            blue: {
                                idx: 2,
                                type: "byte"
                            }
                        }
                    },
                    hsla: {
                        props: {
                            hue: {
                                idx: 0,
                                type: "degrees"
                            },
                            saturation: {
                                idx: 1,
                                type: "percent"
                            },
                            lightness: {
                                idx: 2,
                                type: "percent"
                            }
                        }
                    }
                },
                u = {
                    "byte": {
                        floor: !0,
                        max: 255
                    },
                    percent: {
                        max: 1
                    },
                    degrees: {
                        mod: 360,
                        floor: !0
                    }
                },
                d = h.support = {},
                p = t("<p>")[0],
                f = t.each;
            p.style.cssText = "background-color:rgba(1,1,1,.5)", d.rgba = p.style.backgroundColor.indexOf("rgba") > -1, f(c, function (t, e) {
                e.cache = "_" + t, e.props.alpha = {
                    idx: 3,
                    type: "percent",
                    def: 1
                }
            }), h.fn = t.extend(h.prototype, {
                parse: function (n, o, r, l) {
                    if (n === e) return this._rgba = [null, null, null, null], this;
                    (n.jquery || n.nodeType) && (n = t(n).css(o), o = e);
                    var u = this,
                        d = t.type(n),
                        p = this._rgba = [];
                    return o !== e && (n = [n, o, r, l], d = "array"), "string" === d ? this.parse(s(n) || a._default) : "array" === d ? (f(c.rgba.props, function (t, e) {
                        p[e.idx] = i(n[e.idx], e)
                    }), this) : "object" === d ? (n instanceof h ? f(c, function (t, e) {
                        n[e.cache] && (u[e.cache] = n[e.cache].slice())
                    }) : f(c, function (e, s) {
                        var a = s.cache;
                        f(s.props, function (t, e) {
                            if (!u[a] && s.to) {
                                if ("alpha" === t || null == n[t]) return;
                                u[a] = s.to(u._rgba)
                            }
                            u[a][e.idx] = i(n[t], e, !0)
                        }), u[a] && 0 > t.inArray(null, u[a].slice(0, 3)) && (u[a][3] = 1, s.from && (u._rgba = s.from(u[a])))
                    }), this) : e
                },
                is: function (t) {
                    var i = h(t),
                        s = !0,
                        n = this;
                    return f(c, function (t, a) {
                        var o, r = i[a.cache];
                        return r && (o = n[a.cache] || a.to && a.to(n._rgba) || [], f(a.props, function (t, i) {
                            return null != r[i.idx] ? s = r[i.idx] === o[i.idx] : e
                        })), s
                    }), s
                },
                _space: function () {
                    var t = [],
                        e = this;
                    return f(c, function (i, s) {
                        e[s.cache] && t.push(i)
                    }), t.pop()
                },
                transition: function (t, e) {
                    var s = h(t),
                        n = s._space(),
                        a = c[n],
                        o = 0 === this.alpha() ? h("transparent") : this,
                        r = o[a.cache] || a.to(o._rgba),
                        l = r.slice();
                    return s = s[a.cache], f(a.props, function (t, n) {
                        var a = n.idx,
                            o = r[a],
                            h = s[a],
                            c = u[n.type] || {};
                        null !== h && (null === o ? l[a] = h : (c.mod && (h - o > c.mod / 2 ? o += c.mod : o - h > c.mod / 2 && (o -= c.mod)), l[a] = i((h - o) * e + o, n)))
                    }), this[n](l)
                },
                blend: function (e) {
                    if (1 === this._rgba[3]) return this;
                    var i = this._rgba.slice(),
                        s = i.pop(),
                        n = h(e)._rgba;
                    return h(t.map(i, function (t, e) {
                        return (1 - s) * n[e] + s * t
                    }))
                },
                toRgbaString: function () {
                    var e = "rgba(",
                        i = t.map(this._rgba, function (t, e) {
                            return null == t ? e > 2 ? 1 : 0 : t
                        });
                    return 1 === i[3] && (i.pop(), e = "rgb("), e + i.join() + ")"
                },
                toHslaString: function () {
                    var e = "hsla(",
                        i = t.map(this.hsla(), function (t, e) {
                            return null == t && (t = e > 2 ? 1 : 0), e && 3 > e && (t = Math.round(100 * t) + "%"), t
                        });
                    return 1 === i[3] && (i.pop(), e = "hsl("), e + i.join() + ")"
                },
                toHexString: function (e) {
                    var i = this._rgba.slice(),
                        s = i.pop();
                    return e && i.push(~~(255 * s)), "#" + t.map(i, function (t) {
                        return t = (t || 0).toString(16), 1 === t.length ? "0" + t : t
                    }).join("")
                },
                toString: function () {
                    return 0 === this._rgba[3] ? "transparent" : this.toRgbaString()
                }
            }), h.fn.parse.prototype = h.fn, c.hsla.to = function (t) {
                if (null == t[0] || null == t[1] || null == t[2]) return [null, null, null, t[3]];
                var e, i, s = t[0] / 255,
                    n = t[1] / 255,
                    a = t[2] / 255,
                    o = t[3],
                    r = Math.max(s, n, a),
                    l = Math.min(s, n, a),
                    h = r - l,
                    c = r + l,
                    u = .5 * c;
                return e = l === r ? 0 : s === r ? 60 * (n - a) / h + 360 : n === r ? 60 * (a - s) / h + 120 : 60 * (s - n) / h + 240, i = 0 === h ? 0 : .5 >= u ? h / c : h / (2 - c), [Math.round(e) % 360, i, u, null == o ? 1 : o]
            }, c.hsla.from = function (t) {
                if (null == t[0] || null == t[1] || null == t[2]) return [null, null, null, t[3]];
                var e = t[0] / 360,
                    i = t[1],
                    s = t[2],
                    a = t[3],
                    o = .5 >= s ? s * (1 + i) : s + i - s * i,
                    r = 2 * s - o;
                return [Math.round(255 * n(r, o, e + 1 / 3)), Math.round(255 * n(r, o, e)), Math.round(255 * n(r, o, e - 1 / 3)), a]
            }, f(c, function (s, n) {
                var a = n.props,
                    o = n.cache,
                    l = n.to,
                    c = n.from;
                h.fn[s] = function (s) {
                    if (l && !this[o] && (this[o] = l(this._rgba)), s === e) return this[o].slice();
                    var n, r = t.type(s),
                        u = "array" === r || "object" === r ? s : arguments,
                        d = this[o].slice();
                    return f(a, function (t, e) {
                        var s = u["object" === r ? t : e.idx];
                        null == s && (s = d[e.idx]), d[e.idx] = i(s, e)
                    }), c ? (n = h(c(d)), n[o] = d, n) : h(d)
                }, f(a, function (e, i) {
                    h.fn[e] || (h.fn[e] = function (n) {
                        var a, o = t.type(n),
                            l = "alpha" === e ? this._hsla ? "hsla" : "rgba" : s,
                            h = this[l](),
                            c = h[i.idx];
                        return "undefined" === o ? c : ("function" === o && (n = n.call(this, c), o = t.type(n)), null == n && i.empty ? this : ("string" === o && (a = r.exec(n), a && (n = c + parseFloat(a[2]) * ("+" === a[1] ? 1 : -1))), h[i.idx] = n, this[l](h)))
                    })
                })
            }), h.hook = function (e) {
                var i = e.split(" ");
                f(i, function (e, i) {
                    t.cssHooks[i] = {
                        set: function (e, n) {
                            var a, o, r = "";
                            if ("transparent" !== n && ("string" !== t.type(n) || (a = s(n)))) {
                                if (n = h(a || n), !d.rgba && 1 !== n._rgba[3]) {
                                    for (o = "backgroundColor" === i ? e.parentNode : e;
                                        ("" === r || "transparent" === r) && o && o.style;) try {
                                        r = t.css(o, "backgroundColor"), o = o.parentNode
                                    } catch (l) {}
                                    n = n.blend(r && "transparent" !== r ? r : "_default")
                                }
                                n = n.toRgbaString()
                            }
                            try {
                                e.style[i] = n
                            } catch (l) {}
                        }
                    }, t.fx.step[i] = function (e) {
                        e.colorInit || (e.start = h(e.elem, i), e.end = h(e.end), e.colorInit = !0), t.cssHooks[i].set(e.elem, e.start.transition(e.end, e.pos))
                    }
                })
            }, h.hook(o), t.cssHooks.borderColor = {
                expand: function (t) {
                    var e = {};
                    return f(["Top", "Right", "Bottom", "Left"], function (i, s) {
                        e["border" + s + "Color"] = t
                    }), e
                }
            }, a = t.Color.names = {
                aqua: "#00ffff",
                black: "#000000",
                blue: "#0000ff",
                fuchsia: "#ff00ff",
                gray: "#808080",
                green: "#008000",
                lime: "#00ff00",
                maroon: "#800000",
                navy: "#000080",
                olive: "#808000",
                purple: "#800080",
                red: "#ff0000",
                silver: "#c0c0c0",
                teal: "#008080",
                white: "#ffffff",
                yellow: "#ffff00",
                transparent: [null, null, null, 0],
                _default: "#ffffff"
            }
        }(jQuery),
        function () {
            function i(e) {
                var i, s, n = e.ownerDocument.defaultView ? e.ownerDocument.defaultView.getComputedStyle(e, null) : e.currentStyle,
                    a = {};
                if (n && n.length && n[0] && n[n[0]])
                    for (s = n.length; s--;) i = n[s], "string" == typeof n[i] && (a[t.camelCase(i)] = n[i]);
                else
                    for (i in n) "string" == typeof n[i] && (a[i] = n[i]);
                return a
            }

            function s(e, i) {
                var s, n, o = {};
                for (s in i) n = i[s], e[s] !== n && (a[s] || (t.fx.step[s] || !isNaN(parseFloat(n))) && (o[s] = n));
                return o
            }
            var n = ["add", "remove", "toggle"],
                a = {
                    border: 1,
                    borderBottom: 1,
                    borderColor: 1,
                    borderLeft: 1,
                    borderRight: 1,
                    borderTop: 1,
                    borderWidth: 1,
                    margin: 1,
                    padding: 1
                };
            t.each(["borderLeftStyle", "borderRightStyle", "borderBottomStyle", "borderTopStyle"], function (e, i) {
                t.fx.step[i] = function (t) {
                    ("none" !== t.end && !t.setAttr || 1 === t.pos && !t.setAttr) && (jQuery.style(t.elem, i, t.end), t.setAttr = !0)
                }
            }), t.fn.addBack || (t.fn.addBack = function (t) {
                return this.add(null == t ? this.prevObject : this.prevObject.filter(t))
            }), t.effects.animateClass = function (e, a, o, r) {
                var l = t.speed(a, o, r);
                return this.queue(function () {
                    var a, o = t(this),
                        r = o.attr("class") || "",
                        h = l.children ? o.find("*").addBack() : o;
                    h = h.map(function () {
                        var e = t(this);
                        return {
                            el: e,
                            start: i(this)
                        }
                    }), a = function () {
                        t.each(n, function (t, i) {
                            e[i] && o[i + "Class"](e[i])
                        })
                    }, a(), h = h.map(function () {
                        return this.end = i(this.el[0]), this.diff = s(this.start, this.end), this
                    }), o.attr("class", r), h = h.map(function () {
                        var e = this,
                            i = t.Deferred(),
                            s = t.extend({}, l, {
                                queue: !1,
                                complete: function () {
                                    i.resolve(e)
                                }
                            });
                        return this.el.animate(this.diff, s), i.promise()
                    }), t.when.apply(t, h.get()).done(function () {
                        a(), t.each(arguments, function () {
                            var e = this.el;
                            t.each(this.diff, function (t) {
                                e.css(t, "")
                            })
                        }), l.complete.call(o[0])
                    })
                })
            }, t.fn.extend({
                addClass: function (e) {
                    return function (i, s, n, a) {
                        return s ? t.effects.animateClass.call(this, {
                            add: i
                        }, s, n, a) : e.apply(this, arguments)
                    }
                }(t.fn.addClass),
                removeClass: function (e) {
                    return function (i, s, n, a) {
                        return arguments.length > 1 ? t.effects.animateClass.call(this, {
                            remove: i
                        }, s, n, a) : e.apply(this, arguments)
                    }
                }(t.fn.removeClass),
                toggleClass: function (i) {
                    return function (s, n, a, o, r) {
                        return "boolean" == typeof n || n === e ? a ? t.effects.animateClass.call(this, n ? {
                            add: s
                        } : {
                            remove: s
                        }, a, o, r) : i.apply(this, arguments) : t.effects.animateClass.call(this, {
                            toggle: s
                        }, n, a, o)
                    }
                }(t.fn.toggleClass),
                switchClass: function (e, i, s, n, a) {
                    return t.effects.animateClass.call(this, {
                        add: i,
                        remove: e
                    }, s, n, a)
                }
            })
        }(),
        function () {
            function s(e, i, s, n) {
                return t.isPlainObject(e) && (i = e, e = e.effect), e = {
                    effect: e
                }, null == i && (i = {}), t.isFunction(i) && (n = i, s = null, i = {}), ("number" == typeof i || t.fx.speeds[i]) && (n = s, s = i, i = {}), t.isFunction(s) && (n = s, s = null), i && t.extend(e, i), s = s || i.duration, e.duration = t.fx.off ? 0 : "number" == typeof s ? s : s in t.fx.speeds ? t.fx.speeds[s] : t.fx.speeds._default, e.complete = n || i.complete, e
            }

            function n(e) {
                return !e || "number" == typeof e || t.fx.speeds[e] ? !0 : "string" != typeof e || t.effects.effect[e] ? t.isFunction(e) ? !0 : "object" != typeof e || e.effect ? !1 : !0 : !0
            }
            t.extend(t.effects, {
                version: "1.10.4",
                save: function (t, e) {
                    for (var s = 0; e.length > s; s++) null !== e[s] && t.data(i + e[s], t[0].style[e[s]])
                },
                restore: function (t, s) {
                    var n, a;
                    for (a = 0; s.length > a; a++) null !== s[a] && (n = t.data(i + s[a]), n === e && (n = ""), t.css(s[a], n))
                },
                setMode: function (t, e) {
                    return "toggle" === e && (e = t.is(":hidden") ? "show" : "hide"), e
                },
                getBaseline: function (t, e) {
                    var i, s;
                    switch (t[0]) {
                        case "top":
                            i = 0;
                            break;
                        case "middle":
                            i = .5;
                            break;
                        case "bottom":
                            i = 1;
                            break;
                        default:
                            i = t[0] / e.height
                    }
                    switch (t[1]) {
                        case "left":
                            s = 0;
                            break;
                        case "center":
                            s = .5;
                            break;
                        case "right":
                            s = 1;
                            break;
                        default:
                            s = t[1] / e.width
                    }
                    return {
                        x: s,
                        y: i
                    }
                },
                createWrapper: function (e) {
                    if (e.parent().is(".ui-effects-wrapper")) return e.parent();
                    var i = {
                            width: e.outerWidth(!0),
                            height: e.outerHeight(!0),
                            "float": e.css("float")
                        },
                        s = t("<div></div>").addClass("ui-effects-wrapper").css({
                            fontSize: "100%",
                            background: "transparent",
                            border: "none",
                            margin: 0,
                            padding: 0
                        }),
                        n = {
                            width: e.width(),
                            height: e.height()
                        },
                        a = document.activeElement;
                    try {
                        a.id
                    } catch (o) {
                        a = document.body
                    }
                    return e.wrap(s), (e[0] === a || t.contains(e[0], a)) && t(a).focus(), s = e.parent(), "static" === e.css("position") ? (s.css({
                        position: "relative"
                    }), e.css({
                        position: "relative"
                    })) : (t.extend(i, {
                        position: e.css("position"),
                        zIndex: e.css("z-index")
                    }), t.each(["top", "left", "bottom", "right"], function (t, s) {
                        i[s] = e.css(s), isNaN(parseInt(i[s], 10)) && (i[s] = "auto")
                    }), e.css({
                        position: "relative",
                        top: 0,
                        left: 0,
                        right: "auto",
                        bottom: "auto"
                    })), e.css(n), s.css(i).show()
                },
                removeWrapper: function (e) {
                    var i = document.activeElement;
                    return e.parent().is(".ui-effects-wrapper") && (e.parent().replaceWith(e), (e[0] === i || t.contains(e[0], i)) && t(i).focus()), e
                },
                setTransition: function (e, i, s, n) {
                    return n = n || {}, t.each(i, function (t, i) {
                        var a = e.cssUnit(i);
                        a[0] > 0 && (n[i] = a[0] * s + a[1])
                    }), n
                }
            }), t.fn.extend({
                effect: function () {
                    function e(e) {
                        function s() {
                            t.isFunction(a) && a.call(n[0]), t.isFunction(e) && e()
                        }
                        var n = t(this),
                            a = i.complete,
                            r = i.mode;
                        (n.is(":hidden") ? "hide" === r : "show" === r) ? (n[r](), s()) : o.call(n[0], i, s)
                    }
                    var i = s.apply(this, arguments),
                        n = i.mode,
                        a = i.queue,
                        o = t.effects.effect[i.effect];
                    return t.fx.off || !o ? n ? this[n](i.duration, i.complete) : this.each(function () {
                        i.complete && i.complete.call(this)
                    }) : a === !1 ? this.each(e) : this.queue(a || "fx", e)
                },
                show: function (t) {
                    return function (e) {
                        if (n(e)) return t.apply(this, arguments);
                        var i = s.apply(this, arguments);
                        return i.mode = "show", this.effect.call(this, i)
                    }
                }(t.fn.show),
                hide: function (t) {
                    return function (e) {
                        if (n(e)) return t.apply(this, arguments);
                        var i = s.apply(this, arguments);
                        return i.mode = "hide", this.effect.call(this, i)
                    }
                }(t.fn.hide),
                toggle: function (t) {
                    return function (e) {
                        if (n(e) || "boolean" == typeof e) return t.apply(this, arguments);
                        var i = s.apply(this, arguments);
                        return i.mode = "toggle", this.effect.call(this, i)
                    }
                }(t.fn.toggle),
                cssUnit: function (e) {
                    var i = this.css(e),
                        s = [];
                    return t.each(["em", "px", "%", "pt"], function (t, e) {
                        i.indexOf(e) > 0 && (s = [parseFloat(i), e])
                    }), s
                }
            })
        }(),
        function () {
            var e = {};
            t.each(["Quad", "Cubic", "Quart", "Quint", "Expo"], function (t, i) {
                e[i] = function (e) {
                    return Math.pow(e, t + 2)
                }
            }), t.extend(e, {
                Sine: function (t) {
                    return 1 - Math.cos(t * Math.PI / 2)
                },
                Circ: function (t) {
                    return 1 - Math.sqrt(1 - t * t)
                },
                Elastic: function (t) {
                    return 0 === t || 1 === t ? t : -Math.pow(2, 8 * (t - 1)) * Math.sin((80 * (t - 1) - 7.5) * Math.PI / 15)
                },
                Back: function (t) {
                    return t * t * (3 * t - 2)
                },
                Bounce: function (t) {
                    for (var e, i = 4;
                        ((e = Math.pow(2, --i)) - 1) / 11 > t;);
                    return 1 / Math.pow(4, 3 - i) - 7.5625 * Math.pow((3 * e - 2) / 22 - t, 2)
                }
            }), t.each(e, function (e, i) {
                t.easing["easeIn" + e] = i, t.easing["easeOut" + e] = function (t) {
                    return 1 - i(1 - t)
                }, t.easing["easeInOut" + e] = function (t) {
                    return .5 > t ? i(2 * t) / 2 : 1 - i(-2 * t + 2) / 2
                }
            })
        }()
})(jQuery);
(function (t) {
    var e = /up|down|vertical/,
        i = /up|left|vertical|horizontal/;
    t.effects.effect.blind = function (s, n) {
        var a, o, r, l = t(this),
            h = ["position", "top", "bottom", "left", "right", "height", "width"],
            c = t.effects.setMode(l, s.mode || "hide"),
            u = s.direction || "up",
            d = e.test(u),
            p = d ? "height" : "width",
            f = d ? "top" : "left",
            g = i.test(u),
            m = {},
            v = "show" === c;
        l.parent().is(".ui-effects-wrapper") ? t.effects.save(l.parent(), h) : t.effects.save(l, h), l.show(), a = t.effects.createWrapper(l).css({
            overflow: "hidden"
        }), o = a[p](), r = parseFloat(a.css(f)) || 0, m[p] = v ? o : 0, g || (l.css(d ? "bottom" : "right", 0).css(d ? "top" : "left", "auto").css({
            position: "absolute"
        }), m[f] = v ? r : o + r), v && (a.css(p, 0), g || a.css(f, r + o)), a.animate(m, {
            duration: s.duration,
            easing: s.easing,
            queue: !1,
            complete: function () {
                "hide" === c && l.hide(), t.effects.restore(l, h), t.effects.removeWrapper(l), n()
            }
        })
    }
})(jQuery);
(function (t) {
    t.effects.effect.bounce = function (e, i) {
        var s, n, a, o = t(this),
            r = ["position", "top", "bottom", "left", "right", "height", "width"],
            l = t.effects.setMode(o, e.mode || "effect"),
            h = "hide" === l,
            c = "show" === l,
            u = e.direction || "up",
            d = e.distance,
            p = e.times || 5,
            f = 2 * p + (c || h ? 1 : 0),
            g = e.duration / f,
            m = e.easing,
            v = "up" === u || "down" === u ? "top" : "left",
            _ = "up" === u || "left" === u,
            b = o.queue(),
            y = b.length;
        for ((c || h) && r.push("opacity"), t.effects.save(o, r), o.show(), t.effects.createWrapper(o), d || (d = o["top" === v ? "outerHeight" : "outerWidth"]() / 3), c && (a = {
                opacity: 1
            }, a[v] = 0, o.css("opacity", 0).css(v, _ ? 2 * -d : 2 * d).animate(a, g, m)), h && (d /= Math.pow(2, p - 1)), a = {}, a[v] = 0, s = 0; p > s; s++) n = {}, n[v] = (_ ? "-=" : "+=") + d, o.animate(n, g, m).animate(a, g, m), d = h ? 2 * d : d / 2;
        h && (n = {
            opacity: 0
        }, n[v] = (_ ? "-=" : "+=") + d, o.animate(n, g, m)), o.queue(function () {
            h && o.hide(), t.effects.restore(o, r), t.effects.removeWrapper(o), i()
        }), y > 1 && b.splice.apply(b, [1, 0].concat(b.splice(y, f + 1))), o.dequeue()
    }
})(jQuery);
(function (t) {
    t.effects.effect.clip = function (e, i) {
        var s, n, a, o = t(this),
            r = ["position", "top", "bottom", "left", "right", "height", "width"],
            l = t.effects.setMode(o, e.mode || "hide"),
            h = "show" === l,
            c = e.direction || "vertical",
            u = "vertical" === c,
            d = u ? "height" : "width",
            p = u ? "top" : "left",
            f = {};
        t.effects.save(o, r), o.show(), s = t.effects.createWrapper(o).css({
            overflow: "hidden"
        }), n = "IMG" === o[0].tagName ? s : o, a = n[d](), h && (n.css(d, 0), n.css(p, a / 2)), f[d] = h ? a : 0, f[p] = h ? 0 : a / 2, n.animate(f, {
            queue: !1,
            duration: e.duration,
            easing: e.easing,
            complete: function () {
                h || o.hide(), t.effects.restore(o, r), t.effects.removeWrapper(o), i()
            }
        })
    }
})(jQuery);
(function (t) {
    t.effects.effect.drop = function (e, i) {
        var s, n = t(this),
            a = ["position", "top", "bottom", "left", "right", "opacity", "height", "width"],
            o = t.effects.setMode(n, e.mode || "hide"),
            r = "show" === o,
            l = e.direction || "left",
            h = "up" === l || "down" === l ? "top" : "left",
            c = "up" === l || "left" === l ? "pos" : "neg",
            u = {
                opacity: r ? 1 : 0
            };
        t.effects.save(n, a), n.show(), t.effects.createWrapper(n), s = e.distance || n["top" === h ? "outerHeight" : "outerWidth"](!0) / 2, r && n.css("opacity", 0).css(h, "pos" === c ? -s : s), u[h] = (r ? "pos" === c ? "+=" : "-=" : "pos" === c ? "-=" : "+=") + s, n.animate(u, {
            queue: !1,
            duration: e.duration,
            easing: e.easing,
            complete: function () {
                "hide" === o && n.hide(), t.effects.restore(n, a), t.effects.removeWrapper(n), i()
            }
        })
    }
})(jQuery);
(function (t) {
    t.effects.effect.explode = function (e, i) {
        function s() {
            b.push(this), b.length === u * d && n()
        }

        function n() {
            p.css({
                visibility: "visible"
            }), t(b).remove(), g || p.hide(), i()
        }
        var a, o, r, l, h, c, u = e.pieces ? Math.round(Math.sqrt(e.pieces)) : 3,
            d = u,
            p = t(this),
            f = t.effects.setMode(p, e.mode || "hide"),
            g = "show" === f,
            m = p.show().css("visibility", "hidden").offset(),
            v = Math.ceil(p.outerWidth() / d),
            _ = Math.ceil(p.outerHeight() / u),
            b = [];
        for (a = 0; u > a; a++)
            for (l = m.top + a * _, c = a - (u - 1) / 2, o = 0; d > o; o++) r = m.left + o * v, h = o - (d - 1) / 2, p.clone().appendTo("body").wrap("<div></div>").css({
                position: "absolute",
                visibility: "visible",
                left: -o * v,
                top: -a * _
            }).parent().addClass("ui-effects-explode").css({
                position: "absolute",
                overflow: "hidden",
                width: v,
                height: _,
                left: r + (g ? h * v : 0),
                top: l + (g ? c * _ : 0),
                opacity: g ? 0 : 1
            }).animate({
                left: r + (g ? 0 : h * v),
                top: l + (g ? 0 : c * _),
                opacity: g ? 1 : 0
            }, e.duration || 500, e.easing, s)
    }
})(jQuery);
(function (t) {
    t.effects.effect.fade = function (e, i) {
        var s = t(this),
            n = t.effects.setMode(s, e.mode || "toggle");
        s.animate({
            opacity: n
        }, {
            queue: !1,
            duration: e.duration,
            easing: e.easing,
            complete: i
        })
    }
})(jQuery);
(function (t) {
    t.effects.effect.fold = function (e, i) {
        var s, n, a = t(this),
            o = ["position", "top", "bottom", "left", "right", "height", "width"],
            r = t.effects.setMode(a, e.mode || "hide"),
            l = "show" === r,
            h = "hide" === r,
            c = e.size || 15,
            u = /([0-9]+)%/.exec(c),
            d = !!e.horizFirst,
            p = l !== d,
            f = p ? ["width", "height"] : ["height", "width"],
            g = e.duration / 2,
            m = {},
            v = {};
        t.effects.save(a, o), a.show(), s = t.effects.createWrapper(a).css({
            overflow: "hidden"
        }), n = p ? [s.width(), s.height()] : [s.height(), s.width()], u && (c = parseInt(u[1], 10) / 100 * n[h ? 0 : 1]), l && s.css(d ? {
            height: 0,
            width: c
        } : {
            height: c,
            width: 0
        }), m[f[0]] = l ? n[0] : c, v[f[1]] = l ? n[1] : 0, s.animate(m, g, e.easing).animate(v, g, e.easing, function () {
            h && a.hide(), t.effects.restore(a, o), t.effects.removeWrapper(a), i()
        })
    }
})(jQuery);
(function (t) {
    t.effects.effect.highlight = function (e, i) {
        var s = t(this),
            n = ["backgroundImage", "backgroundColor", "opacity"],
            a = t.effects.setMode(s, e.mode || "show"),
            o = {
                backgroundColor: s.css("backgroundColor")
            };
        "hide" === a && (o.opacity = 0), t.effects.save(s, n), s.show().css({
            backgroundImage: "none",
            backgroundColor: e.color || "#ffff99"
        }).animate(o, {
            queue: !1,
            duration: e.duration,
            easing: e.easing,
            complete: function () {
                "hide" === a && s.hide(), t.effects.restore(s, n), i()
            }
        })
    }
})(jQuery);
(function (t) {
    t.effects.effect.pulsate = function (e, i) {
        var s, n = t(this),
            a = t.effects.setMode(n, e.mode || "show"),
            o = "show" === a,
            r = "hide" === a,
            l = o || "hide" === a,
            h = 2 * (e.times || 5) + (l ? 1 : 0),
            c = e.duration / h,
            u = 0,
            d = n.queue(),
            p = d.length;
        for ((o || !n.is(":visible")) && (n.css("opacity", 0).show(), u = 1), s = 1; h > s; s++) n.animate({
            opacity: u
        }, c, e.easing), u = 1 - u;
        n.animate({
            opacity: u
        }, c, e.easing), n.queue(function () {
            r && n.hide(), i()
        }), p > 1 && d.splice.apply(d, [1, 0].concat(d.splice(p, h + 1))), n.dequeue()
    }
})(jQuery);
(function (t) {
    t.effects.effect.puff = function (e, i) {
        var s = t(this),
            n = t.effects.setMode(s, e.mode || "hide"),
            a = "hide" === n,
            o = parseInt(e.percent, 10) || 150,
            r = o / 100,
            l = {
                height: s.height(),
                width: s.width(),
                outerHeight: s.outerHeight(),
                outerWidth: s.outerWidth()
            };
        t.extend(e, {
            effect: "scale",
            queue: !1,
            fade: !0,
            mode: n,
            complete: i,
            percent: a ? o : 100,
            from: a ? l : {
                height: l.height * r,
                width: l.width * r,
                outerHeight: l.outerHeight * r,
                outerWidth: l.outerWidth * r
            }
        }), s.effect(e)
    }, t.effects.effect.scale = function (e, i) {
        var s = t(this),
            n = t.extend(!0, {}, e),
            a = t.effects.setMode(s, e.mode || "effect"),
            o = parseInt(e.percent, 10) || (0 === parseInt(e.percent, 10) ? 0 : "hide" === a ? 0 : 100),
            r = e.direction || "both",
            l = e.origin,
            h = {
                height: s.height(),
                width: s.width(),
                outerHeight: s.outerHeight(),
                outerWidth: s.outerWidth()
            },
            c = {
                y: "horizontal" !== r ? o / 100 : 1,
                x: "vertical" !== r ? o / 100 : 1
            };
        n.effect = "size", n.queue = !1, n.complete = i, "effect" !== a && (n.origin = l || ["middle", "center"], n.restore = !0), n.from = e.from || ("show" === a ? {
            height: 0,
            width: 0,
            outerHeight: 0,
            outerWidth: 0
        } : h), n.to = {
            height: h.height * c.y,
            width: h.width * c.x,
            outerHeight: h.outerHeight * c.y,
            outerWidth: h.outerWidth * c.x
        }, n.fade && ("show" === a && (n.from.opacity = 0, n.to.opacity = 1), "hide" === a && (n.from.opacity = 1, n.to.opacity = 0)), s.effect(n)
    }, t.effects.effect.size = function (e, i) {
        var s, n, a, o = t(this),
            r = ["position", "top", "bottom", "left", "right", "width", "height", "overflow", "opacity"],
            l = ["position", "top", "bottom", "left", "right", "overflow", "opacity"],
            h = ["width", "height", "overflow"],
            c = ["fontSize"],
            u = ["borderTopWidth", "borderBottomWidth", "paddingTop", "paddingBottom"],
            d = ["borderLeftWidth", "borderRightWidth", "paddingLeft", "paddingRight"],
            p = t.effects.setMode(o, e.mode || "effect"),
            f = e.restore || "effect" !== p,
            g = e.scale || "both",
            m = e.origin || ["middle", "center"],
            v = o.css("position"),
            _ = f ? r : l,
            b = {
                height: 0,
                width: 0,
                outerHeight: 0,
                outerWidth: 0
            };
        "show" === p && o.show(), s = {
            height: o.height(),
            width: o.width(),
            outerHeight: o.outerHeight(),
            outerWidth: o.outerWidth()
        }, "toggle" === e.mode && "show" === p ? (o.from = e.to || b, o.to = e.from || s) : (o.from = e.from || ("show" === p ? b : s), o.to = e.to || ("hide" === p ? b : s)), a = {
            from: {
                y: o.from.height / s.height,
                x: o.from.width / s.width
            },
            to: {
                y: o.to.height / s.height,
                x: o.to.width / s.width
            }
        }, ("box" === g || "both" === g) && (a.from.y !== a.to.y && (_ = _.concat(u), o.from = t.effects.setTransition(o, u, a.from.y, o.from), o.to = t.effects.setTransition(o, u, a.to.y, o.to)), a.from.x !== a.to.x && (_ = _.concat(d), o.from = t.effects.setTransition(o, d, a.from.x, o.from), o.to = t.effects.setTransition(o, d, a.to.x, o.to))), ("content" === g || "both" === g) && a.from.y !== a.to.y && (_ = _.concat(c).concat(h), o.from = t.effects.setTransition(o, c, a.from.y, o.from), o.to = t.effects.setTransition(o, c, a.to.y, o.to)), t.effects.save(o, _), o.show(), t.effects.createWrapper(o), o.css("overflow", "hidden").css(o.from), m && (n = t.effects.getBaseline(m, s), o.from.top = (s.outerHeight - o.outerHeight()) * n.y, o.from.left = (s.outerWidth - o.outerWidth()) * n.x, o.to.top = (s.outerHeight - o.to.outerHeight) * n.y, o.to.left = (s.outerWidth - o.to.outerWidth) * n.x), o.css(o.from), ("content" === g || "both" === g) && (u = u.concat(["marginTop", "marginBottom"]).concat(c), d = d.concat(["marginLeft", "marginRight"]), h = r.concat(u).concat(d), o.find("*[width]").each(function () {
            var i = t(this),
                s = {
                    height: i.height(),
                    width: i.width(),
                    outerHeight: i.outerHeight(),
                    outerWidth: i.outerWidth()
                };
            f && t.effects.save(i, h), i.from = {
                height: s.height * a.from.y,
                width: s.width * a.from.x,
                outerHeight: s.outerHeight * a.from.y,
                outerWidth: s.outerWidth * a.from.x
            }, i.to = {
                height: s.height * a.to.y,
                width: s.width * a.to.x,
                outerHeight: s.height * a.to.y,
                outerWidth: s.width * a.to.x
            }, a.from.y !== a.to.y && (i.from = t.effects.setTransition(i, u, a.from.y, i.from), i.to = t.effects.setTransition(i, u, a.to.y, i.to)), a.from.x !== a.to.x && (i.from = t.effects.setTransition(i, d, a.from.x, i.from), i.to = t.effects.setTransition(i, d, a.to.x, i.to)), i.css(i.from), i.animate(i.to, e.duration, e.easing, function () {
                f && t.effects.restore(i, h)
            })
        })), o.animate(o.to, {
            queue: !1,
            duration: e.duration,
            easing: e.easing,
            complete: function () {
                0 === o.to.opacity && o.css("opacity", o.from.opacity), "hide" === p && o.hide(), t.effects.restore(o, _), f || ("static" === v ? o.css({
                    position: "relative",
                    top: o.to.top,
                    left: o.to.left
                }) : t.each(["top", "left"], function (t, e) {
                    o.css(e, function (e, i) {
                        var s = parseInt(i, 10),
                            n = t ? o.to.left : o.to.top;
                        return "auto" === i ? n + "px" : s + n + "px"
                    })
                })), t.effects.removeWrapper(o), i()
            }
        })
    }
})(jQuery);
(function (t) {
    t.effects.effect.shake = function (e, i) {
        var s, n = t(this),
            a = ["position", "top", "bottom", "left", "right", "height", "width"],
            o = t.effects.setMode(n, e.mode || "effect"),
            r = e.direction || "left",
            l = e.distance || 20,
            h = e.times || 3,
            c = 2 * h + 1,
            u = Math.round(e.duration / c),
            d = "up" === r || "down" === r ? "top" : "left",
            p = "up" === r || "left" === r,
            f = {},
            g = {},
            m = {},
            v = n.queue(),
            _ = v.length;
        for (t.effects.save(n, a), n.show(), t.effects.createWrapper(n), f[d] = (p ? "-=" : "+=") + l, g[d] = (p ? "+=" : "-=") + 2 * l, m[d] = (p ? "-=" : "+=") + 2 * l, n.animate(f, u, e.easing), s = 1; h > s; s++) n.animate(g, u, e.easing).animate(m, u, e.easing);
        n.animate(g, u, e.easing).animate(f, u / 2, e.easing).queue(function () {
            "hide" === o && n.hide(), t.effects.restore(n, a), t.effects.removeWrapper(n), i()
        }), _ > 1 && v.splice.apply(v, [1, 0].concat(v.splice(_, c + 1))), n.dequeue()
    }
})(jQuery);
(function (t) {
    t.effects.effect.slide = function (e, i) {
        var s, n = t(this),
            a = ["position", "top", "bottom", "left", "right", "width", "height"],
            o = t.effects.setMode(n, e.mode || "show"),
            r = "show" === o,
            l = e.direction || "left",
            h = "up" === l || "down" === l ? "top" : "left",
            c = "up" === l || "left" === l,
            u = {};
        t.effects.save(n, a), n.show(), s = e.distance || n["top" === h ? "outerHeight" : "outerWidth"](!0), t.effects.createWrapper(n).css({
            overflow: "hidden"
        }), r && n.css(h, c ? isNaN(s) ? "-" + s : -s : s), u[h] = (r ? c ? "+=" : "-=" : c ? "-=" : "+=") + s, n.animate(u, {
            queue: !1,
            duration: e.duration,
            easing: e.easing,
            complete: function () {
                "hide" === o && n.hide(), t.effects.restore(n, a), t.effects.removeWrapper(n), i()
            }
        })
    }
})(jQuery);
(function (t) {
    t.effects.effect.transfer = function (e, i) {
        var s = t(this),
            n = t(e.to),
            a = "fixed" === n.css("position"),
            o = t("body"),
            r = a ? o.scrollTop() : 0,
            l = a ? o.scrollLeft() : 0,
            h = n.offset(),
            c = {
                top: h.top - r,
                left: h.left - l,
                height: n.innerHeight(),
                width: n.innerWidth()
            },
            u = s.offset(),
            d = t("<div class='ui-effects-transfer'></div>").appendTo(document.body).addClass(e.className).css({
                top: u.top - r,
                left: u.left - l,
                height: s.innerHeight(),
                width: s.innerWidth(),
                position: a ? "fixed" : "absolute"
            }).animate(c, e.duration, e.easing, function () {
                d.remove(), i()
            })
    }
})(jQuery);
(function (t) {
    t.widget("ui.menu", {
        version: "1.10.4",
        defaultElement: "<ul>",
        delay: 300,
        options: {
            icons: {
                submenu: "ui-icon-carat-1-e"
            },
            menus: "ul",
            position: {
                my: "left top",
                at: "right top"
            },
            role: "menu",
            blur: null,
            focus: null,
            select: null
        },
        _create: function () {
            this.activeMenu = this.element, this.mouseHandled = !1, this.element.uniqueId().addClass("ui-menu ui-widget ui-widget-content ui-corner-all").toggleClass("ui-menu-icons", !!this.element.find(".ui-icon").length).attr({
                role: this.options.role,
                tabIndex: 0
            }).bind("click" + this.eventNamespace, t.proxy(function (t) {
                this.options.disabled && t.preventDefault()
            }, this)), this.options.disabled && this.element.addClass("ui-state-disabled").attr("aria-disabled", "true"), this._on({
                "mousedown .ui-menu-item > a": function (t) {
                    t.preventDefault()
                },
                "click .ui-state-disabled > a": function (t) {
                    t.preventDefault()
                },
                "click .ui-menu-item:has(a)": function (e) {
                    var i = t(e.target).closest(".ui-menu-item");
                    !this.mouseHandled && i.not(".ui-state-disabled").length && (this.select(e), e.isPropagationStopped() || (this.mouseHandled = !0), i.has(".ui-menu").length ? this.expand(e) : !this.element.is(":focus") && t(this.document[0].activeElement).closest(".ui-menu").length && (this.element.trigger("focus", [!0]), this.active && 1 === this.active.parents(".ui-menu").length && clearTimeout(this.timer)))
                },
                "mouseenter .ui-menu-item": function (e) {
                    var i = t(e.currentTarget);
                    i.siblings().children(".ui-state-active").removeClass("ui-state-active"), this.focus(e, i)
                },
                mouseleave: "collapseAll",
                "mouseleave .ui-menu": "collapseAll",
                focus: function (t, e) {
                    var i = this.active || this.element.children(".ui-menu-item").eq(0);
                    e || this.focus(t, i)
                },
                blur: function (e) {
                    this._delay(function () {
                        t.contains(this.element[0], this.document[0].activeElement) || this.collapseAll(e)
                    })
                },
                keydown: "_keydown"
            }), this.refresh(), this._on(this.document, {
                click: function (e) {
                    t(e.target).closest(".ui-menu").length || this.collapseAll(e), this.mouseHandled = !1
                }
            })
        },
        _destroy: function () {
            this.element.removeAttr("aria-activedescendant").find(".ui-menu").addBack().removeClass("ui-menu ui-widget ui-widget-content ui-corner-all ui-menu-icons").removeAttr("role").removeAttr("tabIndex").removeAttr("aria-labelledby").removeAttr("aria-expanded").removeAttr("aria-hidden").removeAttr("aria-disabled").removeUniqueId().show(), this.element.find(".ui-menu-item").removeClass("ui-menu-item").removeAttr("role").removeAttr("aria-disabled").children("a").removeUniqueId().removeClass("ui-corner-all ui-state-hover").removeAttr("tabIndex").removeAttr("role").removeAttr("aria-haspopup").children().each(function () {
                var e = t(this);
                e.data("ui-menu-submenu-carat") && e.remove()
            }), this.element.find(".ui-menu-divider").removeClass("ui-menu-divider ui-widget-content")
        },
        _keydown: function (e) {
            function i(t) {
                return t.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g, "\\$&")
            }
            var s, n, a, o, r, l = !0;
            switch (e.keyCode) {
                case t.ui.keyCode.PAGE_UP:
                    this.previousPage(e);
                    break;
                case t.ui.keyCode.PAGE_DOWN:
                    this.nextPage(e);
                    break;
                case t.ui.keyCode.HOME:
                    this._move("first", "first", e);
                    break;
                case t.ui.keyCode.END:
                    this._move("last", "last", e);
                    break;
                case t.ui.keyCode.UP:
                    this.previous(e);
                    break;
                case t.ui.keyCode.DOWN:
                    this.next(e);
                    break;
                case t.ui.keyCode.LEFT:
                    this.collapse(e);
                    break;
                case t.ui.keyCode.RIGHT:
                    this.active && !this.active.is(".ui-state-disabled") && this.expand(e);
                    break;
                case t.ui.keyCode.ENTER:
                case t.ui.keyCode.SPACE:
                    this._activate(e);
                    break;
                case t.ui.keyCode.ESCAPE:
                    this.collapse(e);
                    break;
                default:
                    l = !1, n = this.previousFilter || "", a = String.fromCharCode(e.keyCode), o = !1, clearTimeout(this.filterTimer), a === n ? o = !0 : a = n + a, r = RegExp("^" + i(a), "i"), s = this.activeMenu.children(".ui-menu-item").filter(function () {
                        return r.test(t(this).children("a").text())
                    }), s = o && -1 !== s.index(this.active.next()) ? this.active.nextAll(".ui-menu-item") : s, s.length || (a = String.fromCharCode(e.keyCode), r = RegExp("^" + i(a), "i"), s = this.activeMenu.children(".ui-menu-item").filter(function () {
                        return r.test(t(this).children("a").text())
                    })), s.length ? (this.focus(e, s), s.length > 1 ? (this.previousFilter = a, this.filterTimer = this._delay(function () {
                        delete this.previousFilter
                    }, 1e3)) : delete this.previousFilter) : delete this.previousFilter
            }
            l && e.preventDefault()
        },
        _activate: function (t) {
            this.active.is(".ui-state-disabled") || (this.active.children("a[aria-haspopup='true']").length ? this.expand(t) : this.select(t))
        },
        refresh: function () {
            var e, i = this.options.icons.submenu,
                s = this.element.find(this.options.menus);
            this.element.toggleClass("ui-menu-icons", !!this.element.find(".ui-icon").length), s.filter(":not(.ui-menu)").addClass("ui-menu ui-widget ui-widget-content ui-corner-all").hide().attr({
                role: this.options.role,
                "aria-hidden": "true",
                "aria-expanded": "false"
            }).each(function () {
                var e = t(this),
                    s = e.prev("a"),
                    n = t("<span>").addClass("ui-menu-icon ui-icon " + i).data("ui-menu-submenu-carat", !0);
                s.attr("aria-haspopup", "true").prepend(n), e.attr("aria-labelledby", s.attr("id"))
            }), e = s.add(this.element), e.children(":not(.ui-menu-item):has(a)").addClass("ui-menu-item").attr("role", "presentation").children("a").uniqueId().addClass("ui-corner-all").attr({
                tabIndex: -1,
                role: this._itemRole()
            }), e.children(":not(.ui-menu-item)").each(function () {
                var e = t(this);
                /[^\-\u2014\u2013\s]/.test(e.text()) || e.addClass("ui-widget-content ui-menu-divider")
            }), e.children(".ui-state-disabled").attr("aria-disabled", "true"), this.active && !t.contains(this.element[0], this.active[0]) && this.blur()
        },
        _itemRole: function () {
            return {
                menu: "menuitem",
                listbox: "option"
            } [this.options.role]
        },
        _setOption: function (t, e) {
            "icons" === t && this.element.find(".ui-menu-icon").removeClass(this.options.icons.submenu).addClass(e.submenu), this._super(t, e)
        },
        focus: function (t, e) {
            var i, s;
            this.blur(t, t && "focus" === t.type), this._scrollIntoView(e), this.active = e.first(), s = this.active.children("a").addClass("ui-state-focus"), this.options.role && this.element.attr("aria-activedescendant", s.attr("id")), this.active.parent().closest(".ui-menu-item").children("a:first").addClass("ui-state-active"), t && "keydown" === t.type ? this._close() : this.timer = this._delay(function () {
                this._close()
            }, this.delay), i = e.children(".ui-menu"), i.length && t && /^mouse/.test(t.type) && this._startOpening(i), this.activeMenu = e.parent(), this._trigger("focus", t, {
                item: e
            })
        },
        _scrollIntoView: function (e) {
            var i, s, n, a, o, r;
            this._hasScroll() && (i = parseFloat(t.css(this.activeMenu[0], "borderTopWidth")) || 0, s = parseFloat(t.css(this.activeMenu[0], "paddingTop")) || 0, n = e.offset().top - this.activeMenu.offset().top - i - s, a = this.activeMenu.scrollTop(), o = this.activeMenu.height(), r = e.height(), 0 > n ? this.activeMenu.scrollTop(a + n) : n + r > o && this.activeMenu.scrollTop(a + n - o + r))
        },
        blur: function (t, e) {
            e || clearTimeout(this.timer), this.active && (this.active.children("a").removeClass("ui-state-focus"), this.active = null, this._trigger("blur", t, {
                item: this.active
            }))
        },
        _startOpening: function (t) {
            clearTimeout(this.timer), "true" === t.attr("aria-hidden") && (this.timer = this._delay(function () {
                this._close(), this._open(t)
            }, this.delay))
        },
        _open: function (e) {
            var i = t.extend({
                of: this.active
            }, this.options.position);
            clearTimeout(this.timer), this.element.find(".ui-menu").not(e.parents(".ui-menu")).hide().attr("aria-hidden", "true"), e.show().removeAttr("aria-hidden").attr("aria-expanded", "true").position(i)
        },
        collapseAll: function (e, i) {
            clearTimeout(this.timer), this.timer = this._delay(function () {
                var s = i ? this.element : t(e && e.target).closest(this.element.find(".ui-menu"));
                s.length || (s = this.element), this._close(s), this.blur(e), this.activeMenu = s
            }, this.delay)
        },
        _close: function (t) {
            t || (t = this.active ? this.active.parent() : this.element), t.find(".ui-menu").hide().attr("aria-hidden", "true").attr("aria-expanded", "false").end().find("a.ui-state-active").removeClass("ui-state-active")
        },
        collapse: function (t) {
            var e = this.active && this.active.parent().closest(".ui-menu-item", this.element);
            e && e.length && (this._close(), this.focus(t, e))
        },
        expand: function (t) {
            var e = this.active && this.active.children(".ui-menu ").children(".ui-menu-item").first();
            e && e.length && (this._open(e.parent()), this._delay(function () {
                this.focus(t, e)
            }))
        },
        next: function (t) {
            this._move("next", "first", t)
        },
        previous: function (t) {
            this._move("prev", "last", t)
        },
        isFirstItem: function () {
            return this.active && !this.active.prevAll(".ui-menu-item").length
        },
        isLastItem: function () {
            return this.active && !this.active.nextAll(".ui-menu-item").length
        },
        _move: function (t, e, i) {
            var s;
            this.active && (s = "first" === t || "last" === t ? this.active["first" === t ? "prevAll" : "nextAll"](".ui-menu-item").eq(-1) : this.active[t + "All"](".ui-menu-item").eq(0)), s && s.length && this.active || (s = this.activeMenu.children(".ui-menu-item")[e]()), this.focus(i, s)
        },
        nextPage: function (e) {
            var i, s, n;
            return this.active ? (this.isLastItem() || (this._hasScroll() ? (s = this.active.offset().top, n = this.element.height(), this.active.nextAll(".ui-menu-item").each(function () {
                return i = t(this), 0 > i.offset().top - s - n
            }), this.focus(e, i)) : this.focus(e, this.activeMenu.children(".ui-menu-item")[this.active ? "last" : "first"]())), undefined) : (this.next(e), undefined)
        },
        previousPage: function (e) {
            var i, s, n;
            return this.active ? (this.isFirstItem() || (this._hasScroll() ? (s = this.active.offset().top, n = this.element.height(), this.active.prevAll(".ui-menu-item").each(function () {
                return i = t(this), i.offset().top - s + n > 0
            }), this.focus(e, i)) : this.focus(e, this.activeMenu.children(".ui-menu-item").first())), undefined) : (this.next(e), undefined)
        },
        _hasScroll: function () {
            return this.element.outerHeight() < this.element.prop("scrollHeight")
        },
        select: function (e) {
            this.active = this.active || t(e.target).closest(".ui-menu-item");
            var i = {
                item: this.active
            };
            this.active.has(".ui-menu").length || this.collapseAll(e, !0), this._trigger("select", e, i)
        }
    })
})(jQuery);
(function (t, e) {
    t.widget("ui.progressbar", {
        version: "1.10.4",
        options: {
            max: 100,
            value: 0,
            change: null,
            complete: null
        },
        min: 0,
        _create: function () {
            this.oldValue = this.options.value = this._constrainedValue(), this.element.addClass("ui-progressbar ui-widget ui-widget-content ui-corner-all").attr({
                role: "progressbar",
                "aria-valuemin": this.min
            }), this.valueDiv = t("<div class='ui-progressbar-value ui-widget-header ui-corner-left'></div>").appendTo(this.element), this._refreshValue()
        },
        _destroy: function () {
            this.element.removeClass("ui-progressbar ui-widget ui-widget-content ui-corner-all").removeAttr("role").removeAttr("aria-valuemin").removeAttr("aria-valuemax").removeAttr("aria-valuenow"), this.valueDiv.remove()
        },
        value: function (t) {
            return t === e ? this.options.value : (this.options.value = this._constrainedValue(t), this._refreshValue(), e)
        },
        _constrainedValue: function (t) {
            return t === e && (t = this.options.value), this.indeterminate = t === !1, "number" != typeof t && (t = 0), this.indeterminate ? !1 : Math.min(this.options.max, Math.max(this.min, t))
        },
        _setOptions: function (t) {
            var e = t.value;
            delete t.value, this._super(t), this.options.value = this._constrainedValue(e), this._refreshValue()
        },
        _setOption: function (t, e) {
            "max" === t && (e = Math.max(this.min, e)), this._super(t, e)
        },
        _percentage: function () {
            return this.indeterminate ? 100 : 100 * (this.options.value - this.min) / (this.options.max - this.min)
        },
        _refreshValue: function () {
            var e = this.options.value,
                i = this._percentage();
            this.valueDiv.toggle(this.indeterminate || e > this.min).toggleClass("ui-corner-right", e === this.options.max).width(i.toFixed(0) + "%"), this.element.toggleClass("ui-progressbar-indeterminate", this.indeterminate), this.indeterminate ? (this.element.removeAttr("aria-valuenow"), this.overlayDiv || (this.overlayDiv = t("<div class='ui-progressbar-overlay'></div>").appendTo(this.valueDiv))) : (this.element.attr({
                "aria-valuemax": this.options.max,
                "aria-valuenow": e
            }), this.overlayDiv && (this.overlayDiv.remove(), this.overlayDiv = null)), this.oldValue !== e && (this.oldValue = e, this._trigger("change")), e === this.options.max && this._trigger("complete")
        }
    })
})(jQuery);
(function (t) {
    function e(t) {
        return parseInt(t, 10) || 0
    }

    function i(t) {
        return !isNaN(parseInt(t, 10))
    }
    t.widget("ui.resizable", t.ui.mouse, {
        version: "1.10.4",
        widgetEventPrefix: "resize",
        options: {
            alsoResize: !1,
            animate: !1,
            animateDuration: "slow",
            animateEasing: "swing",
            aspectRatio: !1,
            autoHide: !1,
            containment: !1,
            ghost: !1,
            grid: !1,
            handles: "e,s,se",
            helper: !1,
            maxHeight: null,
            maxWidth: null,
            minHeight: 10,
            minWidth: 10,
            zIndex: 90,
            resize: null,
            start: null,
            stop: null
        },
        _create: function () {
            var e, i, s, n, a, o = this,
                r = this.options;
            if (this.element.addClass("ui-resizable"), t.extend(this, {
                    _aspectRatio: !!r.aspectRatio,
                    aspectRatio: r.aspectRatio,
                    originalElement: this.element,
                    _proportionallyResizeElements: [],
                    _helper: r.helper || r.ghost || r.animate ? r.helper || "ui-resizable-helper" : null
                }), this.element[0].nodeName.match(/canvas|textarea|input|select|button|img/i) && (this.element.wrap(t("<div class='ui-wrapper' style='overflow: hidden;'></div>").css({
                    position: this.element.css("position"),
                    width: this.element.outerWidth(),
                    height: this.element.outerHeight(),
                    top: this.element.css("top"),
                    left: this.element.css("left")
                })), this.element = this.element.parent().data("ui-resizable", this.element.data("ui-resizable")), this.elementIsWrapper = !0, this.element.css({
                    marginLeft: this.originalElement.css("marginLeft"),
                    marginTop: this.originalElement.css("marginTop"),
                    marginRight: this.originalElement.css("marginRight"),
                    marginBottom: this.originalElement.css("marginBottom")
                }), this.originalElement.css({
                    marginLeft: 0,
                    marginTop: 0,
                    marginRight: 0,
                    marginBottom: 0
                }), this.originalResizeStyle = this.originalElement.css("resize"), this.originalElement.css("resize", "none"), this._proportionallyResizeElements.push(this.originalElement.css({
                    position: "static",
                    zoom: 1,
                    display: "block"
                })), this.originalElement.css({
                    margin: this.originalElement.css("margin")
                }), this._proportionallyResize()), this.handles = r.handles || (t(".ui-resizable-handle", this.element).length ? {
                    n: ".ui-resizable-n",
                    e: ".ui-resizable-e",
                    s: ".ui-resizable-s",
                    w: ".ui-resizable-w",
                    se: ".ui-resizable-se",
                    sw: ".ui-resizable-sw",
                    ne: ".ui-resizable-ne",
                    nw: ".ui-resizable-nw"
                } : "e,s,se"), this.handles.constructor === String)
                for ("all" === this.handles && (this.handles = "n,e,s,w,se,sw,ne,nw"), e = this.handles.split(","), this.handles = {}, i = 0; e.length > i; i++) s = t.trim(e[i]), a = "ui-resizable-" + s, n = t("<div class='ui-resizable-handle " + a + "'></div>"), n.css({
                    zIndex: r.zIndex
                }), "se" === s && n.addClass("ui-icon ui-icon-gripsmall-diagonal-se"), this.handles[s] = ".ui-resizable-" + s, this.element.append(n);
            this._renderAxis = function (e) {
                var i, s, n, a;
                e = e || this.element;
                for (i in this.handles) this.handles[i].constructor === String && (this.handles[i] = t(this.handles[i], this.element).show()), this.elementIsWrapper && this.originalElement[0].nodeName.match(/textarea|input|select|button/i) && (s = t(this.handles[i], this.element), a = /sw|ne|nw|se|n|s/.test(i) ? s.outerHeight() : s.outerWidth(), n = ["padding", /ne|nw|n/.test(i) ? "Top" : /se|sw|s/.test(i) ? "Bottom" : /^e$/.test(i) ? "Right" : "Left"].join(""), e.css(n, a), this._proportionallyResize()), t(this.handles[i]).length
            }, this._renderAxis(this.element), this._handles = t(".ui-resizable-handle", this.element).disableSelection(), this._handles.mouseover(function () {
                o.resizing || (this.className && (n = this.className.match(/ui-resizable-(se|sw|ne|nw|n|e|s|w)/i)), o.axis = n && n[1] ? n[1] : "se")
            }), r.autoHide && (this._handles.hide(), t(this.element).addClass("ui-resizable-autohide").mouseenter(function () {
                r.disabled || (t(this).removeClass("ui-resizable-autohide"), o._handles.show())
            }).mouseleave(function () {
                r.disabled || o.resizing || (t(this).addClass("ui-resizable-autohide"), o._handles.hide())
            })), this._mouseInit()
        },
        _destroy: function () {
            this._mouseDestroy();
            var e, i = function (e) {
                t(e).removeClass("ui-resizable ui-resizable-disabled ui-resizable-resizing").removeData("resizable").removeData("ui-resizable").unbind(".resizable").find(".ui-resizable-handle").remove()
            };
            return this.elementIsWrapper && (i(this.element), e = this.element, this.originalElement.css({
                position: e.css("position"),
                width: e.outerWidth(),
                height: e.outerHeight(),
                top: e.css("top"),
                left: e.css("left")
            }).insertAfter(e), e.remove()), this.originalElement.css("resize", this.originalResizeStyle), i(this.originalElement), this
        },
        _mouseCapture: function (e) {
            var i, s, n = !1;
            for (i in this.handles) s = t(this.handles[i])[0], (s === e.target || t.contains(s, e.target)) && (n = !0);
            return !this.options.disabled && n
        },
        _mouseStart: function (i) {
            var s, n, a, o = this.options,
                r = this.element.position(),
                h = this.element;
            return this.resizing = !0, /absolute/.test(h.css("position")) ? h.css({
                position: "absolute",
                top: h.css("top"),
                left: h.css("left")
            }) : h.is(".ui-draggable") && h.css({
                position: "absolute",
                top: r.top,
                left: r.left
            }), this._renderProxy(), s = e(this.helper.css("left")), n = e(this.helper.css("top")), o.containment && (s += t(o.containment).scrollLeft() || 0, n += t(o.containment).scrollTop() || 0), this.offset = this.helper.offset(), this.position = {
                left: s,
                top: n
            }, this.size = this._helper ? {
                width: this.helper.width(),
                height: this.helper.height()
            } : {
                width: h.width(),
                height: h.height()
            }, this.originalSize = this._helper ? {
                width: h.outerWidth(),
                height: h.outerHeight()
            } : {
                width: h.width(),
                height: h.height()
            }, this.originalPosition = {
                left: s,
                top: n
            }, this.sizeDiff = {
                width: h.outerWidth() - h.width(),
                height: h.outerHeight() - h.height()
            }, this.originalMousePosition = {
                left: i.pageX,
                top: i.pageY
            }, this.aspectRatio = "number" == typeof o.aspectRatio ? o.aspectRatio : this.originalSize.width / this.originalSize.height || 1, a = t(".ui-resizable-" + this.axis).css("cursor"), t("body").css("cursor", "auto" === a ? this.axis + "-resize" : a), h.addClass("ui-resizable-resizing"), this._propagate("start", i), !0
        },
        _mouseDrag: function (e) {
            var i, s = this.helper,
                n = {},
                a = this.originalMousePosition,
                o = this.axis,
                r = this.position.top,
                h = this.position.left,
                l = this.size.width,
                c = this.size.height,
                u = e.pageX - a.left || 0,
                d = e.pageY - a.top || 0,
                p = this._change[o];
            return p ? (i = p.apply(this, [e, u, d]), this._updateVirtualBoundaries(e.shiftKey), (this._aspectRatio || e.shiftKey) && (i = this._updateRatio(i, e)), i = this._respectSize(i, e), this._updateCache(i), this._propagate("resize", e), this.position.top !== r && (n.top = this.position.top + "px"), this.position.left !== h && (n.left = this.position.left + "px"), this.size.width !== l && (n.width = this.size.width + "px"), this.size.height !== c && (n.height = this.size.height + "px"), s.css(n), !this._helper && this._proportionallyResizeElements.length && this._proportionallyResize(), t.isEmptyObject(n) || this._trigger("resize", e, this.ui()), !1) : !1
        },
        _mouseStop: function (e) {
            this.resizing = !1;
            var i, s, n, a, o, r, h, l = this.options,
                c = this;
            return this._helper && (i = this._proportionallyResizeElements, s = i.length && /textarea/i.test(i[0].nodeName), n = s && t.ui.hasScroll(i[0], "left") ? 0 : c.sizeDiff.height, a = s ? 0 : c.sizeDiff.width, o = {
                width: c.helper.width() - a,
                height: c.helper.height() - n
            }, r = parseInt(c.element.css("left"), 10) + (c.position.left - c.originalPosition.left) || null, h = parseInt(c.element.css("top"), 10) + (c.position.top - c.originalPosition.top) || null, l.animate || this.element.css(t.extend(o, {
                top: h,
                left: r
            })), c.helper.height(c.size.height), c.helper.width(c.size.width), this._helper && !l.animate && this._proportionallyResize()), t("body").css("cursor", "auto"), this.element.removeClass("ui-resizable-resizing"), this._propagate("stop", e), this._helper && this.helper.remove(), !1
        },
        _updateVirtualBoundaries: function (t) {
            var e, s, n, a, o, r = this.options;
            o = {
                minWidth: i(r.minWidth) ? r.minWidth : 0,
                maxWidth: i(r.maxWidth) ? r.maxWidth : 1 / 0,
                minHeight: i(r.minHeight) ? r.minHeight : 0,
                maxHeight: i(r.maxHeight) ? r.maxHeight : 1 / 0
            }, (this._aspectRatio || t) && (e = o.minHeight * this.aspectRatio, n = o.minWidth / this.aspectRatio, s = o.maxHeight * this.aspectRatio, a = o.maxWidth / this.aspectRatio, e > o.minWidth && (o.minWidth = e), n > o.minHeight && (o.minHeight = n), o.maxWidth > s && (o.maxWidth = s), o.maxHeight > a && (o.maxHeight = a)), this._vBoundaries = o
        },
        _updateCache: function (t) {
            this.offset = this.helper.offset(), i(t.left) && (this.position.left = t.left), i(t.top) && (this.position.top = t.top), i(t.height) && (this.size.height = t.height), i(t.width) && (this.size.width = t.width)
        },
        _updateRatio: function (t) {
            var e = this.position,
                s = this.size,
                n = this.axis;
            return i(t.height) ? t.width = t.height * this.aspectRatio : i(t.width) && (t.height = t.width / this.aspectRatio), "sw" === n && (t.left = e.left + (s.width - t.width), t.top = null), "nw" === n && (t.top = e.top + (s.height - t.height), t.left = e.left + (s.width - t.width)), t
        },
        _respectSize: function (t) {
            var e = this._vBoundaries,
                s = this.axis,
                n = i(t.width) && e.maxWidth && e.maxWidth < t.width,
                a = i(t.height) && e.maxHeight && e.maxHeight < t.height,
                o = i(t.width) && e.minWidth && e.minWidth > t.width,
                r = i(t.height) && e.minHeight && e.minHeight > t.height,
                h = this.originalPosition.left + this.originalSize.width,
                l = this.position.top + this.size.height,
                c = /sw|nw|w/.test(s),
                u = /nw|ne|n/.test(s);
            return o && (t.width = e.minWidth), r && (t.height = e.minHeight), n && (t.width = e.maxWidth), a && (t.height = e.maxHeight), o && c && (t.left = h - e.minWidth), n && c && (t.left = h - e.maxWidth), r && u && (t.top = l - e.minHeight), a && u && (t.top = l - e.maxHeight), t.width || t.height || t.left || !t.top ? t.width || t.height || t.top || !t.left || (t.left = null) : t.top = null, t
        },
        _proportionallyResize: function () {
            if (this._proportionallyResizeElements.length) {
                var t, e, i, s, n, a = this.helper || this.element;
                for (t = 0; this._proportionallyResizeElements.length > t; t++) {
                    if (n = this._proportionallyResizeElements[t], !this.borderDif)
                        for (this.borderDif = [], i = [n.css("borderTopWidth"), n.css("borderRightWidth"), n.css("borderBottomWidth"), n.css("borderLeftWidth")], s = [n.css("paddingTop"), n.css("paddingRight"), n.css("paddingBottom"), n.css("paddingLeft")], e = 0; i.length > e; e++) this.borderDif[e] = (parseInt(i[e], 10) || 0) + (parseInt(s[e], 10) || 0);
                    n.css({
                        height: a.height() - this.borderDif[0] - this.borderDif[2] || 0,
                        width: a.width() - this.borderDif[1] - this.borderDif[3] || 0
                    })
                }
            }
        },
        _renderProxy: function () {
            var e = this.element,
                i = this.options;
            this.elementOffset = e.offset(), this._helper ? (this.helper = this.helper || t("<div style='overflow:hidden;'></div>"), this.helper.addClass(this._helper).css({
                width: this.element.outerWidth() - 1,
                height: this.element.outerHeight() - 1,
                position: "absolute",
                left: this.elementOffset.left + "px",
                top: this.elementOffset.top + "px",
                zIndex: ++i.zIndex
            }), this.helper.appendTo("body").disableSelection()) : this.helper = this.element
        },
        _change: {
            e: function (t, e) {
                return {
                    width: this.originalSize.width + e
                }
            },
            w: function (t, e) {
                var i = this.originalSize,
                    s = this.originalPosition;
                return {
                    left: s.left + e,
                    width: i.width - e
                }
            },
            n: function (t, e, i) {
                var s = this.originalSize,
                    n = this.originalPosition;
                return {
                    top: n.top + i,
                    height: s.height - i
                }
            },
            s: function (t, e, i) {
                return {
                    height: this.originalSize.height + i
                }
            },
            se: function (e, i, s) {
                return t.extend(this._change.s.apply(this, arguments), this._change.e.apply(this, [e, i, s]))
            },
            sw: function (e, i, s) {
                return t.extend(this._change.s.apply(this, arguments), this._change.w.apply(this, [e, i, s]))
            },
            ne: function (e, i, s) {
                return t.extend(this._change.n.apply(this, arguments), this._change.e.apply(this, [e, i, s]))
            },
            nw: function (e, i, s) {
                return t.extend(this._change.n.apply(this, arguments), this._change.w.apply(this, [e, i, s]))
            }
        },
        _propagate: function (e, i) {
            t.ui.plugin.call(this, e, [i, this.ui()]), "resize" !== e && this._trigger(e, i, this.ui())
        },
        plugins: {},
        ui: function () {
            return {
                originalElement: this.originalElement,
                element: this.element,
                helper: this.helper,
                position: this.position,
                size: this.size,
                originalSize: this.originalSize,
                originalPosition: this.originalPosition
            }
        }
    }), t.ui.plugin.add("resizable", "animate", {
        stop: function (e) {
            var i = t(this).data("ui-resizable"),
                s = i.options,
                n = i._proportionallyResizeElements,
                a = n.length && /textarea/i.test(n[0].nodeName),
                o = a && t.ui.hasScroll(n[0], "left") ? 0 : i.sizeDiff.height,
                r = a ? 0 : i.sizeDiff.width,
                h = {
                    width: i.size.width - r,
                    height: i.size.height - o
                },
                l = parseInt(i.element.css("left"), 10) + (i.position.left - i.originalPosition.left) || null,
                c = parseInt(i.element.css("top"), 10) + (i.position.top - i.originalPosition.top) || null;
            i.element.animate(t.extend(h, c && l ? {
                top: c,
                left: l
            } : {}), {
                duration: s.animateDuration,
                easing: s.animateEasing,
                step: function () {
                    var s = {
                        width: parseInt(i.element.css("width"), 10),
                        height: parseInt(i.element.css("height"), 10),
                        top: parseInt(i.element.css("top"), 10),
                        left: parseInt(i.element.css("left"), 10)
                    };
                    n && n.length && t(n[0]).css({
                        width: s.width,
                        height: s.height
                    }), i._updateCache(s), i._propagate("resize", e)
                }
            })
        }
    }), t.ui.plugin.add("resizable", "containment", {
        start: function () {
            var i, s, n, a, o, r, h, l = t(this).data("ui-resizable"),
                c = l.options,
                u = l.element,
                d = c.containment,
                p = d instanceof t ? d.get(0) : /parent/.test(d) ? u.parent().get(0) : d;
            p && (l.containerElement = t(p), /document/.test(d) || d === document ? (l.containerOffset = {
                left: 0,
                top: 0
            }, l.containerPosition = {
                left: 0,
                top: 0
            }, l.parentData = {
                element: t(document),
                left: 0,
                top: 0,
                width: t(document).width(),
                height: t(document).height() || document.body.parentNode.scrollHeight
            }) : (i = t(p), s = [], t(["Top", "Right", "Left", "Bottom"]).each(function (t, n) {
                s[t] = e(i.css("padding" + n))
            }), l.containerOffset = i.offset(), l.containerPosition = i.position(), l.containerSize = {
                height: i.innerHeight() - s[3],
                width: i.innerWidth() - s[1]
            }, n = l.containerOffset, a = l.containerSize.height, o = l.containerSize.width, r = t.ui.hasScroll(p, "left") ? p.scrollWidth : o, h = t.ui.hasScroll(p) ? p.scrollHeight : a, l.parentData = {
                element: p,
                left: n.left,
                top: n.top,
                width: r,
                height: h
            }))
        },
        resize: function (e) {
            var i, s, n, a, o = t(this).data("ui-resizable"),
                r = o.options,
                h = o.containerOffset,
                l = o.position,
                c = o._aspectRatio || e.shiftKey,
                u = {
                    top: 0,
                    left: 0
                },
                d = o.containerElement;
            d[0] !== document && /static/.test(d.css("position")) && (u = h), l.left < (o._helper ? h.left : 0) && (o.size.width = o.size.width + (o._helper ? o.position.left - h.left : o.position.left - u.left), c && (o.size.height = o.size.width / o.aspectRatio), o.position.left = r.helper ? h.left : 0), l.top < (o._helper ? h.top : 0) && (o.size.height = o.size.height + (o._helper ? o.position.top - h.top : o.position.top), c && (o.size.width = o.size.height * o.aspectRatio), o.position.top = o._helper ? h.top : 0), o.offset.left = o.parentData.left + o.position.left, o.offset.top = o.parentData.top + o.position.top, i = Math.abs((o._helper ? o.offset.left - u.left : o.offset.left - u.left) + o.sizeDiff.width), s = Math.abs((o._helper ? o.offset.top - u.top : o.offset.top - h.top) + o.sizeDiff.height), n = o.containerElement.get(0) === o.element.parent().get(0), a = /relative|absolute/.test(o.containerElement.css("position")), n && a && (i -= Math.abs(o.parentData.left)), i + o.size.width >= o.parentData.width && (o.size.width = o.parentData.width - i, c && (o.size.height = o.size.width / o.aspectRatio)), s + o.size.height >= o.parentData.height && (o.size.height = o.parentData.height - s, c && (o.size.width = o.size.height * o.aspectRatio))
        },
        stop: function () {
            var e = t(this).data("ui-resizable"),
                i = e.options,
                s = e.containerOffset,
                n = e.containerPosition,
                a = e.containerElement,
                o = t(e.helper),
                r = o.offset(),
                h = o.outerWidth() - e.sizeDiff.width,
                l = o.outerHeight() - e.sizeDiff.height;
            e._helper && !i.animate && /relative/.test(a.css("position")) && t(this).css({
                left: r.left - n.left - s.left,
                width: h,
                height: l
            }), e._helper && !i.animate && /static/.test(a.css("position")) && t(this).css({
                left: r.left - n.left - s.left,
                width: h,
                height: l
            })
        }
    }), t.ui.plugin.add("resizable", "alsoResize", {
        start: function () {
            var e = t(this).data("ui-resizable"),
                i = e.options,
                s = function (e) {
                    t(e).each(function () {
                        var e = t(this);
                        e.data("ui-resizable-alsoresize", {
                            width: parseInt(e.width(), 10),
                            height: parseInt(e.height(), 10),
                            left: parseInt(e.css("left"), 10),
                            top: parseInt(e.css("top"), 10)
                        })
                    })
                };
            "object" != typeof i.alsoResize || i.alsoResize.parentNode ? s(i.alsoResize) : i.alsoResize.length ? (i.alsoResize = i.alsoResize[0], s(i.alsoResize)) : t.each(i.alsoResize, function (t) {
                s(t)
            })
        },
        resize: function (e, i) {
            var s = t(this).data("ui-resizable"),
                n = s.options,
                a = s.originalSize,
                o = s.originalPosition,
                r = {
                    height: s.size.height - a.height || 0,
                    width: s.size.width - a.width || 0,
                    top: s.position.top - o.top || 0,
                    left: s.position.left - o.left || 0
                },
                h = function (e, s) {
                    t(e).each(function () {
                        var e = t(this),
                            n = t(this).data("ui-resizable-alsoresize"),
                            a = {},
                            o = s && s.length ? s : e.parents(i.originalElement[0]).length ? ["width", "height"] : ["width", "height", "top", "left"];
                        t.each(o, function (t, e) {
                            var i = (n[e] || 0) + (r[e] || 0);
                            i && i >= 0 && (a[e] = i || null)
                        }), e.css(a)
                    })
                };
            "object" != typeof n.alsoResize || n.alsoResize.nodeType ? h(n.alsoResize) : t.each(n.alsoResize, function (t, e) {
                h(t, e)
            })
        },
        stop: function () {
            t(this).removeData("resizable-alsoresize")
        }
    }), t.ui.plugin.add("resizable", "ghost", {
        start: function () {
            var e = t(this).data("ui-resizable"),
                i = e.options,
                s = e.size;
            e.ghost = e.originalElement.clone(), e.ghost.css({
                opacity: .25,
                display: "block",
                position: "relative",
                height: s.height,
                width: s.width,
                margin: 0,
                left: 0,
                top: 0
            }).addClass("ui-resizable-ghost").addClass("string" == typeof i.ghost ? i.ghost : ""), e.ghost.appendTo(e.helper)
        },
        resize: function () {
            var e = t(this).data("ui-resizable");
            e.ghost && e.ghost.css({
                position: "relative",
                height: e.size.height,
                width: e.size.width
            })
        },
        stop: function () {
            var e = t(this).data("ui-resizable");
            e.ghost && e.helper && e.helper.get(0).removeChild(e.ghost.get(0))
        }
    }), t.ui.plugin.add("resizable", "grid", {
        resize: function () {
            var e = t(this).data("ui-resizable"),
                i = e.options,
                s = e.size,
                n = e.originalSize,
                a = e.originalPosition,
                o = e.axis,
                r = "number" == typeof i.grid ? [i.grid, i.grid] : i.grid,
                h = r[0] || 1,
                l = r[1] || 1,
                c = Math.round((s.width - n.width) / h) * h,
                u = Math.round((s.height - n.height) / l) * l,
                d = n.width + c,
                p = n.height + u,
                f = i.maxWidth && d > i.maxWidth,
                g = i.maxHeight && p > i.maxHeight,
                m = i.minWidth && i.minWidth > d,
                v = i.minHeight && i.minHeight > p;
            i.grid = r, m && (d += h), v && (p += l), f && (d -= h), g && (p -= l), /^(se|s|e)$/.test(o) ? (e.size.width = d, e.size.height = p) : /^(ne)$/.test(o) ? (e.size.width = d, e.size.height = p, e.position.top = a.top - u) : /^(sw)$/.test(o) ? (e.size.width = d, e.size.height = p, e.position.left = a.left - c) : (p - l > 0 ? (e.size.height = p, e.position.top = a.top - u) : (e.size.height = l, e.position.top = a.top + n.height - l), d - h > 0 ? (e.size.width = d, e.position.left = a.left - c) : (e.size.width = h, e.position.left = a.left + n.width - h))
        }
    })
})(jQuery);
(function (t) {
    t.widget("ui.selectable", t.ui.mouse, {
        version: "1.10.4",
        options: {
            appendTo: "body",
            autoRefresh: !0,
            distance: 0,
            filter: "*",
            tolerance: "touch",
            selected: null,
            selecting: null,
            start: null,
            stop: null,
            unselected: null,
            unselecting: null
        },
        _create: function () {
            var e, i = this;
            this.element.addClass("ui-selectable"), this.dragged = !1, this.refresh = function () {
                e = t(i.options.filter, i.element[0]), e.addClass("ui-selectee"), e.each(function () {
                    var e = t(this),
                        i = e.offset();
                    t.data(this, "selectable-item", {
                        element: this,
                        $element: e,
                        left: i.left,
                        top: i.top,
                        right: i.left + e.outerWidth(),
                        bottom: i.top + e.outerHeight(),
                        startselected: !1,
                        selected: e.hasClass("ui-selected"),
                        selecting: e.hasClass("ui-selecting"),
                        unselecting: e.hasClass("ui-unselecting")
                    })
                })
            }, this.refresh(), this.selectees = e.addClass("ui-selectee"), this._mouseInit(), this.helper = t("<div class='ui-selectable-helper'></div>")
        },
        _destroy: function () {
            this.selectees.removeClass("ui-selectee").removeData("selectable-item"), this.element.removeClass("ui-selectable ui-selectable-disabled"), this._mouseDestroy()
        },
        _mouseStart: function (e) {
            var i = this,
                s = this.options;
            this.opos = [e.pageX, e.pageY], this.options.disabled || (this.selectees = t(s.filter, this.element[0]), this._trigger("start", e), t(s.appendTo).append(this.helper), this.helper.css({
                left: e.pageX,
                top: e.pageY,
                width: 0,
                height: 0
            }), s.autoRefresh && this.refresh(), this.selectees.filter(".ui-selected").each(function () {
                var s = t.data(this, "selectable-item");
                s.startselected = !0, e.metaKey || e.ctrlKey || (s.$element.removeClass("ui-selected"), s.selected = !1, s.$element.addClass("ui-unselecting"), s.unselecting = !0, i._trigger("unselecting", e, {
                    unselecting: s.element
                }))
            }), t(e.target).parents().addBack().each(function () {
                var s, n = t.data(this, "selectable-item");
                return n ? (s = !e.metaKey && !e.ctrlKey || !n.$element.hasClass("ui-selected"), n.$element.removeClass(s ? "ui-unselecting" : "ui-selected").addClass(s ? "ui-selecting" : "ui-unselecting"), n.unselecting = !s, n.selecting = s, n.selected = s, s ? i._trigger("selecting", e, {
                    selecting: n.element
                }) : i._trigger("unselecting", e, {
                    unselecting: n.element
                }), !1) : undefined
            }))
        },
        _mouseDrag: function (e) {
            if (this.dragged = !0, !this.options.disabled) {
                var i, s = this,
                    n = this.options,
                    a = this.opos[0],
                    o = this.opos[1],
                    r = e.pageX,
                    l = e.pageY;
                return a > r && (i = r, r = a, a = i), o > l && (i = l, l = o, o = i), this.helper.css({
                    left: a,
                    top: o,
                    width: r - a,
                    height: l - o
                }), this.selectees.each(function () {
                    var i = t.data(this, "selectable-item"),
                        h = !1;
                    i && i.element !== s.element[0] && ("touch" === n.tolerance ? h = !(i.left > r || a > i.right || i.top > l || o > i.bottom) : "fit" === n.tolerance && (h = i.left > a && r > i.right && i.top > o && l > i.bottom), h ? (i.selected && (i.$element.removeClass("ui-selected"), i.selected = !1), i.unselecting && (i.$element.removeClass("ui-unselecting"), i.unselecting = !1), i.selecting || (i.$element.addClass("ui-selecting"), i.selecting = !0, s._trigger("selecting", e, {
                        selecting: i.element
                    }))) : (i.selecting && ((e.metaKey || e.ctrlKey) && i.startselected ? (i.$element.removeClass("ui-selecting"), i.selecting = !1, i.$element.addClass("ui-selected"), i.selected = !0) : (i.$element.removeClass("ui-selecting"), i.selecting = !1, i.startselected && (i.$element.addClass("ui-unselecting"), i.unselecting = !0), s._trigger("unselecting", e, {
                        unselecting: i.element
                    }))), i.selected && (e.metaKey || e.ctrlKey || i.startselected || (i.$element.removeClass("ui-selected"), i.selected = !1, i.$element.addClass("ui-unselecting"), i.unselecting = !0, s._trigger("unselecting", e, {
                        unselecting: i.element
                    })))))
                }), !1
            }
        },
        _mouseStop: function (e) {
            var i = this;
            return this.dragged = !1, t(".ui-unselecting", this.element[0]).each(function () {
                var s = t.data(this, "selectable-item");
                s.$element.removeClass("ui-unselecting"), s.unselecting = !1, s.startselected = !1, i._trigger("unselected", e, {
                    unselected: s.element
                })
            }), t(".ui-selecting", this.element[0]).each(function () {
                var s = t.data(this, "selectable-item");
                s.$element.removeClass("ui-selecting").addClass("ui-selected"), s.selecting = !1, s.selected = !0, s.startselected = !0, i._trigger("selected", e, {
                    selected: s.element
                })
            }), this._trigger("stop", e), this.helper.remove(), !1
        }
    })
})(jQuery);
(function (t) {
    var e = 5;
    t.widget("ui.slider", t.ui.mouse, {
        version: "1.10.4",
        widgetEventPrefix: "slide",
        options: {
            animate: !1,
            distance: 0,
            max: 100,
            min: 0,
            orientation: "horizontal",
            range: !1,
            step: 1,
            value: 0,
            values: null,
            change: null,
            slide: null,
            start: null,
            stop: null
        },
        _create: function () {
            this._keySliding = !1, this._mouseSliding = !1, this._animateOff = !0, this._handleIndex = null, this._detectOrientation(), this._mouseInit(), this.element.addClass("ui-slider ui-slider-" + this.orientation + " ui-widget" + " ui-widget-content" + " ui-corner-all"), this._refresh(), this._setOption("disabled", this.options.disabled), this._animateOff = !1
        },
        _refresh: function () {
            this._createRange(), this._createHandles(), this._setupEvents(), this._refreshValue()
        },
        _createHandles: function () {
            var e, i, s = this.options,
                n = this.element.find(".ui-slider-handle").addClass("ui-state-default ui-corner-all"),
                a = "<a class='ui-slider-handle ui-state-default ui-corner-all' href='#'></a>",
                o = [];
            for (i = s.values && s.values.length || 1, n.length > i && (n.slice(i).remove(), n = n.slice(0, i)), e = n.length; i > e; e++) o.push(a);
            this.handles = n.add(t(o.join("")).appendTo(this.element)), this.handle = this.handles.eq(0), this.handles.each(function (e) {
                t(this).data("ui-slider-handle-index", e)
            })
        },
        _createRange: function () {
            var e = this.options,
                i = "";
            e.range ? (e.range === !0 && (e.values ? e.values.length && 2 !== e.values.length ? e.values = [e.values[0], e.values[0]] : t.isArray(e.values) && (e.values = e.values.slice(0)) : e.values = [this._valueMin(), this._valueMin()]), this.range && this.range.length ? this.range.removeClass("ui-slider-range-min ui-slider-range-max").css({
                left: "",
                bottom: ""
            }) : (this.range = t("<div></div>").appendTo(this.element), i = "ui-slider-range ui-widget-header ui-corner-all"), this.range.addClass(i + ("min" === e.range || "max" === e.range ? " ui-slider-range-" + e.range : ""))) : (this.range && this.range.remove(), this.range = null)
        },
        _setupEvents: function () {
            var t = this.handles.add(this.range).filter("a");
            this._off(t), this._on(t, this._handleEvents), this._hoverable(t), this._focusable(t)
        },
        _destroy: function () {
            this.handles.remove(), this.range && this.range.remove(), this.element.removeClass("ui-slider ui-slider-horizontal ui-slider-vertical ui-widget ui-widget-content ui-corner-all"), this._mouseDestroy()
        },
        _mouseCapture: function (e) {
            var i, s, n, a, o, r, l, h, u = this,
                c = this.options;
            return c.disabled ? !1 : (this.elementSize = {
                width: this.element.outerWidth(),
                height: this.element.outerHeight()
            }, this.elementOffset = this.element.offset(), i = {
                x: e.pageX,
                y: e.pageY
            }, s = this._normValueFromMouse(i), n = this._valueMax() - this._valueMin() + 1, this.handles.each(function (e) {
                var i = Math.abs(s - u.values(e));
                (n > i || n === i && (e === u._lastChangedValue || u.values(e) === c.min)) && (n = i, a = t(this), o = e)
            }), r = this._start(e, o), r === !1 ? !1 : (this._mouseSliding = !0, this._handleIndex = o, a.addClass("ui-state-active").focus(), l = a.offset(), h = !t(e.target).parents().addBack().is(".ui-slider-handle"), this._clickOffset = h ? {
                left: 0,
                top: 0
            } : {
                left: e.pageX - l.left - a.width() / 2,
                top: e.pageY - l.top - a.height() / 2 - (parseInt(a.css("borderTopWidth"), 10) || 0) - (parseInt(a.css("borderBottomWidth"), 10) || 0) + (parseInt(a.css("marginTop"), 10) || 0)
            }, this.handles.hasClass("ui-state-hover") || this._slide(e, o, s), this._animateOff = !0, !0))
        },
        _mouseStart: function () {
            return !0
        },
        _mouseDrag: function (t) {
            var e = {
                    x: t.pageX,
                    y: t.pageY
                },
                i = this._normValueFromMouse(e);
            return this._slide(t, this._handleIndex, i), !1
        },
        _mouseStop: function (t) {
            return this.handles.removeClass("ui-state-active"), this._mouseSliding = !1, this._stop(t, this._handleIndex), this._change(t, this._handleIndex), this._handleIndex = null, this._clickOffset = null, this._animateOff = !1, !1
        },
        _detectOrientation: function () {
            this.orientation = "vertical" === this.options.orientation ? "vertical" : "horizontal"
        },
        _normValueFromMouse: function (t) {
            var e, i, s, n, a;
            return "horizontal" === this.orientation ? (e = this.elementSize.width, i = t.x - this.elementOffset.left - (this._clickOffset ? this._clickOffset.left : 0)) : (e = this.elementSize.height, i = t.y - this.elementOffset.top - (this._clickOffset ? this._clickOffset.top : 0)), s = i / e, s > 1 && (s = 1), 0 > s && (s = 0), "vertical" === this.orientation && (s = 1 - s), n = this._valueMax() - this._valueMin(), a = this._valueMin() + s * n, this._trimAlignValue(a)
        },
        _start: function (t, e) {
            var i = {
                handle: this.handles[e],
                value: this.value()
            };
            return this.options.values && this.options.values.length && (i.value = this.values(e), i.values = this.values()), this._trigger("start", t, i)
        },
        _slide: function (t, e, i) {
            var s, n, a;
            this.options.values && this.options.values.length ? (s = this.values(e ? 0 : 1), 2 === this.options.values.length && this.options.range === !0 && (0 === e && i > s || 1 === e && s > i) && (i = s), i !== this.values(e) && (n = this.values(), n[e] = i, a = this._trigger("slide", t, {
                handle: this.handles[e],
                value: i,
                values: n
            }), s = this.values(e ? 0 : 1), a !== !1 && this.values(e, i))) : i !== this.value() && (a = this._trigger("slide", t, {
                handle: this.handles[e],
                value: i
            }), a !== !1 && this.value(i))
        },
        _stop: function (t, e) {
            var i = {
                handle: this.handles[e],
                value: this.value()
            };
            this.options.values && this.options.values.length && (i.value = this.values(e), i.values = this.values()), this._trigger("stop", t, i)
        },
        _change: function (t, e) {
            if (!this._keySliding && !this._mouseSliding) {
                var i = {
                    handle: this.handles[e],
                    value: this.value()
                };
                this.options.values && this.options.values.length && (i.value = this.values(e), i.values = this.values()), this._lastChangedValue = e, this._trigger("change", t, i)
            }
        },
        value: function (t) {
            return arguments.length ? (this.options.value = this._trimAlignValue(t), this._refreshValue(), this._change(null, 0), undefined) : this._value()
        },
        values: function (e, i) {
            var s, n, a;
            if (arguments.length > 1) return this.options.values[e] = this._trimAlignValue(i), this._refreshValue(), this._change(null, e), undefined;
            if (!arguments.length) return this._values();
            if (!t.isArray(arguments[0])) return this.options.values && this.options.values.length ? this._values(e) : this.value();
            for (s = this.options.values, n = arguments[0], a = 0; s.length > a; a += 1) s[a] = this._trimAlignValue(n[a]), this._change(null, a);
            this._refreshValue()
        },
        _setOption: function (e, i) {
            var s, n = 0;
            switch ("range" === e && this.options.range === !0 && ("min" === i ? (this.options.value = this._values(0), this.options.values = null) : "max" === i && (this.options.value = this._values(this.options.values.length - 1), this.options.values = null)), t.isArray(this.options.values) && (n = this.options.values.length), t.Widget.prototype._setOption.apply(this, arguments), e) {
                case "orientation":
                    this._detectOrientation(), this.element.removeClass("ui-slider-horizontal ui-slider-vertical").addClass("ui-slider-" + this.orientation), this._refreshValue();
                    break;
                case "value":
                    this._animateOff = !0, this._refreshValue(), this._change(null, 0), this._animateOff = !1;
                    break;
                case "values":
                    for (this._animateOff = !0, this._refreshValue(), s = 0; n > s; s += 1) this._change(null, s);
                    this._animateOff = !1;
                    break;
                case "min":
                case "max":
                    this._animateOff = !0, this._refreshValue(), this._animateOff = !1;
                    break;
                case "range":
                    this._animateOff = !0, this._refresh(), this._animateOff = !1
            }
        },
        _value: function () {
            var t = this.options.value;
            return t = this._trimAlignValue(t)
        },
        _values: function (t) {
            var e, i, s;
            if (arguments.length) return e = this.options.values[t], e = this._trimAlignValue(e);
            if (this.options.values && this.options.values.length) {
                for (i = this.options.values.slice(), s = 0; i.length > s; s += 1) i[s] = this._trimAlignValue(i[s]);
                return i
            }
            return []
        },
        _trimAlignValue: function (t) {
            if (this._valueMin() >= t) return this._valueMin();
            if (t >= this._valueMax()) return this._valueMax();
            var e = this.options.step > 0 ? this.options.step : 1,
                i = (t - this._valueMin()) % e,
                s = t - i;
            return 2 * Math.abs(i) >= e && (s += i > 0 ? e : -e), parseFloat(s.toFixed(5))
        },
        _valueMin: function () {
            return this.options.min
        },
        _valueMax: function () {
            return this.options.max
        },
        _refreshValue: function () {
            var e, i, s, n, a, o = this.options.range,
                r = this.options,
                l = this,
                h = this._animateOff ? !1 : r.animate,
                u = {};
            this.options.values && this.options.values.length ? this.handles.each(function (s) {
                i = 100 * ((l.values(s) - l._valueMin()) / (l._valueMax() - l._valueMin())), u["horizontal" === l.orientation ? "left" : "bottom"] = i + "%", t(this).stop(1, 1)[h ? "animate" : "css"](u, r.animate), l.options.range === !0 && ("horizontal" === l.orientation ? (0 === s && l.range.stop(1, 1)[h ? "animate" : "css"]({
                    left: i + "%"
                }, r.animate), 1 === s && l.range[h ? "animate" : "css"]({
                    width: i - e + "%"
                }, {
                    queue: !1,
                    duration: r.animate
                })) : (0 === s && l.range.stop(1, 1)[h ? "animate" : "css"]({
                    bottom: i + "%"
                }, r.animate), 1 === s && l.range[h ? "animate" : "css"]({
                    height: i - e + "%"
                }, {
                    queue: !1,
                    duration: r.animate
                }))), e = i
            }) : (s = this.value(), n = this._valueMin(), a = this._valueMax(), i = a !== n ? 100 * ((s - n) / (a - n)) : 0, u["horizontal" === this.orientation ? "left" : "bottom"] = i + "%", this.handle.stop(1, 1)[h ? "animate" : "css"](u, r.animate), "min" === o && "horizontal" === this.orientation && this.range.stop(1, 1)[h ? "animate" : "css"]({
                width: i + "%"
            }, r.animate), "max" === o && "horizontal" === this.orientation && this.range[h ? "animate" : "css"]({
                width: 100 - i + "%"
            }, {
                queue: !1,
                duration: r.animate
            }), "min" === o && "vertical" === this.orientation && this.range.stop(1, 1)[h ? "animate" : "css"]({
                height: i + "%"
            }, r.animate), "max" === o && "vertical" === this.orientation && this.range[h ? "animate" : "css"]({
                height: 100 - i + "%"
            }, {
                queue: !1,
                duration: r.animate
            }))
        },
        _handleEvents: {
            keydown: function (i) {
                var s, n, a, o, r = t(i.target).data("ui-slider-handle-index");
                switch (i.keyCode) {
                    case t.ui.keyCode.HOME:
                    case t.ui.keyCode.END:
                    case t.ui.keyCode.PAGE_UP:
                    case t.ui.keyCode.PAGE_DOWN:
                    case t.ui.keyCode.UP:
                    case t.ui.keyCode.RIGHT:
                    case t.ui.keyCode.DOWN:
                    case t.ui.keyCode.LEFT:
                        if (i.preventDefault(), !this._keySliding && (this._keySliding = !0, t(i.target).addClass("ui-state-active"), s = this._start(i, r), s === !1)) return
                }
                switch (o = this.options.step, n = a = this.options.values && this.options.values.length ? this.values(r) : this.value(), i.keyCode) {
                    case t.ui.keyCode.HOME:
                        a = this._valueMin();
                        break;
                    case t.ui.keyCode.END:
                        a = this._valueMax();
                        break;
                    case t.ui.keyCode.PAGE_UP:
                        a = this._trimAlignValue(n + (this._valueMax() - this._valueMin()) / e);
                        break;
                    case t.ui.keyCode.PAGE_DOWN:
                        a = this._trimAlignValue(n - (this._valueMax() - this._valueMin()) / e);
                        break;
                    case t.ui.keyCode.UP:
                    case t.ui.keyCode.RIGHT:
                        if (n === this._valueMax()) return;
                        a = this._trimAlignValue(n + o);
                        break;
                    case t.ui.keyCode.DOWN:
                    case t.ui.keyCode.LEFT:
                        if (n === this._valueMin()) return;
                        a = this._trimAlignValue(n - o)
                }
                this._slide(i, r, a)
            },
            click: function (t) {
                t.preventDefault()
            },
            keyup: function (e) {
                var i = t(e.target).data("ui-slider-handle-index");
                this._keySliding && (this._keySliding = !1, this._stop(e, i), this._change(e, i), t(e.target).removeClass("ui-state-active"))
            }
        }
    })
})(jQuery);
(function (t) {
    function e(t, e, i) {
        return t > e && e + i > t
    }

    function i(t) {
        return /left|right/.test(t.css("float")) || /inline|table-cell/.test(t.css("display"))
    }
    t.widget("ui.sortable", t.ui.mouse, {
        version: "1.10.4",
        widgetEventPrefix: "sort",
        ready: !1,
        options: {
            appendTo: "parent",
            axis: !1,
            connectWith: !1,
            containment: !1,
            cursor: "auto",
            cursorAt: !1,
            dropOnEmpty: !0,
            forcePlaceholderSize: !1,
            forceHelperSize: !1,
            grid: !1,
            handle: !1,
            helper: "original",
            items: "> *",
            opacity: !1,
            placeholder: !1,
            revert: !1,
            scroll: !0,
            scrollSensitivity: 20,
            scrollSpeed: 20,
            scope: "default",
            tolerance: "intersect",
            zIndex: 1e3,
            activate: null,
            beforeStop: null,
            change: null,
            deactivate: null,
            out: null,
            over: null,
            receive: null,
            remove: null,
            sort: null,
            start: null,
            stop: null,
            update: null
        },
        _create: function () {
            var t = this.options;
            this.containerCache = {}, this.element.addClass("ui-sortable"), this.refresh(), this.floating = this.items.length ? "x" === t.axis || i(this.items[0].item) : !1, this.offset = this.element.offset(), this._mouseInit(), this.ready = !0
        },
        _destroy: function () {
            this.element.removeClass("ui-sortable ui-sortable-disabled"), this._mouseDestroy();
            for (var t = this.items.length - 1; t >= 0; t--) this.items[t].item.removeData(this.widgetName + "-item");
            return this
        },
        _setOption: function (e, i) {
            "disabled" === e ? (this.options[e] = i, this.widget().toggleClass("ui-sortable-disabled", !!i)) : t.Widget.prototype._setOption.apply(this, arguments)
        },
        _mouseCapture: function (e, i) {
            var s = null,
                n = !1,
                o = this;
            return this.reverting ? !1 : this.options.disabled || "static" === this.options.type ? !1 : (this._refreshItems(e), t(e.target).parents().each(function () {
                return t.data(this, o.widgetName + "-item") === o ? (s = t(this), !1) : undefined
            }), t.data(e.target, o.widgetName + "-item") === o && (s = t(e.target)), s ? !this.options.handle || i || (t(this.options.handle, s).find("*").addBack().each(function () {
                this === e.target && (n = !0)
            }), n) ? (this.currentItem = s, this._removeCurrentsFromItems(), !0) : !1 : !1)
        },
        _mouseStart: function (e, i, s) {
            var n, o, a = this.options;
            if (this.currentContainer = this, this.refreshPositions(), this.helper = this._createHelper(e), this._cacheHelperProportions(), this._cacheMargins(), this.scrollParent = this.helper.scrollParent(), this.offset = this.currentItem.offset(), this.offset = {
                    top: this.offset.top - this.margins.top,
                    left: this.offset.left - this.margins.left
                }, t.extend(this.offset, {
                    click: {
                        left: e.pageX - this.offset.left,
                        top: e.pageY - this.offset.top
                    },
                    parent: this._getParentOffset(),
                    relative: this._getRelativeOffset()
                }), this.helper.css("position", "absolute"), this.cssPosition = this.helper.css("position"), this.originalPosition = this._generatePosition(e), this.originalPageX = e.pageX, this.originalPageY = e.pageY, a.cursorAt && this._adjustOffsetFromHelper(a.cursorAt), this.domPosition = {
                    prev: this.currentItem.prev()[0],
                    parent: this.currentItem.parent()[0]
                }, this.helper[0] !== this.currentItem[0] && this.currentItem.hide(), this._createPlaceholder(), a.containment && this._setContainment(), a.cursor && "auto" !== a.cursor && (o = this.document.find("body"), this.storedCursor = o.css("cursor"), o.css("cursor", a.cursor), this.storedStylesheet = t("<style>*{ cursor: " + a.cursor + " !important; }</style>").appendTo(o)), a.opacity && (this.helper.css("opacity") && (this._storedOpacity = this.helper.css("opacity")), this.helper.css("opacity", a.opacity)), a.zIndex && (this.helper.css("zIndex") && (this._storedZIndex = this.helper.css("zIndex")), this.helper.css("zIndex", a.zIndex)), this.scrollParent[0] !== document && "HTML" !== this.scrollParent[0].tagName && (this.overflowOffset = this.scrollParent.offset()), this._trigger("start", e, this._uiHash()), this._preserveHelperProportions || this._cacheHelperProportions(), !s)
                for (n = this.containers.length - 1; n >= 0; n--) this.containers[n]._trigger("activate", e, this._uiHash(this));
            return t.ui.ddmanager && (t.ui.ddmanager.current = this), t.ui.ddmanager && !a.dropBehaviour && t.ui.ddmanager.prepareOffsets(this, e), this.dragging = !0, this.helper.addClass("ui-sortable-helper"), this._mouseDrag(e), !0
        },
        _mouseDrag: function (e) {
            var i, s, n, o, a = this.options,
                r = !1;
            for (this.position = this._generatePosition(e), this.positionAbs = this._convertPositionTo("absolute"), this.lastPositionAbs || (this.lastPositionAbs = this.positionAbs), this.options.scroll && (this.scrollParent[0] !== document && "HTML" !== this.scrollParent[0].tagName ? (this.overflowOffset.top + this.scrollParent[0].offsetHeight - e.pageY < a.scrollSensitivity ? this.scrollParent[0].scrollTop = r = this.scrollParent[0].scrollTop + a.scrollSpeed : e.pageY - this.overflowOffset.top < a.scrollSensitivity && (this.scrollParent[0].scrollTop = r = this.scrollParent[0].scrollTop - a.scrollSpeed), this.overflowOffset.left + this.scrollParent[0].offsetWidth - e.pageX < a.scrollSensitivity ? this.scrollParent[0].scrollLeft = r = this.scrollParent[0].scrollLeft + a.scrollSpeed : e.pageX - this.overflowOffset.left < a.scrollSensitivity && (this.scrollParent[0].scrollLeft = r = this.scrollParent[0].scrollLeft - a.scrollSpeed)) : (e.pageY - t(document).scrollTop() < a.scrollSensitivity ? r = t(document).scrollTop(t(document).scrollTop() - a.scrollSpeed) : t(window).height() - (e.pageY - t(document).scrollTop()) < a.scrollSensitivity && (r = t(document).scrollTop(t(document).scrollTop() + a.scrollSpeed)), e.pageX - t(document).scrollLeft() < a.scrollSensitivity ? r = t(document).scrollLeft(t(document).scrollLeft() - a.scrollSpeed) : t(window).width() - (e.pageX - t(document).scrollLeft()) < a.scrollSensitivity && (r = t(document).scrollLeft(t(document).scrollLeft() + a.scrollSpeed))), r !== !1 && t.ui.ddmanager && !a.dropBehaviour && t.ui.ddmanager.prepareOffsets(this, e)), this.positionAbs = this._convertPositionTo("absolute"), this.options.axis && "y" === this.options.axis || (this.helper[0].style.left = this.position.left + "px"), this.options.axis && "x" === this.options.axis || (this.helper[0].style.top = this.position.top + "px"), i = this.items.length - 1; i >= 0; i--)
                if (s = this.items[i], n = s.item[0], o = this._intersectsWithPointer(s), o && s.instance === this.currentContainer && n !== this.currentItem[0] && this.placeholder[1 === o ? "next" : "prev"]()[0] !== n && !t.contains(this.placeholder[0], n) && ("semi-dynamic" === this.options.type ? !t.contains(this.element[0], n) : !0)) {
                    if (this.direction = 1 === o ? "down" : "up", "pointer" !== this.options.tolerance && !this._intersectsWithSides(s)) break;
                    this._rearrange(e, s), this._trigger("change", e, this._uiHash());
                    break
                } return this._contactContainers(e), t.ui.ddmanager && t.ui.ddmanager.drag(this, e), this._trigger("sort", e, this._uiHash()), this.lastPositionAbs = this.positionAbs, !1
        },
        _mouseStop: function (e, i) {
            if (e) {
                if (t.ui.ddmanager && !this.options.dropBehaviour && t.ui.ddmanager.drop(this, e), this.options.revert) {
                    var s = this,
                        n = this.placeholder.offset(),
                        o = this.options.axis,
                        a = {};
                    o && "x" !== o || (a.left = n.left - this.offset.parent.left - this.margins.left + (this.offsetParent[0] === document.body ? 0 : this.offsetParent[0].scrollLeft)), o && "y" !== o || (a.top = n.top - this.offset.parent.top - this.margins.top + (this.offsetParent[0] === document.body ? 0 : this.offsetParent[0].scrollTop)), this.reverting = !0, t(this.helper).animate(a, parseInt(this.options.revert, 10) || 500, function () {
                        s._clear(e)
                    })
                } else this._clear(e, i);
                return !1
            }
        },
        cancel: function () {
            if (this.dragging) {
                this._mouseUp({
                    target: null
                }), "original" === this.options.helper ? this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper") : this.currentItem.show();
                for (var e = this.containers.length - 1; e >= 0; e--) this.containers[e]._trigger("deactivate", null, this._uiHash(this)), this.containers[e].containerCache.over && (this.containers[e]._trigger("out", null, this._uiHash(this)), this.containers[e].containerCache.over = 0)
            }
            return this.placeholder && (this.placeholder[0].parentNode && this.placeholder[0].parentNode.removeChild(this.placeholder[0]), "original" !== this.options.helper && this.helper && this.helper[0].parentNode && this.helper.remove(), t.extend(this, {
                helper: null,
                dragging: !1,
                reverting: !1,
                _noFinalSort: null
            }), this.domPosition.prev ? t(this.domPosition.prev).after(this.currentItem) : t(this.domPosition.parent).prepend(this.currentItem)), this
        },
        serialize: function (e) {
            var i = this._getItemsAsjQuery(e && e.connected),
                s = [];
            return e = e || {}, t(i).each(function () {
                var i = (t(e.item || this).attr(e.attribute || "id") || "").match(e.expression || /(.+)[\-=_](.+)/);
                i && s.push((e.key || i[1] + "[]") + "=" + (e.key && e.expression ? i[1] : i[2]))
            }), !s.length && e.key && s.push(e.key + "="), s.join("&")
        },
        toArray: function (e) {
            var i = this._getItemsAsjQuery(e && e.connected),
                s = [];
            return e = e || {}, i.each(function () {
                s.push(t(e.item || this).attr(e.attribute || "id") || "")
            }), s
        },
        _intersectsWith: function (t) {
            var e = this.positionAbs.left,
                i = e + this.helperProportions.width,
                s = this.positionAbs.top,
                n = s + this.helperProportions.height,
                o = t.left,
                a = o + t.width,
                r = t.top,
                h = r + t.height,
                l = this.offset.click.top,
                c = this.offset.click.left,
                u = "x" === this.options.axis || s + l > r && h > s + l,
                d = "y" === this.options.axis || e + c > o && a > e + c,
                p = u && d;
            return "pointer" === this.options.tolerance || this.options.forcePointerForContainers || "pointer" !== this.options.tolerance && this.helperProportions[this.floating ? "width" : "height"] > t[this.floating ? "width" : "height"] ? p : e + this.helperProportions.width / 2 > o && a > i - this.helperProportions.width / 2 && s + this.helperProportions.height / 2 > r && h > n - this.helperProportions.height / 2
        },
        _intersectsWithPointer: function (t) {
            var i = "x" === this.options.axis || e(this.positionAbs.top + this.offset.click.top, t.top, t.height),
                s = "y" === this.options.axis || e(this.positionAbs.left + this.offset.click.left, t.left, t.width),
                n = i && s,
                o = this._getDragVerticalDirection(),
                a = this._getDragHorizontalDirection();
            return n ? this.floating ? a && "right" === a || "down" === o ? 2 : 1 : o && ("down" === o ? 2 : 1) : !1
        },
        _intersectsWithSides: function (t) {
            var i = e(this.positionAbs.top + this.offset.click.top, t.top + t.height / 2, t.height),
                s = e(this.positionAbs.left + this.offset.click.left, t.left + t.width / 2, t.width),
                n = this._getDragVerticalDirection(),
                o = this._getDragHorizontalDirection();
            return this.floating && o ? "right" === o && s || "left" === o && !s : n && ("down" === n && i || "up" === n && !i)
        },
        _getDragVerticalDirection: function () {
            var t = this.positionAbs.top - this.lastPositionAbs.top;
            return 0 !== t && (t > 0 ? "down" : "up")
        },
        _getDragHorizontalDirection: function () {
            var t = this.positionAbs.left - this.lastPositionAbs.left;
            return 0 !== t && (t > 0 ? "right" : "left")
        },
        refresh: function (t) {
            return this._refreshItems(t), this.refreshPositions(), this
        },
        _connectWith: function () {
            var t = this.options;
            return t.connectWith.constructor === String ? [t.connectWith] : t.connectWith
        },
        _getItemsAsjQuery: function (e) {
            function i() {
                r.push(this)
            }
            var s, n, o, a, r = [],
                h = [],
                l = this._connectWith();
            if (l && e)
                for (s = l.length - 1; s >= 0; s--)
                    for (o = t(l[s]), n = o.length - 1; n >= 0; n--) a = t.data(o[n], this.widgetFullName), a && a !== this && !a.options.disabled && h.push([t.isFunction(a.options.items) ? a.options.items.call(a.element) : t(a.options.items, a.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"), a]);
            for (h.push([t.isFunction(this.options.items) ? this.options.items.call(this.element, null, {
                    options: this.options,
                    item: this.currentItem
                }) : t(this.options.items, this.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"), this]), s = h.length - 1; s >= 0; s--) h[s][0].each(i);
            return t(r)
        },
        _removeCurrentsFromItems: function () {
            var e = this.currentItem.find(":data(" + this.widgetName + "-item)");
            this.items = t.grep(this.items, function (t) {
                for (var i = 0; e.length > i; i++)
                    if (e[i] === t.item[0]) return !1;
                return !0
            })
        },
        _refreshItems: function (e) {
            this.items = [], this.containers = [this];
            var i, s, n, o, a, r, h, l, c = this.items,
                u = [[t.isFunction(this.options.items) ? this.options.items.call(this.element[0], e, {
                    item: this.currentItem
                }) : t(this.options.items, this.element), this]],
                d = this._connectWith();
            if (d && this.ready)
                for (i = d.length - 1; i >= 0; i--)
                    for (n = t(d[i]), s = n.length - 1; s >= 0; s--) o = t.data(n[s], this.widgetFullName), o && o !== this && !o.options.disabled && (u.push([t.isFunction(o.options.items) ? o.options.items.call(o.element[0], e, {
                        item: this.currentItem
                    }) : t(o.options.items, o.element), o]), this.containers.push(o));
            for (i = u.length - 1; i >= 0; i--)
                for (a = u[i][1], r = u[i][0], s = 0, l = r.length; l > s; s++) h = t(r[s]), h.data(this.widgetName + "-item", a), c.push({
                    item: h,
                    instance: a,
                    width: 0,
                    height: 0,
                    left: 0,
                    top: 0
                })
        },
        refreshPositions: function (e) {
            this.offsetParent && this.helper && (this.offset.parent = this._getParentOffset());
            var i, s, n, o;
            for (i = this.items.length - 1; i >= 0; i--) s = this.items[i], s.instance !== this.currentContainer && this.currentContainer && s.item[0] !== this.currentItem[0] || (n = this.options.toleranceElement ? t(this.options.toleranceElement, s.item) : s.item, e || (s.width = n.outerWidth(), s.height = n.outerHeight()), o = n.offset(), s.left = o.left, s.top = o.top);
            if (this.options.custom && this.options.custom.refreshContainers) this.options.custom.refreshContainers.call(this);
            else
                for (i = this.containers.length - 1; i >= 0; i--) o = this.containers[i].element.offset(), this.containers[i].containerCache.left = o.left, this.containers[i].containerCache.top = o.top, this.containers[i].containerCache.width = this.containers[i].element.outerWidth(), this.containers[i].containerCache.height = this.containers[i].element.outerHeight();
            return this
        },
        _createPlaceholder: function (e) {
            e = e || this;
            var i, s = e.options;
            s.placeholder && s.placeholder.constructor !== String || (i = s.placeholder, s.placeholder = {
                element: function () {
                    var s = e.currentItem[0].nodeName.toLowerCase(),
                        n = t("<" + s + ">", e.document[0]).addClass(i || e.currentItem[0].className + " ui-sortable-placeholder").removeClass("ui-sortable-helper");
                    return "tr" === s ? e.currentItem.children().each(function () {
                        t("<td>&#160;</td>", e.document[0]).attr("colspan", t(this).attr("colspan") || 1).appendTo(n)
                    }) : "img" === s && n.attr("src", e.currentItem.attr("src")), i || n.css("visibility", "hidden"), n
                },
                update: function (t, n) {
                    (!i || s.forcePlaceholderSize) && (n.height() || n.height(e.currentItem.innerHeight() - parseInt(e.currentItem.css("paddingTop") || 0, 10) - parseInt(e.currentItem.css("paddingBottom") || 0, 10)), n.width() || n.width(e.currentItem.innerWidth() - parseInt(e.currentItem.css("paddingLeft") || 0, 10) - parseInt(e.currentItem.css("paddingRight") || 0, 10)))
                }
            }), e.placeholder = t(s.placeholder.element.call(e.element, e.currentItem)), e.currentItem.after(e.placeholder), s.placeholder.update(e, e.placeholder)
        },
        _contactContainers: function (s) {
            var n, o, a, r, h, l, c, u, d, p, f = null,
                g = null;
            for (n = this.containers.length - 1; n >= 0; n--)
                if (!t.contains(this.currentItem[0], this.containers[n].element[0]))
                    if (this._intersectsWith(this.containers[n].containerCache)) {
                        if (f && t.contains(this.containers[n].element[0], f.element[0])) continue;
                        f = this.containers[n], g = n
                    } else this.containers[n].containerCache.over && (this.containers[n]._trigger("out", s, this._uiHash(this)), this.containers[n].containerCache.over = 0);
            if (f)
                if (1 === this.containers.length) this.containers[g].containerCache.over || (this.containers[g]._trigger("over", s, this._uiHash(this)), this.containers[g].containerCache.over = 1);
                else {
                    for (a = 1e4, r = null, p = f.floating || i(this.currentItem), h = p ? "left" : "top", l = p ? "width" : "height", c = this.positionAbs[h] + this.offset.click[h], o = this.items.length - 1; o >= 0; o--) t.contains(this.containers[g].element[0], this.items[o].item[0]) && this.items[o].item[0] !== this.currentItem[0] && (!p || e(this.positionAbs.top + this.offset.click.top, this.items[o].top, this.items[o].height)) && (u = this.items[o].item.offset()[h], d = !1, Math.abs(u - c) > Math.abs(u + this.items[o][l] - c) && (d = !0, u += this.items[o][l]), a > Math.abs(u - c) && (a = Math.abs(u - c), r = this.items[o], this.direction = d ? "up" : "down"));
                    if (!r && !this.options.dropOnEmpty) return;
                    if (this.currentContainer === this.containers[g]) return;
                    r ? this._rearrange(s, r, null, !0) : this._rearrange(s, null, this.containers[g].element, !0), this._trigger("change", s, this._uiHash()), this.containers[g]._trigger("change", s, this._uiHash(this)), this.currentContainer = this.containers[g], this.options.placeholder.update(this.currentContainer, this.placeholder), this.containers[g]._trigger("over", s, this._uiHash(this)), this.containers[g].containerCache.over = 1
                }
        },
        _createHelper: function (e) {
            var i = this.options,
                s = t.isFunction(i.helper) ? t(i.helper.apply(this.element[0], [e, this.currentItem])) : "clone" === i.helper ? this.currentItem.clone() : this.currentItem;
            return s.parents("body").length || t("parent" !== i.appendTo ? i.appendTo : this.currentItem[0].parentNode)[0].appendChild(s[0]), s[0] === this.currentItem[0] && (this._storedCSS = {
                width: this.currentItem[0].style.width,
                height: this.currentItem[0].style.height,
                position: this.currentItem.css("position"),
                top: this.currentItem.css("top"),
                left: this.currentItem.css("left")
            }), (!s[0].style.width || i.forceHelperSize) && s.width(this.currentItem.width()), (!s[0].style.height || i.forceHelperSize) && s.height(this.currentItem.height()), s
        },
        _adjustOffsetFromHelper: function (e) {
            "string" == typeof e && (e = e.split(" ")), t.isArray(e) && (e = {
                left: +e[0],
                top: +e[1] || 0
            }), "left" in e && (this.offset.click.left = e.left + this.margins.left), "right" in e && (this.offset.click.left = this.helperProportions.width - e.right + this.margins.left), "top" in e && (this.offset.click.top = e.top + this.margins.top), "bottom" in e && (this.offset.click.top = this.helperProportions.height - e.bottom + this.margins.top)
        },
        _getParentOffset: function () {
            this.offsetParent = this.helper.offsetParent();
            var e = this.offsetParent.offset();
            return "absolute" === this.cssPosition && this.scrollParent[0] !== document && t.contains(this.scrollParent[0], this.offsetParent[0]) && (e.left += this.scrollParent.scrollLeft(), e.top += this.scrollParent.scrollTop()), (this.offsetParent[0] === document.body || this.offsetParent[0].tagName && "html" === this.offsetParent[0].tagName.toLowerCase() && t.ui.ie) && (e = {
                top: 0,
                left: 0
            }), {
                top: e.top + (parseInt(this.offsetParent.css("borderTopWidth"), 10) || 0),
                left: e.left + (parseInt(this.offsetParent.css("borderLeftWidth"), 10) || 0)
            }
        },
        _getRelativeOffset: function () {
            if ("relative" === this.cssPosition) {
                var t = this.currentItem.position();
                return {
                    top: t.top - (parseInt(this.helper.css("top"), 10) || 0) + this.scrollParent.scrollTop(),
                    left: t.left - (parseInt(this.helper.css("left"), 10) || 0) + this.scrollParent.scrollLeft()
                }
            }
            return {
                top: 0,
                left: 0
            }
        },
        _cacheMargins: function () {
            this.margins = {
                left: parseInt(this.currentItem.css("marginLeft"), 10) || 0,
                top: parseInt(this.currentItem.css("marginTop"), 10) || 0
            }
        },
        _cacheHelperProportions: function () {
            this.helperProportions = {
                width: this.helper.outerWidth(),
                height: this.helper.outerHeight()
            }
        },
        _setContainment: function () {
            var e, i, s, n = this.options;
            "parent" === n.containment && (n.containment = this.helper[0].parentNode), ("document" === n.containment || "window" === n.containment) && (this.containment = [0 - this.offset.relative.left - this.offset.parent.left, 0 - this.offset.relative.top - this.offset.parent.top, t("document" === n.containment ? document : window).width() - this.helperProportions.width - this.margins.left, (t("document" === n.containment ? document : window).height() || document.body.parentNode.scrollHeight) - this.helperProportions.height - this.margins.top]), /^(document|window|parent)$/.test(n.containment) || (e = t(n.containment)[0], i = t(n.containment).offset(), s = "hidden" !== t(e).css("overflow"), this.containment = [i.left + (parseInt(t(e).css("borderLeftWidth"), 10) || 0) + (parseInt(t(e).css("paddingLeft"), 10) || 0) - this.margins.left, i.top + (parseInt(t(e).css("borderTopWidth"), 10) || 0) + (parseInt(t(e).css("paddingTop"), 10) || 0) - this.margins.top, i.left + (s ? Math.max(e.scrollWidth, e.offsetWidth) : e.offsetWidth) - (parseInt(t(e).css("borderLeftWidth"), 10) || 0) - (parseInt(t(e).css("paddingRight"), 10) || 0) - this.helperProportions.width - this.margins.left, i.top + (s ? Math.max(e.scrollHeight, e.offsetHeight) : e.offsetHeight) - (parseInt(t(e).css("borderTopWidth"), 10) || 0) - (parseInt(t(e).css("paddingBottom"), 10) || 0) - this.helperProportions.height - this.margins.top])
        },
        _convertPositionTo: function (e, i) {
            i || (i = this.position);
            var s = "absolute" === e ? 1 : -1,
                n = "absolute" !== this.cssPosition || this.scrollParent[0] !== document && t.contains(this.scrollParent[0], this.offsetParent[0]) ? this.scrollParent : this.offsetParent,
                o = /(html|body)/i.test(n[0].tagName);
            return {
                top: i.top + this.offset.relative.top * s + this.offset.parent.top * s - ("fixed" === this.cssPosition ? -this.scrollParent.scrollTop() : o ? 0 : n.scrollTop()) * s,
                left: i.left + this.offset.relative.left * s + this.offset.parent.left * s - ("fixed" === this.cssPosition ? -this.scrollParent.scrollLeft() : o ? 0 : n.scrollLeft()) * s
            }
        },
        _generatePosition: function (e) {
            var i, s, n = this.options,
                o = e.pageX,
                a = e.pageY,
                r = "absolute" !== this.cssPosition || this.scrollParent[0] !== document && t.contains(this.scrollParent[0], this.offsetParent[0]) ? this.scrollParent : this.offsetParent,
                h = /(html|body)/i.test(r[0].tagName);
            return "relative" !== this.cssPosition || this.scrollParent[0] !== document && this.scrollParent[0] !== this.offsetParent[0] || (this.offset.relative = this._getRelativeOffset()), this.originalPosition && (this.containment && (e.pageX - this.offset.click.left < this.containment[0] && (o = this.containment[0] + this.offset.click.left), e.pageY - this.offset.click.top < this.containment[1] && (a = this.containment[1] + this.offset.click.top), e.pageX - this.offset.click.left > this.containment[2] && (o = this.containment[2] + this.offset.click.left), e.pageY - this.offset.click.top > this.containment[3] && (a = this.containment[3] + this.offset.click.top)), n.grid && (i = this.originalPageY + Math.round((a - this.originalPageY) / n.grid[1]) * n.grid[1], a = this.containment ? i - this.offset.click.top >= this.containment[1] && i - this.offset.click.top <= this.containment[3] ? i : i - this.offset.click.top >= this.containment[1] ? i - n.grid[1] : i + n.grid[1] : i, s = this.originalPageX + Math.round((o - this.originalPageX) / n.grid[0]) * n.grid[0], o = this.containment ? s - this.offset.click.left >= this.containment[0] && s - this.offset.click.left <= this.containment[2] ? s : s - this.offset.click.left >= this.containment[0] ? s - n.grid[0] : s + n.grid[0] : s)), {
                top: a - this.offset.click.top - this.offset.relative.top - this.offset.parent.top + ("fixed" === this.cssPosition ? -this.scrollParent.scrollTop() : h ? 0 : r.scrollTop()),
                left: o - this.offset.click.left - this.offset.relative.left - this.offset.parent.left + ("fixed" === this.cssPosition ? -this.scrollParent.scrollLeft() : h ? 0 : r.scrollLeft())
            }
        },
        _rearrange: function (t, e, i, s) {
            i ? i[0].appendChild(this.placeholder[0]) : e.item[0].parentNode.insertBefore(this.placeholder[0], "down" === this.direction ? e.item[0] : e.item[0].nextSibling), this.counter = this.counter ? ++this.counter : 1;
            var n = this.counter;
            this._delay(function () {
                n === this.counter && this.refreshPositions(!s)
            })
        },
        _clear: function (t, e) {
            function i(t, e, i) {
                return function (s) {
                    i._trigger(t, s, e._uiHash(e))
                }
            }
            this.reverting = !1;
            var s, n = [];
            if (!this._noFinalSort && this.currentItem.parent().length && this.placeholder.before(this.currentItem), this._noFinalSort = null, this.helper[0] === this.currentItem[0]) {
                for (s in this._storedCSS)("auto" === this._storedCSS[s] || "static" === this._storedCSS[s]) && (this._storedCSS[s] = "");
                this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper")
            } else this.currentItem.show();
            for (this.fromOutside && !e && n.push(function (t) {
                    this._trigger("receive", t, this._uiHash(this.fromOutside))
                }), !this.fromOutside && this.domPosition.prev === this.currentItem.prev().not(".ui-sortable-helper")[0] && this.domPosition.parent === this.currentItem.parent()[0] || e || n.push(function (t) {
                    this._trigger("update", t, this._uiHash())
                }), this !== this.currentContainer && (e || (n.push(function (t) {
                    this._trigger("remove", t, this._uiHash())
                }), n.push(function (t) {
                    return function (e) {
                        t._trigger("receive", e, this._uiHash(this))
                    }
                }.call(this, this.currentContainer)), n.push(function (t) {
                    return function (e) {
                        t._trigger("update", e, this._uiHash(this))
                    }
                }.call(this, this.currentContainer)))), s = this.containers.length - 1; s >= 0; s--) e || n.push(i("deactivate", this, this.containers[s])), this.containers[s].containerCache.over && (n.push(i("out", this, this.containers[s])), this.containers[s].containerCache.over = 0);
            if (this.storedCursor && (this.document.find("body").css("cursor", this.storedCursor), this.storedStylesheet.remove()), this._storedOpacity && this.helper.css("opacity", this._storedOpacity), this._storedZIndex && this.helper.css("zIndex", "auto" === this._storedZIndex ? "" : this._storedZIndex), this.dragging = !1, this.cancelHelperRemoval) {
                if (!e) {
                    for (this._trigger("beforeStop", t, this._uiHash()), s = 0; n.length > s; s++) n[s].call(this, t);
                    this._trigger("stop", t, this._uiHash())
                }
                return this.fromOutside = !1, !1
            }
            if (e || this._trigger("beforeStop", t, this._uiHash()), this.placeholder[0].parentNode.removeChild(this.placeholder[0]), this.helper[0] !== this.currentItem[0] && this.helper.remove(), this.helper = null, !e) {
                for (s = 0; n.length > s; s++) n[s].call(this, t);
                this._trigger("stop", t, this._uiHash())
            }
            return this.fromOutside = !1, !0
        },
        _trigger: function () {
            t.Widget.prototype._trigger.apply(this, arguments) === !1 && this.cancel()
        },
        _uiHash: function (e) {
            var i = e || this;
            return {
                helper: i.helper,
                placeholder: i.placeholder || t([]),
                position: i.position,
                originalPosition: i.originalPosition,
                offset: i.positionAbs,
                item: i.currentItem,
                sender: e ? e.element : null
            }
        }
    })
})(jQuery);
(function (t) {
    function e(t) {
        return function () {
            var e = this.element.val();
            t.apply(this, arguments), this._refresh(), e !== this.element.val() && this._trigger("change")
        }
    }
    t.widget("ui.spinner", {
        version: "1.10.4",
        defaultElement: "<input>",
        widgetEventPrefix: "spin",
        options: {
            culture: null,
            icons: {
                down: "ui-icon-triangle-1-s",
                up: "ui-icon-triangle-1-n"
            },
            incremental: !0,
            max: null,
            min: null,
            numberFormat: null,
            page: 10,
            step: 1,
            change: null,
            spin: null,
            start: null,
            stop: null
        },
        _create: function () {
            this._setOption("max", this.options.max), this._setOption("min", this.options.min), this._setOption("step", this.options.step), "" !== this.value() && this._value(this.element.val(), !0), this._draw(), this._on(this._events), this._refresh(), this._on(this.window, {
                beforeunload: function () {
                    this.element.removeAttr("autocomplete")
                }
            })
        },
        _getCreateOptions: function () {
            var e = {},
                i = this.element;
            return t.each(["min", "max", "step"], function (t, s) {
                var n = i.attr(s);
                void 0 !== n && n.length && (e[s] = n)
            }), e
        },
        _events: {
            keydown: function (t) {
                this._start(t) && this._keydown(t) && t.preventDefault()
            },
            keyup: "_stop",
            focus: function () {
                this.previous = this.element.val()
            },
            blur: function (t) {
                return this.cancelBlur ? (delete this.cancelBlur, void 0) : (this._stop(), this._refresh(), this.previous !== this.element.val() && this._trigger("change", t), void 0)
            },
            mousewheel: function (t, e) {
                if (e) {
                    if (!this.spinning && !this._start(t)) return !1;
                    this._spin((e > 0 ? 1 : -1) * this.options.step, t), clearTimeout(this.mousewheelTimer), this.mousewheelTimer = this._delay(function () {
                        this.spinning && this._stop(t)
                    }, 100), t.preventDefault()
                }
            },
            "mousedown .ui-spinner-button": function (e) {
                function i() {
                    var t = this.element[0] === this.document[0].activeElement;
                    t || (this.element.focus(), this.previous = s, this._delay(function () {
                        this.previous = s
                    }))
                }
                var s;
                s = this.element[0] === this.document[0].activeElement ? this.previous : this.element.val(), e.preventDefault(), i.call(this), this.cancelBlur = !0, this._delay(function () {
                    delete this.cancelBlur, i.call(this)
                }), this._start(e) !== !1 && this._repeat(null, t(e.currentTarget).hasClass("ui-spinner-up") ? 1 : -1, e)
            },
            "mouseup .ui-spinner-button": "_stop",
            "mouseenter .ui-spinner-button": function (e) {
                return t(e.currentTarget).hasClass("ui-state-active") ? this._start(e) === !1 ? !1 : (this._repeat(null, t(e.currentTarget).hasClass("ui-spinner-up") ? 1 : -1, e), void 0) : void 0
            },
            "mouseleave .ui-spinner-button": "_stop"
        },
        _draw: function () {
            var t = this.uiSpinner = this.element.addClass("ui-spinner-input").attr("autocomplete", "off").wrap(this._uiSpinnerHtml()).parent().append(this._buttonHtml());
            this.element.attr("role", "spinbutton"), this.buttons = t.find(".ui-spinner-button").attr("tabIndex", -1).button().removeClass("ui-corner-all"), this.buttons.height() > Math.ceil(.5 * t.height()) && t.height() > 0 && t.height(t.height()), this.options.disabled && this.disable()
        },
        _keydown: function (e) {
            var i = this.options,
                s = t.ui.keyCode;
            switch (e.keyCode) {
                case s.UP:
                    return this._repeat(null, 1, e), !0;
                case s.DOWN:
                    return this._repeat(null, -1, e), !0;
                case s.PAGE_UP:
                    return this._repeat(null, i.page, e), !0;
                case s.PAGE_DOWN:
                    return this._repeat(null, -i.page, e), !0
            }
            return !1
        },
        _uiSpinnerHtml: function () {
            return "<span class='ui-spinner ui-widget ui-widget-content ui-corner-all'></span>"
        },
        _buttonHtml: function () {
            return "<a class='ui-spinner-button ui-spinner-up ui-corner-tr'><span class='ui-icon " + this.options.icons.up + "'>&#9650;</span>" + "</a>" + "<a class='ui-spinner-button ui-spinner-down ui-corner-br'>" + "<span class='ui-icon " + this.options.icons.down + "'>&#9660;</span>" + "</a>"
        },
        _start: function (t) {
            return this.spinning || this._trigger("start", t) !== !1 ? (this.counter || (this.counter = 1), this.spinning = !0, !0) : !1
        },
        _repeat: function (t, e, i) {
            t = t || 500, clearTimeout(this.timer), this.timer = this._delay(function () {
                this._repeat(40, e, i)
            }, t), this._spin(e * this.options.step, i)
        },
        _spin: function (t, e) {
            var i = this.value() || 0;
            this.counter || (this.counter = 1), i = this._adjustValue(i + t * this._increment(this.counter)), this.spinning && this._trigger("spin", e, {
                value: i
            }) === !1 || (this._value(i), this.counter++)
        },
        _increment: function (e) {
            var i = this.options.incremental;
            return i ? t.isFunction(i) ? i(e) : Math.floor(e * e * e / 5e4 - e * e / 500 + 17 * e / 200 + 1) : 1
        },
        _precision: function () {
            var t = this._precisionOf(this.options.step);
            return null !== this.options.min && (t = Math.max(t, this._precisionOf(this.options.min))), t
        },
        _precisionOf: function (t) {
            var e = "" + t,
                i = e.indexOf(".");
            return -1 === i ? 0 : e.length - i - 1
        },
        _adjustValue: function (t) {
            var e, i, s = this.options;
            return e = null !== s.min ? s.min : 0, i = t - e, i = Math.round(i / s.step) * s.step, t = e + i, t = parseFloat(t.toFixed(this._precision())), null !== s.max && t > s.max ? s.max : null !== s.min && s.min > t ? s.min : t
        },
        _stop: function (t) {
            this.spinning && (clearTimeout(this.timer), clearTimeout(this.mousewheelTimer), this.counter = 0, this.spinning = !1, this._trigger("stop", t))
        },
        _setOption: function (t, e) {
            if ("culture" === t || "numberFormat" === t) {
                var i = this._parse(this.element.val());
                return this.options[t] = e, this.element.val(this._format(i)), void 0
            }("max" === t || "min" === t || "step" === t) && "string" == typeof e && (e = this._parse(e)), "icons" === t && (this.buttons.first().find(".ui-icon").removeClass(this.options.icons.up).addClass(e.up), this.buttons.last().find(".ui-icon").removeClass(this.options.icons.down).addClass(e.down)), this._super(t, e), "disabled" === t && (e ? (this.element.prop("disabled", !0), this.buttons.button("disable")) : (this.element.prop("disabled", !1), this.buttons.button("enable")))
        },
        _setOptions: e(function (t) {
            this._super(t), this._value(this.element.val())
        }),
        _parse: function (t) {
            return "string" == typeof t && "" !== t && (t = window.Globalize && this.options.numberFormat ? Globalize.parseFloat(t, 10, this.options.culture) : +t), "" === t || isNaN(t) ? null : t
        },
        _format: function (t) {
            return "" === t ? "" : window.Globalize && this.options.numberFormat ? Globalize.format(t, this.options.numberFormat, this.options.culture) : t
        },
        _refresh: function () {
            this.element.attr({
                "aria-valuemin": this.options.min,
                "aria-valuemax": this.options.max,
                "aria-valuenow": this._parse(this.element.val())
            })
        },
        _value: function (t, e) {
            var i;
            "" !== t && (i = this._parse(t), null !== i && (e || (i = this._adjustValue(i)), t = this._format(i))), this.element.val(t), this._refresh()
        },
        _destroy: function () {
            this.element.removeClass("ui-spinner-input").prop("disabled", !1).removeAttr("autocomplete").removeAttr("role").removeAttr("aria-valuemin").removeAttr("aria-valuemax").removeAttr("aria-valuenow"), this.uiSpinner.replaceWith(this.element)
        },
        stepUp: e(function (t) {
            this._stepUp(t)
        }),
        _stepUp: function (t) {
            this._start() && (this._spin((t || 1) * this.options.step), this._stop())
        },
        stepDown: e(function (t) {
            this._stepDown(t)
        }),
        _stepDown: function (t) {
            this._start() && (this._spin((t || 1) * -this.options.step), this._stop())
        },
        pageUp: e(function (t) {
            this._stepUp((t || 1) * this.options.page)
        }),
        pageDown: e(function (t) {
            this._stepDown((t || 1) * this.options.page)
        }),
        value: function (t) {
            return arguments.length ? (e(this._value).call(this, t), void 0) : this._parse(this.element.val())
        },
        widget: function () {
            return this.uiSpinner
        }
    })
})(jQuery);
(function (t, e) {
    function i() {
        return ++n
    }

    function s(t) {
        return t = t.cloneNode(!1), t.hash.length > 1 && decodeURIComponent(t.href.replace(a, "")) === decodeURIComponent(location.href.replace(a, ""))
    }
    var n = 0,
        a = /#.*$/;
    t.widget("ui.tabs", {
        version: "1.10.4",
        delay: 300,
        options: {
            active: null,
            collapsible: !1,
            event: "click",
            heightStyle: "content",
            hide: null,
            show: null,
            activate: null,
            beforeActivate: null,
            beforeLoad: null,
            load: null
        },
        _create: function () {
            var e = this,
                i = this.options;
            this.running = !1, this.element.addClass("ui-tabs ui-widget ui-widget-content ui-corner-all").toggleClass("ui-tabs-collapsible", i.collapsible).delegate(".ui-tabs-nav > li", "mousedown" + this.eventNamespace, function (e) {
                t(this).is(".ui-state-disabled") && e.preventDefault()
            }).delegate(".ui-tabs-anchor", "focus" + this.eventNamespace, function () {
                t(this).closest("li").is(".ui-state-disabled") && this.blur()
            }), this._processTabs(), i.active = this._initialActive(), t.isArray(i.disabled) && (i.disabled = t.unique(i.disabled.concat(t.map(this.tabs.filter(".ui-state-disabled"), function (t) {
                return e.tabs.index(t)
            }))).sort()), this.active = this.options.active !== !1 && this.anchors.length ? this._findActive(i.active) : t(), this._refresh(), this.active.length && this.load(i.active)
        },
        _initialActive: function () {
            var i = this.options.active,
                s = this.options.collapsible,
                n = location.hash.substring(1);
            return null === i && (n && this.tabs.each(function (s, a) {
                return t(a).attr("aria-controls") === n ? (i = s, !1) : e
            }), null === i && (i = this.tabs.index(this.tabs.filter(".ui-tabs-active"))), (null === i || -1 === i) && (i = this.tabs.length ? 0 : !1)), i !== !1 && (i = this.tabs.index(this.tabs.eq(i)), -1 === i && (i = s ? !1 : 0)), !s && i === !1 && this.anchors.length && (i = 0), i
        },
        _getCreateEventData: function () {
            return {
                tab: this.active,
                panel: this.active.length ? this._getPanelForTab(this.active) : t()
            }
        },
        _tabKeydown: function (i) {
            var s = t(this.document[0].activeElement).closest("li"),
                n = this.tabs.index(s),
                a = !0;
            if (!this._handlePageNav(i)) {
                switch (i.keyCode) {
                    case t.ui.keyCode.RIGHT:
                    case t.ui.keyCode.DOWN:
                        n++;
                        break;
                    case t.ui.keyCode.UP:
                    case t.ui.keyCode.LEFT:
                        a = !1, n--;
                        break;
                    case t.ui.keyCode.END:
                        n = this.anchors.length - 1;
                        break;
                    case t.ui.keyCode.HOME:
                        n = 0;
                        break;
                    case t.ui.keyCode.SPACE:
                        return i.preventDefault(), clearTimeout(this.activating), this._activate(n), e;
                    case t.ui.keyCode.ENTER:
                        return i.preventDefault(), clearTimeout(this.activating), this._activate(n === this.options.active ? !1 : n), e;
                    default:
                        return
                }
                i.preventDefault(), clearTimeout(this.activating), n = this._focusNextTab(n, a), i.ctrlKey || (s.attr("aria-selected", "false"), this.tabs.eq(n).attr("aria-selected", "true"), this.activating = this._delay(function () {
                    this.option("active", n)
                }, this.delay))
            }
        },
        _panelKeydown: function (e) {
            this._handlePageNav(e) || e.ctrlKey && e.keyCode === t.ui.keyCode.UP && (e.preventDefault(), this.active.focus())
        },
        _handlePageNav: function (i) {
            return i.altKey && i.keyCode === t.ui.keyCode.PAGE_UP ? (this._activate(this._focusNextTab(this.options.active - 1, !1)), !0) : i.altKey && i.keyCode === t.ui.keyCode.PAGE_DOWN ? (this._activate(this._focusNextTab(this.options.active + 1, !0)), !0) : e
        },
        _findNextTab: function (e, i) {
            function s() {
                return e > n && (e = 0), 0 > e && (e = n), e
            }
            for (var n = this.tabs.length - 1; - 1 !== t.inArray(s(), this.options.disabled);) e = i ? e + 1 : e - 1;
            return e
        },
        _focusNextTab: function (t, e) {
            return t = this._findNextTab(t, e), this.tabs.eq(t).focus(), t
        },
        _setOption: function (t, i) {
            return "active" === t ? (this._activate(i), e) : "disabled" === t ? (this._setupDisabled(i), e) : (this._super(t, i), "collapsible" === t && (this.element.toggleClass("ui-tabs-collapsible", i), i || this.options.active !== !1 || this._activate(0)), "event" === t && this._setupEvents(i), "heightStyle" === t && this._setupHeightStyle(i), e)
        },
        _tabId: function (t) {
            return t.attr("aria-controls") || "ui-tabs-" + i()
        },
        _sanitizeSelector: function (t) {
            return t ? t.replace(/[!"$%&'()*+,.\/:;<=>?@\[\]\^`{|}~]/g, "\\$&") : ""
        },
        refresh: function () {
            var e = this.options,
                i = this.tablist.children(":has(a[href])");
            e.disabled = t.map(i.filter(".ui-state-disabled"), function (t) {
                return i.index(t)
            }), this._processTabs(), e.active !== !1 && this.anchors.length ? this.active.length && !t.contains(this.tablist[0], this.active[0]) ? this.tabs.length === e.disabled.length ? (e.active = !1, this.active = t()) : this._activate(this._findNextTab(Math.max(0, e.active - 1), !1)) : e.active = this.tabs.index(this.active) : (e.active = !1, this.active = t()), this._refresh()
        },
        _refresh: function () {
            this._setupDisabled(this.options.disabled), this._setupEvents(this.options.event), this._setupHeightStyle(this.options.heightStyle), this.tabs.not(this.active).attr({
                "aria-selected": "false",
                tabIndex: -1
            }), this.panels.not(this._getPanelForTab(this.active)).hide().attr({
                "aria-expanded": "false",
                "aria-hidden": "true"
            }), this.active.length ? (this.active.addClass("ui-tabs-active ui-state-active").attr({
                "aria-selected": "true",
                tabIndex: 0
            }), this._getPanelForTab(this.active).show().attr({
                "aria-expanded": "true",
                "aria-hidden": "false"
            })) : this.tabs.eq(0).attr("tabIndex", 0)
        },
        _processTabs: function () {
            var e = this;
            this.tablist = this._getList().addClass("ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all").attr("role", "tablist"), this.tabs = this.tablist.find("> li:has(a[href])").addClass("ui-state-default ui-corner-top").attr({
                role: "tab",
                tabIndex: -1
            }), this.anchors = this.tabs.map(function () {
                return t("a", this)[0]
            }).addClass("ui-tabs-anchor").attr({
                role: "presentation",
                tabIndex: -1
            }), this.panels = t(), this.anchors.each(function (i, n) {
                var a, o, r, h = t(n).uniqueId().attr("id"),
                    l = t(n).closest("li"),
                    c = l.attr("aria-controls");
                s(n) ? (a = n.hash, o = e.element.find(e._sanitizeSelector(a))) : (r = e._tabId(l), a = "#" + r, o = e.element.find(a), o.length || (o = e._createPanel(r), o.insertAfter(e.panels[i - 1] || e.tablist)), o.attr("aria-live", "polite")), o.length && (e.panels = e.panels.add(o)), c && l.data("ui-tabs-aria-controls", c), l.attr({
                    "aria-controls": a.substring(1),
                    "aria-labelledby": h
                }), o.attr("aria-labelledby", h)
            }), this.panels.addClass("ui-tabs-panel ui-widget-content ui-corner-bottom").attr("role", "tabpanel")
        },
        _getList: function () {
            return this.tablist || this.element.find("ol,ul").eq(0)
        },
        _createPanel: function (e) {
            return t("<div>").attr("id", e).addClass("ui-tabs-panel ui-widget-content ui-corner-bottom").data("ui-tabs-destroy", !0)
        },
        _setupDisabled: function (e) {
            t.isArray(e) && (e.length ? e.length === this.anchors.length && (e = !0) : e = !1);
            for (var i, s = 0; i = this.tabs[s]; s++) e === !0 || -1 !== t.inArray(s, e) ? t(i).addClass("ui-state-disabled").attr("aria-disabled", "true") : t(i).removeClass("ui-state-disabled").removeAttr("aria-disabled");
            this.options.disabled = e
        },
        _setupEvents: function (e) {
            var i = {
                click: function (t) {
                    t.preventDefault()
                }
            };
            e && t.each(e.split(" "), function (t, e) {
                i[e] = "_eventHandler"
            }), this._off(this.anchors.add(this.tabs).add(this.panels)), this._on(this.anchors, i), this._on(this.tabs, {
                keydown: "_tabKeydown"
            }), this._on(this.panels, {
                keydown: "_panelKeydown"
            }), this._focusable(this.tabs), this._hoverable(this.tabs)
        },
        _setupHeightStyle: function (e) {
            var i, s = this.element.parent();
            "fill" === e ? (i = s.height(), i -= this.element.outerHeight() - this.element.height(), this.element.siblings(":visible").each(function () {
                var e = t(this),
                    s = e.css("position");
                "absolute" !== s && "fixed" !== s && (i -= e.outerHeight(!0))
            }), this.element.children().not(this.panels).each(function () {
                i -= t(this).outerHeight(!0)
            }), this.panels.each(function () {
                t(this).height(Math.max(0, i - t(this).innerHeight() + t(this).height()))
            }).css("overflow", "auto")) : "auto" === e && (i = 0, this.panels.each(function () {
                i = Math.max(i, t(this).height("").height())
            }).height(i))
        },
        _eventHandler: function (e) {
            var i = this.options,
                s = this.active,
                n = t(e.currentTarget),
                a = n.closest("li"),
                o = a[0] === s[0],
                r = o && i.collapsible,
                h = r ? t() : this._getPanelForTab(a),
                l = s.length ? this._getPanelForTab(s) : t(),
                c = {
                    oldTab: s,
                    oldPanel: l,
                    newTab: r ? t() : a,
                    newPanel: h
                };
            e.preventDefault(), a.hasClass("ui-state-disabled") || a.hasClass("ui-tabs-loading") || this.running || o && !i.collapsible || this._trigger("beforeActivate", e, c) === !1 || (i.active = r ? !1 : this.tabs.index(a), this.active = o ? t() : a, this.xhr && this.xhr.abort(), l.length || h.length || t.error("jQuery UI Tabs: Mismatching fragment identifier."), h.length && this.load(this.tabs.index(a), e), this._toggle(e, c))
        },
        _toggle: function (e, i) {
            function s() {
                a.running = !1, a._trigger("activate", e, i)
            }

            function n() {
                i.newTab.closest("li").addClass("ui-tabs-active ui-state-active"), o.length && a.options.show ? a._show(o, a.options.show, s) : (o.show(), s())
            }
            var a = this,
                o = i.newPanel,
                r = i.oldPanel;
            this.running = !0, r.length && this.options.hide ? this._hide(r, this.options.hide, function () {
                i.oldTab.closest("li").removeClass("ui-tabs-active ui-state-active"), n()
            }) : (i.oldTab.closest("li").removeClass("ui-tabs-active ui-state-active"), r.hide(), n()), r.attr({
                "aria-expanded": "false",
                "aria-hidden": "true"
            }), i.oldTab.attr("aria-selected", "false"), o.length && r.length ? i.oldTab.attr("tabIndex", -1) : o.length && this.tabs.filter(function () {
                return 0 === t(this).attr("tabIndex")
            }).attr("tabIndex", -1), o.attr({
                "aria-expanded": "true",
                "aria-hidden": "false"
            }), i.newTab.attr({
                "aria-selected": "true",
                tabIndex: 0
            })
        },
        _activate: function (e) {
            var i, s = this._findActive(e);
            s[0] !== this.active[0] && (s.length || (s = this.active), i = s.find(".ui-tabs-anchor")[0], this._eventHandler({
                target: i,
                currentTarget: i,
                preventDefault: t.noop
            }))
        },
        _findActive: function (e) {
            return e === !1 ? t() : this.tabs.eq(e)
        },
        _getIndex: function (t) {
            return "string" == typeof t && (t = this.anchors.index(this.anchors.filter("[href$='" + t + "']"))), t
        },
        _destroy: function () {
            this.xhr && this.xhr.abort(), this.element.removeClass("ui-tabs ui-widget ui-widget-content ui-corner-all ui-tabs-collapsible"), this.tablist.removeClass("ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all").removeAttr("role"), this.anchors.removeClass("ui-tabs-anchor").removeAttr("role").removeAttr("tabIndex").removeUniqueId(), this.tabs.add(this.panels).each(function () {
                t.data(this, "ui-tabs-destroy") ? t(this).remove() : t(this).removeClass("ui-state-default ui-state-active ui-state-disabled ui-corner-top ui-corner-bottom ui-widget-content ui-tabs-active ui-tabs-panel").removeAttr("tabIndex").removeAttr("aria-live").removeAttr("aria-busy").removeAttr("aria-selected").removeAttr("aria-labelledby").removeAttr("aria-hidden").removeAttr("aria-expanded").removeAttr("role")
            }), this.tabs.each(function () {
                var e = t(this),
                    i = e.data("ui-tabs-aria-controls");
                i ? e.attr("aria-controls", i).removeData("ui-tabs-aria-controls") : e.removeAttr("aria-controls")
            }), this.panels.show(), "content" !== this.options.heightStyle && this.panels.css("height", "")
        },
        enable: function (i) {
            var s = this.options.disabled;
            s !== !1 && (i === e ? s = !1 : (i = this._getIndex(i), s = t.isArray(s) ? t.map(s, function (t) {
                return t !== i ? t : null
            }) : t.map(this.tabs, function (t, e) {
                return e !== i ? e : null
            })), this._setupDisabled(s))
        },
        disable: function (i) {
            var s = this.options.disabled;
            if (s !== !0) {
                if (i === e) s = !0;
                else {
                    if (i = this._getIndex(i), -1 !== t.inArray(i, s)) return;
                    s = t.isArray(s) ? t.merge([i], s).sort() : [i]
                }
                this._setupDisabled(s)
            }
        },
        load: function (e, i) {
            e = this._getIndex(e);
            var n = this,
                a = this.tabs.eq(e),
                o = a.find(".ui-tabs-anchor"),
                r = this._getPanelForTab(a),
                h = {
                    tab: a,
                    panel: r
                };
            s(o[0]) || (this.xhr = t.ajax(this._ajaxSettings(o, i, h)), this.xhr && "canceled" !== this.xhr.statusText && (a.addClass("ui-tabs-loading"), r.attr("aria-busy", "true"), this.xhr.success(function (t) {
                setTimeout(function () {
                    r.html(t), n._trigger("load", i, h)
                }, 1)
            }).complete(function (t, e) {
                setTimeout(function () {
                    "abort" === e && n.panels.stop(!1, !0), a.removeClass("ui-tabs-loading"), r.removeAttr("aria-busy"), t === n.xhr && delete n.xhr
                }, 1)
            })))
        },
        _ajaxSettings: function (e, i, s) {
            var n = this;
            return {
                url: e.attr("href"),
                beforeSend: function (e, a) {
                    return n._trigger("beforeLoad", i, t.extend({
                        jqXHR: e,
                        ajaxSettings: a
                    }, s))
                }
            }
        },
        _getPanelForTab: function (e) {
            var i = t(e).attr("aria-controls");
            return this.element.find(this._sanitizeSelector("#" + i))
        }
    })
})(jQuery);
(function (t) {
    function e(e, i) {
        var s = (e.attr("aria-describedby") || "").split(/\s+/);
        s.push(i), e.data("ui-tooltip-id", i).attr("aria-describedby", t.trim(s.join(" ")))
    }

    function i(e) {
        var i = e.data("ui-tooltip-id"),
            s = (e.attr("aria-describedby") || "").split(/\s+/),
            n = t.inArray(i, s); - 1 !== n && s.splice(n, 1), e.removeData("ui-tooltip-id"), s = t.trim(s.join(" ")), s ? e.attr("aria-describedby", s) : e.removeAttr("aria-describedby")
    }
    var s = 0;
    t.widget("ui.tooltip", {
        version: "1.10.4",
        options: {
            content: function () {
                var e = t(this).attr("title") || "";
                return t("<a>").text(e).html()
            },
            hide: !0,
            items: "[title]:not([disabled])",
            position: {
                my: "left top+15",
                at: "left bottom",
                collision: "flipfit flip"
            },
            show: !0,
            tooltipClass: null,
            track: !1,
            close: null,
            open: null
        },
        _create: function () {
            this._on({
                mouseover: "open",
                focusin: "open"
            }), this.tooltips = {}, this.parents = {}, this.options.disabled && this._disable()
        },
        _setOption: function (e, i) {
            var s = this;
            return "disabled" === e ? (this[i ? "_disable" : "_enable"](), this.options[e] = i, void 0) : (this._super(e, i), "content" === e && t.each(this.tooltips, function (t, e) {
                s._updateContent(e)
            }), void 0)
        },
        _disable: function () {
            var e = this;
            t.each(this.tooltips, function (i, s) {
                var n = t.Event("blur");
                n.target = n.currentTarget = s[0], e.close(n, !0)
            }), this.element.find(this.options.items).addBack().each(function () {
                var e = t(this);
                e.is("[title]") && e.data("ui-tooltip-title", e.attr("title")).attr("title", "")
            })
        },
        _enable: function () {
            this.element.find(this.options.items).addBack().each(function () {
                var e = t(this);
                e.data("ui-tooltip-title") && e.attr("title", e.data("ui-tooltip-title"))
            })
        },
        open: function (e) {
            var i = this,
                s = t(e ? e.target : this.element).closest(this.options.items);
            s.length && !s.data("ui-tooltip-id") && (s.attr("title") && s.data("ui-tooltip-title", s.attr("title")), s.data("ui-tooltip-open", !0), e && "mouseover" === e.type && s.parents().each(function () {
                var e, s = t(this);
                s.data("ui-tooltip-open") && (e = t.Event("blur"), e.target = e.currentTarget = this, i.close(e, !0)), s.attr("title") && (s.uniqueId(), i.parents[this.id] = {
                    element: this,
                    title: s.attr("title")
                }, s.attr("title", ""))
            }), this._updateContent(s, e))
        },
        _updateContent: function (t, e) {
            var i, s = this.options.content,
                n = this,
                o = e ? e.type : null;
            return "string" == typeof s ? this._open(e, t, s) : (i = s.call(t[0], function (i) {
                t.data("ui-tooltip-open") && n._delay(function () {
                    e && (e.type = o), this._open(e, t, i)
                })
            }), i && this._open(e, t, i), void 0)
        },
        _open: function (i, s, n) {
            function o(t) {
                l.of = t, a.is(":hidden") || a.position(l)
            }
            var a, r, h, l = t.extend({}, this.options.position);
            if (n) {
                if (a = this._find(s), a.length) return a.find(".ui-tooltip-content").html(n), void 0;
                s.is("[title]") && (i && "mouseover" === i.type ? s.attr("title", "") : s.removeAttr("title")), a = this._tooltip(s), e(s, a.attr("id")), a.find(".ui-tooltip-content").html(n), this.options.track && i && /^mouse/.test(i.type) ? (this._on(this.document, {
                    mousemove: o
                }), o(i)) : a.position(t.extend({
                    of: s
                }, this.options.position)), a.hide(), this._show(a, this.options.show), this.options.show && this.options.show.delay && (h = this.delayedShow = setInterval(function () {
                    a.is(":visible") && (o(l.of), clearInterval(h))
                }, t.fx.interval)), this._trigger("open", i, {
                    tooltip: a
                }), r = {
                    keyup: function (e) {
                        if (e.keyCode === t.ui.keyCode.ESCAPE) {
                            var i = t.Event(e);
                            i.currentTarget = s[0], this.close(i, !0)
                        }
                    },
                    remove: function () {
                        this._removeTooltip(a)
                    }
                }, i && "mouseover" !== i.type || (r.mouseleave = "close"), i && "focusin" !== i.type || (r.focusout = "close"), this._on(!0, s, r)
            }
        },
        close: function (e) {
            var s = this,
                n = t(e ? e.currentTarget : this.element),
                o = this._find(n);
            this.closing || (clearInterval(this.delayedShow), n.data("ui-tooltip-title") && n.attr("title", n.data("ui-tooltip-title")), i(n), o.stop(!0), this._hide(o, this.options.hide, function () {
                s._removeTooltip(t(this))
            }), n.removeData("ui-tooltip-open"), this._off(n, "mouseleave focusout keyup"), n[0] !== this.element[0] && this._off(n, "remove"), this._off(this.document, "mousemove"), e && "mouseleave" === e.type && t.each(this.parents, function (e, i) {
                t(i.element).attr("title", i.title), delete s.parents[e]
            }), this.closing = !0, this._trigger("close", e, {
                tooltip: o
            }), this.closing = !1)
        },
        _tooltip: function (e) {
            var i = "ui-tooltip-" + s++,
                n = t("<div>").attr({
                    id: i,
                    role: "tooltip"
                }).addClass("ui-tooltip ui-widget ui-corner-all ui-widget-content " + (this.options.tooltipClass || ""));
            return t("<div>").addClass("ui-tooltip-content").appendTo(n), n.appendTo(this.document[0].body), this.tooltips[i] = e, n
        },
        _find: function (e) {
            var i = e.data("ui-tooltip-id");
            return i ? t("#" + i) : t()
        },
        _removeTooltip: function (t) {
            t.remove(), delete this.tooltips[t.attr("id")]
        },
        _destroy: function () {
            var e = this;
            t.each(this.tooltips, function (i, s) {
                var n = t.Event("blur");
                n.target = n.currentTarget = s[0], e.close(n, !0), t("#" + i).remove(), s.data("ui-tooltip-title") && (s.attr("title", s.data("ui-tooltip-title")), s.removeData("ui-tooltip-title"))
            })
        }
    })
})(jQuery);

/* w2ui 1.5.x (nightly) (c) http://w2ui.com, vitmalina@gmail.com */
var w2ui = w2ui || {},
    w2obj = w2obj || {},
    w2utils = function (a) {
        function b(a) {
            var b = /^[0-1]+$/;
            return b.test(a)
        }

        function c(a) {
            var b = /^[-+]?[0-9]+$/;
            return b.test(a)
        }

        function d(a) {
            return "string" == typeof a && (a = a.replace(/\s+/g, "").replace(w2utils.settings.groupSymbol, "").replace(w2utils.settings.decimalSymbol, ".")), ("number" == typeof a || "string" == typeof a && "" !== a) && !isNaN(Number(a))
        }

        function e(a) {
            var b = w2utils.settings,
                c = new RegExp("^" + (b.currencyPrefix ? "\\" + b.currencyPrefix + "?" : "") + "[-+]?" + (b.currencyPrefix ? "\\" + b.currencyPrefix + "?" : "") + "[0-9]*[\\" + b.decimalSymbol + "]?[0-9]+" + (b.currencySuffix ? "\\" + b.currencySuffix + "?" : "") + "$", "i");
            return "string" == typeof a && (a = a.replace(new RegExp(b.groupSymbol, "g"), "")), "object" != typeof a && "" !== a && c.test(a)
        }

        function f(a) {
            var b = /^(0x)?[0-9a-fA-F]+$/;
            return b.test(a)
        }

        function g(a) {
            var b = /^[a-zA-Z0-9_-]+$/;
            return b.test(a)
        }

        function h(a) {
            var b = /^[a-zA-Z0-9._%\-+]+@[а-яА-Яa-zA-Z0-9.-]+\.[а-яА-Яa-zA-Z]+$/;
            return b.test(a)
        }

        function i(a) {
            var b = new RegExp("^((25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?).){3}(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)$");
            return b.test(a)
        }

        function j(a, b, d) {
            if (!a) return !1;
            var e, f, g, h = "Invalid Date";
            if (null == b && (b = w2utils.settings.dateFormat), "function" == typeof a.getUTCFullYear) g = a.getUTCFullYear(), e = a.getUTCMonth() + 1, f = a.getUTCDate();
            else if (parseInt(a) == a && parseInt(a) > 0) a = new Date(parseInt(a)), g = a.getUTCFullYear(), e = a.getUTCMonth() + 1, f = a.getUTCDate();
            else {
                if ("Invalid Date" != String(new Date(a))) return a = new Date(a), d !== !0 || a;
                if (a = String(a), new RegExp("mon", "ig").test(b)) {
                    b = b.replace(/month/gi, "m").replace(/mon/gi, "m").replace(/dd/gi, "d").replace(/[, ]/gi, "/").replace(/\/\//g, "/").toLowerCase(), a = a.replace(/[, ]/gi, "/").replace(/\/\//g, "/").toLowerCase();
                    for (var i = 0, j = w2utils.settings.fullmonths.length; i < j; i++) {
                        var k = w2utils.settings.fullmonths[i];
                        a = a.replace(new RegExp(k, "ig"), parseInt(i) + 1).replace(new RegExp(k.substr(0, 3), "ig"), parseInt(i) + 1)
                    }
                }
                var l = a.replace(/-/g, "/").replace(/\./g, "/").toLowerCase().split("/"),
                    m = b.replace(/-/g, "/").replace(/\./g, "/").toLowerCase();
                "mm/dd/yyyy" === m && (e = l[0], f = l[1], g = l[2]), "m/d/yyyy" === m && (e = l[0], f = l[1], g = l[2]), "dd/mm/yyyy" === m && (e = l[1], f = l[0], g = l[2]), "d/m/yyyy" === m && (e = l[1], f = l[0], g = l[2]), "yyyy/dd/mm" === m && (e = l[2], f = l[1], g = l[0]), "yyyy/d/m" === m && (e = l[2], f = l[1], g = l[0]), "yyyy/mm/dd" === m && (e = l[1], f = l[2], g = l[0]), "yyyy/m/d" === m && (e = l[1], f = l[2], g = l[0]), "mm/dd/yy" === m && (e = l[0], f = l[1], g = l[2]), "m/d/yy" === m && (e = l[0], f = l[1], g = parseInt(l[2]) + 1900), "dd/mm/yy" === m && (e = l[1], f = l[0], g = parseInt(l[2]) + 1900), "d/m/yy" === m && (e = l[1], f = l[0], g = parseInt(l[2]) + 1900), "yy/dd/mm" === m && (e = l[2], f = l[1], g = parseInt(l[0]) + 1900), "yy/d/m" === m && (e = l[2], f = l[1], g = parseInt(l[0]) + 1900), "yy/mm/dd" === m && (e = l[1], f = l[2], g = parseInt(l[0]) + 1900), "yy/m/d" === m && (e = l[1], f = l[2], g = parseInt(l[0]) + 1900)
            }
            return !!c(g) && (!!c(e) && (!!c(f) && (g = +g, e = +e, f = +f, h = new Date(g, e - 1, f), null != e && ("Invalid Date" !== String(h) && (h.getMonth() + 1 === e && h.getDate() === f && h.getFullYear() === g && (d !== !0 || h))))))
        }

        function k(b, c) {
            if (null == b) return !1;
            var d, e, f;
            b = String(b), b = b.toUpperCase(), e = b.indexOf("AM") >= 0, f = b.indexOf("PM") >= 0;
            var g = f || e;
            d = g ? 12 : 24, b = b.replace("AM", "").replace("PM", ""), b = a.trim(b);
            var h = b.split(":"),
                i = parseInt(h[0] || 0),
                j = parseInt(h[1] || 0),
                k = parseInt(h[2] || 0);
            return !!(g && 1 === h.length || 2 === h.length || 3 === h.length) && (!("" === h[0] || i < 0 || i > d || !this.isInt(h[0]) || h[0].length > 2) && (!(h.length > 1 && ("" === h[1] || j < 0 || j > 59 || !this.isInt(h[1]) || 2 !== h[1].length)) && (!(h.length > 2 && ("" === h[2] || k < 0 || k > 59 || !this.isInt(h[2]) || 2 !== h[2].length)) && (!!(g || d !== i || 0 === j && 0 === k) && ((!g || 1 !== h.length || 0 !== i) && (c !== !0 || (f && 12 !== i && (i += 12), e && 12 === i && (i += 12), {
                hours: i,
                minutes: j,
                seconds: k
            })))))))
        }

        function l(a, b, c) {
            null == b && (b = w2utils.settings.datetimeFormat);
            var d = b.split("|");
            if ("function" == typeof a.getUTCFullYear) return c !== !0 || a;
            if (parseInt(a) === a && parseInt(a) >= 0) return a = new Date(parseInt(a)), c !== !0 || a;
            if (parseInt(a) === a && parseInt(a) < 0) return !1;
            if ("Invalid Date" != String(new Date(a))) return a = new Date(a), c !== !0 || a;
            var e = String(a).indexOf(" "),
                f = [a.substr(0, e), a.substr(e).trim()];
            d[0] = d[0].trim(), d[1] && (d[1] = d[1].trim());
            var g = w2utils.isDate(f[0], d[0], !0),
                h = w2utils.isTime(f[1], !0);
            return g !== !1 && h !== !1 && (c !== !0 || (g.setHours(h.hours), g.setMinutes(h.minutes), g.setSeconds(h.seconds), g))
        }

        function m(a) {
            var b;
            if ("" === a || null == a) return "";
            if (b = "function" == typeof a.getUTCFullYear ? a : parseInt(a) == a && parseInt(a) > 0 ? new Date(parseInt(a)) : new Date(a), "Invalid Date" === String(b)) return "";
            var c = new Date,
                d = (c.getTime() - b.getTime()) / 1e3,
                e = "",
                f = "";
            return d < 0 ? (e = 0, f = "sec") : d < 60 ? (e = Math.floor(d), f = "sec", d < 0 && (e = 0, f = "sec")) : d < 3600 ? (e = Math.floor(d / 60), f = "min") : d < 86400 ? (e = Math.floor(d / 60 / 60), f = "hour") : d < 2592e3 ? (e = Math.floor(d / 24 / 60 / 60), f = "day") : d < 31536e3 ? (e = Math.floor(d / 30 / 24 / 60 / 60 * 10) / 10, f = "month") : d < 126144e3 ? (e = Math.floor(d / 365 / 24 / 60 / 60 * 10) / 10, f = "year") : d >= 126144e3 && (e = Math.floor(d / 365.25 / 24 / 60 / 60 * 10) / 10, f = "year"), e + " " + f + (e > 1 ? "s" : "")
        }

        function n(a) {
            var b = "";
            return b = a < 1e3 ? "< 1 sec" : a < 6e4 ? Math.floor(a / 1e3) + " secs" : a < 36e5 ? Math.floor(a / 6e4) + " mins" : a < 864e5 ? Math.floor(a / 36e5 * 10) / 10 + " hours" : a < 2628e6 ? Math.floor(a / 864e5 * 10) / 10 + " days" : a < 31536e6 ? Math.floor(a / 2628e6 * 10) / 10 + " months" : Math.floor(a / 31536e5) / 10 + " years"
        }

        function o(a) {
            if ("" === a || null == a || "object" == typeof a && !a.getMonth) return "";
            var b = new Date(a);
            if (w2utils.isInt(a) && (b = new Date(Number(a))), "Invalid Date" === String(b)) return "";
            var c = w2utils.settings.shortmonths,
                d = new Date,
                e = new Date;
            e.setTime(e.getTime() - 864e5);
            var f = c[b.getMonth()] + " " + b.getDate() + ", " + b.getFullYear(),
                g = c[d.getMonth()] + " " + d.getDate() + ", " + d.getFullYear(),
                h = c[e.getMonth()] + " " + e.getDate() + ", " + e.getFullYear(),
                i = b.getHours() - (b.getHours() > 12 ? 12 : 0) + ":" + (b.getMinutes() < 10 ? "0" : "") + b.getMinutes() + " " + (b.getHours() >= 12 ? "pm" : "am"),
                j = b.getHours() - (b.getHours() > 12 ? 12 : 0) + ":" + (b.getMinutes() < 10 ? "0" : "") + b.getMinutes() + ":" + (b.getSeconds() < 10 ? "0" : "") + b.getSeconds() + " " + (b.getHours() >= 12 ? "pm" : "am"),
                k = f;
            return f === g && (k = i), f === h && (k = w2utils.lang("Yesterday")), '<span title="' + f + " " + j + '">' + k + "</span>"
        }

        function p(a) {
            if (!w2utils.isFloat(a) || "" === a) return "";
            if (a = parseFloat(a), 0 === a) return 0;
            var b = ["Bt", "KB", "MB", "GB", "TB", "PB", "EB", "ZB"],
                c = parseInt(Math.floor(Math.log(a) / Math.log(1024)));
            return (Math.floor(a / Math.pow(1024, c) * 10) / 10).toFixed(0 === c ? 0 : 1) + " " + (b[c] || "??")
        }

        function q(a, b, c) {
            if (null == a || "" === a || "object" == typeof a) return "";
            var d = {
                minimumFractionDigits: b,
                maximumFractionDigits: b,
                useGrouping: c
            };
            return (null == b || b < 0) && (d.minimumFractionDigits = 0, d.maximumFractionDigits = 20), parseFloat(a).toLocaleString(w2utils.settings.locale, d)
        }

        function r(a, b) {
            if (b || (b = this.settings.dateFormat), "" === a || null == a || "object" == typeof a && !a.getMonth) return "";
            var c = new Date(a);
            if (w2utils.isInt(a) && (c = new Date(Number(a))), "Invalid Date" === String(c)) return "";
            var d = c.getFullYear(),
                e = c.getMonth(),
                f = c.getDate();
            return b.toLowerCase().replace("month", w2utils.settings.fullmonths[e]).replace("mon", w2utils.settings.shortmonths[e]).replace(/yyyy/g, d).replace(/yyy/g, d).replace(/yy/g, d > 2e3 ? 100 + parseInt(String(d).substr(2)) : String(d).substr(2)).replace(/(^|[^a-z$])y/g, "$1" + d).replace(/mm/g, (e + 1 < 10 ? "0" : "") + (e + 1)).replace(/dd/g, (f < 10 ? "0" : "") + f).replace(/th/g, 1 == f ? "st" : "th").replace(/th/g, 2 == f ? "nd" : "th").replace(/th/g, 3 == f ? "rd" : "th").replace(/(^|[^a-z$])m/g, "$1" + (e + 1)).replace(/(^|[^a-z$])d/g, "$1" + f)
        }

        function s(a, b) {
            w2utils.settings.shortmonths, w2utils.settings.fullmonths;
            if (b || (b = this.settings.timeFormat), "" === a || null == a || "object" == typeof a && !a.getMonth) return "";
            var c = new Date(a);
            if (w2utils.isInt(a) && (c = new Date(Number(a))), w2utils.isTime(a)) {
                var d = w2utils.isTime(a, !0);
                c = new Date, c.setHours(d.hours), c.setMinutes(d.minutes)
            }
            if ("Invalid Date" === String(c)) return "";
            var e = "am",
                f = c.getHours(),
                g = c.getHours(),
                h = c.getMinutes(),
                i = c.getSeconds();
            return h < 10 && (h = "0" + h), i < 10 && (i = "0" + i), b.indexOf("am") === -1 && b.indexOf("pm") === -1 || (f >= 12 && (e = "pm"), f > 12 && (f -= 12), 0 === f && (f = 12)), b.toLowerCase().replace("am", e).replace("pm", e).replace("hhh", f < 10 ? "0" + f : f).replace("hh24", g < 10 ? "0" + g : g).replace("h24", g).replace("hh", f).replace("mm", h).replace("mi", h).replace("ss", i).replace(/(^|[^a-z$])h/g, "$1" + f).replace(/(^|[^a-z$])m/g, "$1" + h).replace(/(^|[^a-z$])s/g, "$1" + i)
        }

        function t(a, b) {
            var c;
            return "" === a || null == a || "object" == typeof a && !a.getMonth ? "" : ("string" != typeof b ? c = [this.settings.dateFormat, this.settings.timeFormat] : (c = b.split("|"), c[0] = c[0].trim(), c[1] = c.length > 1 ? c[1].trim() : this.settings.timeFormat), "h12" === c[1] && (c[1] = "h:m pm"), "h24" === c[1] && (c[1] = "h24:m"), this.formatDate(a, c[0]) + " " + this.formatTime(a, c[1]))
        }

        function u(b) {
            if (null == b) return b;
            switch (typeof b) {
                case "number":
                    break;
                case "string":
                    b = String(b).replace(/(<([^>]+)>)/gi, "");
                    break;
                case "object":
                    if (Array.isArray(b)) {
                        b = a.extend(!0, [], b);
                        for (var c = 0; c < b.length; c++) b[c] = this.stripTags(b[c])
                    } else {
                        b = a.extend(!0, {}, b);
                        for (var c in b) b[c] = this.stripTags(b[c])
                    }
            }
            return b
        }

        function v(b) {
            if (null == b) return b;
            switch (typeof b) {
                case "number":
                    break;
                case "string":
                    b = String(b).replace(/&/g, "&amp;").replace(/>/g, "&gt;").replace(/</g, "&lt;").replace(/"/g, "&quot;");
                    break;
                case "object":
                    if (Array.isArray(b)) {
                        b = a.extend(!0, [], b);
                        for (var c = 0; c < b.length; c++) b[c] = this.encodeTags(b[c])
                    } else {
                        b = a.extend(!0, {}, b);
                        for (var c in b) b[c] = this.encodeTags(b[c])
                    }
            }
            return b
        }

        function w(b) {
            if (null == b) return b;
            switch (typeof b) {
                case "number":
                    break;
                case "string":
                    b = String(b).replace(/&gt;/g, ">").replace(/&lt;/g, "<").replace(/&quot;/g, '"').replace(/&amp;/g, "&");
                    break;
                case "object":
                    if (Array.isArray(b)) {
                        b = a.extend(!0, [], b);
                        for (var c = 0; c < b.length; c++) b[c] = this.decodeTags(b[c])
                    } else {
                        b = a.extend(!0, {}, b);
                        for (var c in b) b[c] = this.decodeTags(b[c])
                    }
            }
            return b
        }

        function x(a) {
            return "" === a || null == a ? "" : String(a).replace(/([;&,\.\+\*\~'`:"\!\^#$%@\[\]\(\)=<>\|\/? {}\\])/g, "\\$1")
        }

        function y(a) {
            function b(a) {
                a = String(a).replace(/\r\n/g, "\n");
                for (var b = "", c = 0; c < a.length; c++) {
                    var d = a.charCodeAt(c);
                    d < 128 ? b += String.fromCharCode(d) : d > 127 && d < 2048 ? (b += String.fromCharCode(d >> 6 | 192), b += String.fromCharCode(63 & d | 128)) : (b += String.fromCharCode(d >> 12 | 224), b += String.fromCharCode(d >> 6 & 63 | 128), b += String.fromCharCode(63 & d | 128))
                }
                return b
            }
            var c, d, e, f, g, h, i, j = "",
                k = 0,
                l = "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";
            for (a = b(a); k < a.length;) c = a.charCodeAt(k++), d = a.charCodeAt(k++), e = a.charCodeAt(k++), f = c >> 2, g = (3 & c) << 4 | d >> 4, h = (15 & d) << 2 | e >> 6, i = 63 & e, isNaN(d) ? h = i = 64 : isNaN(e) && (i = 64), j = j + l.charAt(f) + l.charAt(g) + l.charAt(h) + l.charAt(i);
            return j
        }

        function z(a) {
            function b(a) {
                for (var b, c, d = "", e = 0, f = 0; e < a.length;) f = a.charCodeAt(e), f < 128 ? (d += String.fromCharCode(f), e++) : f > 191 && f < 224 ? (b = a.charCodeAt(e + 1), d += String.fromCharCode((31 & f) << 6 | 63 & b), e += 2) : (b = a.charCodeAt(e + 1), c = a.charCodeAt(e + 2), d += String.fromCharCode((15 & f) << 12 | (63 & b) << 6 | 63 & c), e += 3);
                return d
            }
            var c, d, e, f, g, h, i, j = "",
                k = 0,
                l = "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";
            for (a = a.replace(/[^A-Za-z0-9\+\/\=]/g, ""); k < a.length;) f = l.indexOf(a.charAt(k++)), g = l.indexOf(a.charAt(k++)), h = l.indexOf(a.charAt(k++)), i = l.indexOf(a.charAt(k++)), c = f << 2 | g >> 4, d = (15 & g) << 4 | h >> 2, e = (3 & h) << 6 | i, j += String.fromCharCode(c), 64 !== h && (j += String.fromCharCode(d)), 64 !== i && (j += String.fromCharCode(e));
            return j = b(j)
        }

        function A(a) {
            function b(a) {
                return d(c(e(a)))
            }

            function c(a) {
                return g(h(f(a), 8 * a.length))
            }

            function d(a) {
                try {} catch (a) {
                    p = 0
                }
                for (var b, c = p ? "0123456789ABCDEF" : "0123456789abcdef", d = "", e = 0; e < a.length; e++) b = a.charCodeAt(e), d += c.charAt(b >>> 4 & 15) + c.charAt(15 & b);
                return d
            }

            function e(a) {
                for (var b, c, d = "", e = -1; ++e < a.length;) b = a.charCodeAt(e), c = e + 1 < a.length ? a.charCodeAt(e + 1) : 0, 55296 <= b && b <= 56319 && 56320 <= c && c <= 57343 && (b = 65536 + ((1023 & b) << 10) + (1023 & c), e++), b <= 127 ? d += String.fromCharCode(b) : b <= 2047 ? d += String.fromCharCode(192 | b >>> 6 & 31, 128 | 63 & b) : b <= 65535 ? d += String.fromCharCode(224 | b >>> 12 & 15, 128 | b >>> 6 & 63, 128 | 63 & b) : b <= 2097151 && (d += String.fromCharCode(240 | b >>> 18 & 7, 128 | b >>> 12 & 63, 128 | b >>> 6 & 63, 128 | 63 & b));
                return d
            }

            function f(a) {
                for (var b = Array(a.length >> 2), c = 0; c < b.length; c++) b[c] = 0;
                for (var c = 0; c < 8 * a.length; c += 8) b[c >> 5] |= (255 & a.charCodeAt(c / 8)) << c % 32;
                return b
            }

            function g(a) {
                for (var b = "", c = 0; c < 32 * a.length; c += 8) b += String.fromCharCode(a[c >> 5] >>> c % 32 & 255);
                return b
            }

            function h(a, b) {
                a[b >> 5] |= 128 << b % 32, a[(b + 64 >>> 9 << 4) + 14] = b;
                for (var c = 1732584193, d = -271733879, e = -1732584194, f = 271733878, g = 0; g < a.length; g += 16) {
                    var h = c,
                        i = d,
                        o = e,
                        p = f;
                    c = j(c, d, e, f, a[g + 0], 7, -680876936), f = j(f, c, d, e, a[g + 1], 12, -389564586), e = j(e, f, c, d, a[g + 2], 17, 606105819), d = j(d, e, f, c, a[g + 3], 22, -1044525330), c = j(c, d, e, f, a[g + 4], 7, -176418897), f = j(f, c, d, e, a[g + 5], 12, 1200080426), e = j(e, f, c, d, a[g + 6], 17, -1473231341), d = j(d, e, f, c, a[g + 7], 22, -45705983), c = j(c, d, e, f, a[g + 8], 7, 1770035416), f = j(f, c, d, e, a[g + 9], 12, -1958414417), e = j(e, f, c, d, a[g + 10], 17, -42063), d = j(d, e, f, c, a[g + 11], 22, -1990404162), c = j(c, d, e, f, a[g + 12], 7, 1804603682), f = j(f, c, d, e, a[g + 13], 12, -40341101), e = j(e, f, c, d, a[g + 14], 17, -1502002290), d = j(d, e, f, c, a[g + 15], 22, 1236535329), c = k(c, d, e, f, a[g + 1], 5, -165796510), f = k(f, c, d, e, a[g + 6], 9, -1069501632), e = k(e, f, c, d, a[g + 11], 14, 643717713), d = k(d, e, f, c, a[g + 0], 20, -373897302), c = k(c, d, e, f, a[g + 5], 5, -701558691), f = k(f, c, d, e, a[g + 10], 9, 38016083), e = k(e, f, c, d, a[g + 15], 14, -660478335), d = k(d, e, f, c, a[g + 4], 20, -405537848), c = k(c, d, e, f, a[g + 9], 5, 568446438), f = k(f, c, d, e, a[g + 14], 9, -1019803690), e = k(e, f, c, d, a[g + 3], 14, -187363961), d = k(d, e, f, c, a[g + 8], 20, 1163531501), c = k(c, d, e, f, a[g + 13], 5, -1444681467), f = k(f, c, d, e, a[g + 2], 9, -51403784), e = k(e, f, c, d, a[g + 7], 14, 1735328473), d = k(d, e, f, c, a[g + 12], 20, -1926607734), c = l(c, d, e, f, a[g + 5], 4, -378558), f = l(f, c, d, e, a[g + 8], 11, -2022574463), e = l(e, f, c, d, a[g + 11], 16, 1839030562), d = l(d, e, f, c, a[g + 14], 23, -35309556), c = l(c, d, e, f, a[g + 1], 4, -1530992060), f = l(f, c, d, e, a[g + 4], 11, 1272893353), e = l(e, f, c, d, a[g + 7], 16, -155497632), d = l(d, e, f, c, a[g + 10], 23, -1094730640), c = l(c, d, e, f, a[g + 13], 4, 681279174), f = l(f, c, d, e, a[g + 0], 11, -358537222), e = l(e, f, c, d, a[g + 3], 16, -722521979), d = l(d, e, f, c, a[g + 6], 23, 76029189), c = l(c, d, e, f, a[g + 9], 4, -640364487), f = l(f, c, d, e, a[g + 12], 11, -421815835), e = l(e, f, c, d, a[g + 15], 16, 530742520), d = l(d, e, f, c, a[g + 2], 23, -995338651), c = m(c, d, e, f, a[g + 0], 6, -198630844), f = m(f, c, d, e, a[g + 7], 10, 1126891415), e = m(e, f, c, d, a[g + 14], 15, -1416354905), d = m(d, e, f, c, a[g + 5], 21, -57434055), c = m(c, d, e, f, a[g + 12], 6, 1700485571), f = m(f, c, d, e, a[g + 3], 10, -1894986606), e = m(e, f, c, d, a[g + 10], 15, -1051523), d = m(d, e, f, c, a[g + 1], 21, -2054922799), c = m(c, d, e, f, a[g + 8], 6, 1873313359), f = m(f, c, d, e, a[g + 15], 10, -30611744), e = m(e, f, c, d, a[g + 6], 15, -1560198380), d = m(d, e, f, c, a[g + 13], 21, 1309151649), c = m(c, d, e, f, a[g + 4], 6, -145523070), f = m(f, c, d, e, a[g + 11], 10, -1120210379), e = m(e, f, c, d, a[g + 2], 15, 718787259), d = m(d, e, f, c, a[g + 9], 21, -343485551), c = n(c, h), d = n(d, i), e = n(e, o), f = n(f, p)
                }
                return Array(c, d, e, f)
            }

            function i(a, b, c, d, e, f) {
                return n(o(n(n(b, a), n(d, f)), e), c)
            }

            function j(a, b, c, d, e, f, g) {
                return i(b & c | ~b & d, a, b, e, f, g)
            }

            function k(a, b, c, d, e, f, g) {
                return i(b & d | c & ~d, a, b, e, f, g)
            }

            function l(a, b, c, d, e, f, g) {
                return i(b ^ c ^ d, a, b, e, f, g)
            }

            function m(a, b, c, d, e, f, g) {
                return i(c ^ (b | ~d), a, b, e, f, g)
            }

            function n(a, b) {
                var c = (65535 & a) + (65535 & b),
                    d = (a >> 16) + (b >> 16) + (c >> 16);
                return d << 16 | 65535 & c
            }

            function o(a, b) {
                return a << b | a >>> 32 - b
            }
            var p = 0;
            return b(a)
        }

        function B(b, c, d, e) {
            var f = a(b).width(),
                g = a(b).height(),
                h = .5;
            if (!b || !c) return void console.log("ERROR: Cannot do transition when one of the divs is null");
            switch (b.parentNode.style.cssText += "perspective: 900px; overflow: hidden;", b.style.cssText += "; position: absolute; z-index: 1019; backface-visibility: hidden", c.style.cssText += "; position: absolute; z-index: 1020; backface-visibility: hidden", d) {
                case "slide-left":
                    b.style.cssText += "overflow: hidden; transform: translate3d(0, 0, 0)", c.style.cssText += "overflow: hidden; transform: translate3d(" + f + "px, 0, 0)", a(c).show(), window.setTimeout(function () {
                        c.style.cssText += "transition: " + h + "s; transform: translate3d(0, 0, 0)", b.style.cssText += "transition: " + h + "s; transform: translate3d(-" + f + "px, 0, 0)"
                    }, 1);
                    break;
                case "slide-right":
                    b.style.cssText += "overflow: hidden; transform: translate3d(0, 0, 0)", c.style.cssText += "overflow: hidden; transform: translate3d(-" + f + "px, 0, 0)", a(c).show(), window.setTimeout(function () {
                        c.style.cssText += "transition: " + h + "s; transform: translate3d(0px, 0, 0)", b.style.cssText += "transition: " + h + "s; transform: translate3d(" + f + "px, 0, 0)"
                    }, 1);
                    break;
                case "slide-down":
                    b.style.cssText += "overflow: hidden; z-index: 1; transform: translate3d(0, 0, 0)", c.style.cssText += "overflow: hidden; z-index: 0; transform: translate3d(0, 0, 0)", a(c).show(), window.setTimeout(function () {
                        c.style.cssText += "transition: " + h + "s; transform: translate3d(0, 0, 0)", b.style.cssText += "transition: " + h + "s; transform: translate3d(0, " + g + "px, 0)"
                    }, 1);
                    break;
                case "slide-up":
                    b.style.cssText += "overflow: hidden; transform: translate3d(0, 0, 0)", c.style.cssText += "overflow: hidden; transform: translate3d(0, " + g + "px, 0)", a(c).show(), window.setTimeout(function () {
                        c.style.cssText += "transition: " + h + "s; transform: translate3d(0, 0, 0)", b.style.cssText += "transition: " + h + "s; transform: translate3d(0, 0, 0)"
                    }, 1);
                    break;
                case "flip-left":
                    b.style.cssText += "overflow: hidden; transform: rotateY(0deg)", c.style.cssText += "overflow: hidden; transform: rotateY(-180deg)", a(c).show(), window.setTimeout(function () {
                        c.style.cssText += "transition: " + h + "s; transform: rotateY(0deg)", b.style.cssText += "transition: " + h + "s; transform: rotateY(180deg)"
                    }, 1);
                    break;
                case "flip-right":
                    b.style.cssText += "overflow: hidden; transform: rotateY(0deg)", c.style.cssText += "overflow: hidden; transform: rotateY(180deg)", a(c).show(), window.setTimeout(function () {
                        c.style.cssText += "transition: " + h + "s; transform: rotateY(0deg)", b.style.cssText += "transition: " + h + "s; transform: rotateY(-180deg)"
                    }, 1);
                    break;
                case "flip-down":
                    b.style.cssText += "overflow: hidden; transform: rotateX(0deg)", c.style.cssText += "overflow: hidden; transform: rotateX(180deg)", a(c).show(), window.setTimeout(function () {
                        c.style.cssText += "transition: " + h + "s; transform: rotateX(0deg)", b.style.cssText += "transition: " + h + "s; transform: rotateX(-180deg)"
                    }, 1);
                    break;
                case "flip-up":
                    b.style.cssText += "overflow: hidden; transform: rotateX(0deg)", c.style.cssText += "overflow: hidden; transform: rotateX(-180deg)", a(c).show(), window.setTimeout(function () {
                        c.style.cssText += "transition: " + h + "s; transform: rotateX(0deg)", b.style.cssText += "transition: " + h + "s; transform: rotateX(180deg)"
                    }, 1);
                    break;
                case "pop-in":
                    b.style.cssText += "overflow: hidden; transform: translate3d(0, 0, 0)", c.style.cssText += "overflow: hidden; transform: translate3d(0, 0, 0); transform: scale(.8); opacity: 0;", a(c).show(), window.setTimeout(function () {
                        c.style.cssText += "transition: " + h + "s; transform: scale(1); opacity: 1;", b.style.cssText += "transition: " + h + "s;"
                    }, 1);
                    break;
                case "pop-out":
                    b.style.cssText += "overflow: hidden; transform: translate3d(0, 0, 0); transform: scale(1); opacity: 1;", c.style.cssText += "overflow: hidden; transform: translate3d(0, 0, 0); opacity: 0;", a(c).show(), window.setTimeout(function () {
                        c.style.cssText += "transition: " + h + "s; opacity: 1;", b.style.cssText += "transition: " + h + "s; transform: scale(1.7); opacity: 0;"
                    }, 1);
                    break;
                default:
                    b.style.cssText += "overflow: hidden; transform: translate3d(0, 0, 0)", c.style.cssText += "overflow: hidden; translate3d(0, 0, 0); opacity: 0;", a(c).show(), window.setTimeout(function () {
                        c.style.cssText += "transition: " + h + "s; opacity: 1;", b.style.cssText += "transition: " + h + "s"
                    }, 1)
            }
            setTimeout(function () {
                "slide-down" === d && (a(b).css("z-index", "1019"), a(c).css("z-index", "1020")), c && a(c).css({
                    opacity: "1"
                }).css(w2utils.cssPrefix({
                    transition: "",
                    transform: ""
                })), b && a(b).css({
                    opacity: "1"
                }).css(w2utils.cssPrefix({
                    transition: "",
                    transform: ""
                })), "function" == typeof e && e()
            }, 1e3 * h)
        }

        function C(b, c, d) {
            var e = {};
            "object" == typeof c ? e = c : (e.msg = c, e.spinner = d), e.msg || 0 === e.msg || (e.msg = ""), w2utils.unlock(b), a(b).prepend('<div class="w2ui-lock"></div><div class="w2ui-lock-msg"></div>');
            var f = a(b).find(".w2ui-lock"),
                g = a(b).find(".w2ui-lock-msg");
            e.msg || g.css({
                "background-color": "transparent",
                border: "0px"
            }), e.spinner === !0 && (e.msg = '<div class="w2ui-spinner" ' + (e.msg ? "" : 'style="width: 35px; height: 35px"') + "></div>" + e.msg), null != e.opacity && f.css("opacity", e.opacity), "function" == typeof f.fadeIn ? (f.fadeIn(200), g.html(e.msg).fadeIn(200)) : (f.show(), g.html(e.msg).show(0))
        }

        function D(b, d) {
            c(d) ? (a(b).find(".w2ui-lock").fadeOut(d), setTimeout(function () {
                a(b).find(".w2ui-lock").remove(), a(b).find(".w2ui-lock-msg").remove()
            }, d)) : (a(b).find(".w2ui-lock").remove(), a(b).find(".w2ui-lock-msg").remove())
        }

        function E(b, c) {
            function d(c, d) {
                if (null == f && (f = d.trigger({
                        phase: "before",
                        type: "open",
                        target: "self"
                    }), f.isCancelled === !0)) return l.css("z-index", l.data("old-z-index")), void a(b.box).find("#w2ui-message" + n).remove();
                var e = c.data("prev_focus");
                c.remove(), e && e.length > 0 ? e.focus() : g && g.focus && g.focus(), l.css("z-index", l.data("old-z-index")), d.trigger(a.extend(f, {
                    phase: "after"
                }))
            }
            var e, f, g = this;
            a().w2tag(), c || (c = {
                width: 200,
                height: 100
            }), null == c.on && a.extend(c, w2utils.event), null == c.width && (c.width = 200), null == c.height && (c.height = 100);
            var h = parseInt(a(b.box).width()),
                i = parseInt(a(b.box).height()),
                j = parseInt(a(b.box).find(b.title).css("height") || 0);
            c.width > h && (c.width = h - 10), c.height > i - j && (c.height = i - 10 - j), c.originalWidth = c.width, c.originalHeight = c.height, parseInt(c.width) < 0 && (c.width = h + c.width), parseInt(c.width) < 10 && (c.width = 10), parseInt(c.height) < 0 && (c.height = i + c.height - j), parseInt(c.height) < 10 && (c.height = 10), null == c.hideOnClick && (c.hideOnClick = !1);
            var k = a(b.box).data("options") || {};
            (null == c.width || c.width > k.width - 10) && (c.width = k.width - 10), (null == c.height || c.height > k.height - j - 5) && (c.height = k.height - j - 5), c.originalHeight < 0 && (c.height = i + c.originalHeight - j), c.originalWidth < 0 && (c.width = h + 2 * c.originalWidth);
            var l = a(b.box).find(b.title),
                m = a(b.box).find(".w2ui-message.w2ui-closing");
            a(b.box).find(".w2ui-message.w2ui-closing").length > 0 && (clearTimeout(e), d(m, m.data("options") || {}));
            var n = a(b.box).find(".w2ui-message").length;
            if ("" === a.trim(c.html) && "" === a.trim(c.body) && "" === a.trim(c.buttons)) {
                if (0 === n) return;
                var o = a(b.box).find("#w2ui-message" + (n - 1)),
                    c = o.data("options") || {};
                if (f = c.trigger({
                        phase: "before",
                        type: "close",
                        target: "self"
                    }), f.isCancelled === !0) return;
                o.css(w2utils.cssPrefix({
                    transition: "0.15s",
                    transform: "translateY(-" + c.height + "px)"
                })).addClass("w2ui-closing"), 1 === n ? this.unlock && (b.param ? this.unlock(b.param, 150) : this.unlock(150)) : a(b.box).find("#w2ui-message" + (n - 2)).css("z-index", 1500), e = setTimeout(function () {
                    d(o, c)
                }, 150)
            } else {
                "" === a.trim(c.body) && "" === a.trim(c.buttons) || (c.html = '<div class="w2ui-message-body">' + (c.body || "") + '</div><div class="w2ui-message-buttons">' + (c.buttons || "") + "</div>"), a(b.box).find(".w2ui-message").css("z-index", 1390), l.data("old-z-index", l.css("z-index")), l.css("z-index", 1501), a(b.box).find(b.body).before('<div id="w2ui-message' + n + '" onmousedown="event.stopPropagation();"    class="w2ui-message" style="display: none; z-index: 1500; ' + (0 === l.length ? "top: 0px;" : "top: " + w2utils.getSize(l, "height") + "px;") + (null != c.width ? "width: " + c.width + "px; left: " + (h - c.width) / 2 + "px;" : "left: 10px; right: 10px;") + (null != c.height ? "height: " + c.height + "px;" : "bottom: 6px;") + w2utils.cssPrefix("transition", ".3s", !0) + '"' + (c.hideOnClick === !0 ? b.param ? 'onclick="' + b.path + ".message('" + b.param + "');\"" : 'onclick="' + b.path + '.message();"' : "") + "></div>"), a(b.box).find("#w2ui-message" + n).data("options", c).data("prev_focus", a(":focus"));
                var p = a(b.box).find("#w2ui-message" + n).css("display");
                if (a(b.box).find("#w2ui-message" + n).css(w2utils.cssPrefix({
                        transform: "none" === p ? "translateY(-" + c.height + "px)" : "translateY(0px)"
                    })), "none" === p) {
                    if (a(b.box).find("#w2ui-message" + n).show().html(c.html), c.box = a(b.box).find("#w2ui-message" + n), f = c.trigger({
                            phase: "before",
                            type: "open",
                            target: "self"
                        }), f.isCancelled === !0) return l.css("z-index", l.data("old-z-index")), void a(b.box).find("#w2ui-message" + n).remove();
                    setTimeout(function () {
                        a(b.box).find("#w2ui-message" + n).css(w2utils.cssPrefix({
                            transform: "none" === p ? "translateY(0px)" : "translateY(-" + c.height + "px)"
                        }))
                    }, 1), 0 === n && this.lock && (b.param ? this.lock(b.param) : this.lock()), setTimeout(function () {
                        a(b.box).find("#w2ui-message" + n).css(w2utils.cssPrefix({
                            transition: "0s"
                        })), c.trigger(a.extend(f, {
                            phase: "after"
                        }))
                    }, 350)
                }
            }
        }

        function F(b, c) {
            var d = a(b),
                e = {
                    left: parseInt(d.css("border-left-width")) || 0,
                    right: parseInt(d.css("border-right-width")) || 0,
                    top: parseInt(d.css("border-top-width")) || 0,
                    bottom: parseInt(d.css("border-bottom-width")) || 0
                },
                f = {
                    left: parseInt(d.css("margin-left")) || 0,
                    right: parseInt(d.css("margin-right")) || 0,
                    top: parseInt(d.css("margin-top")) || 0,
                    bottom: parseInt(d.css("margin-bottom")) || 0
                },
                g = {
                    left: parseInt(d.css("padding-left")) || 0,
                    right: parseInt(d.css("padding-right")) || 0,
                    top: parseInt(d.css("padding-top")) || 0,
                    bottom: parseInt(d.css("padding-bottom")) || 0
                };
            switch (c) {
                case "top":
                    return e.top + f.top + g.top;
                case "bottom":
                    return e.bottom + f.bottom + g.bottom;
                case "left":
                    return e.left + f.left + g.left;
                case "right":
                    return e.right + f.right + g.right;
                case "width":
                    return e.left + e.right + f.left + f.right + g.left + g.right + parseInt(d.width());
                case "height":
                    return e.top + e.bottom + f.top + f.bottom + g.top + g.bottom + parseInt(d.height());
                case "+width":
                    return e.left + e.right + f.left + f.right + g.left + g.right;
                case "+height":
                    return e.top + e.bottom + f.top + f.bottom + g.top + g.bottom
            }
            return 0
        }

        function G(b, c) {
            var d, e = '<div id="_tmp_width" style="position: absolute; top: -900px;' + (c || "") + '">' + v(b) + "</div>";
            return a("body").append(e), d = a("#_tmp_width").width(), a("#_tmp_width").remove(), d
        }

        function H(a) {
            var b = this.settings.phrases[a];
            return null == b ? a : b
        }

        function I(b, c) {
            return b || (b = "en-us"), "string" != typeof b ? void(w2utils.settings = a.extend(!0, w2utils.settings, b)) : (5 === b.length && (b = "locale/" + b + ".json"), w2utils.settings.phrases = {}, void a.ajax({
                url: b,
                type: "GET",
                dataType: "JSON",
                success: function (b, d, e) {
                    w2utils.settings = a.extend(!0, w2utils.settings, b), "function" == typeof c && c()
                },
                error: function (a, c, d) {
                    console.log("ERROR: Cannot load locale " + b)
                }
            }))
        }

        function J() {
            if (V.scrollBarSize) return V.scrollBarSize;
            var b = '<div id="_scrollbar_width" style="position: absolute; top: -300px; width: 100px; height: 100px; overflow-y: scroll;">    <div style="height: 120px">1</div></div>';
            return a("body").append(b), V.scrollBarSize = 100 - a("#_scrollbar_width > div").width(), a("#_scrollbar_width").remove(), String(navigator.userAgent).indexOf("MSIE") >= 0 && (V.scrollBarSize = V.scrollBarSize / 2), V.scrollBarSize
        }

        function K(a, b) {
            return a && null != a.name ? null != w2ui[a.name] ? (console.log('ERROR: The parameter "name" is not unique. There are other objects already created with the same name (obj: ' + a.name + ")."), !1) : !!w2utils.isAlphaNumeric(a.name) || (console.log('ERROR: The parameter "name" has to be alpha-numeric (a-z, 0-9, dash and underscore). '), !1) : (console.log('ERROR: The parameter "name" is required but not supplied in $().' + b + "()."), !1)
        }

        function L(b, c, d, e) {
            a.isArray(c) || (c = [c]);
            for (var f = 0; f < c.length; f++)
                if (c[f].id === b) return console.log('ERROR: The parameter "id=' + b + '" is not unique within the current ' + d + ". (obj: " + e + ")"), !1;
            return !0
        }

        function M(a) {
            var b = [],
                c = a.replace(/\/\(/g, "(?:/").replace(/\+/g, "__plus__").replace(/(\/)?(\.)?:(\w+)(?:(\(.*?\)))?(\?)?/g, function (a, c, d, e, f, g) {
                    return b.push({
                        name: e,
                        optional: !!g
                    }), c = c || "", "" + (g ? "" : c) + "(?:" + (g ? c : "") + (d || "") + (f || d && "([^/.]+?)" || "([^/]+?)") + ")" + (g || "")
                }).replace(/([\/.])/g, "\\$1").replace(/__plus__/g, "(.+)").replace(/\*/g, "(.*)");
            return {
                path: new RegExp("^" + c + "$", "i"),
                keys: b
            }
        }

        function N(b, c, d) {
            var e = {},
                f = {},
                g = "";
            a.isPlainObject(b) ? (e = b, c === !0 && (d = !0)) : e[b] = c;
            for (var h in e) f[h] = e[h], f["-webkit-" + h] = e[h], f["-moz-" + h] = e[h].replace("-webkit-", "-moz-"), f["-ms-" + h] = e[h].replace("-webkit-", "-ms-"), f["-o-" + h] = e[h].replace("-webkit-", "-o-");
            if (d === !0)
                for (var h in f) g += h + ": " + f[h] + "; ";
            else g = f;
            return g
        }

        function O(a) {
            if (null == a) return null;
            var b, c = 0,
                d = a.ownerDocument || a.document,
                e = d.defaultView || d.parentWindow;
            if (a.tagName && "INPUT" === a.tagName.toUpperCase() && a.selectionStart) c = a.selectionStart;
            else if (e.getSelection) {
                if (b = e.getSelection(), b.rangeCount > 0) {
                    var f = b.getRangeAt(0),
                        g = f.cloneRange();
                    g.selectNodeContents(a), g.setEnd(f.endContainer, f.endOffset), c = g.toString().length
                }
            } else if ((b = d.selection) && "Control" !== b.type) {
                var h = b.createRange(),
                    i = d.body.createTextRange();
                i.moveToElementText(a), i.setEndPoint("EndToEnd", h), c = i.text.length
            }
            return c
        }

        function P(b, c, d) {
            var e, f = document.createRange(),
                g = window.getSelection();
            if (null != b) {
                for (var h = 0; h < b.childNodes.length; h++) {
                    var i = a(b.childNodes[h]).text();
                    if (b.childNodes[h].tagName && (i = a(b.childNodes[h]).html(), i = i.replace(/&lt;/g, "<").replace(/&gt;/g, ">").replace(/&amp;/g, "&").replace(/&quot;/g, '"').replace(/&nbsp;/g, " ")), c <= i.length) {
                        e = b.childNodes[h], e.childNodes && e.childNodes.length > 0 && (e = e.childNodes[0]), e.childNodes && e.childNodes.length > 0 && (e = e.childNodes[0]);
                        break
                    }
                    c -= i.length
                }
                null != e && (c > e.length && (c = e.length), f.setStart(e, c), d ? f.setEnd(e, d) : f.collapse(!0), g.removeAllRanges(), g.addRange(f))
            }
        }

        function Q() {
            var a = "w2ui_test";
            try {
                return localStorage.setItem(a, a), localStorage.removeItem(a), !0
            } catch (a) {
                return !1
            }
        }

        function R(a) {
            if ("string" != typeof a) return null;
            a = a.trim().toUpperCase(), "#" === a[0] && (a = a.substr(1));
            var b = {};
            if (3 === a.length) b = {
                r: parseInt(a[0] + a[0], 16),
                g: parseInt(a[1] + a[1], 16),
                b: parseInt(a[2] + a[2], 16),
                a: 1
            };
            else if (6 === a.length) b = {
                r: parseInt(a.substr(0, 2), 16),
                g: parseInt(a.substr(2, 2), 16),
                b: parseInt(a.substr(4, 2), 16),
                a: 1
            };
            else if (a.length > 4 && "RGB(" === a.substr(0, 4)) {
                var c = a.replace("RGB", "").replace(/\(/g, "").replace(/\)/g, "").split(",");
                b = {
                    r: parseInt(c[0], 10),
                    g: parseInt(c[1], 10),
                    b: parseInt(c[2], 10),
                    a: 1
                }
            } else {
                if (!(a.length > 5 && "RGBA(" === a.substr(0, 5))) return null;
                var c = a.replace("RGBA", "").replace(/\(/g, "").replace(/\)/g, "").split(",");
                b = {
                    r: parseInt(c[0], 10),
                    g: parseInt(c[1], 10),
                    b: parseInt(c[2], 10),
                    a: parseFloat(c[3])
                }
            }
            return b
        }

        function S(a, b, c, d) {
            var e, f, g, h, i, j, k, l;
            switch (1 === arguments.length && (b = a.s, c = a.v, d = a.a, a = a.h), a /= 360, b /= 100, c /= 100, h = Math.floor(6 * a), i = 6 * a - h, j = c * (1 - b), k = c * (1 - i * b), l = c * (1 - (1 - i) * b), h % 6) {
                case 0:
                    e = c, f = l, g = j;
                    break;
                case 1:
                    e = k, f = c, g = j;
                    break;
                case 2:
                    e = j, f = c, g = l;
                    break;
                case 3:
                    e = j, f = k, g = c;
                    break;
                case 4:
                    e = l, f = j, g = c;
                    break;
                case 5:
                    e = c, f = j, g = k
            }
            return {
                r: Math.round(255 * e),
                g: Math.round(255 * f),
                b: Math.round(255 * g),
                a: null != d ? d : 1
            }
        }

        function T(a, b, c, d) {
            1 === arguments.length && (b = a.g, c = a.b, d = a.a, a = a.r);
            var e, f = Math.max(a, b, c),
                g = Math.min(a, b, c),
                h = f - g,
                i = 0 === f ? 0 : h / f,
                j = f / 255;
            switch (f) {
                case g:
                    e = 0;
                    break;
                case a:
                    e = b - c + h * (b < c ? 6 : 0), e /= 6 * h;
                    break;
                case b:
                    e = c - a + 2 * h, e /= 6 * h;
                    break;
                case c:
                    e = a - b + 4 * h, e /= 6 * h
            }
            return {
                h: Math.round(360 * e),
                s: Math.round(100 * i),
                v: Math.round(100 * j),
                a: null != d ? d : 1
            }
        }

        function U(a, b) {
            function c(a, b, e) {
                if (e) {
                    for (d = b; e = c(a, d), e < 76 && e > 65;) ++d;
                    return +a.slice(b - 1, d)
                }
                return e = i && i.indexOf(a.charAt(b)), e > -1 ? e + 76 : (e = a.charCodeAt(b) || 0, e < 45 || e > 127 ? e : e < 46 ? 65 : e < 48 ? e - 1 : e < 58 ? e + 18 : e < 65 ? e - 11 : e < 91 ? e + 11 : e < 97 ? e - 37 : e < 123 ? e + 5 : e - 63)
            }
            var d, e, f = 1,
                g = 0,
                h = 0,
                i = String.alphabet;
            if ((a += "") != (b += ""))
                for (; f;)
                    if (e = c(a, g++), f = c(b, h++), e < 76 && f < 76 && e > 66 && f > 66 && (e = c(a, g, g), f = c(b, h, g = d), h = d), e != f) return e < f ? -1 : 1;
            return 0
        }
        var V = {},
            W = {
                version: "1.5.x",
                settings: {
                    locale: "en-us",
                    dateFormat: "m/d/yyyy",
                    timeFormat: "hh:mi pm",
                    datetimeFormat: "m/d/yyyy|hh:mi pm",
                    currencyPrefix: "$",
                    currencySuffix: "",
                    currencyPrecision: 2,
                    groupSymbol: ",",
                    decimalSymbol: ".",
                    shortmonths: ["Jan", "Feb", "Mar", "Apr", "May", "Jun", "Jul", "Aug", "Sep", "Oct", "Nov", "Dec"],
                    fullmonths: ["January", "February", "March", "April", "May", "June", "July", "August", "September", "October", "November", "December"],
                    shortdays: ["M", "T", "W", "T", "F", "S", "S"],
                    fulldays: ["Monday", "Tuesday", "Wednesday", "Thursday", "Friday", "Saturday", "Sunday"],
                    weekStarts: "M",
                    dataType: "HTTPJSON",
                    phrases: {},
                    dateStartYear: 1950,
                    dateEndYear: 2020
                },
                isBin: b,
                isInt: c,
                isFloat: d,
                isMoney: e,
                isHex: f,
                isAlphaNumeric: g,
                isEmail: h,
                isIpAddress: i,
                isDate: j,
                isTime: k,
                isDateTime: l,
                age: m,
                interval: n,
                date: o,
                formatSize: p,
                formatNumber: q,
                formatDate: r,
                formatTime: s,
                formatDateTime: t,
                stripTags: u,
                encodeTags: v,
                decodeTags: w,
                escapeId: x,
                base64encode: y,
                base64decode: z,
                md5: A,
                transition: B,
                lock: C,
                unlock: D,
                message: E,
                naturalCompare: U,
                lang: H,
                locale: I,
                getSize: F,
                getStrWidth: G,
                scrollBarSize: J,
                checkName: K,
                checkUniqueId: L,
                parseRoute: M,
                cssPrefix: N,
                parseColor: R,
                hsv2rgb: S,
                rgb2hsv: T,
                getCursorPosition: O,
                setCursorPosition: P,
                testLocalStorage: Q,
                hasLocalStorage: Q(),
                isIOS: navigator.userAgent.toLowerCase().indexOf("iphone") !== -1 || navigator.userAgent.toLowerCase().indexOf("ipod") !== -1 || navigator.userAgent.toLowerCase().indexOf("ipad") !== -1 || navigator.userAgent.toLowerCase().indexOf("mobile") !== -1 || navigator.userAgent.toLowerCase().indexOf("android") !== -1,
                isIE: navigator.userAgent.toLowerCase().indexOf("msie") !== -1 || navigator.userAgent.toLowerCase().indexOf("trident") !== -1
            };
        return W
    }(jQuery);
w2utils.formatters = {
        number: function (a, b) {
            return parseInt(b) > 20 && (b = 20), parseInt(b) < 0 && (b = 0), null == a || "" === a ? "" : w2utils.formatNumber(parseFloat(a), b, !0)
        },
        float: function (a, b) {
            return w2utils.formatters.number(a, b)
        },
        int: function (a, b) {
            return w2utils.formatters.number(a, 0)
        },
        money: function (a, b) {
            if (null == a || "" === a) return "";
            var c = w2utils.formatNumber(Number(a), w2utils.settings.currencyPrecision || 2);
            return (w2utils.settings.currencyPrefix || "") + c + (w2utils.settings.currencySuffix || "")
        },
        currency: function (a, b) {
            return w2utils.formatters.money(a, b)
        },
        percent: function (a, b) {
            return null == a || "" === a ? "" : w2utils.formatNumber(a, b || 1) + "%"
        },
        size: function (a, b) {
            return null == a || "" === a ? "" : w2utils.formatSize(parseInt(a))
        },
        date: function (a, b) {
            if ("" === b && (b = w2utils.settings.dateFormat), null == a || 0 === a || "" === a) return "";
            var c = w2utils.isDateTime(a, b, !0);
            return c === !1 && (c = w2utils.isDate(a, b, !0)), '<span title="' + c + '">' + w2utils.formatDate(c, b) + "</span>"
        },
        datetime: function (a, b) {
            if ("" === b && (b = w2utils.settings.datetimeFormat), null == a || 0 === a || "" === a) return "";
            var c = w2utils.isDateTime(a, b, !0);
            return c === !1 && (c = w2utils.isDate(a, b, !0)), '<span title="' + c + '">' + w2utils.formatDateTime(c, b) + "</span>"
        },
        time: function (a, b) {
            if ("" === b && (b = w2utils.settings.timeFormat), "h12" === b && (b = "hh:mi pm"), "h24" === b && (b = "h24:mi"), null == a || 0 === a || "" === a) return "";
            var c = w2utils.isDateTime(a, b, !0);
            return c === !1 && (c = w2utils.isDate(a, b, !0)), '<span title="' + c + '">' + w2utils.formatTime(a, b) + "</span>"
        },
        timestamp: function (a, b) {
            if ("" === b && (b = w2utils.settings.datetimeFormat), null == a || 0 === a || "" === a) return "";
            var c = w2utils.isDateTime(a, b, !0);
            return c === !1 && (c = w2utils.isDate(a, b, !0)), c.toString ? c.toString() : ""
        },
        gmt: function (a, b) {
            if ("" === b && (b = w2utils.settings.datetimeFormat), null == a || 0 === a || "" === a) return "";
            var c = w2utils.isDateTime(a, b, !0);
            return c === !1 && (c = w2utils.isDate(a, b, !0)), c.toUTCString ? c.toUTCString() : ""
        },
        age: function (a, b) {
            if (null == a || 0 === a || "" === a) return "";
            var c = w2utils.isDateTime(a, null, !0);
            return c === !1 && (c = w2utils.isDate(a, null, !0)), '<span title="' + c + '">' + w2utils.age(a) + (b ? " " + b : "") + "</span>"
        },
        interval: function (a, b) {
            return null == a || 0 === a || "" === a ? "" : w2utils.interval(a) + (b ? " " + b : "")
        },
        toggle: function (a, b) {
            return a ? "Yes" : ""
        },
        password: function (a, b) {
            for (var c = "", d = 0; d < a.length; d++) c += "*";
            return c
        }
    }, w2utils.event = {
        on: function (a, b) {
            var c, d = jQuery;
            if ("string" == typeof a && a.indexOf(".") !== -1) {
                var e = a.split(".");
                a = e[0], c = e[1]
            }
            if ("string" == typeof a && a.indexOf(":") !== -1) {
                var e = a.split(":");
                ["complete", "done"].indexOf(a[1]) !== -1 && (a[1] = "after"), a = {
                    type: e[0],
                    execute: e[1]
                }
            }
            return d.isPlainObject(a) || (a = {
                type: a,
                scope: c
            }), a = d.extend({
                type: null,
                execute: "before",
                target: null,
                onComplete: null
            }, a), a.type ? b ? (d.isArray(this.handlers) || (this.handlers = []), void this.handlers.push({
                edata: a,
                handler: b
            })) : void console.log("ERROR: You must specify event handler function when calling .on() method of " + this.name) : void console.log("ERROR: You must specify event type when calling .on() method of " + this.name)
        },
        off: function (a, b) {
            var c, d = jQuery;
            if ("string" == typeof a && a.indexOf(".") !== -1) {
                var e = a.split(".");
                a = e[0], c = e[1]
            }
            if ("string" == typeof a && a.indexOf(":") !== -1) {
                var e = a.split(":");
                ["complete", "done"].indexOf(a[1]) !== -1 && (a[1] = "after"), a = {
                    type: e[0],
                    execute: e[1]
                }
            }
            if (d.isPlainObject(a) || (a = {
                    type: a
                }), a = d.extend({}, {
                    type: null,
                    execute: "before",
                    target: null,
                    onComplete: null
                }, a), !a.type && !c) return void console.log("ERROR: You must specify event type when calling .off() method of " + this.name);
            b || (b = null);
            for (var f = [], g = 0, h = this.handlers.length; g < h; g++) {
                var i = this.handlers[g];
                (i.edata.type !== a.type && "*" !== a.type && (null == i.edata.scope || "" != a.type) || i.edata.target !== a.target && null != a.target || i.edata.execute !== a.execute && null != a.execute || !(i.handler === b && null != b || null != c && i.edata.scope == c)) && f.push(i)
            }
            this.handlers = f
        },
        trigger: function (a) {
            var b = jQuery,
                a = b.extend({
                    type: null,
                    phase: "before",
                    target: null,
                    doneHandlers: []
                }, a, {
                    isStopped: !1,
                    isCancelled: !1,
                    done: function (a) {
                        this.doneHandlers.push(a)
                    },
                    preventDefault: function () {
                        this.isCancelled = !0
                    },
                    stopPropagation: function () {
                        this.isStopped = !0
                    }
                });
            "before" === a.phase && (a.onComplete = null);
            var c, d, e;
            null == a.target && (a.target = null), b.isArray(this.handlers) || (this.handlers = []);
            for (var f = this.handlers.length - 1; f >= 0; f--) {
                var g = this.handlers[f];
                if (!(g.edata.type !== a.type && "*" !== g.edata.type || g.edata.target !== a.target && null != g.edata.target || g.edata.execute !== a.phase && "*" !== g.edata.execute && "*" !== g.edata.phase) && (a = b.extend({}, g.edata, a), c = [], e = new RegExp(/\((.*?)\)/).exec(g.handler), e && (c = e[1].split(/\s*,\s*/)), 2 === c.length ? g.handler.call(this, a.target, a) : g.handler.call(this, a), a.isStopped === !0 || a.stop === !0)) return a
            }
            var h = "on" + a.type.substr(0, 1).toUpperCase() + a.type.substr(1);
            if ("before" === a.phase && "function" == typeof this[h] && (d = this[h], c = [], e = new RegExp(/\((.*?)\)/).exec(d), e && (c = e[1].split(/\s*,\s*/)), 2 === c.length ? d.call(this, a.target, a) : d.call(this, a), a.isStopped === !0 || a.stop === !0)) return a;
            if (null != a.object && "before" === a.phase && "function" == typeof a.object[h] && (d = a.object[h], c = [], e = new RegExp(/\((.*?)\)/).exec(d), e && (c = e[1].split(/\s*,\s*/)), 2 === c.length ? d.call(this, a.target, a) : d.call(this, a), a.isStopped === !0 || a.stop === !0)) return a;
            if ("after" === a.phase) {
                "function" == typeof a.onComplete && a.onComplete.call(this, a);
                for (var i = 0; i < a.doneHandlers.length; i++) "function" == typeof a.doneHandlers[i] && a.doneHandlers[i].call(this, a)
            }
            return a
        }
    },
    function (a) {
        a.fn.w2render = function (b) {
            a(this).length > 0 && ("string" == typeof b && w2ui[b] && w2ui[b].render(a(this)[0]), "object" == typeof b && b.render(a(this)[0]))
        }, a.fn.w2destroy = function (a) {
            !a && this.length > 0 && (a = this.attr("name")), "string" == typeof a && w2ui[a] && w2ui[a].destroy(), "object" == typeof a && a.destroy()
        }, a.fn.w2marker = function () {
            function b(a, b) {
                for (; b.innerHTML.indexOf('<span class="w2ui-marker">') !== -1;) b.innerHTML = b.innerHTML.replace(/\<span class=\"w2ui\-marker\"\>((.|\n|\r)*)\<\/span\>/gi, "$1")
            }
            var c = Array.prototype.slice.call(arguments, 0);
            return Array.isArray(c[0]) && (c = c[0]), 0 !== c.length && c[0] ? a(this).each(function (a, d) {
                function e(a) {
                    return '<span class="w2ui-marker">' + a + "</span>"
                }
                b(a, d);
                for (var f = 0; f < c.length; f++) {
                    var g = c[f];
                    "string" != typeof g && (g = String(g)), g = g.replace(/[-[\]{}()*+?.,\\^$|#\s]/g, "\\$&").replace(/&/g, "&amp;").replace(/</g, "&gt;").replace(/>/g, "&lt;");
                    var h = new RegExp(g + "(?!([^<]+)?>)", "gi");
                    d.innerHTML = d.innerHTML.replace(h, e)
                }
            }) : a(this).each(b)
        }, a.fn.w2tag = function (b, c) {
            return 1 === arguments.length && "object" == typeof b && (c = b, null != c.html && (b = c.html)), c = a.extend({
                id: null,
                html: b,
                position: "right|top",
                align: "none",
                left: 0,
                top: 0,
                style: "",
                css: {},
                className: "",
                inputClass: "",
                onShow: null,
                onHide: null,
                hideOnKeyPress: !0,
                hideOnBlur: !1,
                hideOnClick: !1,
                hideOnChange: !0
            }, c), null != c.name && null == c.id && (c.id = c.name), "" !== c.class && "" === c.inputClass && (c.inputClass = c.class), 0 === a(this).length ? void a(".w2ui-tag").each(function (b, c) {
                var d = a(c).data("w2tag");
                d && d.hide()
            }) : a(this).each(function (d, e) {
                function f() {
                    if (j.box.css("display", "block"), j && j.box && a(j.attachedTo).offset()) {
                        var b = j.getPos();
                        j.box.css({
                            opacity: "1",
                            left: b.left + "px",
                            top: b.top + "px"
                        }).data("w2tag", j).find(".w2ui-tag-body").addClass(b.posClass), j.tmp.pos = b.left + "x" + b.top, a(j.attachedTo).off(".w2tag").css(j.options.css).addClass(j.options.inputClass), j.options.hideOnKeyPress && a(j.attachedTo).on("keypress.w2tag", j.hide), c.hideOnChange && ("INPUT" === e.nodeName ? a(e).on("change.w2tag", j.hide) : a(e).find("input").on("change.w2tag", j.hide)), j.options.hideOnBlur && a(j.attachedTo).on("blur.w2tag", j.hide), j.options.hideOnClick && a(document).on("click.w2tag", j.hide), "function" == typeof j.options.onShow && j.options.onShow(), h()
                    }
                }

                function g() {
                    j.box.length <= 0 || (j.tmp.timer && clearTimeout(j.tmp.timer), j.box.remove(), j.options.hideOnClick && a(document).off(".w2tag"), a(j.attachedTo).off(".w2tag").removeClass(j.options.inputClass).removeData("w2tag"), a(j.attachedTo).length > 0 && (a(j.attachedTo)[0].style.cssText = j.tmp.originalCSS), "function" == typeof j.options.onHide && j.options.onHide())
                }

                function h(b) {
                    var c = a(j.attachedTo).offset();
                    if (0 === a(j.attachedTo).length || 0 === c.left && 0 === c.top || 0 === j.box.find(".w2ui-tag-body").length) return void j.hide();
                    var d = i();
                    j.tmp.pos !== d.left + "x" + d.top && (j.box.css(w2utils.cssPrefix({
                        transition: b ? "0s" : ".2s"
                    })).css({
                        left: d.left + "px",
                        top: d.top + "px"
                    }), j.tmp.pos = d.left + "x" + d.top), j.tmp.timer && clearTimeout(j.tmp.timer), j.tmp.timer = setTimeout(h, 100)
                }

                function i() {
                    var b = a(j.attachedTo).offset(),
                        c = "w2ui-tag-right",
                        d = parseInt(b.left + j.attachedTo.offsetWidth + (j.options.left ? j.options.left : 0)),
                        e = parseInt(b.top + (j.options.top ? j.options.top : 0)),
                        f = j.box.find(".w2ui-tag-body"),
                        g = f[0].offsetWidth,
                        h = f[0].offsetHeight;
                    if ("string" == typeof j.options.position && j.options.position.indexOf("|") !== -1 && (j.options.position = j.options.position.split("|")), "top" === j.options.position) c = "w2ui-tag-top", d = parseInt(b.left + (j.options.left ? j.options.left : 0)) - 14, e = parseInt(b.top + (j.options.top ? j.options.top : 0)) - h - 10;
                    else if ("bottom" === j.options.position) c = "w2ui-tag-bottom", d = parseInt(b.left + (j.options.left ? j.options.left : 0)) - 14, e = parseInt(b.top + j.attachedTo.offsetHeight + (j.options.top ? j.options.top : 0)) + 10;
                    else if ("left" === j.options.position) c = "w2ui-tag-left", d = parseInt(b.left + (j.options.left ? j.options.left : 0)) - g - 20, e = parseInt(b.top + (j.options.top ? j.options.top : 0));
                    else if (Array.isArray(j.options.position)) {
                        for (var i = window.innerWidth, k = window.innerHeight, l = 0; l < j.options.position.length; l++) {
                            var m = j.options.position[l];
                            if ("right" === m) {
                                if (c = "w2ui-tag-right", d = parseInt(b.left + j.attachedTo.offsetWidth + (j.options.left ? j.options.left : 0)), e = parseInt(b.top + (j.options.top ? j.options.top : 0)), d + g <= i) break
                            } else if ("left" === m) {
                                if (c = "w2ui-tag-left", d = parseInt(b.left + (j.options.left ? j.options.left : 0)) - g - 20, e = parseInt(b.top + (j.options.top ? j.options.top : 0)), d >= 0) break
                            } else if ("top" === m) {
                                if (c = "w2ui-tag-top", d = parseInt(b.left + (j.options.left ? j.options.left : 0)) - 14, e = parseInt(b.top + (j.options.top ? j.options.top : 0)) - h - 10, d + g <= i && e >= 0) break
                            } else if ("bottom" === m && (c = "w2ui-tag-bottom", d = parseInt(b.left + (j.options.left ? j.options.left : 0)) - 14, e = parseInt(b.top + j.attachedTo.offsetHeight + (j.options.top ? j.options.top : 0)) + 10, d + g <= i && e + h <= k)) break
                        }
                        f.data("posClass") !== c && f.removeClass("w2ui-tag-right w2ui-tag-left w2ui-tag-top w2ui-tag-bottom").addClass(c).data("posClass", c)
                    }
                    return {
                        left: d,
                        top: e,
                        posClass: c
                    }
                }
                var j, k = c.id ? c.id : e.id;
                "" == k && (k = a(e).find("input").attr("id")), k || (k = "noid");
                var l = w2utils.escapeId(k);
                null != a(this).data("w2tag") ? (j = a(this).data("w2tag"), a.extend(j.options, c)) : j = {
                    id: k,
                    attachedTo: e,
                    box: a("#w2ui-tag-" + l),
                    options: a.extend({}, c),
                    init: f,
                    hide: g,
                    getPos: i,
                    isMoved: h,
                    tmp: {}
                }, "" === b || null == b ? j.hide() : 0 !== j.box.length ? j.box.find(".w2ui-tag-body").css(j.options.css).attr("style", j.options.style).addClass(j.options.className).html(j.options.html) : (j.tmp.originalCSS = "", a(j.attachedTo).length > 0 && (j.tmp.originalCSS = a(j.attachedTo)[0].style.cssText), a("body").append('<div onclick="event.stopPropagation()" style="display: none;" id="w2ui-tag-' + j.id + '"        class="w2ui-tag ' + (a(j.attachedTo).parents(".w2ui-popup, .w2ui-overlay-popup, .w2ui-message").length > 0 ? "w2ui-tag-popup" : "") + '">   <div style="margin: -2px 0px 0px -2px; white-space: nowrap;">      <div class="w2ui-tag-body ' + j.options.className + '" style="' + (j.options.style || "") + '">' + b + "</div>   </div></div>"), j.box = a("#w2ui-tag-" + l), a(j.attachedTo).data("w2tag", j), setTimeout(f, 1))
            })
        }, a.fn.w2overlay = function (b, c) {
            function d() {
                var b = a("#w2ui-overlay" + h);
                if (b.data("element") === g[0] && 0 !== b.length) {
                    var c = a(g).offset() || {},
                        f = c.left + "x" + c.top;
                    b.data("position") !== f ? e() : setTimeout(d, 250)
                }
            }

            function e(b) {
                if (!b || 0 === b.button) {
                    var d = a("#w2ui-overlay" + h);
                    if (d.data("keepOpen") === !0) return void d.removeData("keepOpen");
                    var e;
                    "function" == typeof c.onHide && (e = c.onHide()), e !== !1 && (d.remove(), a(document).off(".w2overlay" + h), clearInterval(d.data("timer")))
                }
            }

            function f() {
                var b = a("#w2ui-overlay" + h),
                    d = b.find(" > div"),
                    e = a("#w2ui-overlay" + h + " div.menu");
                if (e.css("overflow-y", "hidden"), b.length > 0) {
                    d.height("auto").width("auto");
                    var i = !1,
                        j = d.height(),
                        k = d.width();
                    c.width && c.width < k && (k = c.width), k < 30 && (k = 30), c.tmp.contentHeight && (j = parseInt(c.tmp.contentHeight), d.height(j), setTimeout(function () {
                        var a = d.find("div.menu");
                        j > a.height() && d.find("div.menu").css("overflow-y", "hidden")
                    }, 1), setTimeout(function () {
                        var a = d.find("div.menu");
                        "auto" !== a.css("overflow-y") && a.css("overflow-y", "auto")
                    }, 10)), c.tmp.contentWidth && "both" !== c.align && (k = parseInt(c.tmp.contentWidth), d.width(k), setTimeout(function () {
                        k > d.find("div.menu > table").width() && d.find("div.menu > table").css("overflow-x", "hidden")
                    }, 1), setTimeout(function () {
                        d.find("div.menu > table").css("overflow-x", "auto")
                    }, 10));
                    var l = c.left,
                        m = c.width,
                        n = c.tipLeft;
                    switch (c.align) {
                        case "both":
                            l = 17, 0 === c.width && (c.width = w2utils.getSize(a(g), "width")), c.maxWidth && c.width > c.maxWidth && (c.width = c.maxWidth);
                            break;
                        case "left":
                            l = 17;
                            break;
                        case "right":
                            l = w2utils.getSize(a(g), "width") - k + 10, n = k - 40
                    }
                    m = 30 !== k || m ? c.width ? c.width : "auto" : 30;
                    var o = (k - 17) / 2;
                    "auto" !== m && (o = (m - 17) / 2), o < 25 && (l = 25 - o, n = Math.floor(o));
                    var p, q, r;
                    if (c.contextMenu) p = c.pageX + 8, q = c.pageY - 0, r = c.pageY;
                    else {
                        var s = g.offset() || {};
                        p = (s.left > 25 ? s.left : 25) + l, q = s.top + w2utils.getSize(g, "height") + c.top + 7, r = s.top
                    }
                    b.css({
                        left: p + "px",
                        top: q + "px",
                        "min-width": m,
                        "min-height": c.height ? c.height : "auto"
                    });
                    var s = d.offset() || {},
                        t = window.innerHeight + a(document).scrollTop() - s.top - 7,
                        u = window.innerWidth + a(document).scrollLeft() - s.left - 7;
                    if (c.contextMenu && (t = window.innerHeight + a(document).scrollTop() - c.pageY - 15, u = window.innerWidth + a(document).scrollLeft() - c.pageX), t > -50 && t < 210 || c.openAbove === !0) {
                        var v;
                        c.contextMenu ? (t = c.pageY - 7, v = 5) : (t = s.top - a(document).scrollTop() - 7, v = 24), c.maxHeight && t > c.maxHeight && (t = c.maxHeight), j > t && (i = !0, d.height(t).width(k).css({
                            "overflow-y": "auto"
                        }), j = t), b.addClass("bottom-arrow"), b.css("top", r - j - v + c.top + "px"), b.find(">style").html("#w2ui-overlay" + h + ":before { margin-left: " + parseInt(n) + "px; }#w2ui-overlay" + h + ":after { margin-left: " + parseInt(n) + "px; }")
                    } else c.maxHeight && t > c.maxHeight && (t = c.maxHeight), j > t && (i = !0, d.height(t).width(k).css({
                        "overflow-y": "auto"
                    })), b.addClass("top-arrow"), b.find(">style").html("#w2ui-overlay" + h + ":before { margin-left: " + parseInt(n) + "px; }#w2ui-overlay" + h + ":after { margin-left: " + parseInt(n) + "px; }");
                    k = d.width(), u = window.innerWidth + a(document).scrollLeft() - s.left - 7, c.maxWidth && u > c.maxWidth && (u = c.maxWidth), k > u && "both" !== c.align && (c.align = "right", setTimeout(function () {
                        f()
                    }, 1)), (c.contextMenu || c.noTip) && b.find(">style").html("#w2ui-overlay" + h + ":before { display: none; }#w2ui-overlay" + h + ":after { display: none; }"), i && "both" !== c.align && d.width(k + w2utils.scrollBarSize() + 2)
                }
                e.css("overflow-y", "auto")
            }
            var g = this,
                h = "",
                i = {
                    name: null,
                    html: "",
                    align: "none",
                    left: 0,
                    top: 0,
                    tipLeft: 30,
                    noTip: !1,
                    selectable: !1,
                    width: 0,
                    height: 0,
                    maxWidth: null,
                    maxHeight: null,
                    contextMenu: !1,
                    pageX: null,
                    pageY: null,
                    originalEvent: null,
                    style: "",
                    class: "",
                    overlayStyle: "",
                    onShow: null,
                    onHide: null,
                    openAbove: !1,
                    tmp: {}
                };
            1 === arguments.length && (c = "object" == typeof b ? b : {
                html: b
            }), 2 === arguments.length && (c.html = b), a.isPlainObject(c) || (c = {}), c = a.extend({}, i, c), c.name && (h = "-" + c.name);
            var j;
            if (0 === this.length || "" === c.html || null == c.html) return a("#w2ui-overlay" + h).length > 0 ? (j = a("#w2ui-overlay" + h)[0].hide, "function" == typeof j && j()) : a("#w2ui-overlay" + h).remove(), a(this);
            a("#w2ui-overlay" + h).length > 0 && (j = a("#w2ui-overlay" + h)[0].hide, a(document).off(".w2overlay" + h), "function" == typeof j && j()), g.length > 0 && (null == g[0].tagName || "BODY" === g[0].tagName.toUpperCase()) && (c.contextMenu = !0), c.contextMenu && c.originalEvent && (c.pageX = c.originalEvent.pageX, c.pageY = c.originalEvent.pageY), !c.contextMenu || null != c.pageX && null != c.pageY || console.log("ERROR: to display menu at mouse location, pass options.pageX and options.pageY."), a("body").append('<div id="w2ui-overlay' + h + '" style="display: none; left: 0px; top: 0px; ' + c.overlayStyle + '"        class="w2ui-reset w2ui-overlay ' + (a(this).parents(".w2ui-popup, .w2ui-overlay-popup, .w2ui-message").length > 0 ? "w2ui-overlay-popup" : "") + '">    <style></style>    <div style="min-width: 100%; ' + c.style + '" class="' + c.class + '"></div></div>');
            var k = a("#w2ui-overlay" + h),
                l = k.find(" > div");
            l.html(c.html);
            var m = l.css("background-color");
            null != m && "rgba(0, 0, 0, 0)" !== m && "transparent" !== m && k.css({
                "background-color": m,
                "border-color": m
            });
            var n = a(g).offset() || {};
            return k.data("element", g.length > 0 ? g[0] : null).data("options", c).data("position", n.left + "x" + n.top).fadeIn("fast").on("click", function (b) {
                a("#w2ui-overlay" + h).data("keepOpen", !0), "LABEL" === b.target.tagName.toUpperCase() && b.stopPropagation()
            }).on("mousedown", function (a) {
                var b = a.target.tagName.toUpperCase();
                ["INPUT", "TEXTAREA", "SELECT"].indexOf(b) !== -1 || c.selectable || a.preventDefault()
            }), k[0].hide = e, k[0].resize = f, setTimeout(function () {
                a(document).off(".w2overlay" + h).on("click.w2overlay" + h, e), "function" == typeof c.onShow && c.onShow(), f()
            }, 10), d(), a(this)
        }, a.fn.w2menu = function (b, c) {
            function d() {
                setTimeout(function () {
                    a("#w2ui-overlay" + i + " tr.w2ui-selected").removeClass("w2ui-selected");
                    var b = a("#w2ui-overlay" + i + " tr[index=" + c.index + "]"),
                        d = a("#w2ui-overlay" + i + " div.menu").scrollTop();
                    if (b.addClass("w2ui-selected"), c.tmp && (c.tmp.contentHeight = a("#w2ui-overlay" + i + " table").height() + (c.search ? 50 : 10)), c.tmp && (c.tmp.contentWidth = a("#w2ui-overlay" + i + " table").width() + 1), a("#w2ui-overlay" + i).length > 0 && a("#w2ui-overlay" + i)[0].resize(), b.length > 0) {
                        var e = b[0].offsetTop - 5,
                            f = a("#w2ui-overlay" + i + " div.menu"),
                            g = f.height();
                        a("#w2ui-overlay" + i + " div.menu").scrollTop(d), (e < d || e + b.height() > d + g) && a("#w2ui-overlay" + i + " div.menu").animate({
                            scrollTop: e - (g - 2 * b.height()) / 2
                        }, 200, "linear")
                    }
                }, 1)
            }

            function e(b) {
                var e = this.value,
                    f = b.keyCode,
                    g = !1;
                switch (f) {
                    case 13:
                        a("#w2ui-overlay" + i).remove(), a.fn.w2menuClick(b, c.index);
                        break;
                    case 9:
                    case 27:
                        a("#w2ui-overlay" + i).remove(), a.fn.w2menuClick(b, -1);
                        break;
                    case 38:
                        for (c.index = w2utils.isInt(c.index) ? parseInt(c.index) : 0, c.index--; c.index > 0 && c.items[c.index].hidden;) c.index--;
                        if (0 === c.index && c.items[c.index].hidden)
                            for (; c.items[c.index] && c.items[c.index].hidden;) c.index++;
                        c.index < 0 && (c.index = 0), g = !0;
                        break;
                    case 40:
                        for (c.index = w2utils.isInt(c.index) ? parseInt(c.index) : 0, c.index++; c.index < c.items.length - 1 && c.items[c.index].hidden;) c.index++;
                        if (c.index === c.items.length - 1 && c.items[c.index].hidden)
                            for (; c.items[c.index] && c.items[c.index].hidden;) c.index--;
                        c.index >= c.items.length && (c.index = c.items.length - 1), g = !0
                }
                if (!g) {
                    for (var j = 0, k = 0; k < c.items.length; k++) {
                        var l = c.items[k],
                            m = "",
                            n = "";
                        ["is", "begins with"].indexOf(c.match) !== -1 && (m = "^"), ["is", "ends with"].indexOf(c.match) !== -1 && (n = "$");
                        try {
                            var o = new RegExp(m + e + n, "i");
                            o.test(l.text) || "..." === l.text ? l.hidden = !1 : l.hidden = !0
                        } catch (a) {}
                        "enum" === h.type && a.inArray(l.id, ids) !== -1 && (l.hidden = !0), l.hidden !== !0 && j++
                    }
                    for (c.index = 0; c.index < c.items.length - 1 && c.items[c.index].hidden;) c.index++;
                    j <= 0 && (c.index = -1)
                }
                a(h).w2menu("refresh", c), d()
            }

            function f() {
                if (c.spinner) return '<table class="w2ui-drop-menu"><tbody><tr><td style="padding: 5px 10px 10px 10px; text-align: center">    <div class="w2ui-spinner" style="width: 18px; height: 18px; position: relative; top: 5px;"></div>     <div style="display: inline-block; padding: 3px; color: #999;">' + w2utils.lang("Loading...") + "</div></td></tr></tbody></table>";
                for (var a = 0, b = '<table cellspacing="0" cellpadding="0" class="w2ui-drop-menu"><tbody>', d = null, e = null, f = 0; f < c.items.length; f++) {
                    var g = c.items[f];
                    if ("string" == typeof g ? g = {
                            id: g,
                            text: g
                        } : (null != g.text && null == g.id && (g.id = g.text), null == g.text && null != g.id && (g.text = g.id), null != g.caption && (g.text = g.caption), d = g.img, e = g.icon, null == d && (d = null), null == e && (e = null)), ["radio", "check"].indexOf(c.type) != -1 && (e = g.checked === !0 ? "w2ui-icon-check" : "w2ui-icon-empty"), g.hidden !== !0) {
                        var h = "",
                            i = g.text;
                        if ("function" == typeof c.render && (i = c.render(g, c)), d && (h = '<td class="menu-icon"><div class="w2ui-tb-image w2ui-icon ' + d + '"></div></td>'), e && (h = '<td class="menu-icon" align="center"><span class="w2ui-icon ' + e + '"></span></td>'), "break" === g.type || null == i || "" === i || /^-+$/.test(i)) b += '<tr><td colspan="3" style="padding: 6px; pointer-events: none"><div style="border-top: 1px solid silver;"></div></td></tr>';
                        else {
                            var j = a % 2 === 0 ? "w2ui-item-even" : "w2ui-item-odd";
                            c.altRows !== !0 && (j = "");
                            var k = 1;
                            "" === h && k++, null == g.count && null == g.hotkey && k++, null == g.tooltip && null != g.hint && (g.tooltip = g.hint), b += '<tr index="' + f + '" style="' + (g.style ? g.style : "") + '" ' + (g.tooltip ? 'title="' + w2utils.lang(g.tooltip) + '"' : "") + '        class="' + j + " " + (c.index === f ? "w2ui-selected" : "") + " " + (g.disabled === !0 ? "w2ui-disabled" : "") + '"        onmousedown="if (' + (g.disabled === !0 ? "true" : "false") + ") return;               jQuery.fn.w2menuDown(event, '" + f + '\');"        onclick="event.stopPropagation();                if (' + (g.disabled === !0 ? "true" : "false") + ") return;               jQuery.fn.w2menuClick(event, '" + f + "');\">" + h + '   <td class="menu-text" colspan="' + k + '">' + w2utils.lang(i) + '</td>   <td class="menu-count">' + (null != g.count ? "<span>" + g.count + "</span>" : "") + (null != g.hotkey ? '<span class="hotkey">' + g.hotkey + "</span>" : "") + "</td></tr>", a++
                        }
                    }
                    c.items[f] = g
                }
                return 0 === a && (b += '<tr><td style="padding: 13px; color: #999; text-align: center">' + c.msgNoItems + "</div></td></tr>"), b += "</tbody></table>"
            }
            c && "function" == typeof c.items && (c.items = c.items());
            var g = {
                    type: "normal",
                    index: null,
                    items: [],
                    render: null,
                    msgNoItems: "No items",
                    onSelect: null,
                    tmp: {}
                },
                h = this,
                i = "";
            if ("refresh" === b)
                if (a("#w2ui-overlay" + i).length > 0) {
                    c = a.extend(a.fn.w2menuOptions, c);
                    var j = a("#w2ui-overlay" + i + " div.menu").scrollTop();
                    a("#w2ui-overlay" + i + " div.menu").html(f()), a("#w2ui-overlay" + i + " div.menu").scrollTop(j), d()
                } else a(this).w2menu(c);
            else {
                if ("refresh-index" !== b) {
                    1 === arguments.length ? c = b : c.items = b, "object" != typeof c && (c = {}), c = a.extend({}, g, c), a.fn.w2menuOptions = c, c.name && (i = "-" + c.name), "function" == typeof c.select && "function" != typeof c.onSelect && (c.onSelect = c.select), "function" == typeof c.onRender && "function" != typeof c.render && (c.render = c.onRender), a.fn.w2menuClick = function (b, d) {
                        var e = !1;
                        ["radio", "check"].indexOf(c.type) !== -1 && (b.shiftKey || b.metaKey || b.ctrlKey) && (e = !0), "function" == typeof c.onSelect && c.onSelect({
                            index: d,
                            item: c.items[d],
                            keepOpen: e,
                            originalEvent: b
                        });
                        var f = a("#w2ui-overlay" + i);
                        f.removeData("keepOpen"), f.length > 0 && "function" == typeof f[0].hide && !e && f[0].hide()
                    }, a.fn.w2menuDown = function (b, d) {
                        var e = a(b.target).parents("tr"),
                            f = e.find(".w2ui-icon");
                        if ("check" === c.type || "radio" === c.type) {
                            var g = c.items[d];
                            g.checked = !g.checked, g.checked ? ("radio" === c.type && f.parents("table").find(".w2ui-icon").removeClass("w2ui-icon-check").addClass("w2ui-icon-empty"), "check" === c.type && null != g.group && c.items.forEach(function (a, b) {
                                a.group === g.group && a.checked && (f.parents("table").find("tr[index=" + b + "] .w2ui-icon").removeClass("w2ui-icon-check").addClass("w2ui-icon-empty"), a.checked = !1)
                            }), f.removeClass("w2ui-icon-empty").addClass("w2ui-icon-check")) : "check" === c.type && null == g.group && f.removeClass("w2ui-icon-check").addClass("w2ui-icon-empty")
                        }
                        e.parent().find("tr").removeClass("w2ui-selected"), e.addClass("w2ui-selected")
                    };
                    var k = "";
                    if (c.search) {
                        k += '<div style="position: absolute; top: 0px; height: 40px; left: 0px; right: 0px; border-bottom: 1px solid silver; background-color: #ECECEC; padding: 8px 5px;">    <div class="w2ui-icon icon-search" style="position: absolute; margin-top: 4px; margin-left: 6px; width: 11px; background-position: left !important;"></div>    <input id="menu-search" type="text" style="width: 100%; outline: none; padding-left: 20px;" onclick="event.stopPropagation();"/></div>', c.style += ";background-color: #ECECEC", c.index = 0;
                        for (var l = 0; l < c.items.length; l++) c.items[l].hidden = !1
                    }
                    k += '<div class="menu" style="position: absolute; top: ' + (c.search ? 40 : 0) + 'px; bottom: 0px; width: 100%;">' + f() + "</div>";
                    var m = a(this).w2overlay(k, c);
                    return setTimeout(function () {
                        if (a("#w2ui-overlay" + i + " #menu-search").on("keyup", e).on("keydown", function (a) {
                                9 === a.keyCode && (a.stopPropagation(), a.preventDefault())
                            }), c.search) {
                            if (["text", "password"].indexOf(a(h)[0].type) !== -1 || "TEXTAREA" === a(h)[0].tagName.toUpperCase()) return;
                            a("#w2ui-overlay" + i + " #menu-search").focus()
                        }
                        d()
                    }, 200), d(), m
                }
                var n = a("#w2ui-overlay" + i + " div.menu"),
                    o = n.find("tr[index=" + c.index + "]"),
                    j = n.scrollTop();
                if (n.find("tr.w2ui-selected").removeClass("w2ui-selected"), o.addClass("w2ui-selected"), o.length > 0) {
                    var p = o[0].offsetTop - 5,
                        q = n.height();
                    n.scrollTop(j), (p < j || p + o.height() > j + q) && n.animate({
                        scrollTop: p - (q - 2 * o.height()) / 2
                    }, 200, "linear")
                }
                d()
            }
        }, a.fn.w2color = function (b, c) {
            function d(a) {
                for (var b, c = (a.color, '<div class="w2ui-color" onmousedown="jQuery(this).parents(\'.w2ui-overlay\').data(\'keepOpen\', true)"><div class="w2ui-color-palette"><table cellspacing="5"><tbody>'), d = 0; d < h.length; d++) {
                    c += "<tr>";
                    for (var e = 0; e < h[d].length; e++) b = "FFFFFF" === h[d][e] ? ";border: 1px solid #efefef" : "", c += '<td>    <div class="color ' + ("" === h[d][e] ? "no-color" : "") + '" style="background-color: #' + h[d][e] + b + ';"        name="' + h[d][e] + '" index="' + d + ":" + e + '">' + (a.color == h[d][e] ? "&#149;" : "&#160;") + "    </div></td>", a.color == h[d][e] && (g = [d, e]);
                    c += "</tr>", d < 2 && (c += '<tr><td style="height: 8px" colspan="8"></td></tr>')
                }
                return c += "</tbody></table></div>", c += '<div class="w2ui-color-advanced" style="display: none">   <div class="color-info">       <div class="color-preview-bg"><div class="color-preview"></div><div class="color-original"></div></div>       <div class="color-part">           <span>H</span> <input name="h" maxlength="3" max="360" tabindex="101">           <span>R</span> <input name="r" maxlength="3" max="255" tabindex="104">       </div>       <div class="color-part">           <span>S</span> <input name="s" maxlength="3" max="100" tabindex="102">           <span>G</span> <input name="g" maxlength="3" max="255" tabindex="105">       </div>       <div class="color-part">           <span>V</span> <input name="v" maxlength="3" max="100" tabindex="103">           <span>B</span> <input name="b" maxlength="3" max="255" tabindex="106">       </div>       <div class="color-part" style="margin: 30px 0px 0px 2px">           <span style="width: 40px">Opacity</span>            <input name="a" maxlength="5" max="1" style="width: 32px !important" tabindex="107">       </div>   </div>   <div class="palette" name="palette">       <div class="palette-bg"></div>       <div class="value1 move-x move-y"></div>   </div>   <div class="rainbow" name="rainbow">       <div class="value2 move-x"></div>   </div>   <div class="alpha" name="alpha">       <div class="alpha-bg"></div>       <div class="value2 move-x"></div>   </div></div>', c += "<div class=\"w2ui-color-tabs\">   <div class=\"w2ui-color-tab selected\" onclick=\"jQuery(this).addClass('selected').next().removeClass('selected').parents('.w2ui-overlay').find('.w2ui-color-advanced').hide().parent().find('.w2ui-color-palette').show(); jQuery.fn._colorAdvanced = false; jQuery('#w2ui-overlay')[0].resize()\"><span class=\"w2ui-icon w2ui-icon-colors\"></span></div>   <div class=\"w2ui-color-tab\" onclick=\"jQuery(this).addClass('selected').prev().removeClass('selected').parents('.w2ui-overlay').find('.w2ui-color-advanced').show().parent().find('.w2ui-color-palette').hide(); jQuery.fn._colorAdvanced = true; jQuery('#w2ui-overlay')[0].resize()\"><span class=\"w2ui-icon w2ui-icon-settings\"></span></div></div></div><div style=\"clear: both; height: 0\"></div>"
            }
            var e = a(this),
                f = e[0];
            if (e.data("skipInit")) return void e.removeData("skipInit");
            var g = [-1, -1];
            null == a.fn.w2colorPalette && (a.fn.w2colorPalette = [["000000", "333333", "555555", "777777", "888888", "999999", "AAAAAA", "CCCCCC", "DDDDDD", "EEEEEE", "F7F7F7", "FFFFFF"], ["FF011B", "FF9838", "FFC300", "FFFD59", "86FF14", "14FF7A", "2EFFFC", "2693FF", "006CE7", "9B24F4", "FF21F5", "FF0099"], ["FFEAEA", "FCEFE1", "FCF4DC", "FFFECF", "EBFFD9", "D9FFE9", "E0FFFF", "E8F4FF", "ECF4FC", "EAE6F4", "FFF5FE", "FCF0F7"], ["F4CCCC", "FCE5CD", "FFF1C2", "FFFDA1", "D5FCB1", "B5F7D0", "BFFFFF", "D6ECFF", "CFE2F3", "D9D1E9", "FFE3FD", "FFD9F0"], ["EA9899", "F9CB9C", "FFE48C", "F7F56F", "B9F77E", "84F0B1", "83F7F7", "B5DAFF", "9FC5E8", "B4A7D6", "FAB9F6", "FFADDE"], ["E06666", "F6B26B", "DEB737", "E0DE51", "8FDB48", "52D189", "4EDEDB", "76ACE3", "6FA8DC", "8E7CC3", "E07EDA", "F26DBD"], ["CC0814", "E69138", "AB8816", "B5B20E", "6BAB30", "27A85F", "1BA8A6", "3C81C7", "3D85C6", "674EA7", "A14F9D", "BF4990"], ["99050C", "B45F17", "80650E", "737103", "395E14", "10783D", "13615E", "094785", "0A5394", "351C75", "780172", "782C5A"]]);
            var h = a.fn.w2colorPalette;
            "string" == typeof b && (b = {
                color: b,
                transparent: !0
            }), null == b.onSelect && null != c && (b.onSelect = c), b.transparent && "333333" == h[0][1] && (h[0].splice(1, 1), h[0].push("")), b.transparent || "333333" == h[0][1] || (h[0].splice(1, 0, "333333"), h[0].pop()), b.color && (b.color = String(b.color).toUpperCase()), "string" == typeof b.color && "#" === b.color.substr(0, 1) && (b.color = b.color.substr(1)), null == b.fireChange && (b.fireChange = !0), 0 === a("#w2ui-overlay").length ? a(f).w2overlay(d(b), b) : (a("#w2ui-overlay .w2ui-color").parent().html(d(b)), a("#w2ui-overlay").show()), a("#w2ui-overlay .color").off(".w2color").on("mousedown.w2color", function (c) {
                var d = a(c.originalEvent.target).attr("name");
                g = a(c.originalEvent.target).attr("index").split(":"), "INPUT" === f.tagName.toUpperCase() ? (b.fireChange && a(f).change(), a(f).next().find(">div").css("background-color", d)) : a(f).data("_color", d), "function" == typeof b.onSelect && b.onSelect(d)
            }).on("mouseup.w2color", function () {
                setTimeout(function () {
                    a("#w2ui-overlay").length > 0 && a("#w2ui-overlay").removeData("keepOpen")[0].hide()
                }, 10)
            }), a("#w2ui-overlay .color-original").off(".w2color").on("click.w2color", function (b) {
                var c = w2utils.parseColor(a(b.target).css("background-color"));
                null != c && (k = c, j = w2utils.rgb2hsv(k), l(j), m(), n())
            }), a("#w2ui-overlay input").off(".w2color").on("mousedown.w2color", function (b) {
                a("#w2ui-overlay").data("keepOpen", !0), setTimeout(function () {
                    a("#w2ui-overlay").data("keepOpen", !0)
                }, 10), b.stopPropagation()
            }).on("change.w2color", function () {
                var b = a(this),
                    c = parseFloat(b.val()),
                    d = parseFloat(b.attr("max"));
                isNaN(c) && (c = 0), d > 1 && (c = parseInt(c)), d > 0 && c > d && (b.val(d), c = d), c < 0 && (b.val(0), c = 0);
                var e = b.attr("name"),
                    f = {};
                ["r", "g", "b", "a"].indexOf(e) !== -1 ? (k[e] = c, j = w2utils.rgb2hsv(k)) : ["h", "s", "v"].indexOf(e) !== -1 && (f[e] = c), l(f), m(), n()
            });
            var i, j, k = w2utils.parseColor(b.color);
            null == k && (k = {
                r: 140,
                g: 150,
                b: 160,
                a: 1
            }, j = w2utils.rgb2hsv(k)), j = w2utils.rgb2hsv(k);
            var l = function (c, d) {
                    null != c.h && (j.h = c.h), null != c.s && (j.s = c.s), null != c.v && (j.v = c.v), null != c.a && (k.a = c.a, j.a = c.a), k = w2utils.hsv2rgb(j);
                    var e = "rgba(" + k.r + "," + k.g + "," + k.b + "," + k.a + ")",
                        g = [Number(k.r).toString(16).toUpperCase(), Number(k.g).toString(16).toUpperCase(), Number(k.b).toString(16).toUpperCase()];
                    g.forEach(function (a, b) {
                        1 === a.length && (g[b] = "0" + a)
                    }), 1 === k.a && (e = g[0] + g[1] + g[2]), a("#w2ui-overlay .color-preview").css("background-color", e), a("#w2ui-overlay input").each(function (a, b) {
                        b.name && (null != k[b.name] && (b.value = k[b.name]), null != j[b.name] && (b.value = j[b.name]), "a" === b.name && (b.value = k.a))
                    }), d ? a("#w2ui-overlay .color-original").css("background-color", e) : ("INPUT" === f.tagName.toUpperCase() ? (a(f).val(e).data("skipInit", !0), b.fireChange && a(f).change(), a(f).next().find(">div").css("background-color", e)) : a(f).data("_color", e), "function" == typeof b.onSelect && b.onSelect(e))
                },
                m = function () {
                    var b = a("#w2ui-overlay .palette .value1"),
                        c = a("#w2ui-overlay .rainbow .value2"),
                        d = a("#w2ui-overlay .alpha .value2"),
                        e = parseInt(b.width()) / 2,
                        f = parseInt(c.width()) / 2;
                    b.css({
                        left: 150 * j.s / 100 - e,
                        top: 125 * (100 - j.v) / 100 - e
                    }), c.css("left", j.h / 2.4 - f), d.css("left", 150 * k.a - f)
                },
                n = function () {
                    var b = w2utils.hsv2rgb(j.h, 100, 100),
                        c = b.r + "," + b.g + "," + b.b;
                    a("#w2ui-overlay .palette").css("background-image", "linear-gradient(90deg, rgba(" + c + ",0) 0%, rgba(" + c + ",1) 100%)")
                },
                o = function (b) {
                    var c = a(this).find(".value1, .value2"),
                        d = parseInt(c.width()) / 2;
                    c.hasClass("move-x") && c.css({
                        left: b.offsetX - d + "px"
                    }), c.hasClass("move-y") && c.css({
                        top: b.offsetY - d + "px"
                    }), i = {
                        $el: c,
                        x: b.pageX,
                        y: b.pageY,
                        width: c.parent().width(),
                        height: c.parent().height(),
                        left: parseInt(c.css("left")),
                        top: parseInt(c.css("top"))
                    }, q(b), a("body").off(".w2color").on(t, q).on(s, p)
                },
                p = function (b) {
                    a("body").off(".w2color")
                },
                q = function (a) {
                    var b = i.$el,
                        c = a.pageX - i.x,
                        d = a.pageY - i.y,
                        e = i.left + c,
                        f = i.top + d,
                        g = parseInt(b.width()) / 2;
                    e < -g && (e = -g), f < -g && (f = -g), e > i.width - g && (e = i.width - g), f > i.height - g && (f = i.height - g), b.hasClass("move-x") && b.css({
                        left: e + "px"
                    }), b.hasClass("move-y") && b.css({
                        top: f + "px"
                    });
                    var h = b.parent().attr("name"),
                        j = parseInt(b.css("left")) + g,
                        k = parseInt(b.css("top")) + g;
                    if ("palette" === h && l({
                            s: Math.round(j / i.width * 100),
                            v: Math.round(100 - k / i.height * 100)
                        }), "rainbow" === h) {
                        var m = Math.round(2.4 * j);
                        l({
                            h: m
                        }), n()
                    }
                    "alpha" === h && l({
                        a: parseFloat(Number(j / 150).toFixed(2))
                    })
                };
            a.fn._colorAdvanced !== !0 && b.advanced !== !0 || (a("#w2ui-overlay .w2ui-color-tabs :nth-child(2)").click(), a("#w2ui-overlay").removeData("keepOpen")), l({}, !0), n(), m();
            var r = "mousedown.w2color",
                s = "mouseup.w2color",
                t = "mousemove.w2color";
            w2utils.isIOS && (r = "touchstart.w2color", s = "touchend.w2color", t = "touchmove.w2color  "), a("#w2ui-overlay .palette").off(".w2color").on("mousedown.w2color", o), a("#w2ui-overlay .rainbow").off(".w2color").on("mousedown.w2color", o), a("#w2ui-overlay .alpha").off(".w2color").on("mousedown.w2color", o), f.nav = function (b) {
                switch (b) {
                    case "up":
                        g[0]--;
                        break;
                    case "down":
                        g[0]++;
                        break;
                    case "right":
                        g[1]++;
                        break;
                    case "left":
                        g[1]--
                }
                return g[0] < 0 && (g[0] = 0), g[0] > h.length - 2 && (g[0] = h.length - 2), g[1] < 0 && (g[1] = 0), g[1] > h[0].length - 1 && (g[1] = h[0].length - 1), color = h[g[0]][g[1]], a(f).data("_color", color), color
            }
        }
    }(jQuery),
    function (a, b) {
        if ("function" == typeof define && define.amd) return define(function () {
            return b
        });
        if ("undefined" != typeof exports) {
            if ("undefined" != typeof module && module.exports) return exports = module.exports = b;
            a = exports
        }
        for (var c in b) a[c] = b[c]
    }(this, {
        w2ui: w2ui,
        w2obj: w2obj,
        w2utils: w2utils
    }),
    function ($) {
        var w2grid = function (a) {
            this.name = null, this.box = null, this.header = "", this.url = "", this.routeData = {}, this.columns = [], this.columnGroups = [], this.records = [], this.summary = [], this.searches = [], this.searchData = [], this.sortData = [], this.postData = {}, this.httpHeaders = {}, this.toolbar = {}, this.stateId = null, this.show = {
                header: !1,
                toolbar: !1,
                footer: !1,
                columnHeaders: !0,
                lineNumbers: !1,
                expandColumn: !1,
                selectColumn: !1,
                emptyRecords: !0,
                toolbarReload: !0,
                toolbarColumns: !0,
                toolbarSearch: !0,
                toolbarInput: !0,
                toolbarAdd: !1,
                toolbarEdit: !1,
                toolbarDelete: !1,
                toolbarSave: !1,
                searchAll: !0,
                statusRange: !0,
                statusBuffered: !1,
                statusRecordID: !0,
                statusSelection: !0,
                statusResponse: !0,
                statusSort: !1,
                statusSearch: !1,
                recordTitles: !0,
                selectionBorder: !0,
                skipRecords: !0,
                saveRestoreState: !0
            }, this.hasFocus = !1, this.autoLoad = !0, this.fixedBody = !0, this.recordHeight = 24, this.lineNumberWidth = null, this.vs_start = 150, this.vs_extra = 15, this.keyboard = !0, this.selectType = "row", this.multiSearch = !0, this.multiSelect = !0, this.multiSort = !0, this.reorderColumns = !1, this.reorderRows = !1, this.searchContextRows = 0, this.markSearch = !0, this.columnTooltip = "normal", this.disableCVS = !1, this.textSearch = "begins", this.useFieldDot = !0, this.total = 0, this.limit = 100, this.offset = 0, this.style = "", this.ranges = [], this.menu = [], this.method = null, this.dataType = null, this.recid = null, this.parser = null, this.last = {
                field: "",
                caption: "",
                logic: "OR",
                search: "",
                searchIds: [],
                selection: {
                    indexes: [],
                    columns: {}
                },
                multi: !1,
                scrollTop: 0,
                scrollLeft: 0,
                colStart: 0,
                colEnd: 0,
                sortData: null,
                sortCount: 0,
                xhr: null,
                range_start: null,
                range_end: null,
                sel_ind: null,
                sel_col: null,
                sel_type: null,
                edit_col: null,
                isSafari: /^((?!chrome|android).)*safari/i.test(navigator.userAgent)
            }, this.stateSaveColumnProperties = {
                caption: !1,
                field: !0,
                size: !0,
                min: !1,
                max: !1,
                gridMinWidth: !1,
                sizeCorrected: !1,
                sizeCalculated: !0,
                sizeOriginal: !0,
                sizeType: !0,
                hidden: !0,
                sortable: !1,
                searchable: !1,
                resizable: !1,
                hideable: !1,
                attr: !1,
                style: !1,
                render: !1,
                title: !1,
                editable: !1,
                frozen: !0,
                info: !1
            }, this.stateSaveColumnFallbackValues = {
                caption: "",
                field: "",
                size: null,
                min: 20,
                max: null,
                gridMinWidth: null,
                sizeCorrected: null,
                sizeCalculated: null,
                sizeOriginal: null,
                sizeType: null,
                hidden: !1,
                sortable: !1,
                searchable: !1,
                resizable: !0,
                hideable: !0,
                attr: "",
                style: "",
                render: null,
                title: null,
                editable: {},
                frozen: !1,
                info: null
            }, $.extend(!0, this, w2obj.grid, a)
        };
        $.fn.w2grid = function (a) {
            if ($.isPlainObject(a)) {
                if (!w2utils.checkName(a, "w2grid")) return;
                var b = a.columns,
                    c = a.columnGroups,
                    d = a.records,
                    e = a.searches,
                    f = a.searchData,
                    g = a.sortData,
                    h = a.postData,
                    i = a.httpHeaders,
                    j = a.toolbar,
                    k = new w2grid(a);
                $.extend(k, {
                    postData: {},
                    httpHeaders: {},
                    records: [],
                    columns: [],
                    searches: [],
                    toolbar: {},
                    sortData: [],
                    searchData: [],
                    handlers: []
                }), $.extend(!0, k.toolbar, j);
                var l;
                if (b)
                    for (l = 0; l < b.length; l++) k.columns[l] = $.extend(!0, {}, b[l]);
                if (c)
                    for (l = 0; l < c.length; l++) k.columnGroups[l] = $.extend(!0, {}, c[l]);
                if (e)
                    for (l = 0; l < e.length; l++) k.searches[l] = $.extend(!0, {}, e[l]);
                if (f)
                    for (l = 0; l < f.length; l++) k.searchData[l] = $.extend(!0, {}, f[l]);
                if (g)
                    for (l = 0; l < g.length; l++) k.sortData[l] = $.extend(!0, {}, g[l]);
                if (k.postData = $.extend(!0, {}, h), k.httpHeaders = $.extend(!0, {}, i), d)
                    for (var m = 0; m < d.length; m++) {
                        if (null == d[m].recid && null == d[m][k.recid]) return void console.log("ERROR: Cannot add records without recid. (obj: " + k.name + ")");
                        k.records[m] = $.extend(!0, {}, d[m])
                    }
                for (var n = 0; n < k.columns.length; n++) {
                    var o = k.columns[n],
                        p = o.searchable;
                    if (null != p && p !== !1 && null == k.getSearch(o.field))
                        if ($.isPlainObject(p)) k.addSearch($.extend({
                            field: o.field,
                            caption: o.caption,
                            type: "text"
                        }, p));
                        else {
                            var q = o.searchable,
                                r = "";
                            o.searchable === !0 && (q = "text", r = 'size="20"'), k.addSearch({
                                field: o.field,
                                caption: o.caption,
                                type: q,
                                attr: r
                            })
                        }
                }
                return k.initToolbar(), 0 !== $(this).length && k.render($(this)[0]), w2ui[k.name] = k, k
            }
            var s = w2ui[$(this).attr("name")];
            return s ? arguments.length > 0 ? (s[a] && s[a].apply(s, Array.prototype.slice.call(arguments, 1)), this) : s : null
        }, w2grid.prototype = {
            msgDelete: "Are you sure you want to delete selected records?",
            msgNotJSON: "Returned data is not in valid JSON format.",
            msgAJAXerror: "AJAX error. See console for more details.",
            msgRefresh: "Refreshing...",
            msgNeedReload: "Your remote data source record count has changed, reloading from the first record.",
            msgEmpty: "",
            buttons: {
                reload: {
                    type: "button",
                    id: "w2ui-reload",
                    icon: "w2ui-icon-reload",
                    tooltip: "Reload data in the list"
                },
                columns: {
                    type: "drop",
                    id: "w2ui-column-on-off",
                    icon: "w2ui-icon-columns",
                    tooltip: "Show/hide columns",
                    arrow: !1,
                    html: ""
                },
                search: {
                    type: "html",
                    id: "w2ui-search",
                    html: "<div class=\"w2ui-icon icon-search-down w2ui-search-down\" onclick=\"var obj = w2ui[jQuery(this).parents('div.w2ui-grid').attr('name')]; obj.searchShowFields();\"></div>"
                },
                "search-go": {
                    type: "drop",
                    id: "w2ui-search-advanced",
                    icon: "w2ui-icon-search",
                    text: "Search",
                    tooltip: "Open Search Fields"
                },
                add: {
                    type: "button",
                    id: "w2ui-add",
                    text: "Add New",
                    tooltip: "Add new record",
                    icon: "w2ui-icon-plus"
                },
                edit: {
                    type: "button",
                    id: "w2ui-edit",
                    text: "Edit",
                    tooltip: "Edit selected record",
                    icon: "w2ui-icon-pencil",
                    disabled: !0
                },
                delete: {
                    type: "button",
                    id: "w2ui-delete",
                    text: "Delete",
                    tooltip: "Delete selected records",
                    icon: "w2ui-icon-cross",
                    disabled: !0
                },
                save: {
                    type: "button",
                    id: "w2ui-save",
                    text: "Save",
                    tooltip: "Save changed records",
                    icon: "w2ui-icon-check"
                }
            },
            operators: {
                text: ["is", "begins", "contains", "ends"],
                number: ["is", "between", {
                    oper: "less",
                    text: "less than"
                }, {
                    oper: "more",
                    text: "more than"
                }],
                date: ["is", "between", {
                    oper: "less",
                    text: "before"
                }, {
                    oper: "more",
                    text: "after"
                }],
                list: ["is"],
                hex: ["is", "between"],
                color: ["is", "begins", "contains", "ends"],
                enum: ["in", "not in"]
            },
            operatorsMap: {
                text: "text",
                int: "number",
                float: "number",
                money: "number",
                currency: "number",
                percent: "number",
                hex: "hex",
                alphanumeric: "text",
                color: "color",
                date: "date",
                time: "date",
                datetime: "date",
                list: "list",
                combo: "text",
                enum: "enum",
                file: "enum",
                select: "list",
                radio: "list",
                checkbox: "list",
                toggle: "list"
            },
            onAdd: null,
            onEdit: null,
            onRequest: null,
            onLoad: null,
            onDelete: null,
            onSave: null,
            onSelect: null,
            onUnselect: null,
            onClick: null,
            onDblClick: null,
            onContextMenu: null,
            onMenuClick: null,
            onColumnClick: null,
            onColumnDblClick: null,
            onColumnResize: null,
            onColumnAutoResize: null,
            onSort: null,
            onSearch: null,
            onSearchOpen: null,
            onChange: null,
            onRestore: null,
            onExpand: null,
            onCollapse: null,
            onError: null,
            onKeydown: null,
            onToolbar: null,
            onColumnOnOff: null,
            onCopy: null,
            onPaste: null,
            onSelectionExtend: null,
            onEditField: null,
            onRender: null,
            onRefresh: null,
            onReload: null,
            onResize: null,
            onDestroy: null,
            onStateSave: null,
            onStateRestore: null,
            onFocus: null,
            onBlur: null,
            onReorderRow: null,
            add: function (a, b) {
                $.isArray(a) || (a = [a]);
                for (var c = 0, d = 0; d < a.length; d++) {
                    var e = a[d];
                    null != e.recid || null != e[this.recid] ? (e.w2ui && e.w2ui.summary === !0 ? b ? this.summary.unshift(e) : this.summary.push(e) : b ? this.records.unshift(e) : this.records.push(e), c++) : console.log("ERROR: Cannot add record without recid. (obj: " + this.name + ")")
                }
                var f = "object" != typeof this.url ? this.url : this.url.get;
                return f ? (this.refresh(), c) : (this.total = this.records.length, this.localSort(!1, !0), this.localSearch(), this.refreshBody(), this.resizeRecords(), c)
            },
            find: function (a, b) {
                null == a && (a = {});
                var c = [],
                    d = !1;
                for (var e in a) String(e).indexOf(".") != -1 && (d = !0);
                for (var f = 0; f < this.records.length; f++) {
                    var g = !0;
                    for (var e in a) {
                        var h = this.records[f][e];
                        d && String(e).indexOf(".") != -1 && (h = this.parseField(this.records[f], e)), "not-null" == a[e] ? null != h && "" !== h || (g = !1) : a[e] != h && (g = !1)
                    }
                    g && b !== !0 && c.push(this.records[f].recid), g && b === !0 && c.push(f)
                }
                return c
            },
            set: function (a, b, c) {
                if ("object" == typeof a && null !== a && (c = b, b = a, a = null), null == a) {
                    for (var d = 0; d < this.records.length; d++) $.extend(!0, this.records[d], b);
                    c !== !0 && this.refresh()
                } else {
                    var e = this.get(a, !0);
                    if (null == e) return !1;
                    var f = !this.records[e] || this.records[e].recid != a;
                    f ? $.extend(!0, this.summary[e], b) : $.extend(!0, this.records[e], b), c !== !0 && this.refreshRow(a, e)
                }
                return !0
            },
            get: function (a, b) {
                if ($.isArray(a)) {
                    for (var c = [], d = 0; d < a.length; d++) {
                        var e = this.get(a[d], b);
                        null !== e && c.push(e)
                    }
                    return c
                }
                var f = this.last.idCache;
                f || (this.last.idCache = f = {});
                var d = f[a];
                if ("number" == typeof d) {
                    if (d >= 0 && d < this.records.length && this.records[d].recid == a) return b === !0 ? d : this.records[d];
                    if (d = ~d, d >= 0 && d < this.summary.length && this.summary[d].recid == a) return b === !0 ? d : this.summary[d];
                    this.last.idCache = f = {}
                }
                for (var d = 0; d < this.records.length; d++)
                    if (this.records[d].recid == a) return f[a] = d, b === !0 ? d : this.records[d];
                for (var d = 0; d < this.summary.length; d++)
                    if (this.summary[d].recid == a) return f[a] = ~d, b === !0 ? d : this.summary[d];
                return null
            },
            getFirst: function () {
                if (0 == this.records.length) return null;
                var a = this.records[0].recid,
                    b = this.last.searchIds;
                return this.searchData.length > 0 && (a = Array.isArray(b) && b.length > 0 ? this.records[b[0]].recid : null), a
            },
            remove: function () {
                for (var a = 0, b = 0; b < arguments.length; b++) {
                    for (var c = this.records.length - 1; c >= 0; c--) this.records[c].recid == arguments[b] && (this.records.splice(c, 1), a++);
                    for (var c = this.summary.length - 1; c >= 0; c--) this.summary[c].recid == arguments[b] && (this.summary.splice(c, 1), a++)
                }
                var d = "object" != typeof this.url ? this.url : this.url.get;
                return d || (this.localSort(!1, !0), this.localSearch()), this.refresh(), a
            },
            addColumn: function (a, b) {
                var c = 0;
                1 == arguments.length ? (b = a, a = this.columns.length) : ("string" == typeof a && (a = this.getColumn(a, !0)), null == a && (a = this.columns.length)), $.isArray(b) || (b = [b]);
                for (var d = 0; d < b.length; d++) {
                    if (this.columns.splice(a, 0, b[d]), b[d].searchable) {
                        var e = b[d].searchable,
                            f = "";
                        b[d].searchable === !0 && (e = "text", f = 'size="20"'), this.addSearch({
                            field: b[d].field,
                            caption: b[d].caption,
                            type: e,
                            attr: f
                        })
                    }
                    a++, c++
                }
                return this.refresh(), c
            },
            removeColumn: function () {
                for (var a = 0, b = 0; b < arguments.length; b++)
                    for (var c = this.columns.length - 1; c >= 0; c--) this.columns[c].field == arguments[b] && (this.columns[c].searchable && this.removeSearch(arguments[b]), this.columns.splice(c, 1), a++);
                return this.refresh(), a
            },
            getColumn: function (a, b) {
                if (0 === arguments.length) {
                    for (var c = [], d = 0; d < this.columns.length; d++) c.push(this.columns[d].field);
                    return c
                }
                for (var d = 0; d < this.columns.length; d++)
                    if (this.columns[d].field == a) return b === !0 ? d : this.columns[d];
                return null
            },
            toggleColumn: function () {
                for (var a = 0, b = 0; b < arguments.length; b++)
                    for (var c = this.columns.length - 1; c >= 0; c--) {
                        var d = this.columns[c];
                        d.field == arguments[b] && (d.hidden = !d.hidden, a++)
                    }
                return this.refreshBody(), this.resizeRecords(), a
            },
            showColumn: function () {
                for (var a = 0, b = 0; b < arguments.length; b++)
                    for (var c = this.columns.length - 1; c >= 0; c--) {
                        var d = this.columns[c];
                        d.gridMinWidth && delete d.gridMinWidth, d.field == arguments[b] && d.hidden !== !1 && (d.hidden = !1, a++)
                    }
                return this.refreshBody(), this.resizeRecords(), this.scroll(), a
            },
            hideColumn: function () {
                for (var a = 0, b = 0; b < arguments.length; b++)
                    for (var c = this.columns.length - 1; c >= 0; c--) {
                        var d = this.columns[c];
                        d.field == arguments[b] && d.hidden !== !0 && (d.hidden = !0, a++)
                    }
                return this.refreshBody(), this.resizeRecords(), this.scroll(), a
            },
            addSearch: function (a, b) {
                var c = 0;
                1 == arguments.length ? (b = a, a = this.searches.length) : ("string" == typeof a && (a = this.getSearch(a, !0)), null == a && (a = this.searches.length)), $.isArray(b) || (b = [b]);
                for (var d = 0; d < b.length; d++) this.searches.splice(a, 0, b[d]), a++, c++;
                return this.searchClose(), c
            },
            removeSearch: function () {
                for (var a = 0, b = 0; b < arguments.length; b++)
                    for (var c = this.searches.length - 1; c >= 0; c--) this.searches[c].field == arguments[b] && (this.searches.splice(c, 1), a++);
                return this.searchClose(), a
            },
            getSearch: function (a, b) {
                if (0 === arguments.length) {
                    for (var c = [], d = 0; d < this.searches.length; d++) c.push(this.searches[d].field);
                    return c
                }
                for (var d = 0; d < this.searches.length; d++)
                    if (this.searches[d].field == a) return b === !0 ? d : this.searches[d];
                return null
            },
            toggleSearch: function () {
                for (var a = 0, b = 0; b < arguments.length; b++)
                    for (var c = this.searches.length - 1; c >= 0; c--) this.searches[c].field == arguments[b] && (this.searches[c].hidden = !this.searches[c].hidden, a++);
                return this.searchClose(), a
            },
            showSearch: function () {
                for (var a = 0, b = 0; b < arguments.length; b++)
                    for (var c = this.searches.length - 1; c >= 0; c--) this.searches[c].field == arguments[b] && this.searches[c].hidden !== !1 && (this.searches[c].hidden = !1, a++);
                return this.searchClose(), a
            },
            hideSearch: function () {
                for (var a = 0, b = 0; b < arguments.length; b++)
                    for (var c = this.searches.length - 1; c >= 0; c--) this.searches[c].field == arguments[b] && this.searches[c].hidden !== !0 && (this.searches[c].hidden = !0, a++);
                return this.searchClose(), a
            },
            getSearchData: function (a) {
                for (var b = 0; b < this.searchData.length; b++)
                    if (this.searchData[b].field == a) return this.searchData[b];
                return null
            },
            localSort: function (a, b) {
                function c() {
                    for (var a = 0; a < k.records.length; a++) {
                        var b = k.records[a];
                        b.w2ui && null != b.w2ui.parent_recid && (b.w2ui._path = f(b))
                    }
                }

                function d() {
                    for (var a = 0; a < k.records.length; a++) {
                        var b = k.records[a];
                        b.w2ui && null != b.w2ui.parent_recid && (b.w2ui._path = null)
                    }
                }

                function e(a, b) {
                    if (!(a.w2ui && null != a.w2ui.parent_recid || b.w2ui && null != b.w2ui.parent_recid)) return g(a, b);
                    for (var c = f(a), d = f(b), e = 0; e < Math.min(c.length, d.length); e++) {
                        var h = g(c[e], d[e]);
                        if (0 !== h) return h
                    }
                    return c.length > d.length ? 1 : c.length < d.length ? -1 : (console.log("ERROR: two paths should not be equal."), 0)
                }

                function f(a) {
                    if (!a.w2ui || null == a.w2ui.parent_recid) return [a];
                    if (a.w2ui._path) return a.w2ui._path;
                    var b = k.get(a.w2ui.parent_recid);
                    return b ? f(b).concat(a) : (console.log("ERROR: no parent record: " + a.w2ui.parent_recid), [a])
                }

                function g(a, b) {
                    if (a === b) return 0;
                    for (var c = 0; c < k.sortData.length; c++) {
                        var d = k.sortData[c].field,
                            e = k.sortData[c].field_ ? k.sortData[c].field_ : d,
                            f = a[e],
                            g = b[e];
                        String(d).indexOf(".") != -1 && (f = k.parseField(a, e), g = k.parseField(b, e));
                        var i = k.getColumn(d);
                        i && null != i.editable && ($.isPlainObject(f) && f.text && (f = f.text), $.isPlainObject(g) && g.text && (g = g.text));
                        var j = h(f, g, c, k.sortData[c].direction, i.sortMode || "default");
                        if (0 !== j) return j
                    }
                    var j = h(a.recid, b.recid, -1, "asc");
                    return j
                }

                function h(a, b, c, d, e) {
                    if (a === b) return 0;
                    if ((null == a || "" === a) && null != b && "" !== b) return 1;
                    if (null != a && "" !== a && (null == b || "" === b)) return -1;
                    var f = "asc" === d.toLowerCase() ? 1 : -1;
                    if (typeof a != typeof b) return typeof a > typeof b ? f : -f;
                    if (a.constructor.name != b.constructor.name) return a.constructor.name > b.constructor.name ? f : -f;
                    a && "object" == typeof a && (a = a.valueOf()), b && "object" == typeof b && (b = b.valueOf());
                    var g = {}.toString;
                    switch (a && "object" == typeof a && a.toString != g && (a = String(a)), b && "object" == typeof b && b.toString != g && (b = String(b)), "string" == typeof a && (a = $.trim(a.toLowerCase())), "string" == typeof b && (b = $.trim(b.toLowerCase())), e) {
                        case "natural":
                            e = w2utils.naturalCompare
                    }
                    return "function" == typeof e ? e(a, b) * f : a > b ? f : a < b ? -f : 0
                }
                var i = "object" != typeof this.url ? this.url : this.url.get;
                if (i) return void console.log("ERROR: grid.localSort can only be used on local data source, grid.url should be empty.");
                if (!$.isEmptyObject(this.sortData)) {
                    var j = (new Date).getTime(),
                        k = this;
                    k.selectionSave(), k.prepareData(), b || k.reset();
                    for (var l = 0; l < this.sortData.length; l++) {
                        var m = this.getColumn(this.sortData[l].field);
                        if (!m) return;
                        "string" == typeof m.render && (["date", "age"].indexOf(m.render.split(":")[0]) != -1 && (this.sortData[l].field_ = m.field + "_"), ["time"].indexOf(m.render.split(":")[0]) != -1 && (this.sortData[l].field_ = m.field + "_"))
                    }
                    return c(), this.records.sort(function (a, b) {
                        return e(a, b)
                    }), d(), k.selectionRestore(b), j = (new Date).getTime() - j, a !== !0 && k.show.statusSort && setTimeout(function () {
                        k.status(w2utils.lang("Sorting took") + " " + j / 1e3 + " " + w2utils.lang("sec"))
                    }, 10), j
                }
            },
            localSearch: function (a) {
                function b(a) {
                    for (var c = 0, d = 0; d < f.searchData.length; d++) {
                        var e = f.searchData[d],
                            h = f.getSearch(e.field);
                        if (null != e) {
                            null == h && (h = {
                                field: e.field,
                                type: e.type
                            });
                            var i = f.parseField(a, h.field),
                                j = null === i || void 0 === i || "object" == typeof i && i.toString == g ? "" : String(i).toLowerCase();
                            if (null != e.value)
                                if ($.isArray(e.value)) var k = e.value[0],
                                    l = e.value[1];
                                else var k = String(e.value).toLowerCase();
                            switch (e.operator) {
                                case "is":
                                    if (f.parseField(a, h.field) == e.value) c++;
                                    else if ("date" == h.type) {
                                        var m = f.parseField(a, h.field + "_") instanceof Date ? f.parseField(a, h.field + "_") : f.parseField(a, h.field),
                                            j = w2utils.formatDate(m, "yyyy-mm-dd"),
                                            k = w2utils.formatDate(w2utils.isDate(k, w2utils.settings.dateFormat, !0), "yyyy-mm-dd");
                                        j == k && c++
                                    } else if ("time" == h.type) {
                                        var m = f.parseField(a, h.field + "_") instanceof Date ? f.parseField(a, h.field + "_") : f.parseField(a, h.field),
                                            j = w2utils.formatTime(m, "hh24:mi"),
                                            k = w2utils.formatTime(k, "hh24:mi");
                                        j == k && c++
                                    } else if ("datetime" == h.type) {
                                        var m = f.parseField(a, h.field + "_") instanceof Date ? f.parseField(a, h.field + "_") : f.parseField(a, h.field),
                                            j = w2utils.formatDateTime(m, "yyyy-mm-dd|hh24:mm:ss"),
                                            k = w2utils.formatDateTime(w2utils.isDateTime(k, w2utils.settings.datetimeFormat, !0), "yyyy-mm-dd|hh24:mm:ss");
                                        j == k && c++
                                    }
                                    break;
                                case "between":
                                    if (["int", "float", "money", "currency", "percent"].indexOf(h.type) != -1) parseFloat(f.parseField(a, h.field)) >= parseFloat(k) && parseFloat(f.parseField(a, h.field)) <= parseFloat(l) && c++;
                                    else if ("date" == h.type) {
                                        var m = f.parseField(a, h.field + "_") instanceof Date ? f.parseField(a, h.field + "_") : f.parseField(a, h.field),
                                            j = w2utils.isDate(m, w2utils.settings.dateFormat, !0),
                                            k = w2utils.isDate(k, w2utils.settings.dateFormat, !0),
                                            l = w2utils.isDate(l, w2utils.settings.dateFormat, !0);
                                        null != l && (l = new Date(l.getTime() + 864e5)), j >= k && j < l && c++
                                    } else if ("time" == h.type) {
                                        var j = f.parseField(a, h.field + "_") instanceof Date ? f.parseField(a, h.field + "_") : f.parseField(a, h.field),
                                            k = w2utils.isTime(k, !0),
                                            l = w2utils.isTime(l, !0);
                                        k = (new Date).setHours(k.hours, k.minutes, k.seconds ? k.seconds : 0, 0), l = (new Date).setHours(l.hours, l.minutes, l.seconds ? l.seconds : 0, 0), j >= k && j < l && c++
                                    } else if ("datetime" == h.type) {
                                        var j = f.parseField(a, h.field + "_") instanceof Date ? f.parseField(a, h.field + "_") : f.parseField(a, h.field),
                                            k = w2utils.isDateTime(k, w2utils.settings.datetimeFormat, !0),
                                            l = w2utils.isDateTime(l, w2utils.settings.datetimeFormat, !0);
                                        l && (l = new Date(l.getTime() + 864e5)), j >= k && j < l && c++
                                    }
                                    break;
                                case "less":
                                    if (["int", "float", "money", "currency", "percent"].indexOf(h.type) != -1) parseFloat(f.parseField(a, h.field)) <= parseFloat(e.value) && c++;
                                    else if ("date" == h.type) {
                                        var m = f.parseField(a, h.field + "_") instanceof Date ? f.parseField(a, h.field + "_") : f.parseField(a, h.field),
                                            j = w2utils.formatDate(w2utils.isDate(m, w2utils.settings.dateFormat, !0), "yyyy-mm-dd"),
                                            k = w2utils.formatDate(w2utils.isDate(k, w2utils.settings.dateFormat, !0), "yyyy-mm-dd");
                                        j <= k && c++
                                    } else if ("time" == h.type) {
                                        var m = f.parseField(a, h.field + "_") instanceof Date ? f.parseField(a, h.field + "_") : f.parseField(a, h.field),
                                            j = w2utils.formatTime(m, "hh24:mi"),
                                            k = w2utils.formatTime(k, "hh24:mi");
                                        j <= k && c++
                                    } else if ("datetime" == h.type) {
                                        var m = f.parseField(a, h.field + "_") instanceof Date ? f.parseField(a, h.field + "_") : f.parseField(a, h.field),
                                            j = w2utils.formatDateTime(m, "yyyy-mm-dd|hh24:mm:ss"),
                                            k = w2utils.formatDateTime(w2utils.isDateTime(k, w2utils.settings.datetimeFormat, !0), "yyyy-mm-dd|hh24:mm:ss");
                                        j.length == k.length && j <= k && c++
                                    }
                                    break;
                                case "more":
                                    if (["int", "float", "money", "currency", "percent"].indexOf(h.type) != -1) parseFloat(f.parseField(a, h.field)) >= parseFloat(e.value) && c++;
                                    else if ("date" == h.type) {
                                        var m = f.parseField(a, h.field + "_") instanceof Date ? f.parseField(a, h.field + "_") : f.parseField(a, h.field),
                                            j = w2utils.formatDate(w2utils.isDate(m, w2utils.settings.dateFormat, !0), "yyyy-mm-dd"),
                                            k = w2utils.formatDate(w2utils.isDate(k, w2utils.settings.dateFormat, !0), "yyyy-mm-dd");
                                        j >= k && c++
                                    } else if ("time" == h.type) {
                                        var m = f.parseField(a, h.field + "_") instanceof Date ? f.parseField(a, h.field + "_") : f.parseField(a, h.field),
                                            j = w2utils.formatTime(m, "hh24:mi"),
                                            k = w2utils.formatTime(k, "hh24:mi");
                                        j >= k && c++
                                    } else if ("datetime" == h.type) {
                                        var m = f.parseField(a, h.field + "_") instanceof Date ? f.parseField(a, h.field + "_") : f.parseField(a, h.field),
                                            j = w2utils.formatDateTime(m, "yyyy-mm-dd|hh24:mm:ss"),
                                            k = w2utils.formatDateTime(w2utils.isDateTime(k, w2utils.settings.datetimeFormat, !0), "yyyy-mm-dd|hh24:mm:ss");
                                        j.length == k.length && j >= k && c++
                                    }
                                    break;
                                case "in":
                                    var m = e.value;
                                    e.svalue && (m = e.svalue), m.indexOf(w2utils.isFloat(i) ? parseFloat(i) : i) === -1 && m.indexOf(j) === -1 || c++;
                                    break;
                                case "not in":
                                    var m = e.value;
                                    e.svalue && (m = e.svalue), m.indexOf(w2utils.isFloat(i) ? parseFloat(i) : i) === -1 && m.indexOf(j) === -1 && c++;
                                    break;
                                case "begins":
                                case "begins with":
                                    0 === j.indexOf(k) && c++;
                                    break;
                                case "contains":
                                    j.indexOf(k) >= 0 && c++;
                                    break;
                                case "null":
                                    null == f.parseField(a, h.field) && c++;
                                    break;
                                case "not null":
                                    null != f.parseField(a, h.field) && c++;
                                    break;
                                case "ends":
                                case "ends with":
                                    var n = j.lastIndexOf(k);
                                    n !== -1 && n == j.length - k.length && c++
                            }
                        }
                    }
                    if ("OR" == f.last.logic && 0 !== c || "AND" == f.last.logic && c == f.searchData.length) return !0;
                    if (a.w2ui && a.w2ui.children && a.w2ui.expanded !== !0)
                        for (var o = 0; o < a.w2ui.children.length; o++) {
                            var p = a.w2ui.children[o];
                            if (b(p)) return !0
                        }
                    return !1
                }

                function c(a) {
                    if (void 0 !== a && !h[a]) {
                        h[a] = !0;
                        var b = f.get(a, !0);
                        if (null != b && $.inArray(b, f.last.searchIds) == -1) {
                            var d = f.records[b];
                            d && d.w2ui && c(d.w2ui.parent_recid), f.last.searchIds.push(b)
                        }
                    }
                }
                var d = "object" != typeof this.url ? this.url : this.url.get;
                if (d) return void console.log("ERROR: grid.localSearch can only be used on local data source, grid.url should be empty.");
                var e = (new Date).getTime(),
                    f = this,
                    g = {}.toString,
                    h = {};
                if (this.total = this.records.length, this.last.searchIds = [], this.prepareData(), this.searchData.length > 0 && !d) {
                    this.total = 0;
                    for (var i = 0; i < this.records.length; i++) {
                        var j = this.records[i],
                            k = b(j);
                        if (k)
                            if (j && j.w2ui && c(j.w2ui.parent_recid), this.searchContextRows && this.searchContextRows > 0) {
                                var l = this.searchContextRows,
                                    m = this.searchContextRows;
                                if (i < l && (l = i), i + m > this.records.length && (m = this.records.length - i), l > 0)
                                    for (var n = i - l; n < i; n++) this.last.searchIds.indexOf(n) < 0 && this.last.searchIds.push(n);
                                if (this.last.searchIds.indexOf(i) < 0 && this.last.searchIds.push(i), m > 0)
                                    for (var n = i + 1; n <= i + m; n++) this.last.searchIds.indexOf(n) < 0 && this.last.searchIds.push(n)
                            } else this.last.searchIds.push(i)
                    }
                    this.total = this.last.searchIds.length
                }
                return e = (new Date).getTime() - e, a !== !0 && f.show.statusSearch && setTimeout(function () {
                    f.status(w2utils.lang("Search took") + " " + e / 1e3 + " " + w2utils.lang("sec"))
                }, 10), e
            },
            getRangeData: function (a, b) {
                var c = this.get(a[0].recid, !0),
                    d = this.get(a[1].recid, !0),
                    e = a[0].column,
                    f = a[1].column,
                    g = [];
                if (e == f)
                    for (var h = c; h <= d; h++) {
                        var i = this.records[h],
                            j = i[this.columns[e].field] || null;
                        b !== !0 ? g.push(j) : g.push({
                            data: j,
                            column: e,
                            index: h,
                            record: i
                        })
                    } else if (c == d)
                        for (var i = this.records[c], k = e; k <= f; k++) {
                            var j = i[this.columns[k].field] || null;
                            b !== !0 ? g.push(j) : g.push({
                                data: j,
                                column: k,
                                index: c,
                                record: i
                            })
                        } else
                            for (var h = c; h <= d; h++) {
                                var i = this.records[h];
                                g.push([]);
                                for (var k = e; k <= f; k++) {
                                    var j = i[this.columns[k].field];
                                    b !== !0 ? g[g.length - 1].push(j) : g[g.length - 1].push({
                                        data: j,
                                        column: k,
                                        index: h,
                                        record: i
                                    })
                                }
                            }
                return g
            },
            addRange: function (a) {
                var b = 0;
                if ("row" == this.selectType) return b;
                $.isArray(a) || (a = [a]);
                for (var c = 0; c < a.length; c++) {
                    if ("object" != typeof a[c] && (a[c] = {
                            name: "selection"
                        }), "selection" == a[c].name) {
                        if (this.show.selectionBorder === !1) continue;
                        var d = this.getSelection();
                        if (0 === d.length) {
                            this.removeRange("selection");
                            continue
                        }
                        var e = d[0],
                            f = d[d.length - 1]
                    } else var e = a[c].range[0],
                        f = a[c].range[1];
                    if (e) {
                        for (var g = {
                                name: a[c].name,
                                range: [{
                                    recid: e.recid,
                                    column: e.column
                                }, {
                                    recid: f.recid,
                                    column: f.column
                                }],
                                style: a[c].style || ""
                            }, h = !1, i = 0; i < this.ranges.length; i++)
                            if (this.ranges[i].name == a[c].name) {
                                h = i;
                                break
                            } h !== !1 ? this.ranges[h] = g : this.ranges.push(g), b++
                    }
                }
                return this.refreshRanges(), b
            },
            removeRange: function () {
                for (var a = 0, b = 0; b < arguments.length; b++) {
                    var c = arguments[b];
                    $("#grid_" + this.name + "_" + c).remove(), $("#grid_" + this.name + "_f" + c).remove();
                    for (var d = this.ranges.length - 1; d >= 0; d--) this.ranges[d].name == c && (this.ranges.splice(d, 1), a++)
                }
                return a
            },
            refreshRanges: function () {
                function a(a) {
                    var e = d.getSelection();
                    d.last.move = {
                        type: "expand",
                        x: a.screenX,
                        y: a.screenY,
                        divX: 0,
                        divY: 0,
                        recid: e[0].recid,
                        column: e[0].column,
                        originalRange: [{
                            recid: e[0].recid,
                            column: e[0].column
                        }, {
                            recid: e[e.length - 1].recid,
                            column: e[e.length - 1].column
                        }],
                        newRange: [{
                            recid: e[0].recid,
                            column: e[0].column
                        }, {
                            recid: e[e.length - 1].recid,
                            column: e[e.length - 1].column
                        }]
                    }, $(document).off(".w2ui-" + d.name).on("mousemove.w2ui-" + d.name, b).on("mouseup.w2ui-" + d.name, c), a.preventDefault()
                }

                function b(a) {
                    var b = d.last.move;
                    if (b && "expand" == b.type) {
                        b.divX = a.screenX - b.x, b.divY = a.screenY - b.y;
                        var c, e, f = a.originalEvent.target;
                        if ("TD" != f.tagName.toUpperCase() && (f = $(f).parents("td")[0]), null != $(f).attr("col") && (e = parseInt($(f).attr("col"))), f = $(f).parents("tr")[0], c = $(f).attr("recid"), b.newRange[1].recid != c || b.newRange[1].column != e) {
                            var g = $.extend({}, b.newRange);
                            return b.newRange = [{
                                recid: b.recid,
                                column: b.column
                            }, {
                                recid: c,
                                column: e
                            }], B = d.trigger($.extend(B, {
                                originalRange: b.originalRange,
                                newRange: b.newRange
                            })), B.isCancelled === !0 ? (b.newRange = g, void(B.newRange = g)) : (d.removeRange("grid-selection-expand"), void d.addRange({
                                name: "grid-selection-expand",
                                range: B.newRange,
                                style: "background-color: rgba(100,100,100,0.1); border: 2px dotted rgba(100,100,100,0.5);"
                            }))
                        }
                    }
                }

                function c(a) {
                    d.removeRange("grid-selection-expand"), delete d.last.move, $(document).off(".w2ui-" + d.name), d.trigger($.extend(B, {
                        phase: "after"
                    }))
                }
                if (0 !== this.ranges.length) {
                    for (var d = this, e = (new Date).getTime(), f = $("#grid_" + this.name + "_frecords"), g = $("#grid_" + this.name + "_records"), h = 0; h < this.ranges.length; h++) {
                        var i = this.ranges[h],
                            j = i.range[0],
                            k = i.range[1];
                        null == j.index && (j.index = this.get(j.recid, !0)), null == k.index && (k.index = this.get(k.recid, !0));
                        var l = $("#grid_" + this.name + "_rec_" + w2utils.escapeId(j.recid) + ' td[col="' + j.column + '"]'),
                            m = $("#grid_" + this.name + "_rec_" + w2utils.escapeId(k.recid) + ' td[col="' + k.column + '"]'),
                            n = $("#grid_" + this.name + "_frec_" + w2utils.escapeId(j.recid) + ' td[col="' + j.column + '"]'),
                            o = $("#grid_" + this.name + "_frec_" + w2utils.escapeId(k.recid) + ' td[col="' + k.column + '"]'),
                            p = k.column;
                        j.column < this.last.colStart && k.column > this.last.colStart && (l = $("#grid_" + this.name + "_rec_" + w2utils.escapeId(j.recid) + ' td[col="start"]')), j.column < this.last.colEnd && k.column > this.last.colEnd && (p = '"end"', m = $("#grid_" + this.name + "_rec_" + w2utils.escapeId(k.recid) + ' td[col="end"]'));
                        var q = parseInt($("#grid_" + this.name + "_rec_top").next().attr("index")),
                            r = parseInt($("#grid_" + this.name + "_rec_bottom").prev().attr("index")),
                            s = parseInt($("#grid_" + this.name + "_frec_top").next().attr("index")),
                            t = parseInt($("#grid_" + this.name + "_frec_bottom").prev().attr("index"));
                        0 === l.length && j.index < q && k.index > q && (l = $("#grid_" + this.name + "_rec_top").next().find("td[col=" + j.column + "]")), 0 === m.length && k.index > r && j.index < r && (m = $("#grid_" + this.name + "_rec_bottom").prev().find("td[col=" + p + "]")), 0 === n.length && j.index < s && k.index > s && (n = $("#grid_" + this.name + "_frec_top").next().find("td[col=" + j.column + "]")), 0 === o.length && k.index > t && j.index < t && (o = $("#grid_" + this.name + "_frec_bottom").prev().find("td[col=" + k.column + "]"));
                        var u = $(this.box).find("#grid_" + this.name + "_editable"),
                            v = u.find(".w2ui-input"),
                            w = v.attr("recid"),
                            x = v.attr("column");
                        if ("selection" != i.name || i.range[0].recid != w || i.range[0].column != x) {
                            var y = $("#grid_" + this.name + "_f" + i.name);
                            if (n.length > 0 || o.length > 0)
                                if (0 === y.length ? (f.append('<div id="grid_' + this.name + "_f" + i.name + '" class="w2ui-selection" style="' + i.style + '">' + ("selection" == i.name ? '<div id="grid_' + this.name + '_resizer" class="w2ui-selection-resizer"></div>' : "") + "</div>"), y = $("#grid_" + this.name + "_f" + i.name)) : (y.attr("style", i.style), y.find(".w2ui-selection-resizer").show()), 0 === o.length && (o = $("#grid_" + this.name + "_frec_" + w2utils.escapeId(k.recid) + " td:last-child"), 0 === o.length && (o = $("#grid_" + this.name + "_frec_bottom td:first-child")), y.css("border-right", "0px"), y.find(".w2ui-selection-resizer").hide()), null != j.recid && null != k.recid && n.length > 0 && o.length > 0) {
                                    var z = n.position().left - 1 + f.scrollLeft(),
                                        A = n.position().top - 1 + f.scrollTop();
                                    y.show().css({
                                        left: (z > 0 ? z : 0) + "px",
                                        top: (A > 0 ? A : 0) + "px",
                                        width: o.position().left - n.position().left + o.width() + 3 + "px",
                                        height: o.position().top - n.position().top + o.height() + 3 + "px"
                                    })
                                } else y.hide();
                            else y.hide();
                            var y = $("#grid_" + this.name + "_" + i.name);
                            if (l.length > 0 || m.length > 0)
                                if (0 === y.length ? (g.append('<div id="grid_' + this.name + "_" + i.name + '" class="w2ui-selection" style="' + i.style + '">' + ("selection" == i.name ? '<div id="grid_' + this.name + '_resizer" class="w2ui-selection-resizer"></div>' : "") + "</div>"), y = $("#grid_" + this.name + "_" + i.name)) : y.attr("style", i.style), 0 === l.length && (l = $("#grid_" + this.name + "_rec_" + w2utils.escapeId(j.recid) + " td:first-child"), 0 === l.length && (l = $("#grid_" + this.name + "_rec_top td:first-child"))), 0 !== o.length && y.css("border-left", "0px"), null != j.recid && null != k.recid && l.length > 0 && m.length > 0) {
                                    var z = l.position().left - 1 + g.scrollLeft(),
                                        A = l.position().top - 1 + g.scrollTop();
                                    y.show().css({
                                        left: (z > 0 ? z : 0) + "px",
                                        top: (A > 0 ? A : 0) + "px",
                                        width: m.position().left - l.position().left + m.width() + 3 + "px",
                                        height: m.position().top - l.position().top + m.height() + 3 + "px"
                                    })
                                } else y.hide();
                            else y.hide()
                        }
                    }
                    $(this.box).find(".w2ui-selection-resizer").off("mousedown").on("mousedown", a).off("dblclick").on("dblclick", function (a) {
                        var b = d.trigger({
                            phase: "before",
                            type: "resizerDblClick",
                            target: d.name,
                            originalEvent: a
                        });
                        b.isCancelled !== !0 && d.trigger($.extend(b, {
                            phase: "after"
                        }))
                    });
                    var B = {
                        phase: "before",
                        type: "selectionExtend",
                        target: d.name,
                        originalRange: null,
                        newRange: null
                    };
                    return (new Date).getTime() - e
                }
            },
            select: function () {
                if (0 === arguments.length) return 0;
                var a = ((new Date).getTime(), 0),
                    b = this.last.selection;
                this.multiSelect || this.selectNone();
                var c = {
                    phase: "before",
                    type: "select",
                    target: this.name
                };
                1 == arguments.length ? (c.multiple = !1, $.isPlainObject(arguments[0]) ? (c.recid = arguments[0].recid, c.column = arguments[0].column) : c.recid = arguments[0]) : (c.multiple = !0, c.recids = Array.prototype.slice.call(arguments, 0));
                var d = this.trigger(c);
                if (d.isCancelled === !0) return 0;
                if ("row" == this.selectType)
                    for (var e = 0; e < arguments.length; e++) {
                        var f = "object" == typeof arguments[e] ? arguments[e].recid : arguments[e],
                            g = this.get(f, !0);
                        if (null != g) {
                            var h = null,
                                i = null;
                            if ((0 !== this.searchData.length || g + 1 >= this.last.range_start && g + 1 <= this.last.range_end) && (h = $("#grid_" + this.name + "_frec_" + w2utils.escapeId(f)), i = $("#grid_" + this.name + "_rec_" + w2utils.escapeId(f))), "row" == this.selectType) {
                                if (b.indexes.indexOf(g) != -1) continue;
                                b.indexes.push(g), h && i && (h.addClass("w2ui-selected").data("selected", "yes").find(".w2ui-col-number").addClass("w2ui-row-selected"), i.addClass("w2ui-selected").data("selected", "yes").find(".w2ui-col-number").addClass("w2ui-row-selected"), h.find(".w2ui-grid-select-check").prop("checked", !0)), a++
                            }
                        }
                    } else {
                        for (var j = {}, e = 0; e < arguments.length; e++) {
                            var f = "object" == typeof arguments[e] ? arguments[e].recid : arguments[e],
                                k = "object" == typeof arguments[e] ? arguments[e].column : null;
                            if (j[f] = j[f] || [], $.isArray(k)) j[f] = k;
                            else if (w2utils.isInt(k)) j[f].push(k);
                            else
                                for (var l = 0; l < this.columns.length; l++) this.columns[l].hidden || j[f].push(parseInt(l))
                        }
                        var m = [];
                        for (var f in j) {
                            var g = this.get(f, !0);
                            if (null != g) {
                                var h = null,
                                    i = null;
                                g + 1 >= this.last.range_start && g + 1 <= this.last.range_end && (h = $("#grid_" + this.name + "_rec_" + w2utils.escapeId(f)), i = $("#grid_" + this.name + "_frec_" + w2utils.escapeId(f)));
                                var n = b.columns[g] || [];
                                b.indexes.indexOf(g) == -1 && b.indexes.push(g);
                                for (var o = 0; o < j[f].length; o++) n.indexOf(j[f][o]) == -1 && n.push(j[f][o]);
                                n.sort(function (a, b) {
                                    return a - b
                                });
                                for (var o = 0; o < j[f].length; o++) {
                                    var p = j[f][o];
                                    m.indexOf(p) == -1 && m.push(p), h && (h.find("#grid_" + this.name + "_data_" + g + "_" + p).addClass("w2ui-selected"), h.find(".w2ui-col-number").addClass("w2ui-row-selected"), h.data("selected", "yes"), h.find(".w2ui-grid-select-check").prop("checked", !0)), i && (i.find("#grid_" + this.name + "_data_" + g + "_" + p).addClass("w2ui-selected"), i.find(".w2ui-col-number").addClass("w2ui-row-selected"), i.data("selected", "yes"),
                                        i.find(".w2ui-grid-select-check").prop("checked", !0)), a++
                                }
                                b.columns[g] = n
                            }
                        }
                        for (var q = 0; q < m.length; q++) $(this.box).find("#grid_" + this.name + "_column_" + m[q] + " .w2ui-col-header").addClass("w2ui-col-selected")
                    }
                b.indexes.sort(function (a, b) {
                    return a - b
                });
                var r = this.records.length > 0 && b.indexes.length == this.records.length,
                    s = b.indexes.length > 0 && 0 !== this.searchData.length && b.indexes.length == this.last.searchIds.length;
                return r || s ? $("#grid_" + this.name + "_check_all").prop("checked", !0) : $("#grid_" + this.name + "_check_all").prop("checked", !1), this.status(), this.addRange("selection"), this.trigger($.extend(d, {
                    phase: "after"
                })), a
            },
            unselect: function () {
                for (var a = 0, b = this.last.selection, c = 0; c < arguments.length; c++) {
                    var d = "object" == typeof arguments[c] ? arguments[c].recid : arguments[c],
                        e = this.get(d);
                    if (null != e) {
                        var f = this.get(e.recid, !0),
                            g = $("#grid_" + this.name + "_frec_" + w2utils.escapeId(d)),
                            h = $("#grid_" + this.name + "_rec_" + w2utils.escapeId(d));
                        if ("row" == this.selectType) {
                            if (b.indexes.indexOf(f) == -1) continue;
                            var i = this.trigger({
                                phase: "before",
                                type: "unselect",
                                target: this.name,
                                recid: d,
                                index: f
                            });
                            if (i.isCancelled === !0) continue;
                            b.indexes.splice(b.indexes.indexOf(f), 1), g.removeClass("w2ui-selected w2ui-inactive").removeData("selected").find(".w2ui-col-number").removeClass("w2ui-row-selected"), h.removeClass("w2ui-selected w2ui-inactive").removeData("selected").find(".w2ui-col-number").removeClass("w2ui-row-selected"), 0 != g.length && (g[0].style.cssText = "height: " + this.recordHeight + "px; " + g.attr("custom_style"), h[0].style.cssText = "height: " + this.recordHeight + "px; " + h.attr("custom_style")), g.find(".w2ui-grid-select-check").prop("checked", !1), a++
                        } else {
                            var j = arguments[c].column;
                            if (!w2utils.isInt(j)) {
                                for (var k = [], l = 0; l < this.columns.length; l++) this.columns[l].hidden || k.push({
                                    recid: d,
                                    column: l
                                });
                                return this.unselect.apply(this, k)
                            }
                            var m = b.columns[f];
                            if (!$.isArray(m) || m.indexOf(j) == -1) continue;
                            var i = this.trigger({
                                phase: "before",
                                type: "unselect",
                                target: this.name,
                                recid: d,
                                column: j
                            });
                            if (i.isCancelled === !0) continue;
                            m.splice(m.indexOf(j), 1), $("#grid_" + this.name + "_rec_" + w2utils.escapeId(d)).find(" > td[col=" + j + "]").removeClass("w2ui-selected w2ui-inactive"), $("#grid_" + this.name + "_frec_" + w2utils.escapeId(d)).find(" > td[col=" + j + "]").removeClass("w2ui-selected w2ui-inactive");
                            for (var n = !1, o = !1, p = this.getSelection(), l = 0; l < p.length; l++) p[l].column == j && (n = !0), p[l].recid == d && (o = !0);
                            n || $(this.box).find(".w2ui-grid-columns td[col=" + j + "] .w2ui-col-header, .w2ui-grid-fcolumns td[col=" + j + "] .w2ui-col-header").removeClass("w2ui-col-selected"), o || $("#grid_" + this.name + "_frec_" + w2utils.escapeId(d)).find(".w2ui-col-number").removeClass("w2ui-row-selected"), a++, 0 === m.length && (delete b.columns[f], b.indexes.splice(b.indexes.indexOf(f), 1), g.removeData("selected"), g.find(".w2ui-grid-select-check").prop("checked", !1), h.removeData("selected"))
                        }
                        this.trigger($.extend(i, {
                            phase: "after"
                        }))
                    }
                }
                var q = this.records.length > 0 && b.indexes.length == this.records.length,
                    r = b.indexes.length > 0 && 0 !== this.searchData.length && b.indexes.length == this.last.searchIds.length;
                return q || r ? $("#grid_" + this.name + "_check_all").prop("checked", !0) : $("#grid_" + this.name + "_check_all").prop("checked", !1), this.status(), this.addRange("selection"), a
            },
            selectAll: function () {
                var a = (new Date).getTime();
                if (this.multiSelect !== !1) {
                    var b = this.trigger({
                        phase: "before",
                        type: "select",
                        target: this.name,
                        all: !0
                    });
                    if (b.isCancelled !== !0) {
                        for (var c = "object" != typeof this.url ? this.url : this.url.get, d = this.last.selection, e = [], f = 0; f < this.columns.length; f++) e.push(f);
                        if (d.indexes = [], c || 0 === this.searchData.length) {
                            var g = this.records.length;
                            0 == this.searchData.length || c || (g = this.last.searchIds.length);
                            for (var f = 0; f < g; f++) d.indexes.push(f), "row" != this.selectType && (d.columns[f] = e.slice())
                        } else
                            for (var f = 0; f < this.last.searchIds.length; f++) d.indexes.push(this.last.searchIds[f]), "row" != this.selectType && (d.columns[this.last.searchIds[f]] = e.slice());
                        "row" == this.selectType ? ($(this.box).find(".w2ui-grid-records tr").not(".w2ui-empty-record").addClass("w2ui-selected").data("selected", "yes").find(".w2ui-col-number").addClass("w2ui-row-selected"), $(this.box).find(".w2ui-grid-frecords tr").not(".w2ui-empty-record").addClass("w2ui-selected").data("selected", "yes").find(".w2ui-col-number").addClass("w2ui-row-selected"), $(this.box).find("input.w2ui-grid-select-check").prop("checked", !0)) : ($(this.box).find(".w2ui-grid-columns td .w2ui-col-header, .w2ui-grid-fcolumns td .w2ui-col-header").addClass("w2ui-col-selected"), $(this.box).find(".w2ui-grid-records tr .w2ui-col-number").addClass("w2ui-row-selected"), $(this.box).find(".w2ui-grid-records tr").not(".w2ui-empty-record").find(".w2ui-grid-data").not(".w2ui-col-select").addClass("w2ui-selected").data("selected", "yes"), $(this.box).find(".w2ui-grid-frecords tr .w2ui-col-number").addClass("w2ui-row-selected"), $(this.box).find(".w2ui-grid-frecords tr").not(".w2ui-empty-record").find(".w2ui-grid-data").not(".w2ui-col-select").addClass("w2ui-selected").data("selected", "yes"), $(this.box).find("input.w2ui-grid-select-check").prop("checked", !0));
                        var d = this.getSelection();
                        return 1 == d.length ? this.toolbar.enable("w2ui-edit") : this.toolbar.disable("w2ui-edit"), d.length >= 1 ? this.toolbar.enable("w2ui-delete") : this.toolbar.disable("w2ui-delete"), this.addRange("selection"), $("#grid_" + this.name + "_check_all").prop("checked", !0), this.status(), this.trigger($.extend(b, {
                            phase: "after"
                        })), (new Date).getTime() - a
                    }
                }
            },
            selectNone: function () {
                var a = (new Date).getTime(),
                    b = this.trigger({
                        phase: "before",
                        type: "unselect",
                        target: this.name,
                        all: !0
                    });
                if (b.isCancelled !== !0) {
                    var c = this.last.selection;
                    return "row" == this.selectType ? ($(this.box).find(".w2ui-grid-records tr.w2ui-selected").removeClass("w2ui-selected w2ui-inactive").removeData("selected").find(".w2ui-col-number").removeClass("w2ui-row-selected"), $(this.box).find(".w2ui-grid-frecords tr.w2ui-selected").removeClass("w2ui-selected w2ui-inactive").removeData("selected").find(".w2ui-col-number").removeClass("w2ui-row-selected"), $(this.box).find("input.w2ui-grid-select-check").prop("checked", !1)) : ($(this.box).find(".w2ui-grid-columns td .w2ui-col-header, .w2ui-grid-fcolumns td .w2ui-col-header").removeClass("w2ui-col-selected"), $(this.box).find(".w2ui-grid-records tr .w2ui-col-number").removeClass("w2ui-row-selected"), $(this.box).find(".w2ui-grid-frecords tr .w2ui-col-number").removeClass("w2ui-row-selected"), $(this.box).find(".w2ui-grid-data.w2ui-selected").removeClass("w2ui-selected w2ui-inactive").removeData("selected"), $(this.box).find("input.w2ui-grid-select-check").prop("checked", !1)), c.indexes = [], c.columns = {}, this.toolbar.disable("w2ui-edit", "w2ui-delete"), this.removeRange("selection"), $("#grid_" + this.name + "_check_all").prop("checked", !1), this.status(), this.trigger($.extend(b, {
                        phase: "after"
                    })), (new Date).getTime() - a
                }
            },
            getSelection: function (a) {
                var b = [],
                    c = this.last.selection;
                if ("row" == this.selectType) {
                    for (var d = 0; d < c.indexes.length; d++) this.records[c.indexes[d]] && (a === !0 ? b.push(c.indexes[d]) : b.push(this.records[c.indexes[d]].recid));
                    return b
                }
                for (var d = 0; d < c.indexes.length; d++) {
                    var e = c.columns[c.indexes[d]];
                    if (this.records[c.indexes[d]])
                        for (var f = 0; f < e.length; f++) b.push({
                            recid: this.records[c.indexes[d]].recid,
                            index: parseInt(c.indexes[d]),
                            column: e[f]
                        })
                }
                return b
            },
            search: function (a, b) {
                for (var c = "object" != typeof this.url ? this.url : this.url.get, d = [], e = this.last.multi, f = this.last.logic, g = this.last.field, h = this.last.search, i = !1, j = 0; j < this.searches.length; j++) this.searches[j].hidden && (d.push({
                    field: this.searches[j].field,
                    operator: this.searches[j].operator || "is",
                    type: this.searches[j].type,
                    value: this.searches[j].value || ""
                }), i = !0);
                if (0 === arguments.length) {
                    h = "";
                    for (var j = 0; j < this.searches.length; j++) {
                        var k = this.searches[j],
                            l = $("#grid_" + this.name + "_operator_" + j).val(),
                            m = $("#grid_" + this.name + "_field_" + j),
                            n = $("#grid_" + this.name + "_field2_" + j),
                            o = m.val(),
                            p = n.val(),
                            q = null,
                            r = null;
                        if (["int", "float", "money", "currency", "percent"].indexOf(k.type) != -1) {
                            var s = m.data("w2field"),
                                t = n.data("w2field");
                            s && (o = s.clean(o)), t && (p = t.clean(p))
                        }
                        if (["list", "enum"].indexOf(k.type) != -1)
                            if (o = m.data("selected") || {}, $.isArray(o)) {
                                q = [];
                                for (var u = 0; u < o.length; u++) q.push(w2utils.isFloat(o[u].id) ? parseFloat(o[u].id) : String(o[u].id).toLowerCase()), delete o[u].hidden;
                                $.isEmptyObject(o) && (o = "")
                            } else r = o.text || "", o = o.id || "";
                        if ("" !== o && null != o || null != p && "" !== p) {
                            var v = {
                                field: k.field,
                                type: k.type,
                                operator: l
                            };
                            "between" == l ? $.extend(v, {
                                value: [o, p]
                            }) : "in" == l && "string" == typeof o ? $.extend(v, {
                                value: o.split(",")
                            }) : "not in" == l && "string" == typeof o ? $.extend(v, {
                                value: o.split(",")
                            }) : $.extend(v, {
                                value: o
                            }), q && $.extend(v, {
                                svalue: q
                            }), r && $.extend(v, {
                                text: r
                            });
                            try {
                                "date" == k.type && "between" == l && (v.value[0] = o, v.value[1] = p), "date" == k.type && "is" == l && (v.value = o)
                            } catch (a) {}
                            d.push(v)
                        }
                    }
                    e = !0, f = "AND"
                }
                if ("string" == typeof a && (1 == arguments.length && (b = a, a = "all"), g = a, h = b, e = !1, f = i ? "AND" : "OR", null != b))
                    if ("all" == a.toLowerCase())
                        if (this.searches.length > 0)
                            for (var j = 0; j < this.searches.length; j++) {
                                var k = this.searches[j];
                                if ("text" == k.type || "alphanumeric" == k.type && w2utils.isAlphaNumeric(b) || "int" == k.type && w2utils.isInt(b) || "float" == k.type && w2utils.isFloat(b) || "percent" == k.type && w2utils.isFloat(b) || ("hex" == k.type || "color" == k.type) && w2utils.isHex(b) || "currency" == k.type && w2utils.isMoney(b) || "money" == k.type && w2utils.isMoney(b) || "date" == k.type && w2utils.isDate(b) || "time" == k.type && w2utils.isTime(b) || "datetime" == k.type && w2utils.isDateTime(b) || "datetime" == k.type && w2utils.isDate(b) || "enum" == k.type && w2utils.isAlphaNumeric(b) || "list" == k.type && w2utils.isAlphaNumeric(b)) {
                                    var v = {
                                        field: k.field,
                                        type: k.type,
                                        operator: null != k.operator ? k.operator : "text" == k.type ? this.textSearch : "is",
                                        value: b
                                    };
                                    "" != $.trim(b) && d.push(v)
                                }
                                if (["int", "float", "money", "currency", "percent"].indexOf(k.type) != -1 && 2 == $.trim(String(b)).split("-").length) {
                                    var w = $.trim(String(b)).split("-"),
                                        v = {
                                            field: k.field,
                                            type: k.type,
                                            operator: null != k.operator ? k.operator : "between",
                                            value: [w[0], w[1]]
                                        };
                                    d.push(v)
                                }
                                if (["list", "enum"].indexOf(k.type) != -1) {
                                    for (var x = [], u = 0; u < k.options.items; u++) {
                                        var v = k.options.items[u];
                                        try {
                                            var y = new RegExp(b, "i");
                                            y.test(v) && x.push(u), v.text && y.test(v.text) && x.push(v.id)
                                        } catch (a) {}
                                    }
                                    if (x.length > 0) {
                                        var v = {
                                            field: k.field,
                                            type: k.type,
                                            operator: null != k.operator ? k.operator : "in",
                                            value: x
                                        };
                                        d.push(v)
                                    }
                                }
                            } else
                                for (var j = 0; j < this.columns.length; j++) {
                                    var v = {
                                        field: this.columns[j].field,
                                        type: "text",
                                        operator: this.textSearch,
                                        value: b
                                    };
                                    d.push(v)
                                } else {
                                    var z = $("#grid_" + this.name + "_search_all"),
                                        k = this.getSearch(a);
                                    if (null == k && (k = {
                                            field: a,
                                            type: "text"
                                        }), k.field == a && (this.last.caption = k.caption), "" !== b) {
                                        var A = this.textSearch,
                                            B = b;
                                        if (["date", "time", "datetime"].indexOf(k.type) != -1 && (A = "is"), ["list", "enum"].indexOf(k.type) != -1) {
                                            A = "is";
                                            var v = z.data("selected");
                                            B = v && !$.isEmptyObject(v) ? v.id : ""
                                        }
                                        if ("int" == k.type && "" !== b) {
                                            if (A = "is", String(b).indexOf("-") != -1) {
                                                var v = b.split("-");
                                                2 == v.length && (A = "between", B = [parseInt(v[0]), parseInt(v[1])])
                                            }
                                            if (String(b).indexOf(",") != -1) {
                                                var v = b.split(",");
                                                A = "in", B = [];
                                                for (var j = 0; j < v.length; j++) B.push(v[j])
                                            }
                                        }
                                        null != k.operator && (A = k.operator);
                                        var v = {
                                            field: k.field,
                                            type: k.type,
                                            operator: A,
                                            value: B
                                        };
                                        d.push(v)
                                    }
                                }
                if ($.isArray(a)) {
                    var C = "AND";
                    "string" == typeof b && (C = b.toUpperCase(), "OR" != C && "AND" != C && (C = "AND")), h = "", e = !0, f = C;
                    for (var j = 0; j < a.length; j++) {
                        var D = a[j],
                            k = this.getSearch(D.field);
                        if (null == k && (k = {
                                type: "text",
                                operator: this.textSearch
                            }), $.isArray(D.value))
                            for (var u = 0; u < D.value.length; u++) "string" == typeof D.value[u] && (D.value[u] = D.value[u].toLowerCase());
                        d.push($.extend(!0, {}, k, D))
                    }
                }
                var E = this.trigger({
                    phase: "before",
                    type: "search",
                    multi: 0 === arguments.length,
                    target: this.name,
                    searchData: d,
                    searchField: a ? a : "multi",
                    searchValue: a ? b : "multi"
                });
                E.isCancelled !== !0 && (this.searchData = E.searchData, this.last.field = g, this.last.search = h, this.last.multi = e, this.last.logic = f, this.last.scrollTop = 0, this.last.scrollLeft = 0, this.last.selection.indexes = [], this.last.selection.columns = {}, this.searchClose(), c ? (this.last.xhr_offset = 0, this.reload()) : (this.localSearch(), this.refresh()), this.trigger($.extend(E, {
                    phase: "after"
                })))
            },
            searchOpen: function () {
                if (this.box && 0 !== this.searches.length) {
                    var a = this,
                        b = a.toolbar.get("w2ui-search-advanced"),
                        c = "#tb_" + a.toolbar.name + "_item_" + w2utils.escapeId(b.id) + " table.w2ui-button",
                        d = this.trigger({
                            phase: "before",
                            type: "searchOpen",
                            target: this.name
                        });
                    return d.isCancelled === !0 ? void setTimeout(function () {
                        a.toolbar.uncheck("w2ui-search-advanced")
                    }, 1) : void $("#tb_" + this.name + "_toolbar_item_w2ui-search-advanced").w2overlay({
                        html: this.getSearchesHTML(),
                        name: this.name + "-searchOverlay",
                        left: -10,
                        class: "w2ui-grid-searches",
                        onShow: function () {
                            a.initSearches(), $("#w2ui-overlay-" + a.name + "-searchOverlay .w2ui-grid-searches").data("grid-name", a.name);
                            var e = $("#w2ui-overlay-" + this.name + "-searchOverlay .w2ui-grid-searches *[rel=search]");
                            e.length > 0 && e[0].focus(), b.checked || (b.checked = !0, $(c).addClass("checked")), a.trigger($.extend(d, {
                                phase: "after"
                            }))
                        },
                        onHide: function () {
                            b.checked = !1, $(c).removeClass("checked")
                        }
                    })
                }
            },
            searchClose: function () {
                this.box && 0 !== this.searches.length && (this.toolbar && this.toolbar.uncheck("w2ui-search-advanced"), $().w2overlay({
                    name: this.name + "-searchOverlay"
                }))
            },
            searchReset: function (a) {
                for (var b = [], c = !1, d = 0; d < this.searches.length; d++) this.searches[d].hidden && (b.push({
                    field: this.searches[d].field,
                    operator: this.searches[d].operator || "is",
                    type: this.searches[d].type,
                    value: this.searches[d].value || ""
                }), c = !0);
                var e = this.trigger({
                    phase: "before",
                    type: "search",
                    reset: !0,
                    target: this.name,
                    searchData: b
                });
                if (e.isCancelled !== !0) {
                    if (this.searchData = e.searchData, this.last.search = "", this.last.logic = c ? "AND" : "OR", this.searches.length > 0)
                        if (this.multiSearch && this.show.searchAll) this.last.field = "all", this.last.caption = w2utils.lang("All Fields");
                        else {
                            for (var f = 0; f < this.searches.length && (this.searches[f].hidden || this.searches[f].simple === !1);) f++;
                            f >= this.searches.length ? (this.last.field = "", this.last.caption = "") : (this.last.field = this.searches[f].field, this.last.caption = this.searches[f].caption)
                        } this.last.multi = !1, this.last.xhr_offset = 0, this.last.scrollTop = 0, this.last.scrollLeft = 0, this.last.selection.indexes = [], this.last.selection.columns = {}, this.searchClose(), $("#grid_" + this.name + "_search_all").val("").removeData("selected"), a || this.reload(), this.trigger($.extend(e, {
                        phase: "after"
                    }))
                }
            },
            searchShowFields: function () {
                for (var a = this, b = $("#grid_" + this.name + "_search_all"), c = '<div class="w2ui-select-field"><table><tbody>', d = -1; d < this.searches.length; d++) {
                    var e = this.searches[d];
                    if (d == -1) {
                        if (!this.multiSearch || !this.show.searchAll) continue;
                        e = {
                            field: "all",
                            caption: w2utils.lang("All Fields")
                        }
                    } else if (this.searches[d].hidden === !0 || this.searches[d].simple === !1) continue;
                    c += "<tr " + (w2utils.isIOS ? "onTouchStart" : "onClick") + "=\"w2ui['" + this.name + "'].initAllField('" + e.field + "');      event.stopPropagation(); jQuery('#grid_" + this.name + "_search_all').w2overlay({ name: '" + this.name + '-searchFields\' });">   <td>       <span class="w2ui-column-check w2ui-icon-' + (e.field == this.last.field ? "check" : "empty") + '"></span>   </td>   <td>' + e.caption + "</td></tr>"
                }
                c += "</tbody></table></div>", setTimeout(function () {
                    $(b).w2overlay({
                        html: c,
                        name: a.name + "-searchFields",
                        left: -10
                    })
                }, 1)
            },
            initAllField: function (a, b) {
                var c = $("#grid_" + this.name + "_search_all");
                if ("all" == a) {
                    var d = {
                        field: "all",
                        caption: w2utils.lang("All Fields")
                    };
                    c.w2field("clear"), c.change()
                } else {
                    var d = this.getSearch(a);
                    if (null == d) return;
                    var e = d.type;
                    ["enum", "select"].indexOf(e) != -1 && (e = "list"), c.w2field(e, $.extend({}, d.options, {
                        suffix: "",
                        autoFormat: !1,
                        selected: b
                    })), ["list", "enum", "date", "time", "datetime"].indexOf(d.type) != -1 && (this.last.search = "", this.last.item = "", c.val(""))
                }
                "" != this.last.search ? (this.last.caption = d.caption, this.search(d.field, this.last.search)) : (this.last.field = d.field, this.last.caption = d.caption), c.attr("placeholder", w2utils.lang(d.caption)), $().w2overlay({
                    name: this.name + "-searchFields"
                })
            },
            clear: function (a) {
                this.total = 0, this.records = [], this.summary = [], this.last.xhr_offset = 0, this.last.idCache = {}, this.reset(!0), a || this.refresh()
            },
            reset: function (a) {
                this.last.scrollTop = 0, this.last.scrollLeft = 0, this.last.selection = {
                    indexes: [],
                    columns: {}
                }, this.last.range_start = null, this.last.range_end = null, $("#grid_" + this.name + "_records").prop("scrollTop", 0), a || this.refresh()
            },
            skip: function (a, b) {
                var c = "object" != typeof this.url ? this.url : this.url.get;
                c ? (this.offset = parseInt(a), this.offset > this.total && (this.offset = this.total - this.limit), (this.offset < 0 || !w2utils.isInt(this.offset)) && (this.offset = 0), this.clear(!0), this.reload(b)) : console.log("ERROR: grid.skip() can only be called when you have remote data source.")
            },
            load: function (a, b) {
                return null == a ? void console.log('ERROR: You need to provide url argument when calling .load() method of "' + this.name + '" object.') : (this.clear(!0), void this.request("get", {}, a, b))
            },
            reload: function (a) {
                var b = this,
                    c = "object" != typeof this.url ? this.url : this.url.get;
                b.selectionSave(), c ? this.load(c, function () {
                    b.selectionRestore(), "function" == typeof a && a()
                }) : (this.reset(!0), this.localSearch(), this.selectionRestore(), "function" == typeof a && a({
                    status: "success"
                }))
            },
            request: function (a, b, c, d) {
                if (null == b && (b = {}), "" != c && null != c || (c = this.url), "" != c && null != c) {
                    var e = {};
                    if (w2utils.isInt(this.offset) || (this.offset = 0), w2utils.isInt(this.last.xhr_offset) || (this.last.xhr_offset = 0), e.cmd = a, e.selected = this.getSelection(), e.limit = this.limit, e.offset = parseInt(this.offset) + parseInt(this.last.xhr_offset), e.search = this.searchData, e.searchLogic = this.last.logic, e.sort = this.sortData, 0 === this.searchData.length && (delete e.search, delete e.searchLogic), 0 === this.sortData.length && delete e.sort, $.extend(e, this.postData), $.extend(e, b), "get" == a) {
                        var f = this.trigger({
                            phase: "before",
                            type: "request",
                            target: this.name,
                            url: c,
                            postData: e,
                            httpHeaders: this.httpHeaders
                        });
                        if (f.isCancelled === !0) return void("function" == typeof d && d({
                            status: "error",
                            message: "Request aborted."
                        }))
                    } else var f = {
                        url: c,
                        postData: e,
                        httpHeaders: this.httpHeaders
                    };
                    var g = this;
                    if (0 === this.last.xhr_offset) g.lock(w2utils.lang(g.msgRefresh), !0);
                    else {
                        var h = $("#grid_" + this.name + "_rec_more, #grid_" + this.name + "_frec_more");
                        this.autoLoad === !0 ? h.show().find("td").html('<div><div style="width: 20px; height: 20px;" class="w2ui-spinner"></div></div>') : h.find("td").html("<div>" + w2utils.lang("Load") + " " + g.limit + " " + w2utils.lang("More") + "...</div>")
                    }
                    if (this.last.xhr) try {
                        this.last.xhr.abort()
                    } catch (a) {}
                    if (c = "object" != typeof f.url ? f.url : f.url.get, "save" == e.cmd && "object" == typeof f.url && (c = f.url.save), "delete" == e.cmd && "object" == typeof f.url && (c = f.url.remove), !$.isEmptyObject(g.routeData)) {
                        var i = w2utils.parseRoute(c);
                        if (i.keys.length > 0)
                            for (var j = 0; j < i.keys.length; j++) null != g.routeData[i.keys[j].name] && (c = c.replace(new RegExp(":" + i.keys[j].name, "g"), g.routeData[i.keys[j].name]))
                    }
                    var k = {
                            type: "POST",
                            url: c,
                            data: f.postData,
                            headers: f.httpHeaders,
                            dataType: "text"
                        },
                        l = this.dataType || w2utils.settings.dataType;
                    switch (l) {
                        case "HTTP":
                            k.data = "object" == typeof k.data ? String($.param(k.data, !1)).replace(/%5B/g, "[").replace(/%5D/g, "]") : k.data;
                            break;
                        case "HTTPJSON":
                            k.data = {
                                request: JSON.stringify(k.data)
                            };
                            break;
                        case "RESTFULL":
                            k.type = "GET", "save" == e.cmd && (k.type = "PUT"), "delete" == e.cmd && (k.type = "DELETE"), k.data = "object" == typeof k.data ? String($.param(k.data, !1)).replace(/%5B/g, "[").replace(/%5D/g, "]") : k.data;
                            break;
                        case "RESTFULLJSON":
                            k.type = "GET", "save" == e.cmd && (k.type = "PUT"), "delete" == e.cmd && (k.type = "DELETE"), k.data = JSON.stringify(k.data), k.contentType = "application/json";
                            break;
                        case "JSON":
                            k.type = "POST", k.data = JSON.stringify(k.data), k.contentType = "application/json"
                    }
                    this.method && (k.type = this.method), this.last.xhr_cmd = e.cmd, this.last.xhr_start = (new Date).getTime(), this.last.xhr = $.ajax(k).done(function (b, c, e) {
                        g.requestComplete(c, a, d)
                    }).fail(function (b, c, e) {
                        var f = {
                                status: c,
                                error: e,
                                rawResponseText: b.responseText
                            },
                            h = g.trigger({
                                phase: "before",
                                type: "error",
                                error: f,
                                xhr: b
                            });
                        if (h.isCancelled !== !0) {
                            if ("abort" != c) {
                                var i;
                                try {
                                    i = $.parseJSON(b.responseText)
                                } catch (a) {}
                                console.log("ERROR: Server communication failed.", "\n   EXPECTED:", {
                                    status: "success",
                                    total: 5,
                                    records: [{
                                        recid: 1,
                                        field: "value"
                                    }]
                                }, "\n         OR:", {
                                    status: "error",
                                    message: "error message"
                                }, "\n   RECEIVED:", "object" == typeof i ? i : b.responseText), g.requestComplete("error", a, d)
                            }
                            g.trigger($.extend(h, {
                                phase: "after"
                            }))
                        }
                    }), "get" == a && this.trigger($.extend(f, {
                        phase: "after"
                    }))
                }
            },
            requestComplete: function (status, cmd, callBack) {
                var obj = this;
                this.unlock(), setTimeout(function () {
                    obj.show.statusResponse && obj.status(w2utils.lang("Server Response") + " " + ((new Date).getTime() - obj.last.xhr_start) / 1e3 + " " + w2utils.lang("sec"))
                }, 10), this.last.pull_more = !1, this.last.pull_refresh = !0;
                var event_name = "load";
                "save" == this.last.xhr_cmd && (event_name = "save"), "delete" == this.last.xhr_cmd && (event_name = "delete");
                var edata = this.trigger({
                    phase: "before",
                    target: this.name,
                    type: event_name,
                    xhr: this.last.xhr,
                    status: status
                });
                if (edata.isCancelled === !0) return void("function" == typeof callBack && callBack({
                    status: "error",
                    message: "Request aborted."
                }));
                var data, responseText = this.last.xhr.responseText;
                if ("error" != status) {
                    if (null != responseText && "" != responseText) {
                        if ("object" == typeof responseText) data = responseText;
                        else if ("function" == typeof obj.parser) data = obj.parser(responseText), "object" != typeof data && console.log("ERROR: Your parser did not return proper object");
                        else try {
                            eval("data = " + responseText)
                        } catch (a) {}
                        if (null == data ? data = {
                                status: "error",
                                message: w2utils.lang(this.msgNotJSON),
                                responseText: responseText
                            } : Array.isArray(data) && (data = {
                                status: "success",
                                records: data
                            }), obj.recid && data.records)
                            for (var i = 0; i < data.records.length; i++) data.records[i].recid = data.records[i][obj.recid];
                        if ("error" == data.status) obj.error(data.message);
                        else {
                            if ("get" == cmd) {
                                if (null == data.total && (data.total = -1), null == data.records && (data.records = []), data.records.length == this.limit ? this.last.xhr_hasMore = !0 : (this.last.xhr_hasMore = !1, this.total = this.last.xhr_offset + data.records.length), 0 === this.last.xhr_offset) this.records = [], this.summary = [], w2utils.isInt(data.total) && (this.total = parseInt(data.total));
                                else if (data.total != -1 && parseInt(data.total) != parseInt(this.total)) return void this.message(w2utils.lang(this.msgNeedReload), function () {
                                    delete this.last.xhr_offset, this.reload()
                                }.bind(this));
                                if (data.records)
                                    for (var r = 0; r < data.records.length; r++) this.records.push(data.records[r]);
                                if (data.summary) {
                                    this.summary = [];
                                    for (var r = 0; r < data.summary.length; r++) this.summary.push(data.summary[r])
                                }
                            }
                            if ("delete" == cmd) return this.reset(), void this.reload()
                        }
                    }
                } else data = {
                    status: "error",
                    message: w2utils.lang(this.msgAJAXerror),
                    responseText: responseText
                }, obj.error(w2utils.lang(this.msgAJAXerror));
                var url = "object" != typeof this.url ? this.url : this.url.get;
                url || (this.localSort(), this.localSearch()), this.total = parseInt(this.total), 0 === this.last.xhr_offset ? this.refresh() : (this.scroll(), this.resize()), "function" == typeof callBack && callBack(data), this.trigger($.extend(edata, {
                    phase: "after"
                }))
            },
            error: function (a) {
                var b = this.trigger({
                    target: this.name,
                    type: "error",
                    message: a,
                    xhr: this.last.xhr
                });
                return b.isCancelled === !0 ? void("function" == typeof callBack && callBack({
                    status: "error",
                    message: "Request aborted."
                })) : (this.message(a), void this.trigger($.extend(b, {
                    phase: "after"
                })))
            },
            getChanges: function (a) {
                var b = [];
                if ("undefined" == typeof a) var a = this.records;
                for (var c = 0; c < a.length; c++) {
                    var d = a[c];
                    d.w2ui && (null != d.w2ui.changes && b.push($.extend(!0, {
                        recid: d.recid
                    }, d.w2ui.changes)), d.w2ui.expanded !== !0 && d.w2ui.children && d.w2ui.children.length && $.merge(b, this.getChanges(d.w2ui.children)))
                }
                return b
            },
            mergeChanges: function () {
                for (var changes = this.getChanges(), c = 0; c < changes.length; c++) {
                    var record = this.get(changes[c].recid);
                    for (var s in changes[c])
                        if ("recid" != s) {
                            "object" == typeof changes[c][s] && (changes[c][s] = changes[c][s].text);
                            try {
                                s.indexOf(".") != -1 ? eval("record['" + s.replace(/\./g, "']['") + "'] = changes[c][s]") : record[s] = changes[c][s]
                            } catch (a) {
                                console.log("ERROR: Cannot merge. ", a.message || "", a)
                            }
                            record.w2ui && delete record.w2ui.changes
                        }
                }
                this.refresh()
            },
            save: function (a) {
                var b = this,
                    c = this.getChanges(),
                    d = "object" != typeof this.url ? this.url : this.url.save,
                    e = this.trigger({
                        phase: "before",
                        target: this.name,
                        type: "save",
                        changes: c
                    });
                return e.isCancelled === !0 ? void(d && "function" == typeof a && a({
                    status: "error",
                    message: "Request aborted."
                })) : void(d ? this.request("save", {
                    changes: e.changes
                }, null, function (c) {
                    "error" !== c.status && b.mergeChanges(), b.trigger($.extend(e, {
                        phase: "after"
                    })), "function" == typeof a && a(c)
                }) : (this.mergeChanges(), this.trigger($.extend(e, {
                    phase: "after"
                }))))
            },
            editField: function (a, b, c, d) {
                function e(a) {
                    try {
                        var b = "DIV" == this.tagName.toUpperCase() ? $(this).text() : this.value,
                            c = $("#grid_" + f.name + "_editable"),
                            d = "font-family: " + $(this).css("font-family") + "; font-size: " + $(this).css("font-size") + "; white-space: pre;",
                            e = w2utils.getStrWidth(b, d);
                        e + 20 > c.width() && c.width(e + 20)
                    } catch (a) {}
                }
                var f = this;
                if (this.last.inEditMode !== !0) {
                    var g = f.get(a, !0),
                        h = f.getCellEditable(g, b);
                    if (h) {
                        var i = f.records[g],
                            j = f.columns[b],
                            k = j.frozen === !0 ? "_f" : "_";
                        if (["enum", "file"].indexOf(h.type) != -1) return void console.log('ERROR: input types "enum" and "file" are not supported in inline editing.');
                        var l = f.trigger({
                            phase: "before",
                            type: "editField",
                            target: f.name,
                            recid: a,
                            column: b,
                            value: c,
                            index: g,
                            originalEvent: d
                        });
                        if (l.isCancelled !== !0 && (c = l.value, this.last.inEditMode = !0, this.last._edit = {
                                value: c,
                                index: g,
                                column: b,
                                recid: a
                            }, this.selectNone(), this.select({
                                recid: a,
                                column: b
                            }), ["checkbox", "check"].indexOf(h.type) == -1)) {
                            var m = $("#grid_" + f.name + k + "rec_" + w2utils.escapeId(a)),
                                n = m.find("[col=" + b + "] > div");
                            $(this.box).find("div.w2ui-edit-box").remove(), "row" != this.selectType && ($("#grid_" + this.name + k + "selection").attr("id", "grid_" + this.name + "_editable").removeClass("w2ui-selection").addClass("w2ui-edit-box").prepend('<div style="position: absolute; top: 0px; bottom: 0px; left: 0px; right: 0px;"></div>').find(".w2ui-selection-resizer").remove(), n = $("#grid_" + this.name + "_editable >div:first-child")), null == h.inTag && (h.inTag = ""), null == h.outTag && (h.outTag = ""), null == h.style && (h.style = ""), null == h.items && (h.items = []);
                            var o = i.w2ui && i.w2ui.changes && null != i.w2ui.changes[j.field] ? w2utils.stripTags(i.w2ui.changes[j.field]) : w2utils.stripTags(i[j.field]);
                            null == o && (o = "");
                            var p = "object" != typeof o ? o : "";
                            null != l.old_value && (p = l.old_value), null != c && (o = c);
                            var q = null != j.style ? j.style + ";" : "";
                            switch ("string" == typeof j.render && ["number", "int", "float", "money", "percent", "size"].indexOf(j.render.split(":")[0]) != -1 && (q += "text-align: right;"), h.items.length > 0 && !$.isPlainObject(h.items[0]) && (h.items = w2obj.field.prototype.normMenu(h.items)), h.type) {
                                case "select":
                                    for (var r = "", s = 0; s < h.items.length; s++) r += '<option value="' + h.items[s].id + '"' + (h.items[s].id == o ? ' selected="selected"' : "") + ">" + h.items[s].text + "</option>";
                                    n.addClass("w2ui-editable").html('<select id="grid_' + f.name + "_edit_" + a + "_" + b + '" column="' + b + '" class="w2ui-input"    style="width: 100%; pointer-events: auto; padding: 0 0 0 3px; margin: 0px; border-left: 0; border-right: 0; border-radius: 0px;            outline: none; font-family: inherit;' + q + h.style + '"     field="' + j.field + '" recid="' + a + '"     ' + h.inTag + ">" + r + "</select>" + h.outTag), setTimeout(function () {
                                        n.find("select").on("change", function (a) {
                                            delete f.last.move
                                        }).on("blur", function (a) {
                                            1 != $(this).data("keep-open") && f.editChange.call(f, this, g, b, a)
                                        })
                                    }, 10);
                                    break;
                                case "div":
                                    var t = m.find("[col=" + b + "] > div"),
                                        u = "font-family: " + t.css("font-family") + "; font-size: " + t.css("font-size") + ";";
                                    n.addClass("w2ui-editable").html('<div id="grid_' + f.name + "_edit_" + a + "_" + b + '" class="w2ui-input"    contenteditable style="' + u + q + h.style + '" autocorrect="off" autocomplete="off" spellcheck="false"     field="' + j.field + '" recid="' + a + '" column="' + b + '" ' + h.inTag + "></div>" + h.outTag), null == c && n.find("div.w2ui-input").text("object" != typeof o ? o : "");
                                    var v = n.find("div.w2ui-input").get(0);
                                    setTimeout(function () {
                                        var a = v;
                                        $(a).on("blur", function (c) {
                                            1 != $(this).data("keep-open") && f.editChange.call(f, a, g, b, c)
                                        })
                                    }, 10), null != c && $(v).text("object" != typeof o ? o : "");
                                    break;
                                default:
                                    var t = m.find("[col=" + b + "] > div"),
                                        u = "font-family: " + t.css("font-family") + "; font-size: " + t.css("font-size");
                                    n.addClass("w2ui-editable").html('<input id="grid_' + f.name + "_edit_" + a + "_" + b + '" autocorrect="off" autocomplete="off" spellcheck="false" type="text"     style="' + u + "; width: 100%; height: 100%; padding: 3px; border-color: transparent; outline: none; border-radius: 0;        pointer-events: auto; " + q + h.style + '"     field="' + j.field + '" recid="' + a + '" column="' + b + '" class="w2ui-input"' + h.inTag + "/>" + h.outTag), "number" == h.type && (o = w2utils.formatNumber(o)), "date" == h.type && (o = w2utils.formatDate(w2utils.isDate(o, h.format, !0) || new Date, h.format)), null == c && n.find("input").val("object" != typeof o ? o : "");
                                    var v = n.find("input").get(0);
                                    $(v).w2field(h.type, $.extend(h, {
                                        selected: o
                                    })), setTimeout(function () {
                                        var a = v;
                                        "list" == h.type && (a = $($(v).data("w2field").helpers.focus).find("input"), "object" != typeof o && "" != o && a.val(o).css({
                                            opacity: 1
                                        }).prev().css({
                                            opacity: 1
                                        }), n.find("input").on("change", function (a) {
                                            f.editChange.call(f, v, g, b, a)
                                        })), $(a).on("blur", function (a) {
                                            1 != $(this).data("keep-open") && f.editChange.call(f, v, g, b, a)
                                        })
                                    }, 10), null != c && $(v).val("object" != typeof o ? o : "")
                            }
                            setTimeout(function () {
                                f.last.inEditMode && (n.find("input, select, div.w2ui-input").data("old_value", p).on("mousedown", function (a) {
                                    a.stopPropagation()
                                }).on("click", function (a) {
                                    "div" == h.type ? e.call(n.find("div.w2ui-input")[0], null) : e.call(n.find("input, select")[0], null)
                                }).on("paste", function (a) {
                                    var b = a.originalEvent;
                                    a.preventDefault();
                                    var c = b.clipboardData.getData("text/plain");
                                    document.execCommand("insertHTML", !1, c)
                                }).on("keydown", function (c) {
                                    var d = this,
                                        k = "DIV" == d.tagName.toUpperCase() ? $(d).text() : $(d).val();
                                    switch (c.keyCode) {
                                        case 8:
                                            "list" != h.type || $(v).data("w2field") || c.preventDefault();
                                            break;
                                        case 9:
                                        case 13:
                                            c.preventDefault();
                                            break;
                                        case 37:
                                            0 === w2utils.getCursorPosition(d) && c.preventDefault();
                                            break;
                                        case 39:
                                            w2utils.getCursorPosition(d) == k.length && (w2utils.setCursorPosition(d, k.length), c.preventDefault())
                                    }
                                    setTimeout(function () {
                                        switch (c.keyCode) {
                                            case 9:
                                                var h = a,
                                                    k = c.shiftKey ? f.prevCell(g, b, !0) : f.nextCell(g, b, !0);
                                                if (null == k) {
                                                    var l = c.shiftKey ? f.prevRow(g, b) : f.nextRow(g, b);
                                                    if (null != l && l != g) {
                                                        h = f.records[l].recid;
                                                        for (var m = 0; m < f.columns.length; m++) {
                                                            var n = f.getCellEditable(g, m);
                                                            if (null != n && ["checkbox", "check"].indexOf(n.type) == -1 && (k = parseInt(m), !c.shiftKey)) break
                                                        }
                                                    }
                                                }
                                                h === !1 && (h = a), null == k && (k = b), d.blur(), setTimeout(function () {
                                                    "row" != f.selectType ? (f.selectNone(), f.select({
                                                        recid: h,
                                                        column: k
                                                    })) : f.editField(h, k, null, c)
                                                }, 1), c.preventDefault && c.preventDefault();
                                                break;
                                            case 13:
                                                d.blur();
                                                var o = c.shiftKey ? f.prevRow(g, b) : f.nextRow(g, b);
                                                null != o && o != g && setTimeout(function () {
                                                    "row" != f.selectType ? (f.selectNone(), f.select({
                                                        recid: f.records[o].recid,
                                                        column: b
                                                    })) : f.editField(f.records[o].recid, b, null, c)
                                                }, 1), "DIV" == d.tagName.toUpperCase() && c.preventDefault();
                                                break;
                                            case 27:
                                                var p = f.parseField(i, j.field);
                                                i.w2ui && i.w2ui.changes && null != i.w2ui.changes[j.field] && (p = i.w2ui.changes[j.field]), null != $(d).data("old_value") && (p = $(d).data("old_value")), "DIV" == d.tagName.toUpperCase() ? $(d).text(null != p ? p : "") : d.value = null != p ? p : "", d.blur(), setTimeout(function () {
                                                    f.select({
                                                        recid: a,
                                                        column: b
                                                    })
                                                }, 1)
                                        }
                                        e.call(d, c)
                                    }, 1)
                                }).on("keyup", function (a) {
                                    e.call(this, a)
                                }), setTimeout(function () {
                                    if (f.last.inEditMode) {
                                        var a = n.find(".w2ui-input"),
                                            b = null != $(a).val() ? $(a).val().length : 0;
                                        "div" == h.type && (b = $(a).text().length), a.length > 0 && (a.focus(), clearTimeout(f.last.kbd_timer), "SELECT" != a[0].tagName.toUpperCase() && w2utils.setCursorPosition(a[0], b), a[0].resize = e, e.call(a[0], null))
                                    }
                                }, 50), f.trigger($.extend(l, {
                                    phase: "after",
                                    input: n.find("input, select, div.w2ui-input")
                                })))
                            }, 5)
                        }
                    }
                } else if (13 == d.keyCode) {
                    var g = this.last._edit.index,
                        b = this.last._edit.column,
                        a = this.last._edit.recid;
                    this.editChange({
                        type: "custom",
                        value: this.last._edit.value
                    }, this.get(a, !0), b, d);
                    var w = d.shiftKey ? this.prevRow(g, b) : this.nextRow(g, b);
                    null != w && w != g && setTimeout(function () {
                        "row" != f.selectType ? (f.selectNone(), f.select({
                            recid: f.records[w].recid,
                            column: b
                        })) : f.editField(f.records[w].recid, b, null, d)
                    }, 1), this.last.inEditMode = !1
                } else {
                    var x = $(this.box).find("div.w2ui-edit-box .w2ui-input");
                    x.length > 0 && "DIV" == x[0].tagName && (x.text(x.text() + c), w2utils.setCursorPosition(x[0], x.text().length))
                }
            },
            editChange: function (a, b, c, d) {
                var e = this;
                setTimeout(function () {
                    var a = $(e.box).find("#grid_" + e.name + "_focus");
                    a.is(":focus") || a.focus()
                }, 10);
                var f = b < 0;
                b = b < 0 ? -b - 1 : b;
                var g = f ? this.summary : this.records,
                    h = g[b],
                    i = this.columns[c],
                    j = $("#grid_" + this.name + (i.frozen === !0 ? "_frec_" : "_rec_") + w2utils.escapeId(h.recid)),
                    k = a.tagName && "DIV" == a.tagName.toUpperCase() ? $(a).text() : a.value,
                    l = this.parseField(h, i.field),
                    m = $(a).data("w2field");
                m && ("list" == m.type && (k = $(a).data("selected")), ($.isEmptyObject(k) || null == k) && (k = ""), $.isPlainObject(k) || (k = m.clean(k))), "checkbox" == a.type && (h.w2ui && h.w2ui.editable === !1 && (a.checked = !a.checked), k = a.checked);
                var n = {
                    phase: "before",
                    type: "change",
                    target: this.name,
                    input_id: a.id,
                    recid: h.recid,
                    index: b,
                    column: c,
                    originalEvent: d.originalEvent ? d.originalEvent : d,
                    value_new: k,
                    value_previous: h.w2ui && h.w2ui.changes && h.w2ui.changes.hasOwnProperty(i.field) ? h.w2ui.changes[i.field] : l,
                    value_original: l
                };
                for (null != $(d.target).data("old_value") && (n.value_previous = $(d.target).data("old_value"));;) {
                    if (k = n.value_new, "object" != typeof k && String(l) != String(k) || "object" == typeof k && k && k.id != l && ("object" != typeof l || null == l || k.id != l.id)) {
                        if (n = this.trigger($.extend(n, {
                                type: "change",
                                phase: "before"
                            })), n.isCancelled !== !0) {
                            if (k !== n.value_new) continue;
                            h.w2ui = h.w2ui || {}, h.w2ui.changes = h.w2ui.changes || {}, h.w2ui.changes[i.field] = n.value_new, this.trigger($.extend(n, {
                                phase: "after"
                            }))
                        }
                    } else if (n = this.trigger($.extend(n, {
                            type: "restore",
                            phase: "before"
                        })), n.isCancelled !== !0) {
                        if (k !== n.value_new) continue;
                        h.w2ui && h.w2ui.changes && delete h.w2ui.changes[i.field], h.w2ui && $.isEmptyObject(h.w2ui.changes) && delete h.w2ui.changes, this.trigger($.extend(n, {
                            phase: "after"
                        }))
                    }
                    break
                }
                var o = $(j).find("[col=" + c + "]");
                f || (h.w2ui && h.w2ui.changes && null != h.w2ui.changes[i.field] ? o.addClass("w2ui-changed") : o.removeClass("w2ui-changed"), o.replaceWith(this.getCellHTML(b, c, f))), $(this.box).find("div.w2ui-edit-box").remove(), this.show.toolbarSave && (this.getChanges().length > 0 ? this.toolbar.enable("w2ui-save") : this.toolbar.disable("w2ui-save")), e.last.inEditMode = !1
            },
            delete: function (a) {
                var b = ((new Date).getTime(), this),
                    c = this.trigger({
                        phase: "before",
                        target: this.name,
                        type: "delete",
                        force: a
                    });
                if (c.isCancelled !== !0) {
                    a = c.force, setTimeout(function () {
                        $().w2tag()
                    }, 20);
                    var d = this.getSelection();
                    if (0 !== d.length) {
                        if ("" != this.msgDelete && !a) return void this.message({
                            width: 350,
                            height: 170,
                            body: '<div class="w2ui-centered">' + w2utils.lang(b.msgDelete) + "</div>",
                            buttons: '<button type="button" class="w2ui-btn w2ui-btn-red" onclick="w2ui[\'' + this.name + "'].delete(true)\">" + w2utils.lang("Yes") + '</button><button type="button" class="w2ui-btn" onclick="w2ui[\'' + this.name + "'].message()\">" + w2utils.lang("No") + "</button>",
                            onOpen: function (a) {
                                var c = $(this.box).find("input, textarea, select, button");
                                c.off(".message").on("blur.message", function (a) {
                                    c.index(a.target) + 1 === c.length && (c.get(0).focus(), a.preventDefault())
                                }).on("keydown.message", function (a) {
                                    27 == a.keyCode && b.message()
                                }), setTimeout(function () {
                                    $(this.box).find(".w2ui-btn:last-child").focus(), clearTimeout(b.last.kbd_timer)
                                }, 25)
                            }
                        });
                        this.message();
                        var e = "object" != typeof this.url ? this.url : this.url.remove;
                        if (e) this.request("delete");
                        else if ("object" != typeof d[0]) this.selectNone(), this.remove.apply(this, d);
                        else {
                            for (var f = 0; f < d.length; f++) {
                                var g = this.columns[d[f].column].field,
                                    h = this.get(d[f].recid, !0),
                                    i = this.records[h];
                                null != h && "recid" != g && (this.records[h][g] = "", i.w2ui && i.w2ui.changes && delete i.w2ui.changes[g])
                            }
                            this.update()
                        }
                        this.trigger($.extend(c, {
                            phase: "after"
                        }))
                    }
                }
            },
            click: function (a, b) {
                var c = (new Date).getTime(),
                    d = null,
                    e = this;
                if (!(1 == this.last.cancelClick || b && b.altKey)) {
                    if ("object" == typeof a && null !== a && (d = a.column, a = a.recid), null == b && (b = {}), c - parseInt(this.last.click_time) < 350 && this.last.click_recid == a && "click" == b.type) return void this.dblClick(a, b);
                    this.last.bubbleEl && ($(this.last.bubbleEl).w2tag(), this.last.bubbleEl = null), this.last.click_time = c;
                    var f = this.last.click_recid;
                    if (this.last.click_recid = a, null == d && b.target) {
                        var g = b.target;
                        "TD" != g.tagName.toUpperCase() && (g = $(g).parents("td")[0]), null != $(g).attr("col") && (d = parseInt($(g).attr("col")))
                    }
                    var h = this.trigger({
                        phase: "before",
                        target: this.name,
                        type: "click",
                        recid: a,
                        column: d,
                        originalEvent: b
                    });
                    if (h.isCancelled !== !0) {
                        var e = this,
                            i = this.getSelection();
                        $("#grid_" + this.name + "_check_all").prop("checked", !1);
                        var j = this.get(a, !0),
                            k = (this.records[j], []);
                        if (e.last.sel_ind = j, e.last.sel_col = d, e.last.sel_recid = a, e.last.sel_type = "click", b.shiftKey && i.length > 0 && e.multiSelect) {
                            if (i[0].recid) {
                                var l = this.get(i[0].recid, !0),
                                    m = this.get(a, !0);
                                if (d > i[0].column) var n = i[0].column,
                                    o = d;
                                else var n = d,
                                    o = i[0].column;
                                for (var p = n; p <= o; p++) k.push(p)
                            } else var l = this.get(f, !0),
                                m = this.get(a, !0);
                            var q = [];
                            if (l > m) {
                                var g = l;
                                l = m, m = g
                            }
                            for (var r = "object" != typeof this.url ? this.url : this.url.get, s = l; s <= m; s++)
                                if (!(this.searchData.length > 0) || r || $.inArray(s, this.last.searchIds) != -1)
                                    if ("row" == this.selectType) q.push(this.records[s].recid);
                                    else
                                        for (var t = 0; t < k.length; t++) q.push({
                                            recid: this.records[s].recid,
                                            column: k[t]
                                        });
                            this.select.apply(this, q)
                        } else {
                            var u = this.last.selection,
                                v = u.indexes.indexOf(j) != -1,
                                w = !1;
                            if ($(b.target).parents("td").hasClass("w2ui-col-select") && (w = !0), (b.ctrlKey || b.shiftKey || b.metaKey || w) && this.multiSelect || this.showSelectColumn) {
                                var x = $(b.target).parents("tr").find(".w2ui-grid-select-check").is(":checked");
                                "row" == this.selectType || $.inArray(d, u.columns[j]) != -1 || x || (v = !1), v === !0 ? this.unselect({
                                    recid: a,
                                    column: d
                                }) : this.select({
                                    recid: a,
                                    column: d
                                })
                            } else "row" != this.selectType && $.inArray(d, u.columns[j]) == -1 && (v = !1), i.length > 300 ? this.selectNone() : this.unselect.apply(this, i), v === !0 && 1 == i.length ? this.unselect({
                                recid: a,
                                column: d
                            }) : this.select({
                                recid: a,
                                column: d
                            })
                        }
                        this.status(), e.initResize(), this.trigger($.extend(h, {
                            phase: "after"
                        }))
                    }
                }
            },
            columnClick: function (a, b) {
                var c = this.trigger({
                    phase: "before",
                    type: "columnClick",
                    target: this.name,
                    field: a,
                    originalEvent: b
                });
                if (c.isCancelled !== !0) {
                    if ("row" == this.selectType) {
                        var d = this.getColumn(a);
                        d && d.sortable && this.sort(a, null, !(!b || !b.ctrlKey && !b.metaKey)), "line-number" == c.field && (this.getSelection().length >= this.records.length ? this.selectNone() : this.selectAll())
                    } else {
                        if (b.altKey) {
                            var d = this.getColumn(a);
                            d && d.sortable && this.sort(a, null, !(!b || !b.ctrlKey && !b.metaKey))
                        }
                        if ("line-number" == c.field) this.getSelection().length >= this.records.length ? this.selectNone() : this.selectAll();
                        else {
                            b.shiftKey || b.metaKey || b.ctrlKey || this.selectNone();
                            var e = this.getSelection(),
                                d = this.getColumn(c.field, !0),
                                f = [],
                                g = [];
                            if (0 != e.length && b.shiftKey) {
                                var h = d,
                                    i = e[0].column;
                                h > i && (h = e[0].column, i = d);
                                for (var j = h; j <= i; j++) g.push(j)
                            } else g.push(d);
                            var c = this.trigger({
                                phase: "before",
                                type: "columnSelect",
                                target: this.name,
                                columns: g
                            });
                            if (c.isCancelled !== !0) {
                                for (var j = 0; j < this.records.length; j++) f.push({
                                    recid: this.records[j].recid,
                                    column: g
                                });
                                this.select.apply(this, f)
                            }
                            this.trigger($.extend(c, {
                                phase: "after"
                            }))
                        }
                    }
                    this.trigger($.extend(c, {
                        phase: "after"
                    }))
                }
            },
            columnDblClick: function (a, b) {
                var c = this.trigger({
                    phase: "before",
                    type: "columnDblClick",
                    target: this.name,
                    field: a,
                    originalEvent: b
                });
                c.isCancelled !== !0 && this.trigger($.extend(c, {
                    phase: "after"
                }))
            },
            focus: function (a) {
                var b = this,
                    c = this.trigger({
                        phase: "before",
                        type: "focus",
                        target: this.name,
                        originalEvent: a
                    });
                return c.isCancelled !== !0 && (this.hasFocus = !0, $(this.box).find(".w2ui-inactive").removeClass("w2ui-inactive"), setTimeout(function () {
                    var a = $(b.box).find("#grid_" + b.name + "_focus");
                    a.is(":focus") || a.focus()
                }, 10), void this.trigger($.extend(c, {
                    phase: "after"
                })))
            },
            blur: function (a) {
                var b = this.trigger({
                    phase: "before",
                    type: "blur",
                    target: this.name,
                    originalEvent: a
                });
                return b.isCancelled !== !0 && (this.hasFocus = !1, $(this.box).find(".w2ui-selected").addClass("w2ui-inactive"), $(this.box).find(".w2ui-selection").addClass("w2ui-inactive"), void this.trigger($.extend(b, {
                    phase: "after"
                })))
            },
            keydown: function (a) {
                function b() {
                    var a = Math.floor(h[0].scrollTop / d.recordHeight) + 1;
                    (!d.records[a] || a < 2) && (a = 0), d.select({
                        recid: d.records[a].recid,
                        column: 0
                    })
                }

                function c() {
                    if ("click" != d.last.sel_type) return !1;
                    if ("row" != d.selectType) {
                        if (d.last.sel_type = "key", i.length > 1) {
                            for (var a = 0; a < i.length; a++)
                                if (i[a].recid == d.last.sel_recid && i[a].column == d.last.sel_col) {
                                    i.splice(a, 1);
                                    break
                                } return d.unselect.apply(d, i), !0
                        }
                        return !1
                    }
                    return d.last.sel_type = "key", i.length > 1 && (i.splice(i.indexOf(d.records[d.last.sel_ind].recid), 1), d.unselect.apply(d, i), !0)
                }
                var d = this,
                    e = "object" != typeof this.url ? this.url : this.url.get;
                if (d.keyboard === !0) {
                    var f = d.trigger({
                        phase: "before",
                        type: "keydown",
                        target: d.name,
                        originalEvent: a
                    });
                    if (f.isCancelled !== !0) {
                        if ($(this.box).find(">.w2ui-message").length > 0) return void(27 == a.keyCode && this.message());
                        var g = !1,
                            h = $("#grid_" + d.name + "_records"),
                            i = d.getSelection();
                        0 === i.length && (g = !0);
                        var j = i[0] || null,
                            k = [],
                            l = i[i.length - 1];
                        if ("object" == typeof j && null != j) {
                            j = i[0].recid, k = [];
                            for (var m = 0;;) {
                                if (!i[m] || i[m].recid != j) break;
                                k.push(i[m].column), m++
                            }
                            l = i[i.length - 1].recid
                        }
                        var n = d.get(j, !0),
                            o = d.get(l, !0),
                            p = (d.get(j), $("#grid_" + d.name + "_rec_" + (null != n ? w2utils.escapeId(d.records[n].recid) : "none"))),
                            q = !1,
                            r = a.keyCode,
                            s = a.shiftKey;
                        switch (r) {
                            case 8:
                            case 46:
                                (this.show.toolbarDelete || this.onDelete) && d.delete(), q = !0, a.stopPropagation();
                                break;
                            case 27:
                                d.selectNone(), q = !0;
                                break;
                            case 65:
                                if (!a.metaKey && !a.ctrlKey) break;
                                d.selectAll(), q = !0;
                                break;
                            case 13:
                                if ("row" == this.selectType && d.show.expandColumn === !0) {
                                    if (p.length <= 0) break;
                                    d.toggle(j, a), q = !0
                                } else {
                                    for (var t = 0; t < this.columns.length; t++) {
                                        var u = this.getCellEditable(n, t);
                                        if (u) {
                                            k.push(parseInt(t));
                                            break
                                        }
                                    }
                                    "row" == this.selectType && this.last._edit.column && (k = [this.last._edit.column]), k.length > 0 && (d.editField(j, k[0], null, a), q = !0)
                                }
                                break;
                            case 37:
                                if (g) {
                                    b();
                                    break
                                }
                                if ("row" == this.selectType) {
                                    if (p.length <= 0) break;
                                    var v = this.records[n].w2ui || {};
                                    !v || null == v.parent_recid || Array.isArray(v.children) && 0 !== v.children.length && v.expanded ? d.collapse(j, a) : (d.unselect(j), d.collapse(v.parent_recid, a), d.select(v.parent_recid))
                                } else {
                                    var w = d.prevCell(n, k[0]);
                                    if (s || null != w || (this.selectNone(), w = 0), null != w)
                                        if (s && d.multiSelect) {
                                            if (c()) return;
                                            var v = [],
                                                x = [],
                                                y = [];
                                            if (0 === k.indexOf(this.last.sel_col) && k.length > 1) {
                                                for (var z = 0; z < i.length; z++) v.indexOf(i[z].recid) == -1 && v.push(i[z].recid), y.push({
                                                    recid: i[z].recid,
                                                    column: k[k.length - 1]
                                                });
                                                d.unselect.apply(d, y), d.scrollIntoView(n, k[k.length - 1], !0)
                                            } else {
                                                for (var z = 0; z < i.length; z++) v.indexOf(i[z].recid) == -1 && v.push(i[z].recid), x.push({
                                                    recid: i[z].recid,
                                                    column: w
                                                });
                                                d.select.apply(d, x), d.scrollIntoView(n, w, !0)
                                            }
                                        } else a.metaKey = !1, d.click({
                                            recid: j,
                                            column: w
                                        }, a), d.scrollIntoView(n, w, !0);
                                    else if (!s)
                                        if (i.length > 1) d.selectNone();
                                        else
                                            for (var A = 1; A < i.length; A++) d.unselect(i[A])
                                }
                                q = !0;
                                break;
                            case 39:
                                if (g) {
                                    b();
                                    break
                                }
                                if ("row" == this.selectType) {
                                    if (p.length <= 0) break;
                                    d.expand(j, a)
                                } else {
                                    var B = d.nextCell(n, k[k.length - 1]);
                                    if (s || null != B || (this.selectNone(), B = this.columns.length - 1), null != B)
                                        if (s && 39 == r && d.multiSelect) {
                                            if (c()) return;
                                            var v = [],
                                                x = [],
                                                y = [];
                                            if (k.indexOf(this.last.sel_col) == k.length - 1 && k.length > 1) {
                                                for (var z = 0; z < i.length; z++) v.indexOf(i[z].recid) == -1 && v.push(i[z].recid), y.push({
                                                    recid: i[z].recid,
                                                    column: k[0]
                                                });
                                                d.unselect.apply(d, y), d.scrollIntoView(n, k[0], !0)
                                            } else {
                                                for (var z = 0; z < i.length; z++) v.indexOf(i[z].recid) == -1 && v.push(i[z].recid), x.push({
                                                    recid: i[z].recid,
                                                    column: B
                                                });
                                                d.select.apply(d, x), d.scrollIntoView(n, B, !0)
                                            }
                                        } else a.metaKey = !1, d.click({
                                            recid: j,
                                            column: B
                                        }, a), d.scrollIntoView(n, B, !0);
                                    else if (!s)
                                        if (i.length > 1) d.selectNone();
                                        else
                                            for (var A = 0; A < i.length - 1; A++) d.unselect(i[A])
                                }
                                q = !0;
                                break;
                            case 38:
                                if (g && b(), p.length <= 0) break;
                                var w = d.prevRow(n, k[0]);
                                if (s || null != w || (w = 0 == this.searchData.length || e ? 0 : this.last.searchIds[0]), null != w) {
                                    if (s && d.multiSelect) {
                                        if (c()) return;
                                        if ("row" == d.selectType) d.last.sel_ind > w && d.last.sel_ind != o ? d.unselect(d.records[o].recid) : d.select(d.records[w].recid);
                                        else if (d.last.sel_ind > w && d.last.sel_ind != o) {
                                            w = o;
                                            for (var v = [], t = 0; t < k.length; t++) v.push({
                                                recid: d.records[w].recid,
                                                column: k[t]
                                            });
                                            d.unselect.apply(d, v)
                                        } else {
                                            for (var v = [], t = 0; t < k.length; t++) v.push({
                                                recid: d.records[w].recid,
                                                column: k[t]
                                            });
                                            d.select.apply(d, v)
                                        }
                                    } else i.length > 300 ? this.selectNone() : this.unselect.apply(this, i), d.click({
                                        recid: d.records[w].recid,
                                        column: k[0]
                                    }, a);
                                    d.scrollIntoView(w), a.preventDefault && a.preventDefault()
                                } else if (!s)
                                    if (i.length > 1) d.selectNone();
                                    else
                                        for (var A = 1; A < i.length; A++) d.unselect(i[A]);
                                break;
                            case 40:
                                if (g && b(), p.length <= 0) break;
                                var B = d.nextRow(o, k[0]);
                                if (s || null != B || (B = 0 == this.searchData.length || e ? this.records.length - 1 : this.last.searchIds[this.last.searchIds.length - 1]), null != B) {
                                    if (s && d.multiSelect) {
                                        if (c()) return;
                                        if ("row" == d.selectType) this.last.sel_ind < B && this.last.sel_ind != n ? d.unselect(d.records[n].recid) : d.select(d.records[B].recid);
                                        else if (this.last.sel_ind < B && this.last.sel_ind != n) {
                                            B = n;
                                            for (var v = [], t = 0; t < k.length; t++) v.push({
                                                recid: d.records[B].recid,
                                                column: k[t]
                                            });
                                            d.unselect.apply(d, v)
                                        } else {
                                            for (var v = [], t = 0; t < k.length; t++) v.push({
                                                recid: d.records[B].recid,
                                                column: k[t]
                                            });
                                            d.select.apply(d, v)
                                        }
                                    } else i.length > 300 ? this.selectNone() : this.unselect.apply(this, i), d.click({
                                        recid: d.records[B].recid,
                                        column: k[0]
                                    }, a);
                                    d.scrollIntoView(B), q = !0
                                } else if (!s)
                                    if (i.length > 1) d.selectNone();
                                    else
                                        for (var A = 0; A < i.length - 1; A++) d.unselect(i[A]);
                                break;
                            case 17:
                            case 91:
                                if (g) break;
                                d.last.isSafari && (d.last.copy_event = d.copy(!1, a), $("#grid_" + d.name + "_focus").val(d.last.copy_event.text).select());
                                break;
                            case 67:
                                (a.metaKey || a.ctrlKey) && (d.last.isSafari ? d.copy(d.last.copy_event, a) : (d.last.copy_event = d.copy(!1, a), $("#grid_" + d.name + "_focus").val(d.last.copy_event.text).select(), d.copy(d.last.copy_event, a)));
                                break;
                            case 88:
                                if (g) break;
                                (a.ctrlKey || a.metaKey) && (d.last.isSafari ? d.copy(d.last.copy_event, a) : (d.last.copy_event = d.copy(!1, a), $("#grid_" + d.name + "_focus").val(d.last.copy_event.text).select(), d.copy(d.last.copy_event, a)))
                        }
                        for (var v = [32, 187, 189, 192, 219, 220, 221, 186, 222, 188, 190, 191], z = 48; z <= 111; z++) v.push(z);
                        v.indexOf(r) == -1 || a.ctrlKey || a.metaKey || q || (0 === k.length && k.push(0), q = !1, setTimeout(function () {
                            var b = $("#grid_" + d.name + "_focus"),
                                c = b.val();
                            b.val(""), d.editField(j, k[0], c, a)
                        }, 1)), q && a.preventDefault && a.preventDefault(), d.trigger($.extend(f, {
                            phase: "after"
                        }))
                    }
                }
            },
            scrollIntoView: function (a, b, c) {
                var d = this.records.length;
                if (0 == this.searchData.length || this.url || (d = this.last.searchIds.length), 0 !== d) {
                    if (null == a) {
                        var e = this.getSelection();
                        if (0 === e.length) return;
                        $.isPlainObject(e[0]) ? (a = e[0].index, b = e[0].column) : a = this.get(e[0], !0)
                    }
                    var f = $("#grid_" + this.name + "_records"),
                        g = this.last.searchIds.length;
                    if (g > 0 && (a = this.last.searchIds.indexOf(a)), f.height() < this.recordHeight * (g > 0 ? g : d) && f.length > 0) {
                        var h = Math.floor(f[0].scrollTop / this.recordHeight),
                            i = h + Math.floor(f.height() / this.recordHeight);
                        a == h && (c === !0 ? f.prop({
                            scrollTop: f.scrollTop() - f.height() / 1.3
                        }) : (f.stop(), f.animate({
                            scrollTop: f.scrollTop() - f.height() / 1.3
                        }, 250, "linear"))), a == i && (c === !0 ? f.prop({
                            scrollTop: f.scrollTop() + f.height() / 1.3
                        }) : (f.stop(), f.animate({
                            scrollTop: f.scrollTop() + f.height() / 1.3
                        }, 250, "linear"))), (a < h || a > i) && (c === !0 ? f.prop({
                            scrollTop: (a - 1) * this.recordHeight
                        }) : (f.stop(), f.animate({
                            scrollTop: (a - 1) * this.recordHeight
                        }, 250, "linear")))
                    }
                    if (null != b) {
                        for (var j = 0, k = 0, l = w2utils.scrollBarSize(), m = 0; m <= b; m++) {
                            var n = this.columns[m];
                            n.frozen || n.hidden || (j = k, k += parseInt(n.sizeCalculated))
                        }
                        f.width() < k - f.scrollLeft() ? c === !0 ? f.prop({
                            scrollLeft: j - l
                        }) : f.animate({
                            scrollLeft: j - l
                        }, 250, "linear") : j < f.scrollLeft() && (c === !0 ? f.prop({
                            scrollLeft: k - f.width() + 2 * l
                        }) : f.animate({
                            scrollLeft: k - f.width() + 2 * l
                        }, 250, "linear"))
                    }
                }
            },
            dblClick: function (a, b) {
                var c = null;
                if ("object" == typeof a && null !== a && (c = a.column, a = a.recid), null == b && (b = {}), null == c && b.target) {
                    var d = b.target;
                    "TD" != d.tagName.toUpperCase() && (d = $(d).parents("td")[0]), c = parseInt($(d).attr("col"))
                }
                var e = this.get(a, !0),
                    f = this.records[e],
                    g = this.trigger({
                        phase: "before",
                        target: this.name,
                        type: "dblClick",
                        recid: a,
                        column: c,
                        originalEvent: b
                    });
                if (g.isCancelled !== !0) {
                    this.selectNone();
                    var h = this.getCellEditable(e, c);
                    h ? this.editField(a, c, null, b) : (this.select({
                        recid: a,
                        column: c
                    }), (this.show.expandColumn || f.w2ui && Array.isArray(f.w2ui.children)) && this.toggle(a)), this.trigger($.extend(g, {
                        phase: "after"
                    }))
                }
            },
            contextMenu: function (a, b, c) {
                var d = this;
                if ("text" != d.last.userSelect) {
                    null == c && (c = {
                        offsetX: 0,
                        offsetY: 0,
                        target: $("#grid_" + d.name + "_rec_" + a)[0]
                    }), null == c.offsetX && (c.offsetX = c.layerX - c.target.offsetLeft, c.offsetY = c.layerY - c.target.offsetTop), w2utils.isFloat(a) && (a = parseFloat(a));
                    var e = this.getSelection();
                    if ("row" == this.selectType) e.indexOf(a) == -1 && d.click(a);
                    else {
                        var f = $(c.target);
                        "TD" != f[0].tagName.toUpperCase() && (f = $(c.target).parents("td"));
                        var g = !1;
                        b = f.attr("col");
                        for (var h = 0; h < e.length; h++) e[h].recid != a && e[h].column != b || (g = !0);
                        g || null == a || d.click({
                            recid: a,
                            column: b
                        }), g || null == b || d.columnClick(this.columns[b].field, c)
                    }
                    var i = d.trigger({
                        phase: "before",
                        type: "contextMenu",
                        target: d.name,
                        originalEvent: c,
                        recid: a,
                        column: b
                    });
                    i.isCancelled !== !0 && (d.menu.length > 0 && $(d.box).find(c.target).w2menu(d.menu, {
                        originalEvent: c,
                        contextMenu: !0,
                        onSelect: function (b) {
                            d.menuClick(a, parseInt(b.index), b.originalEvent)
                        }
                    }), c.preventDefault && c.preventDefault(), d.trigger($.extend(i, {
                        phase: "after"
                    })))
                }
            },
            menuClick: function (a, b, c) {
                var d = this,
                    e = d.trigger({
                        phase: "before",
                        type: "menuClick",
                        target: d.name,
                        originalEvent: c,
                        recid: a,
                        menuIndex: b,
                        menuItem: d.menu[b]
                    });
                e.isCancelled !== !0 && d.trigger($.extend(e, {
                    phase: "after"
                }))
            },
            toggle: function (a) {
                var b = this.get(a);
                return b.w2ui = b.w2ui || {}, b.w2ui.expanded === !0 ? this.collapse(a) : this.expand(a)
            },
            expand: function (a) {
                var b = this.get(a, !0),
                    c = this.records[b];
                c.w2ui = c.w2ui || {};
                var d = w2utils.escapeId(a),
                    e = c.w2ui.children;
                if (Array.isArray(e)) {
                    if (c.w2ui.expanded === !0 || 0 === e.length) return !1;
                    var f = this.trigger({
                        phase: "before",
                        type: "expand",
                        target: this.name,
                        recid: a
                    });
                    if (f.isCancelled === !0) return !1;
                    c.w2ui.expanded = !0, e.forEach(function (a) {
                        a.w2ui = a.w2ui || {}, a.w2ui.parent_recid = c.recid, null == a.w2ui.children && (a.w2ui.children = [])
                    }), this.records.splice.apply(this.records, [b + 1, 0].concat(e)), this.total += e.length;
                    var g = "object" != typeof this.url ? this.url : this.url.get;
                    g || (this.localSort(!0, !0), this.searchData.length > 0 && this.localSearch(!0)), this.refresh(), this.trigger($.extend(f, {
                        phase: "after"
                    }))
                } else {
                    if ($("#grid_" + this.name + "_rec_" + d + "_expanded_row").length > 0 || this.show.expandColumn !== !0) return !1;
                    if ("none" == c.w2ui.expanded) return !1;
                    $("#grid_" + this.name + "_rec_" + d).after('<tr id="grid_' + this.name + "_rec_" + a + '_expanded_row" class="w2ui-expanded-row">    <td colspan="100" class="w2ui-expanded2">        <div id="grid_' + this.name + "_rec_" + a + '_expanded"></div>    </td>    <td class="w2ui-grid-data-last"></td></tr>'), $("#grid_" + this.name + "_frec_" + d).after('<tr id="grid_' + this.name + "_frec_" + a + '_expanded_row" class="w2ui-expanded-row">' + (this.show.lineNumbers ? '<td class="w2ui-col-number"></td>' : "") + '    <td class="w2ui-grid-data w2ui-expanded1" colspan="100">       <div id="grid_' + this.name + "_frec_" + a + '_expanded"></div>   </td></tr>');
                    var f = this.trigger({
                        phase: "before",
                        type: "expand",
                        target: this.name,
                        recid: a,
                        box_id: "grid_" + this.name + "_rec_" + a + "_expanded",
                        fbox_id: "grid_" + this.name + "_frec_" + d + "_expanded"
                    });
                    if (f.isCancelled === !0) return $("#grid_" + this.name + "_rec_" + d + "_expanded_row").remove(), $("#grid_" + this.name + "_frec_" + d + "_expanded_row").remove(), !1;
                    var h = $(this.box).find("#grid_" + this.name + "_rec_" + a + "_expanded"),
                        i = $(this.box).find("#grid_" + this.name + "_frec_" + a + "_expanded"),
                        j = h.find("> div:first-child").height();
                    h.height() < j && h.css({
                        height: j + "px"
                    }), i.height() < j && i.css({
                        height: j + "px"
                    }), $("#grid_" + this.name + "_rec_" + d).attr("expanded", "yes").addClass("w2ui-expanded"), $("#grid_" + this.name + "_frec_" + d).attr("expanded", "yes").addClass("w2ui-expanded"), $("#grid_" + this.name + "_cell_" + this.get(a, !0) + "_expand div").html("-"), c.w2ui.expanded = !0, this.trigger($.extend(f, {
                        phase: "after"
                    })), this.resizeRecords()
                }
                return !0
            },
            collapse: function (a) {
                function b(a) {
                    a.w2ui.expanded = !1;
                    for (var c = 0; c < a.w2ui.children.length; c++) {
                        var d = a.w2ui.children[c];
                        d.w2ui.expanded && b(d)
                    }
                }
                var c = this,
                    d = this.get(a, !0),
                    e = this.records[d];
                e.w2ui = e.w2ui || {};
                var f = w2utils.escapeId(a),
                    g = e.w2ui.children;
                if (Array.isArray(g)) {
                    if (e.w2ui.expanded !== !0) return !1;
                    var h = this.trigger({
                        phase: "before",
                        type: "collapse",
                        target: this.name,
                        recid: a
                    });
                    if (h.isCancelled === !0) return !1;
                    b(e);
                    for (var i = [], j = e; null != j; j = this.get(j.w2ui.parent_recid)) i.push(j.w2ui.parent_recid);
                    for (var k = d + 1, l = k;;) {
                        if (this.records.length <= l + 1 || null == this.records[l + 1].w2ui || i.indexOf(this.records[l + 1].w2ui.parent_recid) >= 0) break;
                        l++
                    }
                    this.records.splice(k, l - k + 1), this.total -= l - k + 1;
                    var m = "object" != typeof this.url ? this.url : this.url.get;
                    m || this.searchData.length > 0 && this.localSearch(!0), this.refresh(), c.trigger($.extend(h, {
                        phase: "after"
                    }))
                } else {
                    if (0 === $("#grid_" + this.name + "_rec_" + f + "_expanded_row").length || this.show.expandColumn !== !0) return !1;
                    var h = this.trigger({
                        phase: "before",
                        type: "collapse",
                        target: this.name,
                        recid: a,
                        box_id: "grid_" + this.name + "_rec_" + f + "_expanded",
                        fbox_id: "grid_" + this.name + "_frec_" + f + "_expanded"
                    });
                    if (h.isCancelled === !0) return !1;
                    $("#grid_" + this.name + "_rec_" + f).removeAttr("expanded").removeClass("w2ui-expanded"), $("#grid_" + this.name + "_frec_" + f).removeAttr("expanded").removeClass("w2ui-expanded"), $("#grid_" + this.name + "_cell_" + this.get(a, !0) + "_expand div").html("+"), $("#grid_" + c.name + "_rec_" + f + "_expanded").css("height", "0px"), $("#grid_" + c.name + "_frec_" + f + "_expanded").css("height", "0px"), setTimeout(function () {
                        $("#grid_" + c.name + "_rec_" + f + "_expanded_row").remove(), $("#grid_" + c.name + "_frec_" + f + "_expanded_row").remove(), e.w2ui.expanded = !1, c.trigger($.extend(h, {
                            phase: "after"
                        })), c.resizeRecords()
                    }, 300)
                }
                return !0
            },
            sort: function (a, b, c) {
                var d = this.trigger({
                    phase: "before",
                    type: "sort",
                    target: this.name,
                    field: a,
                    direction: b,
                    multiField: c
                });
                if (d.isCancelled !== !0) {
                    if (null != a) {
                        for (var e = this.sortData.length, f = 0; f < this.sortData.length; f++)
                            if (this.sortData[f].field == a) {
                                e = f;
                                break
                            } if (null == b)
                            if (null == this.sortData[e]) b = "asc";
                            else switch (null == this.sortData[e].direction && (this.sortData[e].direction = ""), this.sortData[e].direction.toLowerCase()) {
                                case "asc":
                                    b = "desc";
                                    break;
                                case "desc":
                                    b = "asc";
                                    break;
                                default:
                                    b = "asc"
                            }
                        this.multiSort === !1 && (this.sortData = [], e = 0), 1 != c && (this.sortData = [], e = 0), null == this.sortData[e] && (this.sortData[e] = {}), this.sortData[e].field = a, this.sortData[e].direction = b
                    } else this.sortData = [];
                    var g = "object" != typeof this.url ? this.url : this.url.get;
                    g ? (this.trigger($.extend(d, {
                        phase: "after",
                        direction: b
                    })), this.last.xhr_offset = 0, this.reload()) : (this.localSort(!0, !0), this.searchData.length > 0 && this.localSearch(!0), this.last.scrollTop = 0, $("#grid_" + this.name + "_records").prop("scrollTop", 0), this.trigger($.extend(d, {
                        phase: "after",
                        direction: b
                    })), this.refresh())
                }
            },
            copy: function (a, b) {
                if ($.isPlainObject(a)) return this.trigger($.extend(a, {
                    phase: "after"
                })), a.text;
                var c = this.getSelection();
                if (0 === c.length) return "";
                var d = "";
                if ("object" == typeof c[0]) {
                    for (var e = c[0].column, f = c[0].column, g = [], h = 0; h < c.length; h++) c[h].column < e && (e = c[h].column), c[h].column > f && (f = c[h].column), g.indexOf(c[h].index) == -1 && g.push(c[h].index);
                    g.sort(function (a, b) {
                        return a - b
                    });
                    for (var i = 0; i < g.length; i++) {
                        for (var j = g[i], k = e; k <= f; k++) {
                            var l = this.columns[k];
                            l.hidden !== !0 && (d += this.getCellCopy(j, k) + "\t")
                        }
                        d = d.substr(0, d.length - 1), d += "\n"
                    }
                } else {
                    for (var k = 0; k < this.columns.length; k++) {
                        var l = this.columns[k];
                        if (l.hidden !== !0) {
                            var m = l.caption ? l.caption : l.field;
                            l.caption && l.caption.length < 3 && l.tooltip && (m = l.tooltip), d += '"' + w2utils.stripTags(m) + '"\t'
                        }
                    }
                    d = d.substr(0, d.length - 1), d += "\n";
                    for (var h = 0; h < c.length; h++) {
                        for (var j = this.get(c[h], !0), k = 0; k < this.columns.length; k++) {
                            var l = this.columns[k];
                            l.hidden !== !0 && (d += '"' + this.getCellCopy(j, k) + '"\t')
                        }
                        d = d.substr(0, d.length - 1), d += "\n"
                    }
                }
                if (d = d.substr(0, d.length - 1), null == a) {
                    var n = this.trigger({
                        phase: "before",
                        type: "copy",
                        target: this.name,
                        text: d,
                        cut: 88 == b.keyCode,
                        originalEvent: b
                    });
                    return n.isCancelled === !0 ? "" : (d = n.text, this.trigger($.extend(n, {
                        phase: "after"
                    })), d)
                }
                if (a === !1) {
                    var n = this.trigger({
                        phase: "before",
                        type: "copy",
                        target: this.name,
                        text: d,
                        cut: 88 == b.keyCode,
                        originalEvent: b
                    });
                    return n.isCancelled === !0 ? "" : (d = n.text, n)
                }
            },
            getCellCopy: function (a, b) {
                return w2utils.stripTags(this.getCellHTML(a, b))
            },
            paste: function (a) {
                var b = this.getSelection(),
                    c = this.get(b[0].recid, !0),
                    d = b[0].column,
                    e = this.trigger({
                        phase: "before",
                        type: "paste",
                        target: this.name,
                        text: a,
                        index: c,
                        column: d
                    });
                if (e.isCancelled !== !0) {
                    if (a = e.text, "row" == this.selectType || 0 === b.length) return console.log("ERROR: You can paste only if grid.selectType = 'cell' and when at least one cell selected."), void this.trigger($.extend(e, {
                        phase: "after"
                    }));
                    for (var f = [], a = a.split("\n"), g = 0; g < a.length; g++) {
                        var h = a[g].split("\t"),
                            i = 0,
                            j = this.records[c],
                            k = [];
                        if (null != j) {
                            for (var l = 0; l < h.length; l++) this.columns[d + i] && (this.setCellPaste(j, d + i, h[l]), k.push(d + i), i++);
                            for (var m = 0; m < k.length; m++) f.push({
                                recid: j.recid,
                                column: k[m]
                            });
                            c++
                        }
                    }
                    this.selectNone(), this.select.apply(this, f), this.refresh(), this.trigger($.extend(e, {
                        phase: "after"
                    }))
                }
            },
            setCellPaste: function (a, b, c) {
                var d = this.columns[b].field;
                a.w2ui = a.w2ui || {}, a.w2ui.changes = a.w2ui.changes || {}, a.w2ui.changes[d] = c
            },
            resize: function () {
                var a = this,
                    b = (new Date).getTime();
                if (this.box && $(this.box).attr("name") == this.name) {
                    $(this.box).find("> div.w2ui-grid-box").css("width", $(this.box).width()).css("height", $(this.box).height());
                    var c = this.trigger({
                        phase: "before",
                        type: "resize",
                        target: this.name
                    });
                    if (c.isCancelled !== !0) return a.resizeBoxes(), a.resizeRecords(), a.toolbar && a.toolbar.resize && a.toolbar.resize(), this.trigger($.extend(c, {
                        phase: "after"
                    })), (new Date).getTime() - b
                }
            },
            update: function (a) {
                var b = (new Date).getTime();
                if (null == this.box) return 0;
                if (null == a) {
                    for (var c = this.last.range_start - 1; c <= this.last.range_end - 1; c++)
                        if (!(c < 0)) {
                            var d = this.records[c] || {};
                            d.w2ui || (d.w2ui = {});
                            for (var e = 0; e < this.columns.length; e++) {
                                var f = $(this.box).find("#grid_" + this.name + "_rec_" + w2utils.escapeId(d.recid)),
                                    g = $(this.box).find("#grid_" + this.name + "_data_" + c + "_" + e);
                                g.replaceWith(this.getCellHTML(c, e, !1)), g = $(this.box).find("#grid_" + this.name + "_data_" + c + "_" + e), null == d.w2ui.style || $.isEmptyObject(d.w2ui.style) ? g.attr("style", "") : ("string" == typeof d.w2ui.style && f.attr("style", d.w2ui.style), $.isPlainObject(d.w2ui.style) && "string" == typeof d.w2ui.style[e] && g.attr("style", d.w2ui.style[e])), null == d.w2ui.class || $.isEmptyObject(d.w2ui.class) || ("string" == typeof d.w2ui.class && f.addClass(d.w2ui.class), $.isPlainObject(d.w2ui.class) && "string" == typeof d.w2ui.class[e] && g.addClass(d.w2ui.class[e]))
                            }
                        }
                } else
                    for (var h = 0; h < a.length; h++) {
                        var c = a[h].index,
                            e = a[h].column;
                        if (!(c < 0))
                            if (null != c && null != e) {
                                var d = this.records[c] || {},
                                    f = $(this.box).find("#grid_" + this.name + "_rec_" + w2utils.escapeId(d.recid)),
                                    g = $(this.box).find("#grid_" + this.name + "_data_" + c + "_" + e);
                                d.w2ui || (d.w2ui = {}), g.replaceWith(this.getCellHTML(c, e, !1)), g = $(this.box).find("#grid_" + this.name + "_data_" + c + "_" + e), null == d.w2ui.style || $.isEmptyObject(d.w2ui.style) ? g.attr("style", "") : ("string" == typeof d.w2ui.style && f.attr("style", d.w2ui.style), $.isPlainObject(d.w2ui.style) && "string" == typeof d.w2ui.style[e] && g.attr("style", d.w2ui.style[e])), null == d.w2ui.class || $.isEmptyObject(d.w2ui.class) || ("string" == typeof d.w2ui.class && f.addClass(d.w2ui.class), $.isPlainObject(d.w2ui.class) && "string" == typeof d.w2ui.class[e] && g.addClass(d.w2ui.class[e]))
                            } else console.log("ERROR: Wrong argument for grid.update(cells), cells should be [{ index: X, column: Y }, ...]")
                    }
                return (new Date).getTime() - b
            },
            refreshCell: function (a, b) {
                var c = this.get(a, !0),
                    d = !this.records[c] || this.records[c].recid != a,
                    e = this.getColumn(b, !0),
                    f = d ? this.summary[c] : this.records[c],
                    g = this.columns[e],
                    h = $(this.box).find("#grid_" + this.name + "_data_" + c + "_" + e);
                return null != f && (h.replaceWith(this.getCellHTML(c, e, d)), h = $(this.box).find("#grid_" + this.name + "_data_" + c + "_" + e), f.w2ui && f.w2ui.changes && null != f.w2ui.changes[g.field] ? h.addClass("w2ui-changed") : h.removeClass("w2ui-changed"), f.w2ui && null != f.w2ui.style && !$.isEmptyObject(f.w2ui.style) ? ("string" == typeof f.w2ui.style && $(this.box).find("#grid_" + this.name + "_rec_" + w2utils.escapeId(f.recid)).attr("style", f.w2ui.style), $.isPlainObject(f.w2ui.style) && "string" == typeof f.w2ui.style[e] && h.attr("style", f.w2ui.style[e])) : h.attr("style", ""), void(f.w2ui && null != f.w2ui.class && !$.isEmptyObject(f.w2ui.class) && ("string" == typeof f.w2ui.class && $(this.box).find("#grid_" + this.name + "_rec_" + w2utils.escapeId(f.recid)).addClass(f.w2ui.class), $.isPlainObject(f.w2ui.class) && "string" == typeof f.w2ui.class[e] && h.addClass(f.w2ui.class[e]))))
            },
            refreshRow: function (a, b) {
                var c = $(this.box).find("#grid_" + this.name + "_frec_" + w2utils.escapeId(a)),
                    d = $(this.box).find("#grid_" + this.name + "_rec_" + w2utils.escapeId(a));
                if (c.length > 0) {
                    null == b && (b = this.get(a, !0));
                    var e = c.attr("line"),
                        f = !this.records[b] || this.records[b].recid != a,
                        g = "object" != typeof this.url ? this.url : this.url.get;
                    if (this.searchData.length > 0 && !g)
                        for (var h = 0; h < this.last.searchIds.length; h++) this.last.searchIds[h] == b && (b = h);
                    var i = this.getRecordHTML(b, e, f);
                    $(c).replaceWith(i[0]), $(d).replaceWith(i[1]);
                    var j = this.records[b].w2ui ? this.records[b].w2ui.style : "";
                    if ("string" == typeof j) {
                        var c = $(this.box).find("#grid_" + this.name + "_frec_" + w2utils.escapeId(a)),
                            d = $(this.box).find("#grid_" + this.name + "_rec_" + w2utils.escapeId(a));
                        c.attr("custom_style", j), d.attr("custom_style", j), c.hasClass("w2ui-selected") && (j = j.replace("background-color", "none")), c[0].style.cssText = "height: " + this.recordHeight + "px;" + j, d[0].style.cssText = "height: " + this.recordHeight + "px;" + j
                    }
                    f && this.resize()
                }
            },
            refresh: function () {
                var a = this,
                    b = (new Date).getTime(),
                    c = "object" != typeof this.url ? this.url : this.url.get;
                if (this.total <= 0 && !c && 0 === this.searchData.length && (this.total = this.records.length), this.toolbar.disable("w2ui-edit", "w2ui-delete"), this.box) {
                    var d = this.trigger({
                        phase: "before",
                        target: this.name,
                        type: "refresh"
                    });
                    if (d.isCancelled !== !0) {
                        if (this.show.header ? $("#grid_" + this.name + "_header").html(this.header + "&#160;").show() : $("#grid_" + this.name + "_header").hide(), this.show.toolbar) {
                            if (this.toolbar && this.toolbar.get("w2ui-column-on-off") && this.toolbar.get("w2ui-column-on-off").checked);
                            else if ($("#grid_" + this.name + "_toolbar").show(), "object" == typeof this.toolbar)
                                for (var e = this.toolbar.items, f = 0; f < e.length; f++) "w2ui-search" != e[f].id && "break" != e[f].type && this.toolbar.refresh(e[f].id)
                        } else $("#grid_" + this.name + "_toolbar").hide();
                        this.searchClose();
                        var g = $("#grid_" + a.name + "_search_all");
                        !this.multiSearch && "all" == this.last.field && this.searches.length > 0 && (this.last.field = this.searches[0].field, this.last.caption = this.searches[0].caption);
                        for (var h = 0; h < this.searches.length; h++) this.searches[h].field == this.last.field && (this.last.caption = this.searches[h].caption);
                        if (this.last.multi ? (g.attr("placeholder", "[" + w2utils.lang("Multiple Fields") + "]"), g.w2field("clear")) : g.attr("placeholder", w2utils.lang(this.last.caption)), g.val() != this.last.search) {
                            var i = this.last.search,
                                e = g.data("w2field");
                            e && (i = e.format(i)), g.val(i)
                        }
                        a.refreshBody(), this.show.footer ? $("#grid_" + this.name + "_footer").html(this.getFooterHTML()).show() : $("#grid_" + this.name + "_footer").hide();
                        var j = $("#grid_" + this.name + "_searchClear");
                        j.hide(), this.searchData.some(function (b) {
                            var c = a.getSearch(b.field);
                            if (a.last.multi || c && !c.hidden && "list" != c.type) return j.show(), !0
                        });
                        var k = this.last.selection,
                            l = this.records.length > 0 && k.indexes.length == this.records.length,
                            m = k.indexes.length > 0 && 0 !== this.searchData.length && k.indexes.length == this.last.searchIds.length;
                        l || m ? $("#grid_" + this.name + "_check_all").prop("checked", !0) : $("#grid_" + this.name + "_check_all").prop("checked", !1), this.status();
                        for (var n = a.find({
                                "w2ui.expanded": !0
                            }, !0), o = 0; o < n.length; o++) {
                            var e = a.records[n[o]].w2ui;
                            e && !Array.isArray(e.children) && (e.expanded = !1)
                        }
                        return a.markSearch && setTimeout(function () {
                            for (var b = [], c = 0; c < a.searchData.length; c++) {
                                var d = a.searchData[c],
                                    e = a.getSearch(d.field);
                                if (e && !e.hidden) {
                                    var f = a.getColumn(d.field, !0);
                                    b.push({
                                        field: d.field,
                                        search: d.value,
                                        col: f
                                    })
                                }
                            }
                            b.length > 0 && b.forEach(function (b) {
                                $(a.box).find('td[col="' + b.col + '"]').not(".w2ui-head").w2marker(b.search)
                            })
                        }, 50), this.show.toolbarSave && (this.getChanges().length > 0 ? this.toolbar.enable("w2ui-save") : this.toolbar.disable("w2ui-save")), this.trigger($.extend(d, {
                            phase: "after"
                        })), a.resize(), a.addRange("selection"), setTimeout(function () {
                            a.resize(), a.scroll()
                        }, 1), a.reorderColumns && !a.last.columnDrag ? a.last.columnDrag = a.initColumnDrag() : !a.reorderColumns && a.last.columnDrag && a.last.columnDrag.remove(), (new Date).getTime() - b
                    }
                }
            },
            refreshBody: function () {
                var a = this,
                    b = this.find({
                        "w2ui.summary": !0
                    }, !0);
                if (b.length > 0) {
                    for (var c = 0; c < b.length; c++) this.summary.push(this.records[b[c]]);
                    for (var c = b.length - 1; c >= 0; c--) this.records.splice(b[c], 1)
                }
                this.scroll();
                var d = this.getRecordsHTML(),
                    e = this.getColumnsHTML(),
                    f = '<div id="grid_' + this.name + '_frecords" class="w2ui-grid-frecords" style="margin-bottom: ' + (w2utils.scrollBarSize() - 1) + 'px;">' + d[0] + '</div><div id="grid_' + this.name + '_records" class="w2ui-grid-records" onscroll="w2ui[\'' + this.name + "'].scroll(event);\">" + d[1] + '</div><div id="grid_' + this.name + '_scroll1" class="w2ui-grid-scroll1" style="height: ' + w2utils.scrollBarSize() + 'px"></div><div id="grid_' + this.name + '_fcolumns" class="w2ui-grid-fcolumns">    <table><tbody>' + e[0] + '</tbody></table></div><div id="grid_' + this.name + '_columns" class="w2ui-grid-columns">    <table><tbody>' + e[1] + "</tbody></table></div>",
                    g = $("#grid_" + this.name + "_body", a.box).html(f),
                    h = $("#grid_" + this.name + "_records", a.box);
                if (g.data("scrolldata", {
                        lastTime: 0,
                        lastDelta: 0,
                        time: 0
                    }).find(".w2ui-grid-frecords").on("mousewheel DOMMouseScroll ", function (b) {
                        b.preventDefault();
                        var c = b.originalEvent,
                            d = g.data("scrolldata"),
                            e = $(this).siblings(".w2ui-grid-records").addBack().filter(".w2ui-grid-records"),
                            f = null != typeof c.wheelDelta ? c.wheelDelta * -1 / 120 : (c.detail || c.deltaY) / 3,
                            i = e.scrollTop();
                        d.time = +new Date, d.lastTime < d.time - 150 && (d.lastDelta = 0), d.lastTime = d.time, d.lastDelta += f, f = Math.abs(d.lastDelta) < 1 ? 0 : Math.round(d.lastDelta), g.data("scrolldata", d), f *= (Math.round(h.height() / a.recordHeight) - 1) * a.recordHeight / 4, e.stop().animate({
                            scrollTop: i + f
                        }, 250, "linear")
                    }), 0 === this.records.length && this.msgEmpty ? $("#grid_" + this.name + "_body").append('<div id="grid_' + this.name + '_empty_msg" class="w2ui-grid-empty-msg"><div>' + this.msgEmpty + "</div></div>") : $("#grid_" + this.name + "_empty_msg").length > 0 && $("#grid_" + this.name + "_empty_msg").remove(), this.summary.length > 0) {
                    var i = this.getSummaryHTML();
                    $("#grid_" + this.name + "_fsummary").html(i[0]).show(), $("#grid_" + this.name + "_summary").html(i[1]).show()
                } else $("#grid_" + this.name + "_fsummary").hide(), $("#grid_" + this.name + "_summary").hide()
            },
            render: function (a) {
                function b(a) {
                    if (1 == a.which && ("text" == e.last.userSelect && (delete e.last.userSelect, $(e.box).find(".w2ui-grid-body").css(w2utils.cssPrefix("user-select", "none"))), !("row" == e.selectType && ($(a.target).parents().hasClass("w2ui-head") || $(a.target).hasClass("w2ui-head")) || e.last.move && "expand" == e.last.move.type))) {
                        if (a.altKey) $(e.box).find(".w2ui-grid-body").css(w2utils.cssPrefix("user-select", "text")), e.selectNone(), e.last.move = {
                            type: "text-select"
                        }, e.last.userSelect = "text";
                        else {
                            for (var b = a.target, f = {
                                    x: a.offsetX - 10,
                                    y: a.offsetY - 10
                                }, g = !1; b && (!b.classList || !b.classList.contains("w2ui-grid"));) b.tagName && "TD" == b.tagName.toUpperCase() && (g = !0), b.tagName && "TR" != b.tagName.toUpperCase() && 1 == g && (f.x += b.offsetLeft, f.y += b.offsetTop), b = b.parentNode;
                            e.last.move = {
                                x: a.screenX,
                                y: a.screenY,
                                divX: 0,
                                divY: 0,
                                focusX: f.x,
                                focusY: f.y,
                                recid: $(a.target).parents("tr").attr("recid"),
                                column: parseInt("TD" == a.target.tagName.toUpperCase() ? $(a.target).attr("col") : $(a.target).parents("td").attr("col")),
                                type: "select",
                                ghost: !1,
                                start: !0
                            }, null == e.last.move.recid && (e.last.move.type = "select-column");
                            var h = a.target,
                                i = $(e.box).find("#grid_" + e.name + "_focus");
                            if (e.last.move) {
                                var j = e.last.move.focusX,
                                    k = e.last.move.focusY,
                                    l = $(h).parents("table").parent();
                                (l.hasClass("w2ui-grid-records") || l.hasClass("w2ui-grid-frecords") || l.hasClass("w2ui-grid-columns") || l.hasClass("w2ui-grid-fcolumns") || l.hasClass("w2ui-grid-summary")) && (j = e.last.move.focusX - $(e.box).find("#grid_" + e.name + "_records").scrollLeft(), k = e.last.move.focusY - $(e.box).find("#grid_" + e.name + "_records").scrollTop()), ($(h).hasClass("w2ui-grid-footer") || $(h).parents("div.w2ui-grid-footer").length > 0) && (k = $(e.box).find("#grid_" + e.name + "_footer").position().top), l.hasClass("w2ui-scroll-wrapper") && l.parent().hasClass("w2ui-toolbar") && (j = e.last.move.focusX - l.scrollLeft()), i.css({
                                    left: j - 10,
                                    top: k
                                })
                            }
                            setTimeout(function () {
                                ["INPUT", "TEXTAREA", "SELECT"].indexOf(h.tagName.toUpperCase()) != -1 ? $(h).focus() : i.is(":focus") || i.focus()
                            }, 50), e.multiSelect || e.reorderRows || "drag" != e.last.move.type || delete e.last.move
                        }
                        if (1 == e.reorderRows) {
                            var m = a.target;
                            if ("TD" != m.tagName.toUpperCase() && (m = $(m).parents("td")[0]), $(m).hasClass("w2ui-col-number")) {
                                e.selectNone(), e.last.move.reorder = !0;
                                var n = $(e.box).find(".w2ui-even.w2ui-empty-record").css("background-color"),
                                    o = $(e.box).find(".w2ui-odd.w2ui-empty-record").css("background-color");
                                $(e.box).find(".w2ui-even td").not(".w2ui-col-number").css("background-color", n), $(e.box).find(".w2ui-odd td").not(".w2ui-col-number").css("background-color", o);
                                var p = e.last.move;
                                if (!p.ghost) {
                                    var q = $("#grid_" + e.name + "_rec_" + p.recid),
                                        b = q.parents("table").find("tr:first-child").clone();
                                    p.offsetY = a.offsetY, p.from = p.recid, p.pos = q.position(), p.ghost = $(q).clone(!0), p.ghost.removeAttr("id"), q.find("td").remove(), q.append('<td colspan="1000" style="height: ' + e.recordHeight + 'px; background-color: #eee; border-bottom: 1px dashed #aaa; border-top: 1px dashed #aaa;"></td>');
                                    var r = $(e.box).find(".w2ui-grid-records");
                                    r.append('<table id="grid_' + e.name + '_ghost" style="position: absolute; z-index: 999999; opacity: 0.7; pointer-events: none;"></table>'), $("#grid_" + e.name + "_ghost").append(b).append(p.ghost)
                                }
                                var s = $("#grid_" + e.name + "_ghost"),
                                    r = $(e.box).find(".w2ui-grid-records");
                                s.css({
                                    top: p.pos.top + r.scrollTop(),
                                    left: p.pos.left,
                                    "border-top": "1px solid #aaa",
                                    "border-bottom": "1px solid #aaa"
                                })
                            } else e.last.move.reorder = !1
                        }
                        $(document).on("mousemove.w2ui-" + e.name, c).on("mouseup.w2ui-" + e.name, d), a.stopPropagation()
                    }
                }

                function c(a) {
                    var b = e.last.move;
                    if (b && ["select", "select-column"].indexOf(b.type) != -1 && (b.divX = a.screenX - b.x, b.divY = a.screenY - b.y, !(Math.abs(b.divX) <= 1 && Math.abs(b.divY) <= 1))) {
                        if (e.last.cancelClick = !0, 1 == e.reorderRows && e.last.move.reorder) {
                            var c = $(a.target).parents("tr"),
                                d = c.attr("recid");
                            if (d != b.from) {
                                var f = ($("#grid_" + e.name + "_rec_" + b.recid), $("#grid_" + e.name + "_rec_" + d));
                                $(e.box).find(".tmp-ghost").css("border-top", "0px"), f.addClass("tmp-ghost").css("border-top", "2px solid #769EFC"), b.lastY = a.screenY, b.to = d
                            }
                            var g = $("#grid_" + e.name + "_ghost"),
                                h = $(e.box).find(".w2ui-grid-records");
                            return void g.css({
                                top: b.pos.top + b.divY + h.scrollTop(),
                                left: b.pos.left
                            })
                        }
                        b.start && b.recid && (e.selectNone(), b.start = !1);
                        var i = [],
                            d = "TR" == a.target.tagName.toUpperCase() ? $(a.target).attr("recid") : $(a.target).parents("tr").attr("recid");
                        if (null == d) {
                            if ("row" == e.selectType) return;
                            if (e.last.move && "select" == e.last.move.type) return;
                            var j = parseInt($(a.target).parents("td").attr("col"));
                            if (isNaN(j)) e.removeRange("column-selection"), $(e.box).find(".w2ui-grid-columns .w2ui-col-header, .w2ui-grid-fcolumns .w2ui-col-header").removeClass("w2ui-col-selected"), $(e.box).find(".w2ui-col-number").removeClass("w2ui-row-selected"), delete b.colRange;
                            else {
                                var k = j + "-" + j;
                                b.column < j && (k = b.column + "-" + j), b.column > j && (k = j + "-" + b.column);
                                for (var l = [], c = k.split("-"), n = parseInt(c[0]); n <= parseInt(c[1]); n++) l.push(n);
                                if (b.colRange != k && (m = e.trigger({
                                        phase: "before",
                                        type: "columnSelect",
                                        target: e.name,
                                        columns: l,
                                        isCancelled: !1
                                    }), m.isCancelled !== !0)) {
                                    null == b.colRange && e.selectNone();
                                    var c = k.split("-");
                                    $(e.box).find(".w2ui-grid-columns .w2ui-col-header, .w2ui-grid-fcolumns .w2ui-col-header").removeClass("w2ui-col-selected");
                                    for (var o = parseInt(c[0]); o <= parseInt(c[1]); o++) $(e.box).find("#grid_" + e.name + "_column_" + o + " .w2ui-col-header").addClass("w2ui-col-selected");
                                    $(e.box).find(".w2ui-col-number").not(".w2ui-head").addClass("w2ui-row-selected"), b.colRange = k, e.removeRange("column-selection"), e.addRange({
                                        name: "column-selection",
                                        range: [{
                                            recid: e.records[0].recid,
                                            column: c[0]
                                        }, {
                                            recid: e.records[e.records.length - 1].recid,
                                            column: c[1]
                                        }],
                                        style: "background-color: rgba(90, 145, 234, 0.1)"
                                    })
                                }
                            }
                        } else {
                            var p = e.get(b.recid, !0);
                            if (null == p || e.records[p] && e.records[p].recid != b.recid) return;
                            var q = e.get(d, !0);
                            if (null == q) return;
                            var r = parseInt(b.column),
                                s = parseInt("TD" == a.target.tagName.toUpperCase() ? $(a.target).attr("col") : $(a.target).parents("td").attr("col"));
                            if (isNaN(r) && isNaN(s) && (r = 0, s = e.columns.length - 1), p > q) {
                                var c = p;
                                p = q, q = c
                            }
                            var c = "ind1:" + p + ",ind2;" + q + ",col1:" + r + ",col2:" + s;
                            if (b.range == c) return;
                            b.range = c;
                            for (var t = p; t <= q; t++)
                                if (!(e.last.searchIds.length > 0 && e.last.searchIds.indexOf(t) == -1))
                                    if ("row" != e.selectType) {
                                        if (r > s) {
                                            var c = r;
                                            r = s, s = c
                                        }
                                        for (var c = [], u = r; u <= s; u++) e.columns[u].hidden || i.push({
                                            recid: e.records[t].recid,
                                            column: parseInt(u)
                                        })
                                    } else i.push(e.records[t].recid);
                            if ("row" != e.selectType) {
                                for (var v = e.getSelection(), c = [], w = 0; w < i.length; w++) {
                                    for (var x = !1, y = 0; y < v.length; y++) i[w].recid == v[y].recid && i[w].column == v[y].column && (x = !0);
                                    x || c.push({
                                        recid: i[w].recid,
                                        column: i[w].column
                                    })
                                }
                                e.select.apply(e, c);
                                for (var c = [], y = 0; y < v.length; y++) {
                                    for (var x = !1, w = 0; w < i.length; w++) i[w].recid == v[y].recid && i[w].column == v[y].column && (x = !0);
                                    x || c.push({
                                        recid: v[y].recid,
                                        column: v[y].column
                                    })
                                }
                                e.unselect.apply(e, c)
                            } else if (e.multiSelect) {
                                for (var v = e.getSelection(), w = 0; w < i.length; w++) v.indexOf(i[w]) == -1 && e.select(i[w]);
                                for (var y = 0; y < v.length; y++) i.indexOf(v[y]) == -1 && e.unselect(v[y])
                            }
                        }
                    }
                }

                function d(a) {
                    var b = e.last.move;
                    if (setTimeout(function () {
                            delete e.last.cancelClick
                        }, 1), !$(a.target).parents().hasClass(".w2ui-head") && !$(a.target).hasClass(".w2ui-head")) {
                        if (b && ["select", "select-column"].indexOf(b.type) != -1) {
                            if (null != b.colRange && m.isCancelled !== !0) {
                                for (var c = b.colRange.split("-"), d = [], f = 0; f < e.records.length; f++) {
                                    for (var g = [], h = parseInt(c[0]); h <= parseInt(c[1]); h++) g.push(h);
                                    d.push({
                                        recid: e.records[f].recid,
                                        column: g
                                    })
                                }
                                e.removeRange("column-selection"), e.trigger($.extend(m, {
                                    phase: "after"
                                })), e.select.apply(e, d)
                            }
                            if (1 == e.reorderRows && e.last.move.reorder) {
                                var i = e.trigger({
                                    phase: "before",
                                    target: e.name,
                                    type: "reorderRow",
                                    recid: b.from,
                                    moveAfter: b.to
                                });
                                if (i.isCancelled === !0) return $("#grid_" + e.name + "_ghost").remove(), e.refresh(), void delete e.last.move;
                                var j = e.get(b.from, !0),
                                    k = e.get(b.to, !0),
                                    c = e.records[j];
                                null != j && null != k && (e.records.splice(j, 1), j > k ? e.records.splice(k, 0, c) : e.records.splice(k - 1, 0, c)), $("#grid_" + e.name + "_ghost").remove(), e.refresh(), e.trigger($.extend(i, {
                                    phase: "after"
                                }))
                            }
                        }
                        delete e.last.move, $(document).off(".w2ui-" + e.name)
                    }
                }
                var e = this,
                    f = (new Date).getTime();
                if (null != a && ($(this.box).find("#grid_" + this.name + "_body").length > 0 && $(this.box).removeAttr("name").removeClass("w2ui-reset w2ui-grid").html(""), this.box = a), this.box) {
                    var g = "object" != typeof this.url ? this.url : this.url.get,
                        h = this.trigger({
                            phase: "before",
                            target: this.name,
                            type: "render",
                            box: a
                        });
                    if (h.isCancelled !== !0) {
                        if (this.reset(!0), !this.last.field)
                            if (this.multiSearch && this.show.searchAll) this.last.field = "all", this.last.caption = w2utils.lang("All Fields");
                            else {
                                for (var i = 0; i < this.searches.length && (this.searches[i].hidden || this.searches[i].simple === !1);) i++;
                                i >= this.searches.length ? (this.last.field = "", this.last.caption = "") : (this.last.field = this.searches[i].field, this.last.caption = this.searches[i].caption)
                            } if ($(this.box).attr("name", this.name).addClass("w2ui-reset w2ui-grid").html('<div class="w2ui-grid-box">    <div id="grid_' + this.name + '_header" class="w2ui-grid-header"></div>    <div id="grid_' + this.name + '_toolbar" class="w2ui-grid-toolbar"></div>    <div id="grid_' + this.name + '_body" class="w2ui-grid-body"></div>    <div id="grid_' + this.name + '_fsummary" class="w2ui-grid-body w2ui-grid-summary"></div>    <div id="grid_' + this.name + '_summary" class="w2ui-grid-body w2ui-grid-summary"></div>    <div id="grid_' + this.name + '_footer" class="w2ui-grid-footer"></div>    <textarea id="grid_' + this.name + '_focus" class="w2ui-grid-focus-input"></textarea></div>'), "row" != this.selectType && $(this.box).addClass("w2ui-ss"), $(this.box).length > 0 && ($(this.box)[0].style.cssText += this.style), this.initToolbar(), null != this.toolbar && this.toolbar.render($("#grid_" + this.name + "_toolbar")[0]), this.last.field && "all" != this.last.field) {
                            var j = this.searchData;
                            setTimeout(function () {
                                e.initAllField(e.last.field, 1 == j.length ? j[0].value : null)
                            }, 1)
                        }
                        $("#grid_" + this.name + "_footer").html(this.getFooterHTML()), this.last.state || (this.last.state = this.stateSave(!0)), this.stateRestore(), g && this.refresh();
                        for (var k = !1, l = 0; l < this.searches.length; l++)
                            if (this.searches[l].hidden) {
                                k = !0;
                                break
                            } k ? (this.searchReset(!1), g || setTimeout(function () {
                            e.searchReset()
                        }, 1)) : this.reload(), $(this.box).find("#grid_" + this.name + "_focus").on("focus", function (a) {
                            clearTimeout(e.last.kbd_timer), e.hasFocus || e.focus()
                        }).on("blur", function (a) {
                            clearTimeout(e.last.kbd_timer), e.last.kbd_timer = setTimeout(function () {
                                e.hasFocus && e.blur()
                            }, 100)
                        }).on("paste", function (a) {
                            var b = this;
                            setTimeout(function () {
                                w2ui[e.name].paste(b.value), b.value = ""
                            }, 1)
                        }).on("keydown", function (a) {
                            w2ui[e.name].keydown.call(w2ui[e.name], a)
                        });
                        var m;
                        return $(this.box).on("mousedown", b), this.trigger($.extend(h, {
                            phase: "after"
                        })), 0 === $(".w2ui-layout").length && $(window).off("resize.w2ui-" + this.name).on("resize.w2ui-" + this.name, function (a) {
                            w2ui[e.name].resize()
                        }), (new Date).getTime() - f
                    }
                }
            },
            destroy: function () {
                var a = this.trigger({
                    phase: "before",
                    target: this.name,
                    type: "destroy"
                });
                a.isCancelled !== !0 && ($(this.box).off(), "object" == typeof this.toolbar && this.toolbar.destroy && this.toolbar.destroy(), $(this.box).find("#grid_" + this.name + "_body").length > 0 && $(this.box).removeAttr("name").removeClass("w2ui-reset w2ui-grid").html(""), delete w2ui[this.name], this.trigger($.extend(a, {
                    phase: "after"
                })))
            },
            initColumnOnOff: function () {
                if (this.show.toolbarColumns) {
                    for (var a = this, b = '<div class="w2ui-col-on-off"><table><tbody><tr id="grid_' + this.name + '_column_ln_check" onclick="w2ui[\'' + a.name + '\'].columnOnOff(event, \'line-numbers\'); event.stopPropagation();">   <td style="width: 30px; text-align: center; padding-right: 3px; color: #888;">      <span class="w2ui-column-check w2ui-icon-' + (a.show.lineNumbers ? "check" : "empty") + '"></span>   </td>   <td>      <label>' + w2utils.lang("Line #") + "</label>   </td></tr>", c = 0; c < this.columns.length; c++) {
                        var d = this.columns[c],
                            e = this.columns[c].caption;
                        d.hideable !== !1 && (!e && this.columns[c].tooltip && (e = this.columns[c].tooltip), e || (e = "- column " + (parseInt(c) + 1) + " -"), b += '<tr id="grid_' + this.name + "_column_" + c + '_check"        onclick="w2ui[\'' + a.name + "'].columnOnOff(event, '" + d.field + '\'); event.stopPropagation();">   <td style="width: 30px; text-align: center; padding-right: 3px; color: #888;">      <span class="w2ui-column-check w2ui-icon-' + (d.hidden ? "empty" : "check") + '"></span>   </td>   <td>       <label>' + w2utils.stripTags(e) + "</label>   </td></tr>")
                    }
                    var f = "object" != typeof this.url ? this.url : this.url.get;
                    (f && a.show.skipRecords || a.show.saveRestoreState) && (b += '<tr style="pointer-events: none"><td colspan="2"><div style="border-top: 1px solid #ddd;"></div></td></tr>'), f && a.show.skipRecords && (b += '<tr><td colspan="2" style="padding: 0px">    <div style="cursor: pointer; padding: 2px 8px; cursor: default">' + w2utils.lang("Skip") + '        <input type="text" style="width: 60px" value="' + this.offset + '"             onkeydown="if ([48,49,50,51,52,53,54,55,56,57,58,13,8,46,37,39].indexOf(event.keyCode) == -1) { event.preventDefault() }"            onkeypress="if (event.keyCode == 13) {                w2ui[\'' + a.name + "'].skip(this.value);                jQuery('.w2ui-overlay')[0].hide();             }\"/> " + w2utils.lang("Records") + "    </div></td></tr>"), a.show.saveRestoreState && (b += '<tr><td colspan="2" onclick="var obj = w2ui[\'' + a.name + "']; obj.toolbar.uncheck('w2ui-column-on-off'); obj.stateSave();\">    <div style=\"cursor: pointer; padding: 4px 8px; cursor: default\">" + w2utils.lang("Save Grid State") + '</div></td></tr><tr><td colspan="2" onclick="var obj = w2ui[\'' + a.name + "']; obj.toolbar.uncheck('w2ui-column-on-off'); obj.stateReset();\">    <div style=\"cursor: pointer; padding: 4px 8px; cursor: default\">" + w2utils.lang("Restore Default State") + "</div></td></tr>"), b += "</tbody></table></div>", this.toolbar.get("w2ui-column-on-off").html = b
                }
            },
            initColumnDrag: function (a) {
                function b() {
                    j.pressed = !1, clearTimeout(j.timeout)
                }

                function c(a) {
                    j.timeout && clearTimeout(j.timeout);
                    var b = this;
                    j.pressed = !0, j.timeout = setTimeout(function () {
                        if (j.pressed && 0 !== j.numberPreColumnsPresent) {
                            var c, f, g, h, k, l = ["w2ui-col-number", "w2ui-col-expand", "w2ui-col-select"],
                                m = ["w2ui-head-last"],
                                n = l.concat(m),
                                o = ".w2ui-col-number, .w2ui-col-expand, .w2ui-col-select",
                                p = ".w2ui-head.w2ui-col-number, .w2ui-head.w2ui-col-expand, .w2ui-head.w2ui-col-select";
                            if ($(a.originalEvent.target).parents().hasClass("w2ui-head")) {
                                for (var q = 0, r = n.length; q < r; q++)
                                    if ($(a.originalEvent.target).parents().hasClass(n[q])) return;
                                if (j.numberPreColumnsPresent = $(i.box).find(p).length, j.columnHead = h = $(a.originalEvent.target).parents(".w2ui-head"), j.originalPos = k = parseInt(h.attr("col"), 10), c = i.trigger({
                                        type: "columnDragStart",
                                        phase: "before",
                                        originalEvent: a,
                                        origColumnNumber: k,
                                        target: h[0]
                                    }), c.isCancelled === !0) return !1;
                                f = j.columns = $(i.box).find(".w2ui-head:not(.w2ui-head-last)"), $(document).on("mouseup", e), $(document).on("mousemove", d), j.ghost = $(b).clone(!0), $(j.ghost).find('[col]:not([col="' + j.originalPos + '"]), .w2ui-toolbar, .w2ui-grid-header').remove(), $(j.ghost).find(o).remove(), $(j.ghost).find(".w2ui-grid-body").css({
                                    top: 0
                                }), g = $(j.ghost).find('[col="' + j.originalPos + '"]'), $(document.body).append(j.ghost), $(j.ghost).css({
                                    width: 0,
                                    height: 0,
                                    margin: 0,
                                    position: "fixed",
                                    zIndex: 999999,
                                    opacity: 0
                                }).addClass(".w2ui-grid-ghost").animate({
                                    width: g.width(),
                                    height: $(i.box).find(".w2ui-grid-body:first").height(),
                                    left: a.pageX,
                                    top: a.pageY,
                                    opacity: .8
                                }, 0), j.offsets = [];
                                for (var q = 0, r = f.length; q < r; q++) j.offsets.push($(f[q]).offset().left);
                                i.trigger($.extend(c, {
                                    phase: "after"
                                }))
                            }
                        }
                    }, 150)
                }

                function d(a) {
                    if (j.pressed) {
                        var b = a.originalEvent.pageX,
                            c = a.originalEvent.pageY,
                            d = j.offsets,
                            e = $(".w2ui-head:not(.w2ui-head-last)").width();
                        j.targetInt = Math.max(j.numberPreColumnsPresent, g(b, d, e)), f(j.targetInt), h(b, c)
                    }
                }

                function e(a) {
                    j.pressed = !1;
                    var b, c, f, g, h, k = $(".w2ui-grid-ghost");
                    return b = i.trigger({
                        type: "columnDragEnd",
                        phase: "before",
                        originalEvent: a,
                        target: j.columnHead[0]
                    }), b.isCancelled !== !0 && (f = i.columns[j.originalPos], g = i.columns, h = $(j.columns[Math.min(j.lastInt, j.columns.length - 1)]), c = j.lastInt < j.columns.length ? parseInt(h.attr("col")) : g.length, c !== j.originalPos + 1 && c !== j.originalPos && h && h.length ? ($(j.ghost).animate({
                        top: $(i.box).offset().top,
                        left: h.offset().left,
                        width: 0,
                        height: 0,
                        opacity: .2
                    }, 300, function () {
                        $(this).remove(), k.remove()
                    }), g.splice(c, 0, $.extend({}, f)), g.splice(g.indexOf(f), 1)) : ($(j.ghost).remove(), k.remove()), $(document).off("mouseup", e), $(document).off("mousemove", d), j.marker && j.marker.remove(), j = {}, i.refresh(), void i.trigger($.extend(b, {
                        phase: "after",
                        targetColumnNumber: c - 1
                    })))
                }

                function f(a) {
                    j.marker || j.markerLeft || (j.marker = $('<div class="col-intersection-marker"><div class="top-marker"></div><div class="bottom-marker"></div></div>'), j.markerLeft = $('<div class="col-intersection-marker"><div class="top-marker"></div><div class="bottom-marker"></div></div>')), j.lastInt && j.lastInt === a || (j.lastInt = a, j.marker.remove(), j.markerLeft.remove(), $(".w2ui-head").removeClass("w2ui-col-intersection"), a >= j.columns.length ? ($(j.columns[j.columns.length - 1]).children("div:last").append(j.marker.addClass("right").removeClass("left")), $(j.columns[j.columns.length - 1]).addClass("w2ui-col-intersection")) : a <= j.numberPreColumnsPresent ? ($(j.columns[j.numberPreColumnsPresent]).prepend(j.marker.addClass("left").removeClass("right")).css({
                        position: "relative"
                    }), $(j.columns[j.numberPreColumnsPresent]).prev().addClass("w2ui-col-intersection")) : ($(j.columns[a]).children("div:last").prepend(j.marker.addClass("left").removeClass("right")), $(j.columns[a]).prev().children("div:last").append(j.markerLeft.addClass("right").removeClass("left")).css({
                        position: "relative"
                    }), $(j.columns[a - 1]).addClass("w2ui-col-intersection")))
                }

                function g(a, b, c) {
                    if (a <= b[0]) return 0;
                    if (a >= b[b.length - 1] + c) return b.length;
                    for (var d = 0, e = b.length; d < e; d++) {
                        var f = b[d],
                            g = b[d + 1] || b[d] + c,
                            h = (g - b[d]) / 2 + b[d];
                        if (a > f && a <= h) return d;
                        if (a > h && a <= g) return d + 1
                    }
                    return intersection
                }

                function h(a, b) {
                    $(j.ghost).css({
                        left: a - 10,
                        top: b - 10
                    })
                }
                if (this.columnGroups && this.columnGroups.length) throw "Draggable columns are not currently supported with column groups.";
                var i = this,
                    j = {};
                return j.lastInt = null, j.pressed = !1, j.timeout = null, j.columnHead = null, $(i.box).on("mousedown", c), $(i.box).on("mouseup", b), {
                    remove: function () {
                        $(i.box).off("mousedown", c), $(i.box).off("mouseup", b), $(i.box).find(".w2ui-head").removeAttr("draggable"), i.last.columnDrag = !1
                    }
                }
            },
            columnOnOff: function (a, b) {
                var c = $(a.target).parents("tr").find(".w2ui-column-check"),
                    d = this.trigger({
                        phase: "before",
                        target: this.name,
                        type: "columnOnOff",
                        field: b,
                        originalEvent: a
                    });
                if (d.isCancelled !== !0) {
                    for (var e = this, f = !(a.shiftKey || a.metaKey || a.ctrlKey || $(a.target).hasClass("w2ui-column-check")), g = e.find({
                            "w2ui.expanded": !0
                        }, !0), h = 0; h < g.length; h++) {
                        var i = this.records[h].w2ui;
                        i && !Array.isArray(i.children) && (this.records[h].w2ui.expanded = !1)
                    }
                    if ("line-numbers" == b) this.show.lineNumbers = !this.show.lineNumbers, this.show.lineNumbers ? c.addClass("w2ui-icon-check").removeClass("w2ui-icon-empty") : c.addClass("w2ui-icon-empty").removeClass("w2ui-icon-check"), this.refreshBody(), this.resizeRecords();
                    else {
                        var j = this.getColumn(b);
                        j.hidden ? (c.addClass("w2ui-icon-check").removeClass("w2ui-icon-empty"), setTimeout(function () {
                            e.showColumn(j.field)
                        }, f ? 0 : 50)) : (c.addClass("w2ui-icon-empty").removeClass("w2ui-icon-check"), setTimeout(function () {
                            e.hideColumn(j.field)
                        }, f ? 0 : 50))
                    }
                    f && setTimeout(function () {
                        $().w2overlay({
                            name: e.name + "_toolbar"
                        })
                    }, 40), this.trigger($.extend(d, {
                        phase: "after"
                    }))
                }
            },
            scrollToColumn: function (a) {
                if (null != a) {
                    for (var b = 0, c = !1, d = 0; d < this.columns.length; d++) {
                        var e = this.columns[d];
                        if (e.field == a) {
                            c = !0;
                            break
                        }
                        if (!e.frozen && !e.hidden) {
                            var f = parseInt(e.sizeCalculated ? e.sizeCalculated : e.size);
                            b += f
                        }
                    }
                    c && (this.last.scrollLeft = b + 1, this.scroll())
                }
            },
            initToolbar: function () {
                var a = this;
                if (null == this.toolbar.render) {
                    var b = this.toolbar.items;
                    if (this.toolbar.items = [], this.toolbar = $().w2toolbar($.extend(!0, {}, this.toolbar, {
                            name: this.name + "_toolbar",
                            owner: this
                        })), this.show.toolbarReload && this.toolbar.items.push($.extend(!0, {}, this.buttons.reload)), this.show.toolbarColumns && this.toolbar.items.push($.extend(!0, {}, this.buttons.columns)), (this.show.toolbarReload || this.show.toolbarColumns) && this.toolbar.items.push({
                            type: "break",
                            id: "w2ui-break0"
                        }), this.show.toolbarInput) {
                        var c = '<div class="w2ui-toolbar-search"><table cellpadding="0" cellspacing="0"><tbody><tr>    <td>' + this.buttons.search.html + '</td>    <td>        <input type="text" id="grid_' + this.name + '_search_all" class="w2ui-search-all" tabindex="-1"             placeholder="' + w2utils.lang(this.last.caption) + '" value="' + this.last.search + '"            onfocus="clearTimeout(w2ui[\'' + this.name + '\'].last.kbd_timer);"            onkeydown="if (event.keyCode == 13 &amp;&amp; w2utils.isIE) this.onchange();"            onchange="                var grid = w2ui[\'' + this.name + "'];                 var val = this.value;                 var sel = jQuery(this).data('selected');                var fld = jQuery(this).data('w2field');                 if (fld) val = fld.clean(val);                if (fld &amp;&amp; fld.type == 'list' &amp;&amp; sel &amp;&amp; typeof sel.id == 'undefined') {                   grid.searchReset();                } else {                   grid.search(grid.last.field, val);                }            \"/>    </td>    <td>        <div class=\"w2ui-search-clear\" id=\"grid_" + this.name + '_searchClear"               onclick="var obj = w2ui[\'' + this.name + '\']; obj.searchReset();" style="display: none"        >&#160;&#160;</div>    </td></tr></tbody></table></div>';
                        this.toolbar.items.push({
                            type: "html",
                            id: "w2ui-search",
                            html: c
                        })
                    }
                    if (this.show.toolbarSearch && this.multiSearch && this.searches.length > 0 && this.toolbar.items.push($.extend(!0, {}, this.buttons["search-go"])), (this.show.toolbarSearch || this.show.toolbarInput) && (this.show.toolbarAdd || this.show.toolbarEdit || this.show.toolbarDelete || this.show.toolbarSave) && this.toolbar.items.push({
                            type: "break",
                            id: "w2ui-break1"
                        }), this.show.toolbarAdd && this.toolbar.items.push($.extend(!0, {}, this.buttons.add)), this.show.toolbarEdit && this.toolbar.items.push($.extend(!0, {}, this.buttons.edit)), this.show.toolbarDelete && this.toolbar.items.push($.extend(!0, {}, this.buttons.delete)), this.show.toolbarSave && ((this.show.toolbarAdd || this.show.toolbarDelete || this.show.toolbarEdit) && this.toolbar.items.push({
                            type: "break",
                            id: "w2ui-break2"
                        }), this.toolbar.items.push($.extend(!0, {}, this.buttons.save))), b)
                        for (var d = 0; d < b.length; d++) this.toolbar.items.push(b[d]);
                    var a = this;
                    this.toolbar.on("click", function (b) {
                        var c = a.trigger({
                            phase: "before",
                            type: "toolbar",
                            target: b.target,
                            originalEvent: b
                        });
                        if (c.isCancelled !== !0) {
                            var d = b.target;
                            switch (d) {
                                case "w2ui-reload":
                                    var e = a.trigger({
                                        phase: "before",
                                        type: "reload",
                                        target: a.name
                                    });
                                    if (e.isCancelled === !0) return !1;
                                    a.reload(), a.trigger($.extend(e, {
                                        phase: "after"
                                    }));
                                    break;
                                case "w2ui-column-on-off":
                                    a.initColumnOnOff(), a.initResize(), a.resize();
                                    break;
                                case "w2ui-search-advanced":
                                    var f = this.get(d);
                                    f.checked ? a.searchClose() : a.searchOpen(), a.toolbar.tooltipHide("w2ui-search-advanced"), b.preventDefault();
                                    break;
                                case "w2ui-add":
                                    var e = a.trigger({
                                        phase: "before",
                                        target: a.name,
                                        type: "add",
                                        recid: null
                                    });
                                    if (e.isCancelled === !0) return !1;
                                    a.trigger($.extend(e, {
                                        phase: "after"
                                    })), setTimeout(function () {
                                        $().w2tag()
                                    }, 20);
                                    break;
                                case "w2ui-edit":
                                    var g = a.getSelection(),
                                        h = null;
                                    1 == g.length && (h = g[0]);
                                    var e = a.trigger({
                                        phase: "before",
                                        target: a.name,
                                        type: "edit",
                                        recid: h
                                    });
                                    if (e.isCancelled === !0) return !1;
                                    a.trigger($.extend(e, {
                                        phase: "after"
                                    })), setTimeout(function () {
                                        $().w2tag()
                                    }, 20);
                                    break;
                                case "w2ui-delete":
                                    a.delete();
                                    break;
                                case "w2ui-save":
                                    a.save()
                            }
                            a.trigger($.extend(c, {
                                phase: "after"
                            }))
                        }
                    })
                }
            },
            initResize: function () {
                var a = this;
                $(this.box).find(".w2ui-resizer").off("click").on("click", function (a) {
                    a.stopPropagation ? a.stopPropagation() : a.cancelBubble = !0, a.preventDefault && a.preventDefault()
                }).off("mousedown").on("mousedown", function (b) {
                    b || (b = window.event), a.resizing = !0, a.last.tmp = {
                        x: b.screenX,
                        y: b.screenY,
                        gx: b.screenX,
                        gy: b.screenY,
                        col: parseInt($(this).attr("name"))
                    }, b.stopPropagation ? b.stopPropagation() : b.cancelBubble = !0, b.preventDefault && b.preventDefault();
                    for (var c = 0; c < a.columns.length; c++) a.columns[c].hidden || (null == a.columns[c].sizeOriginal && (a.columns[c].sizeOriginal = a.columns[c].size), a.columns[c].size = a.columns[c].sizeCalculated);
                    var d = {
                        phase: "before",
                        type: "columnResize",
                        target: a.name,
                        column: a.last.tmp.col,
                        field: a.columns[a.last.tmp.col].field
                    };
                    d = a.trigger($.extend(d, {
                        resizeBy: 0,
                        originalEvent: b
                    }));
                    var e = function (b) {
                            if (1 == a.resizing) {
                                if (b || (b = window.event), d = a.trigger($.extend(d, {
                                        resizeBy: b.screenX - a.last.tmp.gx,
                                        originalEvent: b
                                    })), d.isCancelled === !0) return void(d.isCancelled = !1);
                                a.last.tmp.x = b.screenX - a.last.tmp.x, a.last.tmp.y = b.screenY - a.last.tmp.y, a.columns[a.last.tmp.col].size = parseInt(a.columns[a.last.tmp.col].size) + a.last.tmp.x + "px", a.resizeRecords(), a.scroll(), a.last.tmp.x = b.screenX, a.last.tmp.y = b.screenY
                            }
                        },
                        f = function (b) {
                            delete a.resizing, $(document).off("mousemove", "body"), $(document).off("mouseup", "body"), a.resizeRecords(), a.scroll(), a.trigger($.extend(d, {
                                phase: "after",
                                originalEvent: b
                            }))
                        };
                    $(document).on("mousemove", "body", e), $(document).on("mouseup", "body", f)
                }).off("dblclick").on("dblclick", function (b) {
                    var c = parseInt($(this).attr("name")),
                        d = a.columns[c],
                        e = 0;
                    if (d.autoResize === !1) return !0;
                    b.stopPropagation ? b.stopPropagation() : b.cancelBubble = !0, b.preventDefault && b.preventDefault(), $('.w2ui-grid-records td[col="' + c + '"] > div', a.box).each(function () {
                        var a = this.offsetWidth - this.scrollWidth;
                        a < e && (e = a - 3)
                    });
                    var f = {
                        phase: "before",
                        type: "columnAutoResize",
                        target: a.name,
                        column: d,
                        field: d.field
                    };
                    return f = a.trigger($.extend(f, {
                        resizeBy: Math.abs(e),
                        originalEvent: b
                    })), f.isCancelled === !0 ? void(f.isCancelled = !1) : (e < 0 && (d.size = Math.min(parseInt(d.size) + Math.abs(e), d.max || 1 / 0) + "px", a.resizeRecords(), a.resizeRecords(), a.scroll()), void a.trigger($.extend(f, {
                        phase: "after",
                        originalEvent: b
                    })))
                }).each(function (a, b) {
                    var c = $(b).parent();
                    $(b).css({
                        height: "25px",
                        "margin-left": c.width() - 3 + "px"
                    })
                })
            },
            resizeBoxes: function () {
                var a = $("#grid_" + this.name + "_header"),
                    b = $("#grid_" + this.name + "_toolbar"),
                    c = $("#grid_" + this.name + "_fsummary"),
                    d = $("#grid_" + this.name + "_summary"),
                    e = $("#grid_" + this.name + "_footer"),
                    f = $("#grid_" + this.name + "_body");
                this.show.header && a.css({
                    top: "0px",
                    left: "0px",
                    right: "0px"
                }), this.show.toolbar && b.css({
                    top: 0 + (this.show.header ? w2utils.getSize(a, "height") : 0) + "px",
                    left: "0px",
                    right: "0px"
                }), this.summary.length > 0 && (c.css({
                    bottom: 0 + (this.show.footer ? w2utils.getSize(e, "height") : 0) + "px"
                }), d.css({
                    bottom: 0 + (this.show.footer ? w2utils.getSize(e, "height") : 0) + "px",
                    right: "0px"
                })), this.show.footer && e.css({
                    bottom: "0px",
                    left: "0px",
                    right: "0px"
                }), f.css({
                    top: 0 + (this.show.header ? w2utils.getSize(a, "height") : 0) + (this.show.toolbar ? w2utils.getSize(b, "height") : 0) + "px",
                    bottom: 0 + (this.show.footer ? w2utils.getSize(e, "height") : 0) + (this.summary.length > 0 ? w2utils.getSize(d, "height") : 0) + "px",
                    left: "0px",
                    right: "0px"
                })
            },
            resizeRecords: function () {
                function a(a, b, c) {
                    var d = "",
                        e = "",
                        f = "";
                    d += '<tr class="' + (a % 2 ? "w2ui-even" : "w2ui-odd") + ' w2ui-empty-record" style="height: ' + b + 'px">', e += '<tr class="' + (a % 2 ? "w2ui-even" : "w2ui-odd") + ' w2ui-empty-record" style="height: ' + b + 'px">', c.show.lineNumbers && (d += '<td class="w2ui-col-number"></td>'), c.show.selectColumn && (d += '<td class="w2ui-grid-data w2ui-col-select"></td>'), c.show.expandColumn && (d += '<td class="w2ui-grid-data w2ui-col-expand"></td>'), e += '<td class="w2ui-grid-data-spacer" col="start" style="border-right: 0"></td>';
                    for (var g = 0; g < c.columns.length; g++) {
                        var h = c.columns[g];
                        (h.hidden || g < c.last.colStart || g > c.last.colEnd) && !h.frozen || (f = '<td class="w2ui-grid-data" ' + (null != h.attr ? h.attr : "") + ' col="' + g + '"></td>', h.frozen ? d += f : e += f)
                    }
                    d += '<td class="w2ui-grid-data-last"></td> </tr>', e += '<td class="w2ui-grid-data-last" col="end"></td> </tr>', $("#grid_" + c.name + "_frecords > table").append(d), $("#grid_" + c.name + "_records > table").append(e)
                }
                var b = this;
                $(this.box).find(".w2ui-empty-record").remove();
                var c = $(this.box),
                    d = $(this.box).find("> div.w2ui-grid-box"),
                    e = $("#grid_" + this.name + "_header"),
                    f = $("#grid_" + this.name + "_toolbar"),
                    g = $("#grid_" + this.name + "_summary"),
                    h = $("#grid_" + this.name + "_fsummary"),
                    i = $("#grid_" + this.name + "_footer"),
                    j = $("#grid_" + this.name + "_body"),
                    k = $("#grid_" + this.name + "_columns"),
                    l = $("#grid_" + this.name + "_fcolumns"),
                    m = $("#grid_" + this.name + "_records"),
                    n = $("#grid_" + this.name + "_frecords"),
                    o = $("#grid_" + this.name + "_scroll1"),
                    p = 8 * String(this.total).length + 10;
                p < 34 && (p = 34), null != this.lineNumberWidth && (p = this.lineNumberWidth);
                for (var q = !1, r = !1, s = 0, t = 0; t < b.columns.length; t++)
                    if (!b.columns[t].frozen && !b.columns[t].hidden) {
                        var u = parseInt(b.columns[t].sizeCalculated ? b.columns[t].sizeCalculated : b.columns[t].size);
                        s += u
                    } if (m.width() < s && (q = !0), j.height() - k.height() < $(m).find(">table").height() + (q ? w2utils.scrollBarSize() : 0) && (r = !0), this.fixedBody) {
                    var v = d.height() - (this.show.header ? w2utils.getSize(e, "height") : 0) - (this.show.toolbar ? w2utils.getSize(f, "height") : 0) - ("none" != g.css("display") ? w2utils.getSize(g, "height") : 0) - (this.show.footer ? w2utils.getSize(i, "height") : 0);
                    j.css("height", v)
                } else {
                    var v = w2utils.getSize(k, "height") + w2utils.getSize($("#grid_" + b.name + "_records table"), "height") + (q ? w2utils.scrollBarSize() : 0);
                    b.height = v + w2utils.getSize(d, "+height") + (b.show.header ? w2utils.getSize(e, "height") : 0) + (b.show.toolbar ? w2utils.getSize(f, "height") : 0) + ("none" != g.css("display") ? w2utils.getSize(g, "height") : 0) + (b.show.footer ? w2utils.getSize(i, "height") : 0), d.css("height", b.height), j.css("height", v), c.css("height", w2utils.getSize(d, "height") + w2utils.getSize(c, "+height"))
                }
                var w = this.records.length,
                    x = "object" != typeof this.url ? this.url : this.url.get;
                if (0 == this.searchData.length || x || (w = this.last.searchIds.length), this.fixedBody || (r = !1), q || r ? (k.find("> table > tbody > tr:nth-child(1) td.w2ui-head-last").css("width", w2utils.scrollBarSize()).show(), m.css({
                        top: (this.columnGroups.length > 0 && this.show.columns ? 1 : 0) + w2utils.getSize(k, "height") + "px",
                        "-webkit-overflow-scrolling": "touch",
                        "overflow-x": q ? "auto" : "hidden",
                        "overflow-y": r ? "auto" : "hidden"
                    })) : (k.find("> table > tbody > tr:nth-child(1) td.w2ui-head-last").hide(), m.css({
                        top: (this.columnGroups.length > 0 && this.show.columns ? 1 : 0) + w2utils.getSize(k, "height") + "px",
                        overflow: "hidden"
                    }), m.length > 0 && (this.last.scrollTop = 0, this.last.scrollLeft = 0)), q ? (n.css("margin-bottom", w2utils.scrollBarSize()), o.show()) : (n.css("margin-bottom", 0), o.hide()), n.css({
                        overflow: "hidden",
                        top: m.css("top")
                    }), this.show.emptyRecords && !r) {
                    var y = Math.floor(m.height() / this.recordHeight) - 1,
                        z = 0;
                    if (m[0] && (z = m[0].scrollHeight - y * this.recordHeight), z >= this.recordHeight && (z -= this.recordHeight, y++), this.fixedBody) {
                        for (var A = w; A < y; A++) a(A, this.recordHeight, this);
                        a(y, z, this)
                    }
                }
                if (j.length > 0) {
                    for (var B = parseInt(j.width()) - (r ? w2utils.scrollBarSize() : 0) - (this.show.lineNumbers ? p : 0) - (this.show.selectColumn ? 26 : 0) - (this.show.expandColumn ? 26 : 0) - 1, C = B, D = 0, E = !1, t = 0; t < this.columns.length; t++) {
                        var F = this.columns[t];
                        F.gridMinWidth > 0 && (F.gridMinWidth > C && F.hidden !== !0 && (F.hidden = !0, E = !0), F.gridMinWidth < C && F.hidden === !0 && (F.hidden = !1, E = !0))
                    }
                    if (E === !0) return void this.refresh();
                    for (var t = 0; t < this.columns.length; t++) {
                        var F = this.columns[t];
                        F.hidden || ("px" == String(F.size).substr(String(F.size).length - 2).toLowerCase() ? (B -= parseFloat(F.size), this.columns[t].sizeCalculated = F.size, this.columns[t].sizeType = "px") : (D += parseFloat(F.size),
                            this.columns[t].sizeType = "%", delete F.sizeCorrected))
                    }
                    if (100 != D && D > 0)
                        for (var t = 0; t < this.columns.length; t++) {
                            var F = this.columns[t];
                            F.hidden || "%" == F.sizeType && (F.sizeCorrected = Math.round(100 * parseFloat(F.size) * 100 / D) / 100 + "%")
                        }
                    for (var t = 0; t < this.columns.length; t++) {
                        var F = this.columns[t];
                        F.hidden || "%" == F.sizeType && (null != this.columns[t].sizeCorrected ? this.columns[t].sizeCalculated = Math.floor(B * parseFloat(F.sizeCorrected) / 100) - 1 + "px" : this.columns[t].sizeCalculated = Math.floor(B * parseFloat(F.size) / 100) - 1 + "px")
                    }
                }
                for (var G = 0, t = 0; t < this.columns.length; t++) {
                    var F = this.columns[t];
                    F.hidden || (null == F.min && (F.min = 20), parseInt(F.sizeCalculated) < parseInt(F.min) && (F.sizeCalculated = F.min + "px"), parseInt(F.sizeCalculated) > parseInt(F.max) && (F.sizeCalculated = F.max + "px"), G += parseInt(F.sizeCalculated))
                }
                var H = parseInt(C) - parseInt(G);
                if (H > 0 && D > 0)
                    for (var t = 0;;) {
                        var F = this.columns[t];
                        if (null != F)
                            if (F.hidden || "px" == F.sizeType) t++;
                            else {
                                if (F.sizeCalculated = parseInt(F.sizeCalculated) + 1 + "px", H--, 0 === H) break;
                                t++
                            }
                        else t = 0
                    } else H > 0 && k.find("> table > tbody > tr:nth-child(1) td.w2ui-head-last").css("width", w2utils.scrollBarSize()).show();
                var I = 1;
                this.show.lineNumbers && (I += p), this.show.selectColumn && (I += 26), this.show.expandColumn && (I += 26);
                for (var t = 0; t < this.columns.length; t++) this.columns[t].hidden || this.columns[t].frozen && (I += parseInt(this.columns[t].sizeCalculated));
                l.css("width", I), n.css("width", I), h.css("width", I), o.css("width", I), k.css("left", I), m.css("left", I), g.css("left", I), k.find("> table > tbody > tr:nth-child(1) td").add(l.find("> table > tbody > tr:nth-child(1) td")).each(function (a, c) {
                    $(c).hasClass("w2ui-col-number") && $(c).css("width", p);
                    var d = $(c).attr("col");
                    if (null != d) {
                        if ("start" == d) {
                            for (var e = 0, f = 0; f < b.last.colStart; f++) !b.columns[f] || b.columns[f].frozen || b.columns[f].hidden || (e += parseInt(b.columns[f].sizeCalculated));
                            $(c).css("width", e + "px")
                        }
                        b.columns[d] && $(c).css("width", b.columns[d].sizeCalculated)
                    }
                    if ($(c).hasClass("w2ui-head-last"))
                        if (b.last.colEnd + 1 < b.columns.length) {
                            for (var e = 0, f = b.last.colEnd + 1; f < b.columns.length; f++) !b.columns[f] || b.columns[f].frozen || b.columns[f].hidden || (e += parseInt(b.columns[f].sizeCalculated));
                            $(c).css("width", e + "px")
                        } else $(c).css("width", w2utils.scrollBarSize() + (H > 0 && 0 === D ? H : 0) + "px")
                }), 3 == k.find("> table > tbody > tr").length && k.find("> table > tbody > tr:nth-child(1) td").add(l.find("> table > tbody > tr:nth-child(1) td")).html("").css({
                    height: "0px",
                    border: "0px",
                    padding: "0px",
                    margin: "0px"
                }), m.find("> table > tbody > tr:nth-child(1) td").add(n.find("> table > tbody > tr:nth-child(1) td")).each(function (a, c) {
                    $(c).hasClass("w2ui-col-number") && $(c).css("width", p);
                    var d = $(c).attr("col");
                    if (null != d) {
                        if ("start" == d) {
                            for (var e = 0, f = 0; f < b.last.colStart; f++) !b.columns[f] || b.columns[f].frozen || b.columns[f].hidden || (e += parseInt(b.columns[f].sizeCalculated));
                            $(c).css("width", e + "px")
                        }
                        b.columns[d] && $(c).css("width", b.columns[d].sizeCalculated)
                    }
                    if ($(c).hasClass("w2ui-grid-data-last") && 0 === $(c).parents(".w2ui-grid-frecords").length)
                        if (b.last.colEnd + 1 < b.columns.length) {
                            for (var e = 0, f = b.last.colEnd + 1; f < b.columns.length; f++) !b.columns[f] || b.columns[f].frozen || b.columns[f].hidden || (e += parseInt(b.columns[f].sizeCalculated));
                            $(c).css("width", e + "px")
                        } else $(c).css("width", (H > 0 && 0 === D ? H : 0) + "px")
                }), g.find("> table > tbody > tr:nth-child(1) td").add(h.find("> table > tbody > tr:nth-child(1) td")).each(function (a, c) {
                    $(c).hasClass("w2ui-col-number") && $(c).css("width", p);
                    var d = $(c).attr("col");
                    if (null != d) {
                        if ("start" == d) {
                            for (var e = 0, f = 0; f < b.last.colStart; f++) !b.columns[f] || b.columns[f].frozen || b.columns[f].hidden || (e += parseInt(b.columns[f].sizeCalculated));
                            $(c).css("width", e + "px")
                        }
                        b.columns[d] && $(c).css("width", b.columns[d].sizeCalculated)
                    }
                    $(c).hasClass("w2ui-grid-data-last") && 0 === $(c).parents(".w2ui-grid-frecords").length && $(c).css("width", w2utils.scrollBarSize() + (H > 0 && 0 === D ? H : 0) + "px")
                }), this.initResize(), this.refreshRanges(), (this.last.scrollTop || this.last.scrollLeft) && m.length > 0 && (k.prop("scrollLeft", this.last.scrollLeft), m.prop("scrollTop", this.last.scrollTop), m.prop("scrollLeft", this.last.scrollLeft))
            },
            getSearchesHTML: function () {
                function a(a, c) {
                    var d = "",
                        e = b.operators[b.operatorsMap[a]];
                    null != c && (e = c);
                    for (var f = 0; f < e.length; f++) {
                        var g = e[f],
                            h = g;
                        Array.isArray(g) ? (h = g[1], g = g[0], null == h && (h = g)) : $.isPlainObject(g) && (h = g.text, g = g.oper), d += '<option value="' + g + '">' + w2utils.lang(h) + "</option>\n"
                    }
                    return d
                }
                for (var b = this, c = '<table cellspacing="0"><tbody>', d = !1, e = 0; e < this.searches.length; e++) {
                    var f = this.searches[e];
                    if (f.type = String(f.type).toLowerCase(), !f.hidden) {
                        var g = "";
                        0 == d && (g = '<button type="button" class="w2ui-btn close-btn" onclick="obj = w2ui[\'' + this.name + "']; if (obj) obj.searchClose()\">X</button>", d = !0), null == f.inTag && (f.inTag = ""), null == f.outTag && (f.outTag = ""), null == f.style && (f.style = ""), null == f.type && (f.type = "text");
                        var h = '<select id="grid_' + this.name + "_operator_" + e + '" class="w2ui-input"    onchange="w2ui[\'' + this.name + "'].initOperator(this, " + e + ')">' + a(f.type, f.operators) + "</select>";
                        switch (c += '<tr>    <td class="close-btn">' + g + '</td>    <td class="caption">' + (f.caption || "") + '</td>    <td class="operator">' + h + '</td>    <td class="value">', f.type) {
                            case "text":
                            case "alphanumeric":
                            case "hex":
                            case "color":
                            case "list":
                            case "combo":
                            case "enum":
                                var i = "width: 250px;";
                                ["hex", "color"].indexOf(f.type) != -1 && (i = "width: 90px;"), c += '<input rel="search" type="text" id="grid_' + this.name + "_field_" + e + '" name="' + f.field + '"    class="w2ui-input" style="' + i + f.style + '" ' + f.inTag + "/>";
                                break;
                            case "int":
                            case "float":
                            case "money":
                            case "currency":
                            case "percent":
                            case "date":
                            case "time":
                            case "datetime":
                                var i = "width: 90px";
                                "datetime" == f.type && (i = "width: 140px;"), c += '<input rel="search" type="text" class="w2ui-input" style="' + i + f.style + '" id="grid_' + this.name + "_field_" + e + '" name="' + f.field + '" ' + f.inTag + '/><span id="grid_' + this.name + "_range_" + e + '" style="display: none">&#160;-&#160;&#160;<input rel="search" type="text" class="w2ui-input" style="' + i + f.style + '" id="grid_' + this.name + "_field2_" + e + '" name="' + f.field + '" ' + f.inTag + "/></span>";
                                break;
                            case "select":
                                c += '<select rel="search" class="w2ui-input" style="' + f.style + '" id="grid_' + this.name + "_field_" + e + '"  name="' + f.field + '" ' + f.inTag + "></select>"
                        }
                        c += f.outTag + "    </td></tr>"
                    }
                }
                return c += '<tr>    <td colspan="4" class="actions">        <div>        <button type="button" class="w2ui-btn" onclick="obj = w2ui[\'' + this.name + "']; if (obj) { obj.searchReset(); }\">" + w2utils.lang("Reset") + '</button>        <button type="button" class="w2ui-btn w2ui-btn-blue" onclick="obj = w2ui[\'' + this.name + "']; if (obj) { obj.search(); }\">" + w2utils.lang("Search") + "</button>        </div>    </td></tr></tbody></table>"
            },
            initOperator: function (a, b) {
                var c = this,
                    d = c.searches[b],
                    e = $("#grid_" + c.name + "_range_" + b),
                    f = $("#grid_" + c.name + "_field_" + b),
                    g = f.parent().find("span input");
                switch (f.show(), e.hide(), $(a).val()) {
                    case "between":
                        e.show(), g.w2field(d.type, d.options);
                        break;
                    case "not null":
                    case "null":
                        f.hide(), f.val("1"), f.change()
                }
            },
            initSearches: function () {
                for (var a = this, b = 0; b < this.searches.length; b++) {
                    var c = this.searches[b],
                        d = this.getSearchData(c.field);
                    c.type = String(c.type).toLowerCase();
                    var e = a.operators[a.operatorsMap[c.type]];
                    c.operators && (e = c.operators);
                    var f = e[0];
                    $.isPlainObject(f) && (f = f.oper), "object" != typeof c.options && (c.options = {}), "text" == c.type && (f = this.textSearch);
                    for (var g = 0; g < e.length; g++) {
                        var h = e[g];
                        if ($.isPlainObject(h) && (h = h.oper), c.operator == h) {
                            f = c.operator;
                            break
                        }
                    }
                    switch (c.type) {
                        case "text":
                        case "alphanumeric":
                            $("#grid_" + this.name + "_field_" + b).w2field(c.type, c.options);
                            break;
                        case "int":
                        case "float":
                        case "hex":
                        case "color":
                        case "money":
                        case "currency":
                        case "percent":
                        case "date":
                        case "time":
                        case "datetime":
                            $("#grid_" + this.name + "_field_" + b).w2field(c.type, c.options), $("#grid_" + this.name + "_field2_" + b).w2field(c.type, c.options), setTimeout(function () {
                                $("#grid_" + a.name + "_field_" + b).keydown(), $("#grid_" + a.name + "_field2_" + b).keydown()
                            }, 1);
                            break;
                        case "list":
                        case "combo":
                        case "enum":
                            var i = c.options;
                            "list" == c.type && (i.selected = {}), "enum" == c.type && (i.selected = []), d && (i.selected = d.value), $("#grid_" + this.name + "_field_" + b).w2field(c.type, $.extend({
                                openOnFocus: !0
                            }, i)), d && null != d.text && $("#grid_" + this.name + "_field_" + b).data("selected", {
                                id: d.value,
                                text: d.text
                            });
                            break;
                        case "select":
                            for (var i = '<option value="">--</option>', g = 0; g < c.options.items.length; g++) {
                                var j = c.options.items[g];
                                if ($.isPlainObject(c.options.items[g])) {
                                    var k = j.id,
                                        l = j.text;
                                    null == k && null != j.value && (k = j.value), null == l && null != j.caption && (l = j.caption), null == k && (k = ""), i += '<option value="' + k + '">' + l + "</option>"
                                } else i += '<option value="' + j + '">' + j + "</option>"
                            }
                            $("#grid_" + this.name + "_field_" + b).html(i)
                    }
                    null != d ? ("int" == d.type && ["in", "not in"].indexOf(d.operator) != -1 && $("#grid_" + this.name + "_field_" + b).w2field("clear").val(d.value), $("#grid_" + this.name + "_operator_" + b).val(d.operator).trigger("change"), $.isArray(d.value) ? ["in", "not in"].indexOf(d.operator) != -1 ? $("#grid_" + this.name + "_field_" + b).val(d.value).trigger("change") : ($("#grid_" + this.name + "_field_" + b).val(d.value[0]).trigger("change"), $("#grid_" + this.name + "_field2_" + b).val(d.value[1]).trigger("change")) : null != d.value && $("#grid_" + this.name + "_field_" + b).val(d.value).trigger("change")) : $("#grid_" + this.name + "_operator_" + b).val(f).trigger("change")
                }
                $("#w2ui-overlay-" + this.name + "-searchOverlay .w2ui-grid-searches *[rel=search]").on("keypress", function (b) {
                    13 == b.keyCode && (a.search(), $().w2overlay({
                        name: a.name + "-searchOverlay"
                    }))
                })
            },
            getColumnsHTML: function () {
                function a() {
                    var a = "<tr>",
                        b = "<tr>",
                        d = "";
                    "" != c.columnGroups[c.columnGroups.length - 1].caption && c.columnGroups.push({
                        caption: ""
                    }), c.show.lineNumbers && (a += '<td class="w2ui-head w2ui-col-number">    <div style="height: ' + (c.recordHeight + 1) + 'px">&#160;</div></td>'), c.show.selectColumn && (a += '<td class="w2ui-head w2ui-col-select">    <div style="height: 25px">&#160;</div></td>'), c.show.expandColumn && (a += '<td class="w2ui-head w2ui-col-expand">    <div style="height: 25px">&#160;</div></td>');
                    var e = 0;
                    b += '<td id="grid_' + c.name + '_column_start" class="w2ui-head" col="start" style="border-right: 0"></td>';
                    for (var f = 0; f < c.columnGroups.length; f++) {
                        var g = c.columnGroups[f],
                            h = c.columns[e];
                        null != g.colspan && (g.span = g.colspan), null != g.span && g.span == parseInt(g.span) || (g.span = 1);
                        for (var i = 0, j = e; j < e + g.span; j++) c.columns[j] && !c.columns[j].hidden && i++;
                        if (f == c.columnGroups.length - 1 && i++, i <= 0);
                        else if (g.master === !0) {
                            for (var k = "", l = 0; l < c.sortData.length; l++) c.sortData[l].field == h.field && ("asc" === (c.sortData[l].direction || "").toLowerCase() && (k = "w2ui-sort-up"), "desc" === (c.sortData[l].direction || "").toLowerCase() && (k = "w2ui-sort-down"));
                            var m = "";
                            h.resizable !== !1 && (m = '<div class="w2ui-resizer" name="' + e + '"></div>'), d = '<td id="grid_' + c.name + "_column_" + e + '" class="w2ui-head ' + k + '" col="' + e + '"     rowspan="2" colspan="' + i + '"     oncontextmenu = "w2ui[\'' + c.name + "'].contextMenu(null, " + e + ', event);"    onclick="w2ui[\'' + c.name + "'].columnClick('" + h.field + "', event);\"    ondblclick=\"w2ui['" + c.name + "'].columnDblClick('" + h.field + "', event);\">" + m + '    <div class="w2ui-col-group w2ui-col-header ' + (k ? "w2ui-col-sorted" : "") + '">        <div class="' + k + '"></div>' + (h.caption ? h.caption : "&#160;") + "    </div></td>", h && h.frozen ? a += d : b += d
                        } else d = '<td id="grid_' + c.name + "_column_" + e + '" class="w2ui-head" col="' + e + '"         colspan="' + i + '">    <div class="w2ui-col-group">' + (g.caption ? g.caption : "&#160;") + "    </div></td>", h && h.frozen ? a += d : b += d;
                        e += g.span
                    }
                    return a += "<td></td></tr>", b += '<td id="grid_' + c.name + '_column_end" class="w2ui-head" col="end"></td></tr>', [a, b]
                }

                function b(a) {
                    var b = "<tr>",
                        d = "<tr>";
                    c.show.lineNumbers && (b += '<td class="w2ui-head w2ui-col-number"        onclick="w2ui[\'' + c.name + "'].columnClick('line-number', event);\"       ondblclick=\"w2ui['" + c.name + "'].columnDblClick('line-number', event);\">    <div>#</div></td>"), c.show.selectColumn && (b += '<td class="w2ui-head w2ui-col-select"       onclick="if (event.stopPropagation) event.stopPropagation(); else event.cancelBubble = true;">    <div>        <input type="checkbox" id="grid_' + c.name + '_check_all" tabindex="-1"            style="' + (0 == c.multiSelect ? "display: none;" : "") + '"            onmousedown="if (event.stopPropagation) event.stopPropagation(); else event.cancelBubble = true;"            onclick="var grid = w2ui[\'' + c.name + "'];               if (this.checked) grid.selectAll(); else grid.selectNone();               if (event.stopPropagation) event.stopPropagation(); else event.cancelBubble = true;               clearTimeout(grid.last.kbd_timer); /* keep focus */            \"/>    </div></td>"), c.show.expandColumn && (b += '<td class="w2ui-head w2ui-col-expand">    <div>&#160;</div></td>');
                    var e, f = 0,
                        g = 0;
                    d += '<td id="grid_' + c.name + '_column_start" class="w2ui-head" col="start" style="border-right: 0"></td>';
                    for (var h = 0; h < c.columns.length; h++) {
                        var i = c.columns[h];
                        if (null == i.size && (i.size = "100%"), h == g && (e = c.columnGroups[f++] || {}, g += e.span), (!(h < c.last.colStart || h > c.last.colEnd) || i.frozen) && !i.hidden && (e.master !== !0 || a)) {
                            var j = c.getColumnCellHTML(h);
                            i && i.frozen ? b += j : d += j
                        }
                    }
                    return b += '<td class="w2ui-head w2ui-head-last"><div>&#160;</div></td>', d += '<td class="w2ui-head w2ui-head-last" col="end"><div>&#160;</div></td>', b += "</tr>", d += "</tr>", [b, d]
                }
                var c = this,
                    d = "",
                    e = "";
                if (this.show.columnHeaders)
                    if (this.columnGroups.length > 0) {
                        var f = b(!0),
                            g = a(),
                            h = b(!1);
                        d = f[0] + g[0] + h[0], e = f[1] + g[1] + h[1]
                    } else {
                        var i = b(!0);
                        d = i[0], e = i[1]
                    } return [d, e]
            },
            getColumnCellHTML: function (a) {
                var b = this.columns[a];
                if (null == b) return "";
                for (var c = !this.reorderColumns || this.columnGroups && this.columnGroups.length ? "" : " w2ui-reorder-cols-head ", d = "", e = 0; e < this.sortData.length; e++) this.sortData[e].field == b.field && ("asc" === (this.sortData[e].direction || "").toLowerCase() && (d = "w2ui-sort-up"), "desc" === (this.sortData[e].direction || "").toLowerCase() && (d = "w2ui-sort-down"));
                var f = this.last.selection.columns,
                    g = !1;
                for (var h in f)
                    for (var e = 0; e < f[h].length; e++) f[h][e] == a && (g = !0);
                var i = '<td id="grid_' + this.name + "_column_" + a + '" col="' + a + '" class="w2ui-head ' + d + c + '" ' + ("normal" == this.columnTooltip && b.tooltip ? 'title="' + b.tooltip + '" ' : "") + "    onmouseover = \"w2ui['" + this.name + "'].columnTooltipShow('" + a + "', event);\"    onmouseout  = \"w2ui['" + this.name + "'].columnTooltipHide('" + a + "', event);\"    oncontextmenu = \"w2ui['" + this.name + "'].contextMenu(null, " + a + ', event);"    onclick="w2ui[\'' + this.name + "'].columnClick('" + b.field + "', event);\"    ondblclick=\"w2ui['" + this.name + "'].columnDblClick('" + b.field + "', event);\">" + (b.resizable !== !1 ? '<div class="w2ui-resizer" name="' + a + '"></div>' : "") + '    <div class="w2ui-col-header ' + (d ? "w2ui-col-sorted" : "") + " " + (g ? "w2ui-col-selected" : "") + '">        <div class="' + d + '"></div>' + (b.caption ? b.caption : "&#160;") + "    </div></td>";
                return i
            },
            columnTooltipShow: function (a) {
                if ("normal" != this.columnTooltip) {
                    var b = $(this.box).find("#grid_" + this.name + "_column_" + a),
                        c = this.columns[a],
                        d = this.columnTooltip;
                    b.prop("_mouse_over", !0), setTimeout(function () {
                        b.prop("_mouse_over") === !0 && b.prop("_mouse_tooltip") !== !0 && (b.prop("_mouse_tooltip", !0), b.w2tag(c.tooltip, {
                            position: d
                        }))
                    }, 1)
                }
            },
            columnTooltipHide: function (a) {
                if ("normal" != this.columnTooltip) {
                    var b = $(this.box).find("#grid_" + this.name + "_column_" + a);
                    this.columns[a];
                    b.removeProp("_mouse_over"), setTimeout(function () {
                        b.prop("_mouse_over") !== !0 && b.prop("_mouse_tooltip") === !0 && (b.removeProp("_mouse_tooltip"), b.w2tag())
                    }, 1)
                }
            },
            getRecordsHTML: function () {
                var a = this.records.length,
                    b = "object" != typeof this.url ? this.url : this.url.get;
                0 == this.searchData.length || b || (a = this.last.searchIds.length), a > this.vs_start ? this.last.show_extra = this.vs_extra : this.last.show_extra = this.vs_start;
                var c = $("#grid_" + this.name + "_records"),
                    d = Math.floor((c.height() || 0) / this.recordHeight) + this.last.show_extra + 1;
                (!this.fixedBody || d > a) && (d = a);
                var e = this.getRecordHTML(-1, 0),
                    f = "<table><tbody>" + e[0],
                    g = "<table><tbody>" + e[1];
                f += '<tr id="grid_' + this.name + '_frec_top" line="top" style="height: 0px">    <td colspan="2000"></td></tr>', g += '<tr id="grid_' + this.name + '_rec_top" line="top" style="height: 0px">    <td colspan="2000"></td></tr>';
                for (var h = 0; h < d; h++) e = this.getRecordHTML(h, h + 1), f += e[0], g += e[1];
                return f += '<tr id="grid_' + this.name + '_frec_bottom" line="bottom" style="height: ' + (a - d) * this.recordHeight + 'px">    <td colspan="2000" style="border: 0"></td></tr><tr id="grid_' + this.name + '_frec_more" style="display: none; visibility: hidden">    <td colspan="2000" class="w2ui-load-more"></td></tr></tbody></table>', g += '<tr id="grid_' + this.name + '_rec_bottom" line="bottom" style="height: ' + (a - d) * this.recordHeight + 'px">    <td colspan="2000" style="border: 0"></td></tr><tr id="grid_' + this.name + '_rec_more" style="display: none">    <td colspan="2000" class="w2ui-load-more"></td></tr></tbody></table>', this.last.range_start = 0, this.last.range_end = d, [f, g]
            },
            getSummaryHTML: function () {
                if (0 !== this.summary.length) {
                    for (var a = this.getRecordHTML(-1, 0), b = "<table><tbody>" + a[0], c = "<table><tbody>" + a[1], d = 0; d < this.summary.length; d++) a = this.getRecordHTML(d, d + 1, !0), b += a[0], c += a[1];
                    return b += "</tbody></table>", c += "</tbody></table>", [b, c]
                }
            },
            scroll: function (a) {
                function b() {
                    c.markSearch && (clearTimeout(c.last.marker_timer), c.last.marker_timer = setTimeout(function () {
                        for (var a = [], b = 0; b < c.searchData.length; b++) {
                            var d = c.searchData[b],
                                e = c.getSearch(d.field);
                            if (e && !e.hidden) {
                                var f = c.getColumn(d.field, !0);
                                a.push({
                                    field: d.field,
                                    search: d.value,
                                    col: f
                                })
                            }
                        }
                        a.length > 0 && a.forEach(function (a) {
                            $(c.box).find('td[col="' + a.col + '"]').not(".w2ui-head").w2marker(a.search)
                        })
                    }, 50))
                }
                var c = ((new Date).getTime(), this),
                    d = "object" != typeof this.url ? this.url : this.url.get,
                    e = $("#grid_" + this.name + "_records"),
                    f = $("#grid_" + this.name + "_frecords");
                if (a) {
                    var g = a.target.scrollTop,
                        h = a.target.scrollLeft;
                    c.last.scrollTop = g, c.last.scrollLeft = h, $("#grid_" + c.name + "_columns")[0].scrollLeft = h, $("#grid_" + c.name + "_summary")[0].scrollLeft = h, f[0].scrollTop = g
                }
                this.last.bubbleEl && ($(this.last.bubbleEl).w2tag(), this.last.bubbleEl = null);
                var i = null,
                    j = null;
                if (c.disableCVS || c.columnGroups.length > 0) i = 0, j = c.columns.length - 1;
                else {
                    for (var k = e.width(), l = 0, m = 0; m < c.columns.length; m++)
                        if (!c.columns[m].frozen && !c.columns[m].hidden) {
                            var n = parseInt(c.columns[m].sizeCalculated ? c.columns[m].sizeCalculated : c.columns[m].size);
                            l + n + 30 > c.last.scrollLeft && null == i && (i = m), l + n - 30 > c.last.scrollLeft + k && null == j && (j = m), l += n
                        } null == j && (j = c.columns.length - 1)
                }
                if (null != i && (i < 0 && (i = 0), j < 0 && (j = 0), i == j && (i > 0 ? i-- : j++), i != c.last.colStart || j != c.last.colEnd)) {
                    var o = $(c.box),
                        p = Math.abs(i - c.last.colStart),
                        q = Math.abs(j - c.last.colEnd);
                    if (p < 5 && q < 5) {
                        var r = o.find(".w2ui-grid-columns #grid_" + c.name + "_column_start"),
                            s = o.find(".w2ui-grid-columns .w2ui-head-last"),
                            t = o.find("#grid_" + c.name + "_records .w2ui-grid-data-spacer"),
                            u = o.find("#grid_" + c.name + "_records .w2ui-grid-data-last"),
                            v = o.find("#grid_" + c.name + "_summary .w2ui-grid-data-spacer"),
                            w = o.find("#grid_" + c.name + "_summary .w2ui-grid-data-last");
                        if (i > c.last.colStart)
                            for (var m = c.last.colStart; m < i; m++) o.find("#grid_" + c.name + "_columns #grid_" + c.name + "_column_" + m).remove(), o.find("#grid_" + c.name + '_records td[col="' + m + '"]').remove(), o.find("#grid_" + c.name + '_summary td[col="' + m + '"]').remove();
                        if (j < c.last.colEnd)
                            for (var m = c.last.colEnd; m > j; m--) o.find("#grid_" + c.name + "_columns #grid_" + c.name + "_column_" + m).remove(), o.find("#grid_" + c.name + '_records td[col="' + m + '"]').remove(), o.find("#grid_" + c.name + '_summary td[col="' + m + '"]').remove();
                        if (i < c.last.colStart)
                            for (var m = c.last.colStart - 1; m >= i; m--) c.columns[m] && (c.columns[m].frozen || c.columns[m].hidden) || (r.after(c.getColumnCellHTML(m)), t.each(function (a, b) {
                                var d = $(b).parent().attr("index"),
                                    e = '<td class="w2ui-grid-data" col="' + m + '" style="height: 0px"></td>';
                                null != d && (e = c.getCellHTML(parseInt(d), m, !1)), $(b).after(e)
                            }), v.each(function (a, b) {
                                var d = $(b).parent().attr("index"),
                                    e = '<td class="w2ui-grid-data" col="' + m + '" style="height: 0px"></td>';
                                null != d && (e = c.getCellHTML(parseInt(d), m, !0)), $(b).after(e)
                            }));
                        if (j > c.last.colEnd)
                            for (var m = c.last.colEnd + 1; m <= j; m++) c.columns[m] && (c.columns[m].frozen || c.columns[m].hidden) || (s.before(c.getColumnCellHTML(m)), u.each(function (a, b) {
                                var d = $(b).parent().attr("index"),
                                    e = '<td class="w2ui-grid-data" col="' + m + '" style="height: 0px"></td>';
                                null != d && (e = c.getCellHTML(parseInt(d), m, !1)), $(b).before(e)
                            }), w.each(function (a, b) {
                                var d = $(b).parent().attr("index") || -1,
                                    e = c.getCellHTML(parseInt(d), m, !0);
                                $(b).before(e)
                            }));
                        c.last.colStart = i, c.last.colEnd = j, c.resizeRecords()
                    } else {
                        c.last.colStart = i, c.last.colEnd = j;
                        var x = this.getColumnsHTML(),
                            y = this.getRecordsHTML(),
                            z = this.getSummaryHTML(),
                            A = o.find("#grid_" + this.name + "_columns"),
                            B = o.find("#grid_" + this.name + "_records"),
                            C = o.find("#grid_" + this.name + "_frecords"),
                            D = o.find("#grid_" + this.name + "_summary");
                        A.find("tbody").html(x[1]), C.html(y[0]), B.prepend(y[1]), null != z && D.html(z[1]), setTimeout(function () {
                            B.find("> table").not("table:first-child").remove(), D[0] && (D[0].scrollLeft = c.last.scrollLeft)
                        }, 1), c.resizeRecords()
                    }
                }
                var E = this.records.length;
                if (0 == this.searchData.length || d || (E = this.last.searchIds.length), 0 !== E && 0 !== e.length && 0 !== e.height() && (E > this.vs_start ? this.last.show_extra = this.vs_extra : this.last.show_extra = this.vs_start, !(e.height() < E * this.recordHeight && "hidden" == e.css("overflow-y")))) {
                    var F = Math.round(e[0].scrollTop / this.recordHeight + 1),
                        G = F + (Math.round(e.height() / this.recordHeight) - 1);
                    if (F > E && (F = E), G >= E - 1 && (G = E), $("#grid_" + this.name + "_footer .w2ui-footer-right").html((c.show.statusRange ? w2utils.formatNumber(this.offset + F) + "-" + w2utils.formatNumber(this.offset + G) + (this.total != -1 ? " " + w2utils.lang("of") + " " + w2utils.formatNumber(this.total) : "") : "") + (d && c.show.statusBuffered ? " (" + w2utils.lang("buffered") + " " + w2utils.formatNumber(E) + (this.offset > 0 ? ", skip " + w2utils.formatNumber(this.offset) : "") + ")" : "")), d || this.fixedBody && !(this.total != -1 && this.total <= this.vs_start)) {
                        var H = Math.floor(e[0].scrollTop / this.recordHeight) - this.last.show_extra,
                            I = H + Math.floor(e.height() / this.recordHeight) + 2 * this.last.show_extra + 1;
                        H < 1 && (H = 1), I > this.total && this.total != -1 && (I = this.total);
                        var J = e.find("#grid_" + this.name + "_rec_top"),
                            K = e.find("#grid_" + this.name + "_rec_bottom"),
                            L = f.find("#grid_" + this.name + "_frec_top"),
                            M = f.find("#grid_" + this.name + "_frec_bottom");
                        String(J.next().prop("id")).indexOf("_expanded_row") != -1 && (J.next().remove(), L.next().remove()), this.total > I && String(K.prev().prop("id")).indexOf("_expanded_row") != -1 && (K.prev().remove(), M.prev().remove());
                        var N = parseInt(J.next().attr("line")),
                            O = parseInt(K.prev().attr("line"));
                        if (N < H || 1 == N || this.last.pull_refresh) {
                            if (I <= O + this.last.show_extra - 2 && I != this.total) return;
                            for (this.last.pull_refresh = !1;;) {
                                var P = f.find("#grid_" + this.name + "_frec_top").next(),
                                    Q = e.find("#grid_" + this.name + "_rec_top").next();
                                if ("bottom" == Q.attr("line")) break;
                                if (!(parseInt(Q.attr("line")) < H)) break;
                                P.remove(), Q.remove()
                            }
                            var R = e.find("#grid_" + this.name + "_rec_bottom").prev(),
                                S = R.attr("line");
                            "top" == S && (S = H);
                            for (var m = parseInt(S) + 1; m <= I; m++)
                                if (this.records[m - 1]) {
                                    var Q = this.records[m - 1].w2ui;
                                    Q && !Array.isArray(Q.children) && (Q.expanded = !1);
                                    var T = this.getRecordHTML(m - 1, m);
                                    K.before(T[1]), M.before(T[0])
                                } b(), setTimeout(function () {
                                c.refreshRanges()
                            }, 0)
                        } else {
                            if (H >= N - this.last.show_extra + 2 && H > 1) return;
                            for (;;) {
                                var P = f.find("#grid_" + this.name + "_frec_bottom").prev(),
                                    Q = e.find("#grid_" + this.name + "_rec_bottom").prev();
                                if ("top" == Q.attr("line")) break;
                                if (!(parseInt(Q.attr("line")) > I)) break;
                                P.remove(), Q.remove()
                            }
                            var R = e.find("#grid_" + this.name + "_rec_top").next(),
                                S = R.attr("line");
                            "bottom" == S && (S = I);
                            for (var m = parseInt(S) - 1; m >= H; m--)
                                if (this.records[m - 1]) {
                                    var Q = this.records[m - 1].w2ui;
                                    Q && !Array.isArray(Q.children) && (Q.expanded = !1);
                                    var T = this.getRecordHTML(m - 1, m);
                                    J.after(T[1]), L.after(T[0])
                                } b(), setTimeout(function () {
                                c.refreshRanges()
                            }, 0)
                        }
                        var U = (H - 1) * c.recordHeight,
                            V = (E - I) * c.recordHeight;
                        V < 0 && (V = 0), J.css("height", U + "px"), L.css("height", U + "px"), K.css("height", V + "px"), M.css("height", V + "px"), c.last.range_start = H, c.last.range_end = I;
                        var W = Math.floor(e[0].scrollTop / this.recordHeight),
                            X = W + Math.floor(e.height() / this.recordHeight);
                        if (X + 10 > E && this.last.pull_more !== !0 && (E < this.total - this.offset || this.total == -1 && this.last.xhr_hasMore))
                            if (this.autoLoad === !0) this.last.pull_more = !0, this.last.xhr_offset += this.limit, this.request("get");
                            else {
                                var Y = $("#grid_" + this.name + "_rec_more, #grid_" + this.name + "_frec_more");
                                "none" == Y.css("display") && Y.show().on("click", function () {
                                    c.last.pull_more = !0, c.last.xhr_offset += c.limit, c.request("get"), $(this).find("td").html('<div><div style="width: 20px; height: 20px;" class="w2ui-spinner"></div></div>')
                                }), (Y.find("td .w2ui-spinner").length > 0 || Y.find("td").text().indexOf("Load") == -1) && Y.find("td").html("<div>" + w2utils.lang("Load") + " " + c.limit + " " + w2utils.lang("More") + "...</div>")
                            } E >= this.total - this.offset && this.total != -1 && $("#grid_" + this.name + "_rec_more, #grid_" + this.name + "_frec_more").hide()
                    }
                }
            },
            getRecordHTML: function (a, b, c) {
                var d, e = "",
                    f = "",
                    g = "",
                    h = this.last.selection;
                if (a == -1) {
                    f += '<tr line="0">', g += '<tr line="0">', this.show.lineNumbers && (f += '<td class="w2ui-col-number" style="height: 0px;"></td>'), this.show.selectColumn && (f += '<td class="w2ui-col-select" style="height: 0px;"></td>'), this.show.expandColumn && (f += '<td class="w2ui-col-expand" style="height: 0px;"></td>'), g += '<td class="w2ui-grid-data w2ui-grid-data-spacer" col="start" style="height: 0px; width: 0px;"></td>';
                    for (var i = 0; i < this.columns.length; i++) {
                        var j = this.columns[i];
                        if (e = '<td class="w2ui-grid-data" col="' + i + '" style="height: 0px;"></td>', j.frozen && !j.hidden) f += e;
                        else {
                            if (j.hidden || i < this.last.colStart || i > this.last.colEnd) continue;
                            g += e
                        }
                    }
                    return f += '<td class="w2ui-grid-data-last" style="height: 0px"></td>', g += '<td class="w2ui-grid-data-last" col="end" style="height: 0px"></td>', f += "</tr>", g += "</tr>", [f, g]
                }
                var k = "object" != typeof this.url ? this.url : this.url.get;
                if (c !== !0)
                    if (this.searchData.length > 0 && !k) {
                        if (a >= this.last.searchIds.length) return "";
                        a = this.last.searchIds[a], d = this.records[a]
                    } else {
                        if (a >= this.records.length) return "";
                        d = this.records[a]
                    }
                else {
                    if (a >= this.summary.length) return "";
                    d = this.summary[a]
                }
                if (!d) return "";
                null == d.recid && null != this.recid && null != d[this.recid] && (d.recid = d[this.recid]);
                var l = (w2utils.escapeId(d.recid), !1);
                h.indexes.indexOf(a) != -1 && (l = !0);
                var m = d.w2ui ? d.w2ui.style : "";
                null != m && "string" == typeof m || (m = "");
                var n = d.w2ui ? d.w2ui.class : "";
                if (null != n && "string" == typeof n || (n = ""), f += '<tr id="grid_' + this.name + "_frec_" + d.recid + '" recid="' + d.recid + '" line="' + b + '" index="' + a + '"  class="' + (b % 2 === 0 ? "w2ui-even" : "w2ui-odd") + " " + n + (l && "row" == this.selectType ? " w2ui-selected" : "") + (d.w2ui && d.w2ui.editable === !1 ? " w2ui-no-edit" : "") + (d.w2ui && d.w2ui.expanded === !0 ? " w2ui-expanded" : "") + '" ' + (c !== !0 ? w2utils.isIOS ? "    onclick  = \"w2ui['" + this.name + "'].dblClick(jQuery(this).attr('recid'), event);\"" : "    onclick  = \"w2ui['" + this.name + "'].click(jQuery(this).attr('recid'), event);\"    oncontextmenu = \"w2ui['" + this.name + "'].contextMenu(jQuery(this).attr('recid'), null, event);\"" : "") + ("row" == this.selectType ? " onmouseover=\"jQuery('#grid_" + this.name + "_rec_'+ w2utils.escapeId(jQuery(this).attr('recid'))).addClass('w2ui-record-hover')\" onmouseout =\"jQuery('#grid_" + this.name + "_rec_'+ w2utils.escapeId(jQuery(this).attr('recid'))).removeClass('w2ui-record-hover')\"" : "") + ' style="height: ' + this.recordHeight + "px; " + (l || "" == m ? m.replace("background-color", "none") : m) + '" ' + ("" != m ? 'custom_style="' + m + '"' : "") + ">", g += '<tr id="grid_' + this.name + "_rec_" + d.recid + '" recid="' + d.recid + '" line="' + b + '" index="' + a + '"  class="' + (b % 2 === 0 ? "w2ui-even" : "w2ui-odd") + " " + n + (l && "row" == this.selectType ? " w2ui-selected" : "") + (d.w2ui && d.w2ui.editable === !1 ? " w2ui-no-edit" : "") + (d.w2ui && d.w2ui.expanded === !0 ? " w2ui-expanded" : "") + '" ' + (c !== !0 ? w2utils.isIOS ? "    onclick  = \"var obj = w2ui['" + this.name + "']; obj.dblClick(jQuery(this).attr('recid'), event);\"" : "    onclick  = \"var obj = w2ui['" + this.name + "']; obj.click(jQuery(this).attr('recid'), event);\"    oncontextmenu = \"var obj = w2ui['" + this.name + "']; obj.contextMenu(jQuery(this).attr('recid'), null, event);\"" : "") + ("row" == this.selectType ? " onmouseover=\"jQuery('#grid_" + this.name + "_frec_' + w2utils.escapeId(jQuery(this).attr('recid'))).addClass('w2ui-record-hover')\" onmouseout =\"jQuery('#grid_" + this.name + "_frec_' + w2utils.escapeId(jQuery(this).attr('recid'))).removeClass('w2ui-record-hover')\"" : "") + ' style="height: ' + this.recordHeight + "px; " + (l || "" == m ? m.replace("background-color", "none") : m) + '" ' + ("" != m ? 'custom_style="' + m + '"' : "") + ">", this.show.lineNumbers && (f += '<td id="grid_' + this.name + "_cell_" + a + "_number" + (c ? "_s" : "") + '"    class="w2ui-col-number ' + (l ? " w2ui-row-selected" : "") + '"' + (this.reorderRows ? ' style="cursor: move"' : "") + ">" + (c !== !0 ? this.getLineHTML(b, d) : "") + "</td>"), this.show.selectColumn) {
                    var o = !1;
                    d && d.w2ui && d.w2ui.hideCheckBox === !0 && (o = !0), f += '<td id="grid_' + this.name + "_cell_" + a + "_select" + (c ? "_s" : "") + '" class="w2ui-grid-data w2ui-col-select">' + (c === !0 || d.w2ui && d.w2ui.hideCheckBox === !0 ? "" : '    <div>        <input class="w2ui-grid-select-check" type="checkbox" tabindex="-1" ' + (l ? 'checked="checked"' : "") + ' style="pointer-events: none"/>    </div>') + "</td>"
                }
                if (this.show.expandColumn) {
                    var p = "";
                    p = d.w2ui && d.w2ui.expanded === !0 ? "-" : "+", d.w2ui && "none" == d.w2ui.expanded && (p = ""), d.w2ui && "spinner" == d.w2ui.expanded && (p = '<div class="w2ui-spinner" style="width: 16px; margin: -2px 2px;"></div>'), f += '<td id="grid_' + this.name + "_cell_" + a + "_expand" + (c ? "_s" : "") + '" class="w2ui-grid-data w2ui-col-expand">' + (c !== !0 ? '    <div ondblclick="if (event.stopPropagation) event.stopPropagation(); else event.cancelBubble = true;"             onclick="w2ui[\'' + this.name + "'].toggle(jQuery(this).parents('tr').attr('recid'));                 if (event.stopPropagation) event.stopPropagation(); else event.cancelBubble = true;\">        " + p + " </div>" : "") + "</td>"
                }
                g += '<td class="w2ui-grid-data-spacer" col="start" style="border-right: 0"></td>';
                for (var q = 0, r = 0;;) {
                    var s = 1,
                        j = this.columns[q];
                    if (null == j) break;
                    if (j.hidden) q++, r > 0 && r--;
                    else if (r > 0) {
                        if (q++, null == this.columns[q]) break;
                        d.w2ui.colspan[this.columns[q - 1].field] = 0, r--
                    } else {
                        if (d.w2ui) {
                            var t = d.w2ui.colspan,
                                u = this.columns[q].field;
                            t && 0 === t[u] && delete t[u]
                        }
                        if (!(q < this.last.colStart || q > this.last.colEnd) || j.frozen) {
                            if (d.w2ui && "object" == typeof d.w2ui.colspan) {
                                var v = parseInt(d.w2ui.colspan[j.field]) || null;
                                if (v > 1) {
                                    for (var w = 0, i = q; i < q + v && !(i >= this.columns.length); i++) this.columns[i].hidden && w++;
                                    s = v - w, r = v - 1
                                }
                            }
                            var x = this.getCellHTML(a, q, c, s);
                            j.frozen ? f += x : g += x, q++
                        } else q++
                    }
                }
                return f += '<td class="w2ui-grid-data-last"></td>', g += '<td class="w2ui-grid-data-last" col="end"></td>', f += "</tr>", g += "</tr>", [f, g]
            },
            getLineHTML: function (a) {
                return "<div>" + a + "</div>"
            },
            getCellHTML: function (a, b, c, d) {
                var e = this.columns[b];
                if (null == e) return "";
                var f = c !== !0 ? this.records[a] : this.summary[a],
                    g = a !== -1 ? this.getCellValue(a, b, c) : "",
                    h = a !== -1 ? this.getCellEditable(a, b) : "",
                    i = "max-height: " + parseInt(this.recordHeight) + "px;",
                    j = !c && f && f.w2ui && f.w2ui.changes && null != f.w2ui.changes[e.field],
                    k = "",
                    l = "",
                    m = this.last.selection,
                    n = !1,
                    o = "";
                if (m.indexes.indexOf(a) != -1 && (n = !0), null == d && (d = f && f.w2ui && f.w2ui.colspan && f.w2ui.colspan[e.field] ? f.w2ui.colspan[e.field] : 1), 0 === b && f && f.w2ui && Array.isArray(f.w2ui.children)) {
                    for (var p = 0, q = this.get(f.w2ui.parent_recid, !0);;) {
                        if (null == q) break;
                        p++;
                        var r = this.records[q].w2ui;
                        if (null == r || null == r.parent_recid) break;
                        q = this.get(r.parent_recid, !0)
                    }
                    if (f.w2ui.parent_recid)
                        for (var s = 0; s < p; s++) o += '<span class="w2ui-show-children w2ui-icon-empty"></span>';
                    o += '<span class="w2ui-show-children ' + (f.w2ui.children.length > 0 ? f.w2ui.expanded ? "w2ui-icon-collapse" : "w2ui-icon-expand" : "w2ui-icon-empty") + '"  onclick="event.stopPropagation(); w2ui[\'' + this.name + "'].toggle(jQuery(this).parents('tr').attr('recid'))\"></span>"
                }
                if (e.info === !0 && (e.info = {}), null != e.info && (e.info.icon || (e.info.icon = "w2ui-icon-info"), o += '<span class="w2ui-info ' + e.info.icon + '" style="' + (e.info.style || "") + '"  onclick="event.stopPropagation(); w2ui[\'' + this.name + "'].showBubble(" + a + ", " + b + ')"></span>'), null != e.render && a !== -1) {
                    if ("function" == typeof e.render && (g = $.trim(e.render.call(this, f, a, b, g)), (g.length < 4 || "<div" != g.substr(0, 4).toLowerCase()) && (g = '<div style="' + i + '">' + o + String(g) + "</div>")), "object" == typeof e.render) {
                        var t = e.render[g];
                        null != t && "" !== t || (t = g), g = '<div style="' + i + '">' + o + t + "</div>"
                    }
                    if ("string" == typeof e.render) {
                        var u = e.render.toLowerCase().indexOf(":"),
                            r = [];
                        u == -1 ? (r[0] = e.render.toLowerCase(), r[1] = "") : (r[0] = e.render.toLowerCase().substr(0, u), r[1] = e.render.toLowerCase().substr(u + 1));
                        var v = w2utils.formatters[r[0]];
                        g = '<div style="' + i + '">' + o + ("function" == typeof v ? v(g, r[1]) : "") + "</div>"
                    }
                } else {
                    if (h && ["checkbox", "check"].indexOf(h.type) != -1) {
                        var w = c ? -(a + 1) : a;
                        i += "text-align: center;", g = '<input tabindex="-1" type="checkbox" ' + (g ? 'checked="checked"' : "") + " onclick=\"    var obj = w2ui['" + this.name + "'];     obj.editChange.call(obj, this, " + w + ", " + b + ', event); "/>', o = ""
                    }
                    if (this.show.recordTitles) {
                        var x = w2utils.stripTags(String(g).replace(/"/g, "''"));
                        null != e.title && ("function" == typeof e.title && (x = e.title.call(this, f, a, b)), "string" == typeof e.title && (x = e.title))
                    }
                    g = '<div style="' + i + '" title="' + (x || "") + '">' + o + String(g) + "</div>"
                }
                if (null == g && (g = ""), "string" == typeof e.render) {
                    var r = e.render.toLowerCase().split(":");
                    ["number", "int", "float", "money", "currency", "percent", "size"].indexOf(r[0]) != -1 && (k += "text-align: right;")
                }
                f && f.w2ui && ("object" == typeof f.w2ui.style && ("string" == typeof f.w2ui.style[b] && (k += f.w2ui.style[b] + ";"), "string" == typeof f.w2ui.style[e.field] && (k += f.w2ui.style[e.field] + ";")), "object" == typeof f.w2ui.class && ("string" == typeof f.w2ui.class[b] && (l += f.w2ui.class[b] + " "), "string" == typeof f.w2ui.class[e.field] && (l += f.w2ui.class[e.field] + " ")));
                var y = !1;
                return n && $.inArray(b, m.columns[a]) != -1 && (y = !0), g = '<td class="w2ui-grid-data' + (y ? " w2ui-selected" : "") + " " + l + (j ? " w2ui-changed" : "") + '"    id="grid_' + this.name + "_data_" + a + "_" + b + '" col="' + b + '"    style="' + k + (null != e.style ? e.style : "") + '" ' + (null != e.attr ? e.attr : "") + (d > 1 ? 'colspan="' + d + '"' : "") + ">" + g + "</td>", a === -1 && c === !0 && (g = '<td class="w2ui-grid-data" col="' + b + '" style="height: 0px; ' + k + '" ' + (d > 1 ? 'colspan="' + d + '"' : "") + "></td>"), g
            },
            showBubble: function (a, b) {
                var c = "",
                    d = this.columns[b].info,
                    e = this.records[a],
                    f = $(this.box).find("#grid_" + this.name + "_data_" + a + "_" + b + " .w2ui-info");
                if (this.last.bubbleEl && $(this.last.bubbleEl).w2tag(), this.last.bubbleEl = f, null == d.fields) {
                    d.fields = [];
                    for (var g = 0; g < this.columns.length; g++) {
                        var h = this.columns[g];
                        d.fields.push(h.field + ("string" == typeof h.render ? ":" + h.render : ""))
                    }
                }
                var i = d.fields;
                if ("function" == typeof i && (i = i(e, a, b)), "function" == typeof d.render) c = d.render(e, a, b);
                else if ($.isArray(i)) {
                    c = '<table cellpadding="0" cellspacing="0">';
                    for (var g = 0; g < i.length; g++) {
                        var j = String(i[g]).split(":");
                        if ("" != j[0] && "-" != j[0] && "--" != j[0] && "---" != j[0]) {
                            var h = this.getColumn(j[0]);
                            null == h && (h = {
                                field: j[0],
                                caption: j[0]
                            });
                            var k = h ? this.parseField(e, h.field) : "";
                            j.length > 1 && (w2utils.formatters[j[1]] ? k = w2utils.formatters[j[1]](k, j[2] || null) : console.log('ERROR: w2utils.formatters["' + j[1] + '"] does not exists.')), (d.showEmpty === !0 || null != k && "" != k) && (null != d.maxLength && "string" == typeof k && k.length > d.maxLength && (k = k.substr(0, d.maxLength) + "..."), c += "<tr><td>" + h.caption + "</td><td>" + ((0 === k ? "0" : k) || "") + "</td></tr>")
                        } else c += '<tr><td colspan=2><div style="border-top: ' + ("" == j[0] ? "0" : "1") + 'px solid #C1BEBE; margin: 6px 0px;"></div></td></tr>'
                    }
                    c += "</table>"
                } else if ($.isPlainObject(i)) {
                    c = '<table cellpadding="0" cellspacing="0">';
                    for (var l in i) {
                        var m = i[l];
                        if ("" != m && "-" != m && "--" != m && "---" != m) {
                            var j = String(m).split(":"),
                                h = this.getColumn(j[0]);
                            null == h && (h = {
                                field: j[0],
                                caption: j[0]
                            });
                            var k = h ? this.parseField(e, h.field) : "";
                            j.length > 1 && (w2utils.formatters[j[1]] ? k = w2utils.formatters[j[1]](k, j[2] || null) : console.log('ERROR: w2utils.formatters["' + j[1] + '"] does not exists.')), "function" == typeof m && (k = m(e, a, b)), (d.showEmpty === !0 || null != k && "" != k) && (null != d.maxLength && "string" == typeof k && k.length > d.maxLength && (k = k.substr(0, d.maxLength) + "..."), c += "<tr><td>" + l + "</td><td>" + (k || "") + "</td></tr>")
                        } else c += '<tr><td colspan=2><div style="border-top: ' + ("" == m ? "0" : "1") + 'px solid #C1BEBE; margin: 6px 0px;"></div></td></tr>'
                    }
                    c += "</table>"
                }
                $(f).w2tag($.extend({
                    html: c,
                    left: -4,
                    position: "bottom|top",
                    className: "w2ui-info-bubble",
                    style: "",
                    hideOnClick: !0
                }, d.options || {}))
            },
            getCellEditable: function (a, b) {
                var c = this.columns[b],
                    d = this.records[a];
                if (!d || !c) return null;
                var e = d.w2ui ? d.w2ui.editable : null;
                if (e === !1) return null;
                if ((null == e || e === !0) && (e = c ? c.editable : null, "function" == typeof e)) {
                    var f = this.getCellValue(a, b, !1);
                    e = e.call(this, d, a, b, f)
                }
                return e
            },
            getCellValue: function (a, b, c) {
                var d = this.columns[b],
                    e = c !== !0 ? this.records[a] : this.summary[a],
                    f = this.parseField(e, d.field);
                return e && e.w2ui && e.w2ui.changes && null != e.w2ui.changes[d.field] && (f = e.w2ui.changes[d.field]), $.isPlainObject(f) && (d.options && d.options.items ? (val = d.options.items.find(function (a) {
                    return a.id == f.id
                }), f = val ? val.text : f.id) : (null != f.text && (f = f.text), null != f.id && (f = f.id))), null == f && (f = ""), f
            },
            getFooterHTML: function () {
                return '<div>    <div class="w2ui-footer-left"></div>    <div class="w2ui-footer-right"></div>    <div class="w2ui-footer-center"></div></div>'
            },
            status: function (a) {
                if (null != a) $("#grid_" + this.name + "_footer").find(".w2ui-footer-left").html(a);
                else {
                    var b = "",
                        c = this.getSelection();
                    if (c.length > 0 && (this.show.statusSelection && c.length > 1 && (b = String(c.length).replace(/(\d)(?=(\d\d\d)+(?!\d))/g, "$1,") + " " + w2utils.lang("selected")), this.show.statusRecordID && 1 == c.length)) {
                        var d = c[0];
                        "object" == typeof d && (d = d.recid + ", " + w2utils.lang("Column") + ": " + d.column), b = w2utils.lang("Record ID") + ": " + d + " "
                    }
                    $("#grid_" + this.name + "_footer .w2ui-footer-left").html(b), 1 == c.length ? this.toolbar.enable("w2ui-edit") : this.toolbar.disable("w2ui-edit"), c.length >= 1 ? this.toolbar.enable("w2ui-delete") : this.toolbar.disable("w2ui-delete")
                }
            },
            lock: function (a, b) {
                var c = this,
                    d = Array.prototype.slice.call(arguments, 0);
                d.unshift(this.box), setTimeout(function () {
                    $(c.box).find("#grid_" + c.name + "_empty_msg").remove(), w2utils.lock.apply(window, d)
                }, 10)
            },
            unlock: function (a) {
                var b = this.box;
                setTimeout(function () {
                    $(b).find(".w2ui-message").not(".w2ui-closing").length > 0 || w2utils.unlock(b, a)
                }, 25)
            },
            stateSave: function (a) {
                var b = this;
                if (!w2utils.hasLocalStorage) return null;
                for (var c, d = {
                        columns: [],
                        show: $.extend({}, this.show),
                        last: {
                            search: this.last.search,
                            multi: this.last.multi,
                            logic: this.last.logic,
                            caption: this.last.caption,
                            field: this.last.field,
                            scrollTop: this.last.scrollTop,
                            scrollLeft: this.last.scrollLeft
                        },
                        sortData: [],
                        searchData: []
                    }, e = 0; e < this.columns.length; e++) {
                    var f = b.columns[e],
                        g = {};
                    Object.keys(b.stateSaveColumnProperties).forEach(function (a, d) {
                        b.stateSaveColumnProperties[a] && (c = void 0 !== f[a] ? f[a] : b.stateSaveColumnFallbackValues[a] || null, g[a] = c)
                    }), d.columns.push(g)
                }
                for (var e = 0; e < this.sortData.length; e++) d.sortData.push($.extend({}, this.sortData[e]));
                for (var e = 0; e < this.searchData.length; e++) d.searchData.push($.extend({}, this.searchData[e]));
                if (a !== !0) {
                    var h = this.trigger({
                        phase: "before",
                        type: "stateSave",
                        target: this.name,
                        state: d
                    });
                    if (h.isCancelled === !0) return void("function" == typeof callBack && callBack({
                        status: "error",
                        message: "Request aborted."
                    }));
                    try {
                        var i = $.parseJSON(localStorage.w2ui || "{}");
                        i || (i = {}), i.states || (i.states = {}), i.states[this.stateId || this.name] = d, localStorage.w2ui = JSON.stringify(i)
                    } catch (a) {
                        return delete localStorage.w2ui, null
                    }
                    this.trigger($.extend(h, {
                        phase: "after"
                    }))
                }
                return d
            },
            stateRestore: function (a) {
                var b = this,
                    c = "object" != typeof this.url ? this.url : this.url.get;
                if (!a) try {
                    if (!w2utils.hasLocalStorage) return !1;
                    var d = $.parseJSON(localStorage.w2ui || "{}");
                    d || (d = {}), d.states || (d.states = {}), a = d.states[this.stateId || this.name]
                } catch (a) {
                    return delete localStorage.w2ui, null
                }
                var e = this.trigger({
                    phase: "before",
                    type: "stateRestore",
                    target: this.name,
                    state: a
                });
                if (e.isCancelled === !0) return void("function" == typeof callBack && callBack({
                    status: "error",
                    message: "Request aborted."
                }));
                if ($.isPlainObject(a)) {
                    $.extend(this.show, a.show), $.extend(this.last, a.last);
                    for (var f = this.last.scrollTop, g = this.last.scrollLeft, h = 0; h < a.columns.length; h++) {
                        var d = a.columns[h],
                            i = this.getColumn(d.field, !0);
                        null !== i && ($.extend(this.columns[i], d), h !== i && this.columns.splice(h, 0, this.columns.splice(i, 1)[0]))
                    }
                    this.sortData.splice(0, this.sortData.length);
                    for (var h = 0; h < a.sortData.length; h++) this.sortData.push(a.sortData[h]);
                    this.searchData.splice(0, this.searchData.length);
                    for (var h = 0; h < a.searchData.length; h++) this.searchData.push(a.searchData[h]);
                    setTimeout(function () {
                        c || (b.sortData.length > 0 && b.localSort(), b.searchData.length > 0 && b.localSearch()), b.last.scrollTop = f, b.last.scrollLeft = g, b.refresh()
                    }, 1)
                }
                return this.trigger($.extend(e, {
                    phase: "after"
                })), !0
            },
            stateReset: function () {
                if (this.stateRestore(this.last.state), w2utils.hasLocalStorage) try {
                    var a = $.parseJSON(localStorage.w2ui || "{}");
                    a.states && a.states[this.stateId || this.name] && delete a.states[this.stateId || this.name], localStorage.w2ui = JSON.stringify(a)
                } catch (a) {
                    return delete localStorage.w2ui, null
                }
            },
            parseField: function (a, b) {
                if (this.useFieldDot) {
                    var c = "";
                    try {
                        c = a;
                        for (var d = String(b).split("."), e = 0; e < d.length; e++) c = c[d[e]]
                    } catch (a) {
                        c = ""
                    }
                    return c
                }
                return a ? a[b] : ""
            },
            prepareData: function () {
                function a(c) {
                    for (var d = 0; d < b.columns.length; d++) {
                        var e = b.columns[d];
                        if (null != c[e.field] && "string" == typeof e.render) {
                            if (["number", "int", "float", "money", "currency", "percent"].indexOf(e.render.split(":")[0]) != -1 && "number" != typeof c[e.field] && (c[e.field] = parseFloat(c[e.field])), ["date", "age"].indexOf(e.render.split(":")[0]) != -1 && !c[e.field + "_"]) {
                                var f = c[e.field];
                                w2utils.isInt(f) && (f = parseInt(f)), c[e.field + "_"] = new Date(f)
                            }
                            if (["time"].indexOf(e.render) != -1)
                                if (w2utils.isTime(c[e.field])) {
                                    var g = w2utils.isTime(c[e.field], !0),
                                        f = new Date;
                                    f.setHours(g.hours, g.minutes, g.seconds ? g.seconds : 0, 0), c[e.field + "_"] || (c[e.field + "_"] = f)
                                } else {
                                    var g = c[e.field];
                                    w2utils.isInt(g) && (g = parseInt(g));
                                    var g = null != g ? new Date(g) : new Date,
                                        f = new Date;
                                    f.setHours(g.getHours(), g.getMinutes(), g.getSeconds(), 0), c[e.field + "_"] || (c[e.field + "_"] = f)
                                }
                        }
                    }
                    if (c.w2ui && c.w2ui.children && c.w2ui.expanded !== !0)
                        for (var h = 0; h < c.w2ui.children.length; h++) {
                            var i = c.w2ui.children[h];
                            a(i)
                        }
                }
                for (var b = this, c = 0; c < this.records.length; c++) {
                    var d = this.records[c];
                    a(d)
                }
            },
            nextCell: function (a, b, c) {
                var d = b + 1;
                if (d >= this.columns.length) return null;
                var e = this.records[a].w2ui,
                    f = (this.columns[b], this.columns[d]),
                    g = e && e.colspan && !isNaN(e.colspan[f.field]) ? parseInt(e.colspan[f.field]) : 1;
                if (null == f) return null;
                if (f && f.hidden || 0 === g) return this.nextCell(a, d, c);
                if (c) {
                    var h = this.getCellEditable(a, b);
                    if (null == h || ["checkbox", "check"].indexOf(h.type) != -1) return this.nextCell(a, d, c)
                }
                return d
            },
            prevCell: function (a, b, c) {
                var d = b - 1;
                if (d < 0) return null;
                var e = this.records[a].w2ui,
                    f = this.columns[d],
                    g = e && e.colspan && !isNaN(e.colspan[f.field]) ? parseInt(e.colspan[f.field]) : 1;
                if (null == f) return null;
                if (f && f.hidden || 0 === g) return this.prevCell(a, d, c);
                if (c) {
                    var h = this.getCellEditable(a, b);
                    if (null == h || ["checkbox", "check"].indexOf(h.type) != -1) return this.prevCell(a, d, c)
                }
                return d
            },
            nextRow: function (a, b) {
                var c = this.last.searchIds,
                    d = null;
                if (a + 1 < this.records.length && 0 === c.length || c.length > 0 && a < c[c.length - 1]) {
                    if (a++, c.length > 0)
                        for (;;) {
                            if ($.inArray(a, c) != -1 || a > this.records.length) break;
                            a++
                        }
                    var e = this.records[a].w2ui,
                        f = this.columns[b],
                        g = e && e.colspan && null != f && !isNaN(e.colspan[f.field]) ? parseInt(e.colspan[f.field]) : 1;
                    d = 0 === g ? this.nextRow(a, b) : a
                }
                return d
            },
            prevRow: function (a, b) {
                var c = this.last.searchIds,
                    d = null;
                if (a > 0 && 0 === c.length || c.length > 0 && a > c[0]) {
                    if (a--, c.length > 0)
                        for (;;) {
                            if ($.inArray(a, c) != -1 || a < 0) break;
                            a--
                        }
                    var e = this.records[a].w2ui,
                        f = this.columns[b],
                        g = e && e.colspan && null != f && !isNaN(e.colspan[f.field]) ? parseInt(e.colspan[f.field]) : 1;
                    d = 0 === g ? this.prevRow(a, b) : a
                }
                return d
            },
            selectionSave: function () {
                return this.last._selection = this.getSelection(), this.last._selection
            },
            selectionRestore: function (a) {
                var b = (new Date).getTime();
                this.last.selection = {
                    indexes: [],
                    columns: {}
                };
                for (var c = this.last.selection, d = this.last._selection, e = 0; e < d.length; e++)
                    if ($.isPlainObject(d[e])) {
                        var f = this.get(d[e].recid, !0);
                        null != f && (c.indexes.indexOf(f) == -1 && c.indexes.push(f), c.columns[f] || (c.columns[f] = []), c.columns[f].push(d[e].column))
                    } else {
                        var f = this.get(d[e], !0);
                        null != f && c.indexes.push(f)
                    } return delete this.last._selection, a !== !0 && this.refresh(), (new Date).getTime() - b
            },
            message: function (a, b) {
                "string" == typeof a && (a = {
                    width: a.length < 300 ? 350 : 550,
                    height: a.length < 300 ? 170 : 250,
                    body: '<div class="w2ui-centered">' + a + "</div>",
                    buttons: '<button type="button" class="w2ui-btn" onclick="w2ui[\'' + this.name + "'].message()\">Ok</button>",
                    onOpen: function (a) {
                        setTimeout(function () {
                            $(this.box).find(".w2ui-btn").focus()
                        }, 25)
                    },
                    onClose: function (a) {
                        "function" == typeof b && b()
                    }
                }), w2utils.message.call(this, {
                    box: this.box,
                    path: "w2ui." + this.name,
                    title: ".w2ui-grid-header:visible",
                    body: ".w2ui-grid-box"
                }, a)
            }
        }, $.extend(w2grid.prototype, w2utils.event), w2obj.grid = w2grid
    }(jQuery),
    function (a) {
        var b = function (b) {
                this.box = null, this.name = null, this.panels = [], this.tmp = {}, this.padding = 1, this.resizer = 4, this.style = "", a.extend(!0, this, w2obj.layout, b)
            },
            c = ["top", "left", "main", "preview", "right", "bottom"];
        a.fn.w2layout = function (d) {
            function e(b, c, d) {
                var e = b.get(c);
                return null != e && null == d && (d = e.tabs), null != e && null != d && (a.isArray(d) && (d = {
                    tabs: d
                }), a().w2destroy(b.name + "_" + c + "_tabs"), e.tabs = a().w2tabs(a.extend({}, d, {
                    owner: b,
                    name: b.name + "_" + c + "_tabs"
                })), e.show.tabs = !0, !0)
            }

            function f(b, c, d) {
                var e = b.get(c);
                return null != e && null == d && (d = e.toolbar), null != e && null != d && (a.isArray(d) && (d = {
                    items: d
                }), a().w2destroy(b.name + "_" + c + "_toolbar"), e.toolbar = a().w2toolbar(a.extend({}, d, {
                    owner: b,
                    name: b.name + "_" + c + "_toolbar"
                })), e.show.toolbar = !0, !0)
            }
            if (a.isPlainObject(d)) {
                if (!w2utils.checkName(d, "w2layout")) return;
                var g = d.panels || [],
                    h = new b(d);
                a.extend(h, {
                    handlers: [],
                    panels: []
                });
                for (var i = 0, j = g.length; i < j; i++) h.panels[i] = a.extend(!0, {}, b.prototype.panel, g[i]), (a.isPlainObject(h.panels[i].tabs) || a.isArray(h.panels[i].tabs)) && e(h, g[i].type), (a.isPlainObject(h.panels[i].toolbar) || a.isArray(h.panels[i].toolbar)) && f(h, g[i].type);
                for (var k = 0; k < c.length; k++) null == h.get(c[k]) && h.panels.push(a.extend(!0, {}, b.prototype.panel, {
                    type: c[k],
                    hidden: "main" !== c[k],
                    size: 50
                }));
                return a(this).length > 0 && h.render(a(this)[0]), w2ui[h.name] = h, h
            }
            var l = w2ui[a(this).attr("name")];
            return l ? arguments.length > 0 ? (l[d] && l[d].apply(l, Array.prototype.slice.call(arguments, 1)), this) : l : null
        }, b.prototype = {
            onShow: null,
            onHide: null,
            onResizing: null,
            onResizerClick: null,
            onRender: null,
            onRefresh: null,
            onContent: null,
            onResize: null,
            onDestroy: null,
            panel: {
                type: null,
                title: "",
                size: 100,
                minSize: 20,
                maxSize: !1,
                hidden: !1,
                resizable: !1,
                overflow: "auto",
                style: "",
                content: "",
                tabs: null,
                toolbar: null,
                width: null,
                height: null,
                show: {
                    toolbar: !1,
                    tabs: !1
                },
                onRefresh: null,
                onShow: null,
                onHide: null
            },
            html: function (a, b, c) {
                return this.content(a, b, c)
            },
            content: function (b, c, d) {
                var e = this,
                    f = this.get(b);
                if ("css" == b) return a("#layout_" + e.name + "_panel_css").html("<style>" + c + "</style>"), !0;
                if (null == f) return !1;
                if (null == c) return f.content;
                var g = this.trigger({
                    phase: "before",
                    type: "content",
                    target: b,
                    object: f,
                    content: c,
                    transition: d
                });
                if (g.isCancelled !== !0) {
                    if (c instanceof jQuery) return console.log("ERROR: You can not pass jQuery object to w2layout.content() method"), !1;
                    var h = "#layout_" + this.name + "_panel_" + f.type,
                        i = a(h + "> .w2ui-panel-content"),
                        j = 0;
                    if (i.length > 0 && (a(h).scrollTop(0), j = a(i).position().top), "" === f.content) f.content = c, this.refresh(b);
                    else {
                        if (f.content = c, !f.hidden && null != d && "" !== d) {
                            var k = a(h + "> .w2ui-panel-content");
                            k.after('<div class="w2ui-panel-content new-panel" style="' + k[0].style.cssText + '"></div>');
                            var l = a(h + "> .w2ui-panel-content.new-panel");
                            k.css("top", j), l.css("top", j), "object" == typeof c ? (c.box = l[0], c.render()) : l.html(c), w2utils.transition(k[0], l[0], d, function () {
                                k.remove(), l.removeClass("new-panel"), l.css("overflow", f.overflow), e.resize(), window.navigator.userAgent.indexOf("MSIE") != -1 && setTimeout(function () {
                                    e.resize()
                                }, 100)
                            })
                        }
                        this.refresh(b)
                    }
                    return e.trigger(a.extend(g, {
                        phase: "after"
                    })), e.resize(), window.navigator.userAgent.indexOf("MSIE") != -1 && setTimeout(function () {
                        e.resize()
                    }, 100), !0
                }
            },
            message: function (b, c) {
                var d = this;
                "string" == typeof c && (c = {
                    width: c.length < 300 ? 350 : 550,
                    height: c.length < 300 ? 170 : 250,
                    body: '<div class="w2ui-centered">' + c + "</div>",
                    buttons: '<button class="w2ui-btn" onclick="w2ui[\'' + this.name + "'].message('" + b + "')\">Ok</button>",
                    onOpen: function (b) {
                        setTimeout(function () {
                            a(this.box).find(".w2ui-btn").focus()
                        }, 25)
                    }
                });
                var e, f = this.get(b),
                    g = a("#layout_" + this.name + "_panel_" + f.type),
                    h = g.css("overflow");
                c && (c.onClose && (e = c.onClose), c.onClose = function (b) {
                    "function" == typeof e && e(b), b.done(function () {
                        a("#layout_" + d.name + "_panel_" + f.type).css("overflow", h)
                    })
                }), a("#layout_" + this.name + "_panel_" + f.type).css("overflow", "hidden"), w2utils.message.call(this, {
                    box: a("#layout_" + this.name + "_panel_" + f.type),
                    param: b,
                    path: "w2ui." + this.name,
                    title: ".w2ui-panel-title:visible",
                    body: ".w2ui-panel-content"
                }, c)
            },
            load: function (b, c, d, e) {
                var f = this;
                return "css" == b ? (a.get(c, function (a, c, d) {
                    f.content(b, d.responseText), e && e()
                }), !0) : null != this.get(b) && (a.get(c, function (a, c, g) {
                    f.content(b, g.responseText, d), e && e(), f.resize(), window.navigator.userAgent.indexOf("MSIE") != -1 && setTimeout(function () {
                        f.resize()
                    }, 100)
                }), !0)
            },
            sizeTo: function (b, c, d) {
                var e = this,
                    f = e.get(b);
                return null != f && (a(e.box).find(" > div > .w2ui-panel").css(w2utils.cssPrefix("transition", d !== !0 ? ".2s" : "0s")), setTimeout(function () {
                    e.set(b, {
                        size: c
                    })
                }, 1), setTimeout(function () {
                    a(e.box).find(" > div > .w2ui-panel").css(w2utils.cssPrefix("transition", "0s")), e.resize()
                }, 500), !0)
            },
            show: function (b, c) {
                var d = this,
                    e = this.trigger({
                        phase: "before",
                        type: "show",
                        target: b,
                        object: this.get(b),
                        immediate: c
                    });
                if (e.isCancelled !== !0) {
                    var f = d.get(b);
                    return null != f && (f.hidden = !1, c === !0 ? (a("#layout_" + d.name + "_panel_" + b).css({
                        opacity: "1"
                    }), d.trigger(a.extend(e, {
                        phase: "after"
                    })), d.resize()) : (a("#layout_" + d.name + "_panel_" + b).css({
                        opacity: "0"
                    }), a(d.box).find(" > div > .w2ui-panel").css(w2utils.cssPrefix("transition", ".2s")), setTimeout(function () {
                        d.resize()
                    }, 1), setTimeout(function () {
                        a("#layout_" + d.name + "_panel_" + b).css({
                            opacity: "1"
                        })
                    }, 250), setTimeout(function () {
                        a(d.box).find(" > div > .w2ui-panel").css(w2utils.cssPrefix("transition", "0s")), d.trigger(a.extend(e, {
                            phase: "after"
                        })), d.resize()
                    }, 500)), !0)
                }
            },
            hide: function (b, c) {
                var d = this,
                    e = this.trigger({
                        phase: "before",
                        type: "hide",
                        target: b,
                        object: this.get(b),
                        immediate: c
                    });
                if (e.isCancelled !== !0) {
                    var f = d.get(b);
                    return null != f && (f.hidden = !0, c === !0 ? (a("#layout_" + d.name + "_panel_" + b).css({
                        opacity: "0"
                    }), d.trigger(a.extend(e, {
                        phase: "after"
                    })), d.resize()) : (a(d.box).find(" > div > .w2ui-panel").css(w2utils.cssPrefix("transition", ".2s")), a("#layout_" + d.name + "_panel_" + b).css({
                        opacity: "0"
                    }), setTimeout(function () {
                        d.resize()
                    }, 1), setTimeout(function () {
                        a(d.box).find(" > div > .w2ui-panel").css(w2utils.cssPrefix("transition", "0s")), d.trigger(a.extend(e, {
                            phase: "after"
                        })), d.resize()
                    }, 500)), !0)
                }
            },
            toggle: function (a, b) {
                var c = this.get(a);
                return null != c && (c.hidden ? this.show(a, b) : this.hide(a, b))
            },
            set: function (b, c) {
                var d = this.get(b, !0);
                return null != d && (a.extend(this.panels[d], c), null == c.content && null == c.resizable || this.refresh(b), this.resize(), !0)
            },
            get: function (a, b) {
                for (var c = 0; c < this.panels.length; c++)
                    if (this.panels[c].type == a) return b === !0 ? c : this.panels[c];
                return null
            },
            el: function (b) {
                var c = a("#layout_" + this.name + "_panel_" + b + "> .w2ui-panel-content");
                return 1 != c.length ? null : c[0]
            },
            hideToolbar: function (b) {
                var c = this.get(b);
                c && (c.show.toolbar = !1, a("#layout_" + this.name + "_panel_" + b + "> .w2ui-panel-toolbar").hide(), this.resize())
            },
            showToolbar: function (b) {
                var c = this.get(b);
                c && (c.show.toolbar = !0, a("#layout_" + this.name + "_panel_" + b + "> .w2ui-panel-toolbar").show(), this.resize())
            },
            toggleToolbar: function (a) {
                var b = this.get(a);
                b && (b.show.toolbar ? this.hideToolbar(a) : this.showToolbar(a))
            },
            assignToolbar: function (b, c) {
                "string" == typeof c && null != w2ui[c] && (c = w2ui[c]);
                var d = this.get(b);
                d.toolbar = c;
                var e = a(this.box).find(b + "> .w2ui-panel-toolbar");
                null != d.toolbar ? (0 === e.find("[name=" + d.toolbar.name + "]").length ? e.w2render(d.toolbar) : null != d.toolbar && d.toolbar.refresh(), this.showToolbar(b), this.refresh(b)) : (e.html(""), this.hideToolbar(b))
            },
            hideTabs: function (b) {
                var c = this.get(b);
                c && (c.show.tabs = !1, a("#layout_" + this.name + "_panel_" + b + "> .w2ui-panel-tabs").hide(), this.resize())
            },
            showTabs: function (b) {
                var c = this.get(b);
                c && (c.show.tabs = !0, a("#layout_" + this.name + "_panel_" + b + "> .w2ui-panel-tabs").show(), this.resize())
            },
            toggleTabs: function (a) {
                var b = this.get(a);
                b && (b.show.tabs ? this.hideTabs(a) : this.showTabs(a))
            },
            render: function (b) {
                function d() {
                    h.tmp.events = {
                        resize: function (a) {
                            w2ui[h.name].resize()
                        },
                        resizeStart: e,
                        mouseMove: g,
                        mouseUp: f
                    }, a(window).on("resize", h.tmp.events.resize)
                }

                function e(b, d) {
                    if (h.box) {
                        d || (d = window.event), a(document).off("mousemove", h.tmp.events.mouseMove).on("mousemove", h.tmp.events.mouseMove), a(document).off("mouseup", h.tmp.events.mouseUp).on("mouseup", h.tmp.events.mouseUp), h.tmp.resize = {
                            type: b,
                            x: d.screenX,
                            y: d.screenY,
                            diff_x: 0,
                            diff_y: 0,
                            value: 0
                        };
                        for (var e = 0; e < c.length; e++) {
                            var f = a(h.el(c[e])).parent().find(".w2ui-lock");
                            f.length > 0 ? f.attr("locked", "previous") : h.lock(c[e], {
                                opacity: 0
                            })
                        }
                        "left" != b && "right" != b || (h.tmp.resize.value = parseInt(a("#layout_" + h.name + "_resizer_" + b)[0].style.left)), "top" != b && "preview" != b && "bottom" != b || (h.tmp.resize.value = parseInt(a("#layout_" + h.name + "_resizer_" + b)[0].style.top))
                    }
                }

                function f(b) {
                    if (h.box && (b || (b = window.event), a(document).off("mousemove", h.tmp.events.mouseMove), a(document).off("mouseup", h.tmp.events.mouseUp), null != h.tmp.resize)) {
                        for (var d = 0; d < c.length; d++) {
                            var e = a(h.el(c[d])).parent().find(".w2ui-lock");
                            "previous" == e.attr("locked") ? e.removeAttr("locked") : h.unlock(c[d])
                        }
                        if (0 !== h.tmp.diff_x || 0 !== h.tmp.resize.diff_y) {
                            var f, g, i = h.get("top"),
                                j = h.get("bottom"),
                                k = h.get(h.tmp.resize.type),
                                l = parseInt(a(h.box).height()),
                                m = parseInt(a(h.box).width()),
                                n = String(k.size);
                            switch (h.tmp.resize.type) {
                                case "top":
                                    f = parseInt(k.sizeCalculated) + h.tmp.resize.diff_y, g = 0;
                                    break;
                                case "bottom":
                                    f = parseInt(k.sizeCalculated) - h.tmp.resize.diff_y, g = 0;
                                    break;
                                case "preview":
                                    f = parseInt(k.sizeCalculated) - h.tmp.resize.diff_y, g = (i && !i.hidden ? i.sizeCalculated : 0) + (j && !j.hidden ? j.sizeCalculated : 0);
                                    break;
                                case "left":
                                    f = parseInt(k.sizeCalculated) + h.tmp.resize.diff_x, g = 0;
                                    break;
                                case "right":
                                    f = parseInt(k.sizeCalculated) - h.tmp.resize.diff_x, g = 0
                            }
                            "%" == n.substr(n.length - 1) ? k.size = Math.floor(100 * f / ("left" == k.type || "right" == k.type ? m : l - g) * 100) / 100 + "%" : "-" == String(k.size).substr(0, 1) ? k.size = parseInt(k.size) - k.sizeCalculated + f : k.size = f, h.resize()
                        }
                        a("#layout_" + h.name + "_resizer_" + h.tmp.resize.type).removeClass("active"), delete h.tmp.resize
                    }
                }

                function g(b) {
                    if (h.box && (b || (b = window.event), null != h.tmp.resize)) {
                        var c = h.get(h.tmp.resize.type),
                            d = h.tmp.resize,
                            e = h.trigger({
                                phase: "before",
                                type: "resizing",
                                target: h.name,
                                object: c,
                                originalEvent: b,
                                panel: d ? d.type : "all",
                                diff_x: d ? d.diff_x : 0,
                                diff_y: d ? d.diff_y : 0
                            });
                        if (e.isCancelled !== !0) {
                            var f = a("#layout_" + h.name + "_resizer_" + d.type),
                                g = b.screenX - d.x,
                                i = b.screenY - d.y,
                                j = h.get("main");
                            switch (f.hasClass("active") || f.addClass("active"), d.type) {
                                case "left":
                                    c.minSize - g > c.width && (g = c.minSize - c.width), c.maxSize && c.width + g > c.maxSize && (g = c.maxSize - c.width), j.minSize + g > j.width && (g = j.width - j.minSize);
                                    break;
                                case "right":
                                    c.minSize + g > c.width && (g = c.width - c.minSize), c.maxSize && c.width - g > c.maxSize && (g = c.width - c.maxSize), j.minSize - g > j.width && (g = j.minSize - j.width);
                                    break;
                                case "top":
                                    c.minSize - i > c.height && (i = c.minSize - c.height), c.maxSize && c.height + i > c.maxSize && (i = c.maxSize - c.height), j.minSize + i > j.height && (i = j.height - j.minSize);
                                    break;
                                case "preview":
                                case "bottom":
                                    c.minSize + i > c.height && (i = c.height - c.minSize), c.maxSize && c.height - i > c.maxSize && (i = c.height - c.maxSize), j.minSize - i > j.height && (i = j.minSize - j.height)
                            }
                            switch (d.diff_x = g, d.diff_y = i, d.type) {
                                case "top":
                                case "preview":
                                case "bottom":
                                    d.diff_x = 0, f.length > 0 && (f[0].style.top = d.value + d.diff_y + "px");
                                    break;
                                case "left":
                                case "right":
                                    d.diff_y = 0, f.length > 0 && (f[0].style.left = d.value + d.diff_x + "px")
                            }
                            h.trigger(a.extend(e, {
                                phase: "after"
                            }))
                        }
                    }
                }
                var h = this,
                    i = (new Date).getTime(),
                    j = h.trigger({
                        phase: "before",
                        type: "render",
                        target: h.name,
                        box: b
                    });
                if (j.isCancelled !== !0) {
                    if (null != b && (a(h.box).find("#layout_" + h.name + "_panel_main").length > 0 && a(h.box).removeAttr("name").removeClass("w2ui-layout").html(""), h.box = b), !h.box) return !1;
                    a(h.box).attr("name", h.name).addClass("w2ui-layout").html("<div></div>"), a(h.box).length > 0 && (a(h.box)[0].style.cssText += h.style);
                    for (var k = 0; k < c.length; k++) {
                        var l = (h.get(c[k]), '<div id="layout_' + h.name + "_panel_" + c[k] + '" class="w2ui-panel">    <div class="w2ui-panel-title"></div>    <div class="w2ui-panel-tabs"></div>    <div class="w2ui-panel-toolbar"></div>    <div class="w2ui-panel-content"></div></div><div id="layout_' + h.name + "_resizer_" + c[k] + '" class="w2ui-resizer"></div>');
                        a(h.box).find(" > div").append(l)
                    }
                    return a(h.box).find(" > div").append('<div id="layout_' + h.name + '_panel_css" style="position: absolute; top: 10000px;"></div>'), h.refresh(), h.trigger(a.extend(j, {
                        phase: "after"
                    })), setTimeout(function () {
                        d(), h.resize()
                    }, 0), (new Date).getTime() - i
                }
            },
            refresh: function (b) {
                var c = this;
                null == b && (b = null);
                var d = (new Date).getTime(),
                    e = c.trigger({
                        phase: "before",
                        type: "refresh",
                        target: null != b ? b : c.name,
                        object: c.get(b)
                    });
                if (e.isCancelled !== !0) {
                    if ("string" == typeof b) {
                        var f = c.get(b);
                        if (null == f) return;
                        var g = "#layout_" + c.name + "_panel_" + f.type,
                            h = "#layout_" + c.name + "_resizer_" + f.type;
                        a(g).css({
                            display: f.hidden ? "none" : "block"
                        }), f.resizable ? a(h).show() : a(h).hide(), "object" == typeof f.content && "function" == typeof f.content.render ? (f.content.box = a(g + "> .w2ui-panel-content")[0], setTimeout(function () {
                            a(g + "> .w2ui-panel-content").length > 0 && (a(g + "> .w2ui-panel-content").removeClass().removeAttr("name").addClass("w2ui-panel-content").css("overflow", f.overflow)[0].style.cssText += ";" + f.style), f.content && "function" == typeof f.content.render && f.content.render()
                        }, 1)) : a(g + "> .w2ui-panel-content").length > 0 && (a(g + "> .w2ui-panel-content").removeClass().removeAttr("name").addClass("w2ui-panel-content").html(f.content).css("overflow", f.overflow)[0].style.cssText += ";" + f.style);
                        var i = a(c.box).find(g + "> .w2ui-panel-tabs");
                        f.show.tabs ? 0 === i.find("[name=" + f.tabs.name + "]").length && null != f.tabs ? i.w2render(f.tabs) : f.tabs.refresh() : i.html("").removeClass("w2ui-tabs").hide(), i = a(c.box).find(g + "> .w2ui-panel-toolbar"), f.show.toolbar ? 0 === i.find("[name=" + f.toolbar.name + "]").length && null != f.toolbar ? i.w2render(f.toolbar) : f.toolbar.refresh() : i.html("").removeClass("w2ui-toolbar").hide(), i = a(c.box).find(g + "> .w2ui-panel-title"), f.title ? i.html(f.title).show() : i.html("").hide()
                    } else {
                        if (0 === a("#layout_" + c.name + "_panel_main").length) return void c.render();
                        c.resize();
                        for (var j = 0; j < this.panels.length; j++) c.refresh(this.panels[j].type)
                    }
                    return c.trigger(a.extend(e, {
                        phase: "after"
                    })), (new Date).getTime() - d
                }
            },
            resize: function () {
                if (!this.box) return !1;
                var b = (new Date).getTime(),
                    d = this.tmp.resize,
                    e = this.trigger({
                        phase: "before",
                        type: "resize",
                        target: this.name,
                        panel: d ? d.type : "all",
                        diff_x: d ? d.diff_x : 0,
                        diff_y: d ? d.diff_y : 0
                    });
                if (e.isCancelled !== !0) {
                    this.padding < 0 && (this.padding = 0);
                    var f = parseInt(a(this.box).width()),
                        g = parseInt(a(this.box).height());
                    a(this.box).find(" > div").css({
                        width: f + "px",
                        height: g + "px"
                    });
                    for (var h, i, j, k, l, m = this, n = this.get("main"), o = this.get("preview"), p = this.get("left"), q = this.get("right"), r = this.get("top"), s = this.get("bottom"), t = null != o && o.hidden !== !0, u = null != p && p.hidden !== !0, v = null != q && q.hidden !== !0, w = null != r && r.hidden !== !0, x = null != s && s.hidden !== !0, y = 0; y < c.length; y++)
                        if ("main" !== c[y] && (d = this.get(c[y]))) {
                            var z = String(d.size || 0);
                            if ("%" == z.substr(z.length - 1)) {
                                var A = g;
                                "preview" == d.type && (A = A - (r && !r.hidden ? r.sizeCalculated : 0) - (s && !s.hidden ? s.sizeCalculated : 0)), d.sizeCalculated = parseInt(("left" == d.type || "right" == d.type ? f : A) * parseFloat(d.size) / 100)
                            } else d.sizeCalculated = parseInt(d.size);
                            d.sizeCalculated = Math.max(d.sizeCalculated, parseInt(d.minSize))
                        }
                    "-" == String(q.size).substr(0, 1) && (u && "-" == p.size.substr(0, 1) ? console.log("ERROR: you cannot have both left panel.size and right panel.size be negative.") : q.sizeCalculated = f - (u ? p.sizeCalculated : 0) + parseInt(q.size)), "-" == String(p.size).substr(0, 1) && (v && "-" == q.size.substr(0, 1) ? console.log("ERROR: you cannot have both left panel.size and right panel.size be negative.") : p.sizeCalculated = f - (v ? q.sizeCalculated : 0) + parseInt(p.size)), null != r && r.hidden !== !0 ? (h = 0, i = 0, j = f, k = r.sizeCalculated, a("#layout_" + this.name + "_panel_top").css({
                        display: "block",
                        left: h + "px",
                        top: i + "px",
                        width: j + "px",
                        height: k + "px"
                    }).show(), r.width = j, r.height = k, r.resizable && (i = r.sizeCalculated - (0 === this.padding ? this.resizer : 0), k = this.resizer > this.padding ? this.resizer : this.padding, a("#layout_" + this.name + "_resizer_top").show().css({
                        display: "block",
                        left: h + "px",
                        top: i + "px",
                        width: j + "px",
                        height: k + "px",
                        cursor: "ns-resize"
                    }).off("mousedown").on("mousedown", function (b) {
                        var c = m.trigger({
                            phase: "before",
                            type: "resizerClick",
                            target: "top",
                            originalEvent: b
                        });
                        if (c.isCancelled !== !0) return w2ui[m.name].tmp.events.resizeStart("top", b), m.trigger(a.extend(c, {
                            phase: "after"
                        })), !1
                    }))) : (a("#layout_" + this.name + "_panel_top").hide(), a("#layout_" + this.name + "_resizer_top").hide()), null != p && p.hidden !== !0 ? (h = 0, i = 0 + (w ? r.sizeCalculated + this.padding : 0), j = p.sizeCalculated, k = g - (w ? r.sizeCalculated + this.padding : 0) - (x ? s.sizeCalculated + this.padding : 0), l = a("#layout_" + this.name + "_panel_left"), window.navigator.userAgent.indexOf("MSIE") != -1 && l.length > 0 && l[0].clientHeight < l[0].scrollHeight && (j += 17), l.css({
                        display: "block",
                        left: h + "px",
                        top: i + "px",
                        width: j + "px",
                        height: k + "px"
                    }).show(), p.width = j, p.height = k, p.resizable && (h = p.sizeCalculated - (0 === this.padding ? this.resizer : 0), j = this.resizer > this.padding ? this.resizer : this.padding, a("#layout_" + this.name + "_resizer_left").show().css({
                        display: "block",
                        left: h + "px",
                        top: i + "px",
                        width: j + "px",
                        height: k + "px",
                        cursor: "ew-resize"
                    }).off("mousedown").on("mousedown", function (b) {
                        var c = m.trigger({
                            phase: "before",
                            type: "resizerClick",
                            target: "left",
                            originalEvent: b
                        });
                        if (c.isCancelled !== !0) return w2ui[m.name].tmp.events.resizeStart("left", b), m.trigger(a.extend(c, {
                            phase: "after"
                        })), !1
                    }))) : (a("#layout_" + this.name + "_panel_left").hide(), a("#layout_" + this.name + "_resizer_left").hide()), null != q && q.hidden !== !0 ? (h = f - q.sizeCalculated, i = 0 + (w ? r.sizeCalculated + this.padding : 0), j = q.sizeCalculated, k = g - (w ? r.sizeCalculated + this.padding : 0) - (x ? s.sizeCalculated + this.padding : 0), a("#layout_" + this.name + "_panel_right").css({
                        display: "block",
                        left: h + "px",
                        top: i + "px",
                        width: j + "px",
                        height: k + "px"
                    }).show(), q.width = j, q.height = k, q.resizable && (h -= this.padding, j = this.resizer > this.padding ? this.resizer : this.padding, a("#layout_" + this.name + "_resizer_right").show().css({
                        display: "block",
                        left: h + "px",
                        top: i + "px",
                        width: j + "px",
                        height: k + "px",
                        cursor: "ew-resize"
                    }).off("mousedown").on("mousedown", function (b) {
                        var c = m.trigger({
                            phase: "before",
                            type: "resizerClick",
                            target: "right",
                            originalEvent: b
                        });
                        if (c.isCancelled !== !0) return w2ui[m.name].tmp.events.resizeStart("right", b), m.trigger(a.extend(c, {
                            phase: "after"
                        })), !1
                    }))) : (a("#layout_" + this.name + "_panel_right").hide(), a("#layout_" + this.name + "_resizer_right").hide()), null != s && s.hidden !== !0 ? (h = 0, i = g - s.sizeCalculated, j = f, k = s.sizeCalculated, a("#layout_" + this.name + "_panel_bottom").css({
                        display: "block",
                        left: h + "px",
                        top: i + "px",
                        width: j + "px",
                        height: k + "px"
                    }).show(), s.width = j, s.height = k, s.resizable && (i -= 0 === this.padding ? 0 : this.padding, k = this.resizer > this.padding ? this.resizer : this.padding, a("#layout_" + this.name + "_resizer_bottom").show().css({
                        display: "block",
                        left: h + "px",
                        top: i + "px",
                        width: j + "px",
                        height: k + "px",
                        cursor: "ns-resize"
                    }).off("mousedown").on("mousedown", function (b) {
                        var c = m.trigger({
                            phase: "before",
                            type: "resizerClick",
                            target: "bottom",
                            originalEvent: b
                        });
                        if (c.isCancelled !== !0) return w2ui[m.name].tmp.events.resizeStart("bottom", b), m.trigger(a.extend(c, {
                            phase: "after"
                        })), !1
                    }))) : (a("#layout_" + this.name + "_panel_bottom").hide(), a("#layout_" + this.name + "_resizer_bottom").hide()), h = 0 + (u ? p.sizeCalculated + this.padding : 0), i = 0 + (w ? r.sizeCalculated + this.padding : 0), j = f - (u ? p.sizeCalculated + this.padding : 0) - (v ? q.sizeCalculated + this.padding : 0), k = g - (w ? r.sizeCalculated + this.padding : 0) - (x ? s.sizeCalculated + this.padding : 0) - (t ? o.sizeCalculated + this.padding : 0), l = a("#layout_" + this.name + "_panel_main"), window.navigator.userAgent.indexOf("MSIE") != -1 && l.length > 0 && l[0].clientHeight < l[0].scrollHeight && (j += 17), l.css({
                        display: "block",
                        left: h + "px",
                        top: i + "px",
                        width: j + "px",
                        height: k + "px"
                    }), n.width = j, n.height = k, null != o && o.hidden !== !0 ? (h = 0 + (u ? p.sizeCalculated + this.padding : 0), i = g - (x ? s.sizeCalculated + this.padding : 0) - o.sizeCalculated, j = f - (u ? p.sizeCalculated + this.padding : 0) - (v ? q.sizeCalculated + this.padding : 0), k = o.sizeCalculated, l = a("#layout_" + this.name + "_panel_preview"), window.navigator.userAgent.indexOf("MSIE") != -1 && l.length > 0 && l[0].clientHeight < l[0].scrollHeight && (j += 17), l.css({
                        display: "block",
                        left: h + "px",
                        top: i + "px",
                        width: j + "px",
                        height: k + "px"
                    }).show(), o.width = j, o.height = k, o.resizable && (i -= 0 === this.padding ? 0 : this.padding, k = this.resizer > this.padding ? this.resizer : this.padding,
                        a("#layout_" + this.name + "_resizer_preview").show().css({
                            display: "block",
                            left: h + "px",
                            top: i + "px",
                            width: j + "px",
                            height: k + "px",
                            cursor: "ns-resize"
                        }).off("mousedown").on("mousedown", function (b) {
                            var c = m.trigger({
                                phase: "before",
                                type: "resizerClick",
                                target: "preview",
                                originalEvent: b
                            });
                            if (c.isCancelled !== !0) return w2ui[m.name].tmp.events.resizeStart("preview", b), m.trigger(a.extend(c, {
                                phase: "after"
                            })), !1
                        }))) : (a("#layout_" + this.name + "_panel_preview").hide(), a("#layout_" + this.name + "_resizer_preview").hide());
                    for (var B = 0; B < c.length; B++) {
                        var C = this.get(c[B]),
                            D = "#layout_" + this.name + "_panel_" + c[B] + " > .w2ui-panel-",
                            E = 0;
                        C && (C.title && (E += w2utils.getSize(a(D + "title").css({
                            top: E + "px",
                            display: "block"
                        }), "height")), C.show.tabs && (null != C.tabs && w2ui[this.name + "_" + c[B] + "_tabs"] && w2ui[this.name + "_" + c[B] + "_tabs"].resize(), E += w2utils.getSize(a(D + "tabs").css({
                            top: E + "px",
                            display: "block"
                        }), "height")), C.show.toolbar && (null != C.toolbar && w2ui[this.name + "_" + c[B] + "_toolbar"] && w2ui[this.name + "_" + c[B] + "_toolbar"].resize(), E += w2utils.getSize(a(D + "toolbar").css({
                            top: E + "px",
                            display: "block"
                        }), "height"))), a(D + "content").css({
                            display: "block"
                        }).css({
                            top: E + "px"
                        })
                    }
                    return clearTimeout(this._resize_timer), this._resize_timer = setTimeout(function () {
                        for (var b in w2ui)
                            if ("function" == typeof w2ui[b].resize) {
                                null == w2ui[b].panels && w2ui[b].resize();
                                var c = a(w2ui[b].box).parents(".w2ui-layout");
                                c.length > 0 && c.attr("name") == m.name && w2ui[b].resize()
                            }
                    }, 100), this.trigger(a.extend(e, {
                        phase: "after"
                    })), (new Date).getTime() - b
                }
            },
            destroy: function () {
                var b = this.trigger({
                    phase: "before",
                    type: "destroy",
                    target: this.name
                });
                if (b.isCancelled !== !0) return null != w2ui[this.name] && (a(this.box).find("#layout_" + this.name + "_panel_main").length > 0 && a(this.box).removeAttr("name").removeClass("w2ui-layout").html(""), delete w2ui[this.name], this.trigger(a.extend(b, {
                    phase: "after"
                })), this.tmp.events && this.tmp.events.resize && a(window).off("resize", this.tmp.events.resize), !0)
            },
            lock: function (a, b, d) {
                if (c.indexOf(a) == -1) return void console.log("ERROR: First parameter needs to be the a valid panel name.");
                var e = Array.prototype.slice.call(arguments, 0);
                e[0] = "#layout_" + this.name + "_panel_" + a, w2utils.lock.apply(window, e)
            },
            unlock: function (a, b) {
                if (c.indexOf(a) == -1) return void console.log("ERROR: First parameter needs to be the a valid panel name.");
                var d = "#layout_" + this.name + "_panel_" + a;
                w2utils.unlock(d, b)
            }
        }, a.extend(b.prototype, w2utils.event), w2obj.layout = b
    }(jQuery);
var w2popup = {};
! function (a) {
    a.fn.w2popup = function (b, c) {
        null == b && (c = {}, b = "open"), a.isPlainObject(b) && (c = b, b = "open"), b = b.toLowerCase(), "load" === b && "string" == typeof c && (c = a.extend({
            url: c
        }, arguments.length > 2 ? arguments[2] : {})), "open" === b && null != c.url && (b = "load"), c = c || {};
        var d = {};
        if (a(this).length > 0 && "open" == b) {
            if (a(this).find("div[rel=title], div[rel=body], div[rel=buttons]").length > 0) {
                if (a("#w2ui-popup").length > 0) {
                    var e = a("#w2ui-popup").data("options");
                    w2popup._prev = {
                        template: w2popup._template,
                        title: e.title,
                        body: e.body,
                        buttons: e.buttons
                    }
                }
                w2popup._template = this, a(this).find("div[rel=title]").length > 0 && (d.title = a(this).find("div[rel=title]")), a(this).find("div[rel=body]").length > 0 && (d.body = a(this).find("div[rel=body]"), d.style = a(this).find("div[rel=body]")[0].style.cssText), a(this).find("div[rel=buttons]").length > 0 && (d.buttons = a(this).find("div[rel=buttons]"))
            } else d.title = "&#160;", d.body = a(this).html();
            0 !== parseInt(a(this).css("width")) && (d.width = parseInt(a(this).css("width")));
            var f = c.title || c.showClose || void 0 === c.showClose || c.showMax || void 0 === c.showMax;
            0 !== parseInt(a(this).css("height")) && (d.height = parseInt(a(this).css("height")) + (f ? 32 : 0))
        }
        return w2popup[b](a.extend({}, d, c))
    }, w2popup = {
        defaults: {
            title: "",
            body: "",
            buttons: "",
            style: "",
            color: "#000",
            opacity: .4,
            speed: .3,
            modal: !1,
            maximized: !1,
            keyboard: !0,
            width: 500,
            height: 300,
            showClose: !0,
            showMax: !1,
            transition: null
        },
        status: "closed",
        handlers: [],
        onOpen: null,
        onClose: null,
        onMax: null,
        onMin: null,
        onToggle: null,
        onKeydown: null,
        open: function (b) {
            function c(b) {
                return b || (b = window.event), w2popup.status = "moving", p.resizing = !0, p.isLocked = 1 == a("#w2ui-popup > .w2ui-lock").length, p.x = b.screenX, p.y = b.screenY, p.pos_x = a("#w2ui-popup").position().left, p.pos_y = a("#w2ui-popup").position().top, p.isLocked || w2popup.lock({
                    opacity: 0
                }), a(document).on("mousemove", p.mvMove), a(document).on("mouseup", p.mvStop), b.stopPropagation ? b.stopPropagation() : b.cancelBubble = !0, !!b.preventDefault && void b.preventDefault()
            }

            function d(b) {
                1 == p.resizing && (b || (b = window.event), p.div_x = b.screenX - p.x, p.div_y = b.screenY - p.y, a("#w2ui-popup").css(w2utils.cssPrefix({
                    transition: "none",
                    transform: "translate3d(" + p.div_x + "px, " + p.div_y + "px, 0px)"
                })))
            }

            function e(b) {
                1 == p.resizing && (b || (b = window.event), w2popup.status = "open", p.div_x = b.screenX - p.x, p.div_y = b.screenY - p.y, a("#w2ui-popup").css({
                    left: p.pos_x + p.div_x + "px",
                    top: p.pos_y + p.div_y + "px"
                }).css(w2utils.cssPrefix({
                    transition: "none",
                    transform: "translate3d(0px, 0px, 0px)"
                })), p.resizing = !1, a(document).off("mousemove", p.mvMove), a(document).off("mouseup", p.mvStop), p.isLocked || w2popup.unlock())
            }
            var f = this;
            if ("closing" == w2popup.status) return void setTimeout(function () {
                f.open.call(f, b)
            }, 100);
            var g = a("#w2ui-popup").data("options"),
                b = a.extend({}, this.defaults, g, {
                    title: "",
                    body: "",
                    buttons: ""
                }, b, {
                    maximized: !1
                });
            setTimeout(function () {
                a("#w2ui-popup").data("options", b)
            }, 100), 0 === a("#w2ui-popup").length && (w2popup.onMax = null, w2popup.onMin = null, w2popup.onToggle = null, w2popup.onOpen = null, w2popup.onClose = null, w2popup.onKeydown = null), b.onOpen && (w2popup.onOpen = b.onOpen), b.onClose && (w2popup.onClose = b.onClose), b.onMax && (w2popup.onMax = b.onMax), b.onMin && (w2popup.onMin = b.onMin), b.onToggle && (w2popup.onToggle = b.onToggle), b.onKeydown && (w2popup.onKeydown = b.onKeydown), b.width = parseInt(b.width), b.height = parseInt(b.height);
            var h, i;
            void 0 == window.innerHeight ? (h = parseInt(document.documentElement.offsetWidth), i = parseInt(document.documentElement.offsetHeight), "IE7" === w2utils.engine && (h += 21, i += 4)) : (h = parseInt(window.innerWidth), i = parseInt(window.innerHeight)), h - 10 < b.width && (b.width = h - 10), i - 10 < b.height && (b.height = i - 10);
            var j = (i - b.height) / 2 * .6,
                k = (h - b.width) / 2;
            if (0 === a("#w2ui-popup").length) {
                var l = this.trigger({
                    phase: "before",
                    type: "open",
                    target: "popup",
                    options: b,
                    present: !1
                });
                if (l.isCancelled === !0) return;
                w2popup.status = "opening", w2popup.lockScreen(b);
                var m = "";
                b.showClose && (m += '<div class="w2ui-popup-button w2ui-popup-close" onmousedown="event.stopPropagation()" onclick="w2popup.close()">Close</div>'), b.showMax && (m += '<div class="w2ui-popup-button w2ui-popup-max" onmousedown="event.stopPropagation()" onclick="w2popup.toggle()">Max</div>');
                var n = '<div id="w2ui-popup" class="w2ui-popup" style="opacity: 0; left: ' + k + "px; top: " + j + "px;     width: " + parseInt(b.width) + "px; height: " + parseInt(b.height) + "px; " + w2utils.cssPrefix("transform", "scale(0.8)", !0) + '"></div>';
                a("body").append(n);
                var o = a("#w2ui-popup");
                if (o.find("div[rel=title], div[rel=body], div[rel=buttons]").length > 0) {
                    var p = o.find("div[rel=title]");
                    p.length > 0 && (b.title = p.html(), p.remove());
                    var p = o.find("div[rel=buttons]");
                    p.length > 0 && (b.buttons = p.html(), p.remove());
                    var p = o.find("div[rel=body]");
                    p.length > 0 ? b.body = p.html() : b.body = o.html()
                }
                var n = '<div class="w2ui-popup-title" style="' + (b.title ? "" : "display: none") + '">' + m + '</div><div class="w2ui-box" style="' + (b.title ? "" : "top: 0px !important;") + (b.buttons ? "" : "bottom: 0px !important;") + '">    <div class="w2ui-popup-body' + ("" !== !b.title ? " w2ui-popup-no-title" : "") + (b.buttons ? "" : " w2ui-popup-no-buttons") + '" style="' + b.style + '">    </div></div><div class="w2ui-popup-buttons" style="' + (b.buttons ? "" : "display: none") + '"></div><input class="w2ui-popup-hidden" style="position: absolute; top: -100px"/>';
                a("#w2ui-popup").html(n), b.title && a("#w2ui-popup .w2ui-popup-title").append(b.title), b.buttons && a("#w2ui-popup .w2ui-popup-buttons").append(b.buttons), b.body && a("#w2ui-popup .w2ui-popup-body").append(b.body), setTimeout(function () {
                    a("#w2ui-popup").css("opacity", "1").css(w2utils.cssPrefix({
                        transition: b.speed + "s opacity, " + b.speed + "s -webkit-transform",
                        transform: "scale(1)"
                    })), f.focus()
                }, 1), setTimeout(function () {
                    a("#w2ui-popup").css(w2utils.cssPrefix("transform", "")), w2popup.status = "open", setTimeout(function () {
                        f.trigger(a.extend(l, {
                            phase: "after"
                        }))
                    }, 100)
                }, 1e3 * b.speed)
            } else {
                null == w2popup._prev && null != w2popup._template && f.restoreTemplate();
                var l = this.trigger({
                    phase: "before",
                    type: "open",
                    target: "popup",
                    options: b,
                    present: !0
                });
                if (l.isCancelled === !0) return;
                w2popup.status = "opening", null != g && (g.maximized || g.width == b.width && g.height == b.height || w2popup.resize(b.width, b.height), b.prevSize = b.width + "px:" + b.height + "px", b.maximized = g.maximized);
                var q = a("#w2ui-popup .w2ui-box").clone();
                if (q.removeClass("w2ui-box").addClass("w2ui-box-temp").find(".w2ui-popup-body").empty().append(b.body), "string" == typeof b.body && q.find("div[rel=title], div[rel=body], div[rel=buttons]").length > 0) {
                    var p = q.find("div[rel=title]");
                    p.length > 0 && (b.title = p.html(), p.remove());
                    var p = q.find("div[rel=buttons]");
                    p.length > 0 && (b.buttons = p.html(), p.remove());
                    var p = q.find("div[rel=body]");
                    p.length > 0 ? b.body = p.html() : b.body = q.html(), q.html(b.body)
                }
                a("#w2ui-popup .w2ui-box").after(q), b.buttons ? (a("#w2ui-popup .w2ui-popup-buttons").show().html("").append(b.buttons), a("#w2ui-popup .w2ui-popup-body").removeClass("w2ui-popup-no-buttons"), a("#w2ui-popup .w2ui-box, #w2ui-popup .w2ui-box-temp").css("bottom", "")) : (a("#w2ui-popup .w2ui-popup-buttons").hide().html(""), a("#w2ui-popup .w2ui-popup-body").addClass("w2ui-popup-no-buttons"), a("#w2ui-popup .w2ui-box, #w2ui-popup .w2ui-box-temp").css("bottom", "0px")), b.title ? (a("#w2ui-popup .w2ui-popup-title").show().html((b.showClose ? '<div class="w2ui-popup-button w2ui-popup-close" onmousedown="event.stopPropagation()" onclick="w2popup.close()">Close</div>' : "") + (b.showMax ? '<div class="w2ui-popup-button w2ui-popup-max" onmousedown="event.stopPropagation()" onclick="w2popup.toggle()">Max</div>' : "")).append(b.title), a("#w2ui-popup .w2ui-popup-body").removeClass("w2ui-popup-no-title"), a("#w2ui-popup .w2ui-box, #w2ui-popup .w2ui-box-temp").css("top", "")) : (a("#w2ui-popup .w2ui-popup-title").hide().html(""), a("#w2ui-popup .w2ui-popup-body").addClass("w2ui-popup-no-title"), a("#w2ui-popup .w2ui-box, #w2ui-popup .w2ui-box-temp").css("top", "0px"));
                var r = a("#w2ui-popup .w2ui-box")[0],
                    s = a("#w2ui-popup .w2ui-box-temp")[0];
                w2utils.transition(r, s, b.transition, function () {
                    f.restoreTemplate(), a(r).remove(), a(s).removeClass("w2ui-box-temp").addClass("w2ui-box");
                    var c = a(s).find(".w2ui-popup-body");
                    1 == c.length && (c[0].style.cssText = b.style), a("#w2ui-popup").data("prev-size", null), f.focus(), w2popup.status = "open", f.trigger(a.extend(l, {
                        phase: "after"
                    }))
                })
            }
            b._last_focus = a(":focus"), b.keyboard && a(document).on("keydown", this.keydown);
            var p = {
                resizing: !1,
                mvMove: d,
                mvStop: e
            };
            return a("#w2ui-popup .w2ui-popup-title").on("mousedown", function (a) {
                w2popup.get().maximized || c(a)
            }), this
        },
        keydown: function (b) {
            var c = a("#w2ui-popup").data("options");
            if (!c || c.keyboard) {
                var d = w2popup.trigger({
                    phase: "before",
                    type: "keydown",
                    target: "popup",
                    options: c,
                    originalEvent: b
                });
                if (d.isCancelled !== !0) {
                    switch (b.keyCode) {
                        case 27:
                            b.preventDefault(), a("#w2ui-popup .w2ui-message").length > 0 ? w2popup.message() : w2popup.close()
                    }
                    w2popup.trigger(a.extend(d, {
                        phase: "after"
                    }))
                }
            }
        },
        close: function (b) {
            var c = this,
                b = a.extend({}, a("#w2ui-popup").data("options"), b);
            if (0 !== a("#w2ui-popup").length && "closed" != this.status) {
                if ("opening" == this.status) return void setTimeout(function () {
                    w2popup.close()
                }, 100);
                var d = this.trigger({
                    phase: "before",
                    type: "close",
                    target: "popup",
                    options: b
                });
                d.isCancelled !== !0 && (w2popup.status = "closing", a("#w2ui-popup").css("opacity", "0").css(w2utils.cssPrefix({
                    transition: b.speed + "s opacity, " + b.speed + "s -webkit-transform",
                    transform: "scale(0.9)"
                })), w2popup.unlockScreen(b), setTimeout(function () {
                    c.restoreTemplate(), a("#w2ui-popup").remove(), w2popup.status = "closed", b._last_focus.length > 0 && b._last_focus.focus(), c.trigger(a.extend(d, {
                        phase: "after"
                    }))
                }, 1e3 * b.speed), b.keyboard && a(document).off("keydown", this.keydown))
            }
        },
        toggle: function () {
            var b = this,
                c = a("#w2ui-popup").data("options"),
                d = this.trigger({
                    phase: "before",
                    type: "toggle",
                    target: "popup",
                    options: c
                });
            d.isCancelled !== !0 && (c.maximized === !0 ? w2popup.min() : w2popup.max(), setTimeout(function () {
                b.trigger(a.extend(d, {
                    phase: "after"
                }))
            }, 1e3 * c.speed + 50))
        },
        max: function () {
            var b = this,
                c = a("#w2ui-popup").data("options");
            if (c.maximized !== !0) {
                var d = this.trigger({
                    phase: "before",
                    type: "max",
                    target: "popup",
                    options: c
                });
                d.isCancelled !== !0 && (w2popup.status = "resizing", c.prevSize = a("#w2ui-popup").css("width") + ":" + a("#w2ui-popup").css("height"), w2popup.resize(1e4, 1e4, function () {
                    w2popup.status = "open", c.maximized = !0, b.trigger(a.extend(d, {
                        phase: "after"
                    })), a("#w2ui-popup .w2ui-grid, #w2ui-popup .w2ui-form, #w2ui-popup .w2ui-layout").each(function () {
                        var b = a(this).attr("name");
                        w2ui[b] && w2ui[b].resize && w2ui[b].resize()
                    })
                }))
            }
        },
        min: function () {
            var b = this,
                c = a("#w2ui-popup").data("options");
            if (c.maximized === !0) {
                var d = c.prevSize.split(":"),
                    e = this.trigger({
                        phase: "before",
                        type: "min",
                        target: "popup",
                        options: c
                    });
                e.isCancelled !== !0 && (w2popup.status = "resizing", w2popup.resize(parseInt(d[0]), parseInt(d[1]), function () {
                    w2popup.status = "open", c.maximized = !1, c.prevSize = null, b.trigger(a.extend(e, {
                        phase: "after"
                    })), a("#w2ui-popup .w2ui-grid, #w2ui-popup .w2ui-form, #w2ui-popup .w2ui-layout").each(function () {
                        var b = a(this).attr("name");
                        w2ui[b] && w2ui[b].resize && w2ui[b].resize()
                    })
                }))
            }
        },
        get: function () {
            return a("#w2ui-popup").data("options")
        },
        set: function (a) {
            w2popup.open(a)
        },
        clear: function () {
            a("#w2ui-popup .w2ui-popup-title").html(""), a("#w2ui-popup .w2ui-popup-body").html(""), a("#w2ui-popup .w2ui-popup-buttons").html("")
        },
        reset: function () {
            w2popup.open(w2popup.defaults)
        },
        load: function (b) {
            function c(c, d) {
                if (delete b.url, a("body").append('<div id="w2ui-tmp" style="display: none">' + c + "</div>"), null != d && a("#w2ui-tmp #" + d).length > 0 ? a("#w2ui-tmp #" + d).w2popup(b) : a("#w2ui-tmp > div").w2popup(b), a("#w2ui-tmp > style").length > 0) {
                    var e = a("<div>").append(a("#w2ui-tmp > style").clone()).html();
                    0 === a("#w2ui-popup #div-style").length && a("#w2ui-popup").append('<div id="div-style" style="position: absolute; left: -100; width: 1px"></div>'), a("#w2ui-popup #div-style").html(e)
                }
                a("#w2ui-tmp").remove()
            }
            if (w2popup.status = "loading", null == b.url) return void console.log("ERROR: The url parameter is empty.");
            var d = String(b.url).split("#"),
                e = d[0],
                f = d[1];
            null == b && (b = {});
            var g = a("#w2ui-popup").data(e);
            null != g ? c(g, f) : a.get(e, function (b, d, g) {
                c(g.responseText, f), a("#w2ui-popup").data(e, g.responseText)
            })
        },
        message: function (b) {
            var c = this;
            a().w2tag(), b || (b = {
                width: 200,
                height: 100
            });
            var d = parseInt(a("#w2ui-popup").width()),
                e = parseInt(a("#w2ui-popup").height());
            b.originalWidth = b.width, b.originalHeight = b.height, parseInt(b.width) < 10 && (b.width = 10), parseInt(b.height) < 10 && (b.height = 10), null == b.hideOnClick && (b.hideOnClick = !1);
            var f = a("#w2ui-popup").data("options") || {},
                g = parseInt(a("#w2ui-popup > .w2ui-popup-title").css("height"));
            (null == b.width || b.width > f.width - 10) && (b.width = f.width - 10), (null == b.height || b.height > f.height - g - 5) && (b.height = f.height - g - 5), b.originalHeight < 0 && (b.height = e + b.originalHeight - g), b.originalWidth < 0 && (b.width = d + 2 * b.originalWidth);
            var h = a("#w2ui-popup .w2ui-popup-title"),
                i = a("#w2ui-popup .w2ui-message").length;
            if ("" === a.trim(b.html) && "" === a.trim(b.body) && "" === a.trim(b.buttons)) {
                var j = a("#w2ui-popup #w2ui-message" + (i - 1)),
                    b = j.data("options") || {};
                j.css(w2utils.cssPrefix({
                    transition: "0.15s",
                    transform: "translateY(-" + b.height + "px)"
                })), 1 == i ? w2popup.unlock(150) : a("#w2ui-popup #w2ui-message" + (i - 2)).css("z-index", 1500), setTimeout(function () {
                    var a = j.data("prev_focus");
                    j.remove(), a && a.length > 0 ? a.focus() : c.focus(), "function" == typeof b.onClose && b.onClose()
                }, 150)
            } else {
                "" === a.trim(b.body) && "" === a.trim(b.buttons) || (b.html = '<div class="w2ui-message-body">' + b.body + '</div><div class="w2ui-message-buttons">' + b.buttons + "</div>"), a("#w2ui-popup .w2ui-message").css("z-index", 1390), h.css("z-index", 1501), a("#w2ui-popup .w2ui-box").before('<div id="w2ui-message' + i + '" class="w2ui-message" style="display: none; z-index: 1500; ' + (0 === h.length ? "top: 0px;" : "top: " + w2utils.getSize(h, "height") + "px;") + (null != b.width ? "width: " + b.width + "px; left: " + (d - b.width) / 2 + "px;" : "left: 10px; right: 10px;") + (null != b.height ? "height: " + b.height + "px;" : "bottom: 6px;") + w2utils.cssPrefix("transition", ".3s", !0) + '"' + (b.hideOnClick === !0 ? 'onclick="w2popup.message();"' : "") + "></div>"), a("#w2ui-popup #w2ui-message" + i).data("options", b).data("prev_focus", a(":focus"));
                var k = a("#w2ui-popup #w2ui-message" + i).css("display");
                a("#w2ui-popup #w2ui-message" + i).css(w2utils.cssPrefix({
                    transform: "none" == k ? "translateY(-" + b.height + "px)" : "translateY(0px)"
                })), "none" == k && (a("#w2ui-popup #w2ui-message" + i).show().html(b.html), setTimeout(function () {
                    a("#w2ui-popup #w2ui-message" + i).css(w2utils.cssPrefix({
                        transform: "none" == k ? "translateY(0px)" : "translateY(-" + b.height + "px)"
                    }))
                }, 1), 0 === i && w2popup.lock(), setTimeout(function () {
                    c.focus(), a("#w2ui-popup #w2ui-message" + i).css(w2utils.cssPrefix({
                        transition: "0s"
                    })), "function" == typeof b.onOpen && b.onOpen()
                }, 350))
            }
        },
        focus: function () {
            var b = null,
                c = a("#w2ui-popup"),
                d = "input:visible, button:visible, select:visible, textarea:visible";
            a(c).find(d).off(".keep-focus");
            var e = a("#w2ui-popup .w2ui-message").length - 1,
                f = a("#w2ui-popup #w2ui-message" + e);
            if (f.length > 0) {
                var g = a(f[f.length - 1]).find("button");
                g.length > 0 && g[0].focus(), b = f
            } else if (c.length > 0) {
                var g = c.find(".w2ui-popup-buttons button");
                g.length > 0 && g[0].focus(), b = c
            }
            a(b).find(d).on("blur.keep-focus", function (c) {
                setTimeout(function () {
                    var c = a(":focus");
                    if (c.length > 0 && !a(b).find(d).is(c) || c.hasClass("w2ui-popup-hidden")) {
                        var e = a(b).find(d);
                        e.length > 0 && e[0].focus()
                    }
                }, 1)
            })
        },
        lock: function (b, c) {
            var d = Array.prototype.slice.call(arguments, 0);
            d.unshift(a("#w2ui-popup")), w2utils.lock.apply(window, d)
        },
        unlock: function (b) {
            w2utils.unlock(a("#w2ui-popup"), b)
        },
        lockScreen: function (b) {
            return !(a("#w2ui-lock").length > 0) && (null == b && (b = a("#w2ui-popup").data("options")), null == b && (b = {}), b = a.extend({}, w2popup.defaults, b), a("body").append('<div id="w2ui-lock"     onmousewheel="if (event.stopPropagation) event.stopPropagation(); else event.cancelBubble = true; if (event.preventDefault) event.preventDefault(); else return false;"    style="position: ' + ("IE5" == w2utils.engine ? "absolute" : "fixed") + "; z-Index: 1199; left: 0px; top: 0px;            padding: 0px; margin: 0px; background-color: " + b.color + '; width: 100%; height: 100%; opacity: 0;"></div>'), setTimeout(function () {
                a("#w2ui-lock").css("opacity", b.opacity).css(w2utils.cssPrefix("transition", b.speed + "s opacity"))
            }, 1), 1 == b.modal ? (a("#w2ui-lock").on("mousedown", function () {
                a("#w2ui-lock").css("opacity", "0.6").css(w2utils.cssPrefix("transition", ".1s"))
            }), a("#w2ui-lock").on("mouseup", function () {
                setTimeout(function () {
                    a("#w2ui-lock").css("opacity", b.opacity).css(w2utils.cssPrefix("transition", ".1s"))
                }, 100)
            })) : a("#w2ui-lock").on("mousedown", function () {
                w2popup.close()
            }), !0)
        },
        unlockScreen: function (b) {
            return 0 !== a("#w2ui-lock").length && (null == b && (b = a("#w2ui-popup").data("options")), null == b && (b = {}), b = a.extend({}, w2popup.defaults, b), a("#w2ui-lock").css("opacity", "0").css(w2utils.cssPrefix("transition", b.speed + "s opacity")), setTimeout(function () {
                a("#w2ui-lock").remove()
            }, 1e3 * b.speed), !0)
        },
        resizeMessages: function () {
            a("#w2ui-popup").data("options");
            a("#w2ui-popup .w2ui-message").each(function () {
                var b = a(this).data("options"),
                    c = a("#w2ui-popup");
                parseInt(b.width) < 10 && (b.width = 10), parseInt(b.height) < 10 && (b.height = 10);
                var d = parseInt(c.find("> .w2ui-popup-title").css("height")),
                    e = parseInt(c.width()),
                    f = parseInt(c.height());
                b.width = b.originalWidth, b.width > e - 10 && (b.width = e - 10), b.height = b.originalHeight, b.height > f - d - 5 && (b.height = f - d - 5), b.originalHeight < 0 && (b.height = f + b.originalHeight - d), b.originalWidth < 0 && (b.width = e + 2 * b.originalWidth), a(this).css({
                    left: (e - b.width) / 2 + "px",
                    width: b.width + "px",
                    height: b.height + "px"
                })
            })
        },
        resize: function (b, c, d) {
            var e = this,
                f = a("#w2ui-popup").data("options");
            b = parseInt(b), c = parseInt(c);
            var g, h;
            void 0 == window.innerHeight ? (g = parseInt(document.documentElement.offsetWidth), h = parseInt(document.documentElement.offsetHeight), "IE7" === w2utils.engine && (g += 21, h += 4)) : (g = parseInt(window.innerWidth), h = parseInt(window.innerHeight)), g - 10 < b && (b = g - 10), h - 10 < c && (c = h - 10);
            var i = (h - c) / 2 * .6,
                j = (g - b) / 2;
            a("#w2ui-popup").css(w2utils.cssPrefix({
                transition: f.speed + "s width, " + f.speed + "s height, " + f.speed + "s left, " + f.speed + "s top"
            })).css({
                top: i,
                left: j,
                width: b,
                height: c
            });
            var k = setInterval(function () {
                e.resizeMessages()
            }, 10);
            setTimeout(function () {
                clearInterval(k), f.width = b, f.height = c, e.resizeMessages(), "function" == typeof d && d()
            }, 1e3 * f.speed + 50)
        },
        restoreTemplate: function () {
            var b = a("#w2ui-popup").data("options");
            if (null != b) {
                var c = w2popup._template,
                    d = b.title,
                    e = b.body,
                    f = b.buttons;
                if (w2popup._prev ? (c = w2popup._prev.template, d = w2popup._prev.title, e = w2popup._prev.body, f = w2popup._prev.buttons, delete w2popup._prev) : delete w2popup._template, null != c) {
                    var g = a(c);
                    if (0 === g.length) return;
                    "body" == a(e).attr("rel") ? (d && g.append(d), e && g.append(e), f && g.append(f)) : g.append(e)
                }
            }
        }
    }, a.extend(w2popup, w2utils.event)
}(jQuery);
var w2alert = function (a, b, c) {
        var d = jQuery;
        return null == b && (b = w2utils.lang("Notification")), d("#w2ui-popup").length > 0 && "closing" != w2popup.status ? w2popup.message({
            width: 400,
            height: 170,
            body: '<div class="w2ui-centered w2ui-alert-msg" style="font-size: 13px;">' + a + "</div>",
            buttons: '<button onclick="w2popup.message();" class="w2ui-popup-btn w2ui-btn">' + w2utils.lang("Ok") + "</button>",
            onOpen: function () {
                d("#w2ui-popup .w2ui-message .w2ui-popup-btn").focus()
            },
            onClose: function () {
                "function" == typeof c && c()
            }
        }) : w2popup.open({
            width: 450,
            height: 220,
            showMax: !1,
            showClose: !1,
            title: b,
            body: '<div class="w2ui-centered w2ui-alert-msg" style="font-size: 13px;">' + a + "</div>",
            buttons: '<button onclick="w2popup.close();" class="w2ui-popup-btn w2ui-btn">' + w2utils.lang("Ok") + "</button>",
            onOpen: function (a) {
                setTimeout(function () {
                    d("#w2ui-popup .w2ui-popup-btn").focus()
                }, 1)
            },
            onKeydown: function (a) {
                d("#w2ui-popup .w2ui-popup-btn").focus().addClass("clicked")
            },
            onClose: function () {
                "function" == typeof c && c()
            }
        }), {
            ok: function (a) {
                return c = a, this
            },
            done: function (a) {
                return c = a, this
            }
        }
    },
    w2confirm = function (a, b, c) {
        var d = jQuery,
            e = {},
            f = {
                msg: "",
                title: w2utils.lang("Confirmation"),
                width: d("#w2ui-popup").length > 0 ? 400 : 450,
                height: d("#w2ui-popup").length > 0 ? 170 : 220,
                yes_text: "Yes",
                yes_class: "",
                yes_style: "",
                yes_callBack: null,
                no_text: "No",
                no_class: "",
                no_style: "",
                no_callBack: null,
                focus_to_no: !1,
                callBack: null
            };
        return 1 == arguments.length && "object" == typeof a ? d.extend(e, f, a) : "function" == typeof b ? d.extend(e, f, {
            msg: a,
            callBack: b
        }) : d.extend(e, f, {
            msg: a,
            title: b,
            callBack: c
        }), "object" == typeof e.btn_yes && (e.yes_text = e.btn_yes.text || e.yes_text, e.yes_class = e.btn_yes.class || e.yes_class, e.yes_style = e.btn_yes.style || e.yes_style, e.yes_callBack = e.btn_yes.callBack || e.yes_callBack), "object" == typeof e.btn_no && (e.no_text = e.btn_no.text || e.no_text, e.no_class = e.btn_no.class || e.no_class, e.no_style = e.btn_no.style || e.no_style, e.no_callBack = e.btn_no.callBack || e.no_callBack), d("#w2ui-popup").length > 0 && "closing" != w2popup.status && w2popup.get() ? (e.width > w2popup.get().width && (e.width = w2popup.get().width), e.height > w2popup.get().height - 50 && (e.height = w2popup.get().height - 50), w2popup.message({
            width: e.width,
            height: e.height,
            body: '<div class="w2ui-centered w2ui-confirm-msg" style="font-size: 13px;">' + e.msg + "</div>",
            buttons: '<button id="Yes" class="w2ui-popup-btn w2ui-btn ' + e.yes_class + '" style="' + e.yes_style + '">' + w2utils.lang(e.yes_text) + '</button><button id="No" class="w2ui-popup-btn w2ui-btn ' + e.no_class + '" style="' + e.no_style + '">' + w2utils.lang(e.no_text) + "</button>",
            onOpen: function () {
                d("#w2ui-popup .w2ui-message .w2ui-btn").on("click.w2confirm", function (a) {
                    w2popup._confirm_btn = a.target.id, w2popup.message()
                })
            },
            onClose: function () {
                d("#w2ui-popup .w2ui-message .w2ui-btn").off("click.w2confirm"), setTimeout(function () {
                    "function" == typeof e.callBack && e.callBack(w2popup._confirm_btn), "Yes" == w2popup._confirm_btn && "function" == typeof e.yes_callBack && e.yes_callBack(), "No" == w2popup._confirm_btn && "function" == typeof e.no_callBack && e.no_callBack()
                }, 300)
            }
        })) : (w2utils.isInt(e.height) || (e.height = e.height + 50), w2popup.open({
            width: e.width,
            height: e.height,
            title: e.title,
            modal: !0,
            showClose: !1,
            body: '<div class="w2ui-centered w2ui-confirm-msg" style="font-size: 13px;">' + e.msg + "</div>",
            buttons: '<button id="Yes" class="w2ui-popup-btn w2ui-btn ' + e.yes_class + '" style="' + e.yes_style + '">' + w2utils.lang(e.yes_text) + '</button><button id="No" class="w2ui-popup-btn w2ui-btn ' + e.no_class + '" style="' + e.no_style + '">' + w2utils.lang(e.no_text) + "</button>",
            onOpen: function (a) {
                setTimeout(function () {
                    d("#w2ui-popup .w2ui-popup-btn").on("click", function (a) {
                        w2popup.close(), "function" == typeof e.callBack && e.callBack(a.target.id), "Yes" == a.target.id && "function" == typeof e.yes_callBack && e.yes_callBack(), "No" == a.target.id && "function" == typeof e.no_callBack && e.no_callBack()
                    }), e.focus_to_no ? d("#w2ui-popup .w2ui-popup-btn#No").focus() : d("#w2ui-popup .w2ui-popup-btn#Yes").focus()
                }, 1)
            },
            onKeydown: function (a) {
                if (0 === d("#w2ui-popup .w2ui-message").length) switch (a.originalEvent.keyCode) {
                    case 13:
                        d("#w2ui-popup .w2ui-popup-btn#Yes").focus().addClass("clicked"), w2popup.close();
                        break;
                    case 27:
                        d("#w2ui-popup .w2ui-popup-btn#No").focus().click(), w2popup.close()
                }
            }
        })), {
            yes: function (a) {
                return e.yes_callBack = a, this
            },
            no: function (a) {
                return e.no_callBack = a, this
            }
        }
    },
    w2prompt = function (a, b, c) {
        var d = jQuery,
            e = {},
            f = {
                label: "",
                value: "",
                attrs: "",
                textarea: !1,
                title: w2utils.lang("Notification"),
                ok_text: w2utils.lang("Ok"),
                cancel_text: w2utils.lang("Cancel"),
                width: d("#w2ui-popup").length > 0 ? 400 : 450,
                height: d("#w2ui-popup").length > 0 ? 170 : 220,
                callBack: null
            };
        return 1 == arguments.length && "object" == typeof a ? d.extend(e, f, a) : "function" == typeof b ? d.extend(e, f, {
            label: a,
            callBack: b
        }) : d.extend(e, f, {
            label: a,
            title: b,
            callBack: c
        }), d("#w2ui-popup").length > 0 && "closing" != w2popup.status && w2popup.get() ? (e.width > w2popup.get().width && (e.width = w2popup.get().width), e.height > w2popup.get().height - 50 && (e.height = w2popup.get().height - 50), w2popup.message({
            width: e.width,
            height: e.height,
            body: e.textarea ? '<div class="w2ui-prompt" style="font-size: 13px; padding: 15px 10px 0 10px;">  <div style="padding-bottom: 5px">' + e.label + '</div>  <textarea id="w2prompt" ' + e.attrs + "></textarea></div>" : '<div class="w2ui-prompt w2ui-centered" style="font-size: 13px;">  <label style="margin-right: 10px;">' + e.label + '</label>  <input id="w2prompt" ' + e.attrs + "></div>",
            buttons: '<button id="Ok" class="w2ui-popup-btn w2ui-btn">' + e.ok_text + '</button><button id="Cancel" class="w2ui-popup-btn w2ui-btn">' + e.cancel_text + "</button>",
            onOpen: function () {
                d("#w2prompt").val(e.value), d("#w2ui-popup .w2ui-message .w2ui-btn#Ok").on("click.w2prompt", function (a) {
                    w2popup._prompt_value = d("#w2prompt").val(), w2popup.message()
                }), d("#w2ui-popup .w2ui-message .w2ui-btn#Cancel").on("click.w2prompt", function (a) {
                    w2popup._prompt_value = null, w2popup.message()
                }), setTimeout(function () {
                    d("#w2prompt").focus()
                }, 100)
            },
            onClose: function () {
                d("#w2ui-popup .w2ui-message .w2ui-btn").off("click.w2prompt"), setTimeout(function () {
                    "function" == typeof e.callBack && null != w2popup._prompt_value && e.callBack(w2popup._prompt_value)
                }, 300)
            }
        })) : (w2utils.isInt(e.height) || (e.height = e.height + 50), w2popup.open({
            width: e.width,
            height: e.height,
            title: e.title,
            modal: !0,
            showClose: !1,
            body: e.textarea ? '<div class="w2ui-prompt" style="font-size: 13px; padding: 15px 10px 0 10px;">  <div style="padding-bottom: 5px">' + e.label + '</div>  <textarea id="w2prompt" ' + e.attrs + "></textarea></div>" : '<div class="w2ui-prompt w2ui-centered" style="font-size: 13px;">  <label style="margin-right: 10px;">' + e.label + '</label>  <input id="w2prompt" ' + e.attrs + "></div>",
            buttons: '<button id="Ok" class="w2ui-popup-btn w2ui-btn">' + e.ok_text + '</button><button id="Cancel" class="w2ui-popup-btn w2ui-btn">' + e.cancel_text + "</button>",
            onOpen: function (a) {
                setTimeout(function () {
                    d("#w2prompt").val(e.value), d("#w2prompt").w2field("text"), d("#w2ui-popup .w2ui-popup-btn#Ok").on("click", function (a) {
                        w2popup._prompt_value = d("#w2prompt").val(), w2popup.close(), "function" == typeof e.callBack && e.callBack(w2popup._prompt_value)
                    }), d("#w2ui-popup .w2ui-popup-btn#Cancel").on("click", function (a) {
                        w2popup._prompt_value = null, w2popup.close()
                    }), d("#w2ui-popup .w2ui-popup-btn#Ok"), setTimeout(function () {
                        d("#w2prompt").focus()
                    }, 100)
                }, 1)
            },
            onKeydown: function (a) {
                if (0 === d("#w2ui-popup .w2ui-message").length) switch (a.originalEvent.keyCode) {
                    case 13:
                        d("#w2ui-popup .w2ui-popup-btn#Ok").focus().addClass("clicked"), w2popup.close();
                        break;
                    case 27:
                        w2popup.close()
                }
            }
        })), {
            change: function (a) {
                return d("#w2prompt").on("keyup", a).keyup(), this
            },
            ok: function (a) {
                return e.callBack = a, this
            }
        }
    };
! function (a) {
    var b = function (b) {
        this.box = null, this.name = null, this.active = null, this.flow = "down", this.tooltip = "top|left", this.tabs = [], this.routeData = {}, this.right = "", this.style = "", a.extend(this, {
            handlers: []
        }), a.extend(!0, this, w2obj.tabs, b)
    };
    a.fn.w2tabs = function (c) {
        if (a.isPlainObject(c)) {
            if (!w2utils.checkName(c, "w2tabs")) return;
            for (var d = c.tabs || [], e = new b(c), f = 0; f < d.length; f++) e.tabs[f] = a.extend({}, b.prototype.tab, d[f]);
            return 0 !== a(this).length && e.render(a(this)[0]), w2ui[e.name] = e, e
        }
        var g = w2ui[a(this).attr("name")];
        return g ? arguments.length > 0 ? (g[c] && g[c].apply(g, Array.prototype.slice.call(arguments, 1)), this) : g : null
    }, b.prototype = {
        onClick: null,
        onClose: null,
        onRender: null,
        onRefresh: null,
        onResize: null,
        onDestroy: null,
        tab: {
            id: null,
            text: null,
            route: null,
            hidden: !1,
            disabled: !1,
            closable: !1,
            tooltip: null,
            style: "",
            onClick: null,
            onRefresh: null,
            onClose: null
        },
        add: function (a) {
            return this.insert(null, a)
        },
        insert: function (c, d) {
            a.isArray(d) || (d = [d]);
            for (var e = 0; e < d.length; e++) {
                if (null == d[e].id) return void console.log('ERROR: The parameter "id" is required but not supplied. (obj: ' + this.name + ")");
                if (!w2utils.checkUniqueId(d[e].id, this.tabs, "tabs", this.name)) return;
                var f = a.extend({}, b.prototype.tab, d[e]);
                if (null == c) this.tabs.push(f);
                else {
                    var g = this.get(c, !0);
                    this.tabs = this.tabs.slice(0, g).concat([f], this.tabs.slice(g))
                }
                this.refresh(d[e].id), this.resize()
            }
        },
        remove: function () {
            for (var b = 0, c = 0; c < arguments.length; c++) {
                var d = this.get(arguments[c]);
                if (!d) return !1;
                b++, this.tabs.splice(this.get(d.id, !0), 1), a(this.box).find("#tabs_" + this.name + "_tab_" + w2utils.escapeId(d.id)).remove()
            }
            return this.resize(), b
        },
        select: function (a) {
            return this.active != a && null != this.get(a) && (this.active = a, this.refresh(), !0)
        },
        set: function (b, c) {
            var d = this.get(b, !0);
            return null != d && (a.extend(this.tabs[d], c), this.refresh(b), !0)
        },
        get: function (a, b) {
            if (0 === arguments.length) {
                for (var c = [], d = 0; d < this.tabs.length; d++) null != this.tabs[d].id && c.push(this.tabs[d].id);
                return c
            }
            for (var e = 0; e < this.tabs.length; e++)
                if (this.tabs[e].id == a) return b === !0 ? e : this.tabs[e];
            return null
        },
        show: function () {
            for (var a = this, b = 0, c = [], d = 0; d < arguments.length; d++) {
                var e = this.get(arguments[d]);
                e && e.hidden !== !1 && (b++, e.hidden = !1, c.push(e.id))
            }
            return setTimeout(function () {
                for (var b = 0; b < c.length; b++) a.refresh(c[b]);
                a.resize()
            }, 15), b
        },
        hide: function () {
            for (var a = this, b = 0, c = [], d = 0; d < arguments.length; d++) {
                var e = this.get(arguments[d]);
                e && e.hidden !== !0 && (b++, e.hidden = !0, c.push(e.id))
            }
            return setTimeout(function () {
                for (var b = 0; b < c.length; b++) a.refresh(c[b]);
                a.resize()
            }, 15), b
        },
        enable: function () {
            for (var a = this, b = 0, c = [], d = 0; d < arguments.length; d++) {
                var e = this.get(arguments[d]);
                e && e.disabled !== !1 && (b++, e.disabled = !1, c.push(e.id))
            }
            return setTimeout(function () {
                for (var b = 0; b < c.length; b++) a.refresh(c[b])
            }, 15), b
        },
        disable: function () {
            for (var a = this, b = 0, c = [], d = 0; d < arguments.length; d++) {
                var e = this.get(arguments[d]);
                e && e.disabled !== !0 && (b++, e.disabled = !0, c.push(e.id))
            }
            return setTimeout(function () {
                for (var b = 0; b < c.length; b++) a.refresh(c[b])
            }, 15), b
        },
        tooltipShow: function (b, c, d) {
            if (null != this.tooltip) {
                var e = a(this.box).find("#tabs_" + this.name + "_tab_" + w2utils.escapeId(b)),
                    f = this.get(b),
                    g = this.tooltip,
                    h = f.tooltip;
                "function" == typeof h && (h = h.call(this, f)), e.prop("_mouse_over", !0), setTimeout(function () {
                    e.prop("_mouse_over") === !0 && e.prop("_mouse_tooltip") !== !0 && (e.prop("_mouse_tooltip", !0), e.w2tag(w2utils.lang(h), {
                        position: g
                    })), 1 == d && e.w2tag(w2utils.lang(h), {
                        position: g
                    })
                }, 1)
            }
        },
        tooltipHide: function (b) {
            if (null != this.tooltip) {
                var c = a(this.box).find("#tabs_" + this.name + "_tab_" + w2utils.escapeId(b));
                this.get(b);
                c.removeProp("_mouse_over"), setTimeout(function () {
                    c.prop("_mouse_over") !== !0 && c.prop("_mouse_tooltip") === !0 && (c.removeProp("_mouse_tooltip"),
                        c.w2tag())
                }, 1)
            }
        },
        refresh: function (b) {
            var c = (new Date).getTime();
            "up" == this.flow ? a(this.box).addClass("w2ui-tabs-up") : a(this.box).removeClass("w2ui-tabs-up");
            var d = this.trigger({
                phase: "before",
                type: "refresh",
                target: null != b ? b : this.name,
                object: this.get(b)
            });
            if (d.isCancelled !== !0) {
                if (null == b)
                    for (var e = 0; e < this.tabs.length; e++) this.refresh(this.tabs[e].id);
                else {
                    var f = this.get(b);
                    if (null == f) return !1;
                    null == f.text && null != f.caption && (f.text = f.caption), null == f.tooltip && null != f.hint && (f.tooltip = f.hint);
                    var g = f.text;
                    "function" == typeof g && (g = g.call(this, f)), null == g && (g = "");
                    var h = a(this.box).find("#tabs_" + this.name + "_tab_" + w2utils.escapeId(f.id)),
                        i = "";
                    f.closable && !f.disabled && (i = '<div class="w2ui-tab-close"     onmouseover = "w2ui[\'' + this.name + "'].tooltipShow('" + f.id + "', event);\"    onmouseout  = \"w2ui['" + this.name + "'].tooltipHide('" + f.id + "', event);\"    onclick=\"w2ui['" + this.name + "'].animateClose('" + f.id + "', event);\"></div>");
                    var j = i + '    <div class="w2ui-tab' + (this.active === f.id ? " active" : "") + (f.closable ? " closable" : "") + (f.class ? " " + f.class : "") + '" style="' + f.style + '"         onmouseover = "' + (f.disabled ? "" : "w2ui['" + this.name + "'].tooltipShow('" + f.id + "', event);") + '"        onmouseout  = "' + (f.disabled ? "" : "w2ui['" + this.name + "'].tooltipHide('" + f.id + "', event);") + '"        onclick="w2ui[\'' + this.name + "'].click('" + f.id + "', event);\">" + w2utils.lang(g) + "</div>";
                    if (0 === h.length) {
                        var k = "";
                        f.hidden && (k += "display: none;"), f.disabled && (k += "opacity: 0.2;");
                        var l = '<td id="tabs_' + this.name + "_tab_" + f.id + '" style="' + k + '" valign="middle">' + j + "</td>";
                        this.get(b, !0) !== this.tabs.length - 1 && a(this.box).find("#tabs_" + this.name + "_tab_" + w2utils.escapeId(this.tabs[parseInt(this.get(b, !0)) + 1].id)).length > 0 ? a(this.box).find("#tabs_" + this.name + "_tab_" + w2utils.escapeId(this.tabs[parseInt(this.get(b, !0)) + 1].id)).before(l) : a(this.box).find("#tabs_" + this.name + "_right").before(l)
                    } else h.html(j), f.hidden ? h.css("display", "none") : h.css("display", ""), f.disabled ? h.css({
                        opacity: "0.2"
                    }) : h.css({
                        opacity: "1"
                    })
                }
                return a("#tabs_" + this.name + "_right").html(this.right), this.trigger(a.extend(d, {
                    phase: "after"
                })), (new Date).getTime() - c
            }
        },
        render: function (b) {
            var c = (new Date).getTime(),
                d = this.trigger({
                    phase: "before",
                    type: "render",
                    target: this.name,
                    box: b
                });
            if (d.isCancelled !== !0) {
                if (null != b && (a(this.box).find("> table #tabs_" + this.name + "_right").length > 0 && a(this.box).removeAttr("name").removeClass("w2ui-reset w2ui-tabs").html(""), this.box = b), !this.box) return !1;
                var e = '<div class="w2ui-scroll-wrapper" onmousedown="var el=w2ui[\'' + this.name + '\']; if (el) el.resize();"><table cellspacing="0" cellpadding="1" width="100%"><tbody>    <tr><td width="100%" id="tabs_' + this.name + '_right" align="right">' + this.right + '</td></tr></tbody></table></div><div class="w2ui-scroll-left" onclick="var el=w2ui[\'' + this.name + "']; if (el) el.scroll('left');\"></div><div class=\"w2ui-scroll-right\" onclick=\"var el=w2ui['" + this.name + "']; if (el) el.scroll('right');\"></div>";
                return a(this.box).attr("name", this.name).addClass("w2ui-reset w2ui-tabs").html(e), a(this.box).length > 0 && (a(this.box)[0].style.cssText += this.style), this.trigger(a.extend(d, {
                    phase: "after"
                })), this.refresh(), this.resize(), (new Date).getTime() - c
            }
        },
        scroll: function (b) {
            var c, d, e, f = a(this.box),
                g = this,
                h = f.find(".w2ui-scroll-wrapper"),
                i = h.scrollLeft();
            switch (b) {
                case "left":
                    c = h.outerWidth(), d = h.find(":first").outerWidth(), e = i - c + 50, e <= 0 && (e = 0), h.animate({
                        scrollLeft: e
                    }, 300);
                    break;
                case "right":
                    c = h.outerWidth(), d = h.find(":first").outerWidth(), e = i + c - 50, e >= d - c && (e = d - c), h.animate({
                        scrollLeft: e
                    }, 300)
            }
            setTimeout(function () {
                g.resize()
            }, 350)
        },
        resize: function () {
            var b = (new Date).getTime(),
                c = this.trigger({
                    phase: "before",
                    type: "resize",
                    target: this.name
                });
            if (c.isCancelled !== !0) {
                var d = a(this.box);
                d.find(".w2ui-scroll-left, .w2ui-scroll-right").hide();
                var e = d.find(".w2ui-scroll-wrapper");
                return e.find(":first").outerWidth() > e.outerWidth() && (e.scrollLeft() > 0 && d.find(".w2ui-scroll-left").show(), e.scrollLeft() < e.find(":first").outerWidth() - e.outerWidth() && d.find(".w2ui-scroll-right").show()), this.trigger(a.extend(c, {
                    phase: "after"
                })), (new Date).getTime() - b
            }
        },
        destroy: function () {
            var b = this.trigger({
                phase: "before",
                type: "destroy",
                target: this.name
            });
            b.isCancelled !== !0 && (a(this.box).find("> table #tabs_" + this.name + "_right").length > 0 && a(this.box).removeAttr("name").removeClass("w2ui-reset w2ui-tabs").html(""), delete w2ui[this.name], this.trigger(a.extend(b, {
                phase: "after"
            })))
        },
        click: function (b, c) {
            var d = this.get(b);
            if (null == d || d.disabled) return !1;
            var e = this.trigger({
                phase: "before",
                type: "click",
                target: b,
                tab: d,
                object: d,
                originalEvent: c
            });
            if (e.isCancelled !== !0) {
                if (a(this.box).find("#tabs_" + this.name + "_tab_" + w2utils.escapeId(this.active) + " .w2ui-tab").removeClass("active"), this.active = d.id, "string" == typeof d.route) {
                    var f = "" !== d.route ? String("/" + d.route).replace(/\/{2,}/g, "/") : "",
                        g = w2utils.parseRoute(f);
                    if (g.keys.length > 0)
                        for (var h = 0; h < g.keys.length; h++) null != this.routeData[g.keys[h].name] && (f = f.replace(new RegExp(":" + g.keys[h].name, "g"), this.routeData[g.keys[h].name]));
                    setTimeout(function () {
                        window.location.hash = f
                    }, 1)
                }
                this.trigger(a.extend(e, {
                    phase: "after"
                })), this.refresh(b)
            }
        },
        animateClose: function (b, c) {
            var d = this.get(b);
            if (null == d || d.disabled) return !1;
            var e = this.trigger({
                phase: "before",
                type: "close",
                target: b,
                object: this.get(b),
                originalEvent: c
            });
            if (e.isCancelled !== !0) {
                var f = this;
                a(this.box).find("#tabs_" + this.name + "_tab_" + w2utils.escapeId(d.id)).css(w2utils.cssPrefix("transition", ".2s")).css("opacity", "0"), setTimeout(function () {
                    var b = a(f.box).find("#tabs_" + f.name + "_tab_" + w2utils.escapeId(d.id)).width();
                    a(f.box).find("#tabs_" + f.name + "_tab_" + w2utils.escapeId(d.id)).html('<div style="width: ' + b + "px; " + w2utils.cssPrefix("transition", ".2s", !0) + '"></div>'), setTimeout(function () {
                        a(f.box).find("#tabs_" + f.name + "_tab_" + w2utils.escapeId(d.id)).find(":first-child").css({
                            width: "0px"
                        })
                    }, 50)
                }, 200), setTimeout(function () {
                    f.remove(b)
                }, 450), this.trigger(a.extend(e, {
                    phase: "after"
                })), this.refresh()
            }
        },
        animateInsert: function (b, c) {
            if (null != this.get(b) && a.isPlainObject(c) && w2utils.checkUniqueId(c.id, this.tabs, "tabs", this.name)) {
                var d = a(this.box).find("#tabs_" + this.name + "_tab_" + w2utils.escapeId(c.id));
                if (0 === d.length) {
                    null == c.text && null != c.caption && (c.text = c.caption);
                    var e = '<div id="_tmp_tabs" class="w2ui-reset w2ui-tabs" style="position: absolute; top: -1000px;"><table cellspacing="0" cellpadding="1" width="100%"><tbody><tr><td id="_tmp_simple_tab" style="" valign="middle">' + (c.closable ? '<div class="w2ui-tab-close"></div>' : "") + '    <div class="w2ui-tab ' + (this.active === c.id ? "active" : "") + '">' + c.text + "</div></td></tr></tbody></table></div>";
                    a("body").append(e);
                    var f = '<div style="width: 1px; ' + w2utils.cssPrefix("transition", ".2s", !0) + '">&#160;</div>',
                        g = "";
                    c.hidden && (g += "display: none;"), c.disabled && (g += "opacity: 0.2;");
                    var h = '<td id="tabs_' + this.name + "_tab_" + c.id + '" style="' + g + '" valign="middle">' + f + "</td>";
                    this.get(b, !0) !== this.tabs.length && a(this.box).find("#tabs_" + this.name + "_tab_" + w2utils.escapeId(this.tabs[parseInt(this.get(b, !0))].id)).length > 0 ? a(this.box).find("#tabs_" + this.name + "_tab_" + w2utils.escapeId(this.tabs[parseInt(this.get(b, !0))].id)).before(h) : a(this.box).find("#tabs_" + this.name + "_right").before(h);
                    var i = this;
                    setTimeout(function () {
                        var b = a("#_tmp_simple_tab").width();
                        a("#_tmp_tabs").remove(), a("#tabs_" + i.name + "_tab_" + w2utils.escapeId(c.id) + " > div").css("width", b + "px")
                    }, 1), setTimeout(function () {
                        i.insert(b, c)
                    }, 200)
                }
            }
        }
    }, a.extend(b.prototype, w2utils.event), w2obj.tabs = b
}(jQuery),
function (a) {
    var b = function (b) {
        this.box = null, this.name = null, this.routeData = {}, this.items = [], this.right = "", this.tooltip = "top|left", a.extend(!0, this, w2obj.toolbar, b)
    };
    a.fn.w2toolbar = function (c) {
        if (a.isPlainObject(c)) {
            if (!w2utils.checkName(c, "w2toolbar")) return;
            var d = c.items || [],
                e = new b(c);
            a.extend(e, {
                items: [],
                handlers: []
            });
            for (var f = 0; f < d.length; f++)
                if (e.items[f] = a.extend({}, b.prototype.item, d[f]), "menu-check" == e.items[f].type) {
                    var g = e.items[f];
                    if (Array.isArray(g.selected) || (g.selected = []), Array.isArray(g.items))
                        for (var h = 0; h < g.items.length; h++) {
                            var i = g.items[h];
                            i.checked && g.selected.indexOf(i.id) == -1 && g.selected.push(i.id), i.checked || g.selected.indexOf(i.id) == -1 || (i.checked = !0), null == i.checked && (i.checked = !1)
                        }
                } else if ("menu-radio" == e.items[f].type) {
                var g = e.items[f];
                if (Array.isArray(g.items))
                    for (var h = 0; h < g.items.length; h++) {
                        var i = g.items[h];
                        i.checked && null == g.selected ? g.selected = i.id : i.checked = !1, i.checked || g.selected != i.id || (i.checked = !0), null == i.checked && (i.checked = !1)
                    }
            }
            return 0 !== a(this).length && e.render(a(this)[0]), w2ui[e.name] = e, e
        }
        var j = w2ui[a(this).attr("name")];
        return j ? arguments.length > 0 ? (j[c] && j[c].apply(j, Array.prototype.slice.call(arguments, 1)), this) : j : null
    }, b.prototype = {
        onClick: null,
        onRender: null,
        onRefresh: null,
        onResize: null,
        onDestroy: null,
        item: {
            id: null,
            type: "button",
            text: null,
            html: "",
            tooltip: null,
            count: null,
            hidden: !1,
            disabled: !1,
            checked: !1,
            img: null,
            icon: null,
            route: null,
            arrow: !0,
            style: null,
            color: null,
            transparent: null,
            advanced: null,
            group: null,
            items: null,
            selected: null,
            overlay: {},
            onClick: null,
            onRefresh: null
        },
        add: function (a) {
            this.insert(null, a)
        },
        insert: function (c, d) {
            a.isArray(d) || (d = [d]);
            for (var e = 0; e < d.length; e++) {
                if (null == d[e].type) return void console.log('ERROR: The parameter "type" is required but not supplied in w2toolbar.add() method.');
                if (a.inArray(String(d[e].type), ["button", "check", "radio", "drop", "menu", "menu-radio", "menu-check", "color", "text-color", "break", "html", "spacer"]) == -1) return void console.log('ERROR: The parameter "type" should be one of the following [button, check, radio, drop, menu, break, html, spacer] in w2toolbar.add() method.');
                if (null == d[e].id && "break" != d[e].type && "spacer" != d[e].type) return void console.log('ERROR: The parameter "id" is required but not supplied in w2toolbar.add() method.');
                if (!w2utils.checkUniqueId(d[e].id, this.items, "toolbar items", this.name)) return;
                var f = a.extend({}, b.prototype.item, d[e]);
                if (null == c) this.items.push(f);
                else {
                    var g = this.get(c, !0);
                    this.items = this.items.slice(0, g).concat([f], this.items.slice(g))
                }
                this.refresh(f.id), this.resize()
            }
        },
        remove: function () {
            for (var b = 0, c = 0; c < arguments.length; c++) {
                var d = this.get(arguments[c]);
                if (d && String(arguments[c]).indexOf(":") == -1) {
                    b++, a(this.box).find("#tb_" + this.name + "_item_" + w2utils.escapeId(d.id)).remove();
                    var e = this.get(d.id, !0);
                    null != e && this.items.splice(e, 1)
                }
            }
            return this.resize(), b
        },
        set: function (b, c) {
            var d = this.get(b);
            return null != d && (a.extend(d, c), this.refresh(String(b).split(":")[0]), !0)
        },
        get: function (a, b) {
            if (0 === arguments.length) {
                for (var c = [], d = 0; d < this.items.length; d++) null != this.items[d].id && c.push(this.items[d].id);
                return c
            }
            for (var e = String(a).split(":"), f = 0; f < this.items.length; f++) {
                var g = this.items[f];
                if (["menu", "menu-radio", "menu-check"].indexOf(g.type) != -1 && 2 == e.length && g.id == e[0])
                    for (var h = 0; h < g.items.length; h++) {
                        var i = g.items[h];
                        if (i.id == e[1] || null == i.id && i.text == e[1]) return 1 == b ? h : i
                    } else if (g.id == e[0]) return 1 == b ? f : g
            }
            return null
        },
        show: function () {
            for (var a = this, b = 0, c = [], d = 0; d < arguments.length; d++) {
                var e = this.get(arguments[d]);
                e && (b++, e.hidden = !1, c.push(String(arguments[d]).split(":")[0]))
            }
            return setTimeout(function () {
                for (var b = 0; b < c.length; b++) a.refresh(c[b]);
                a.resize()
            }, 15), b
        },
        hide: function () {
            for (var a = this, b = 0, c = [], d = 0; d < arguments.length; d++) {
                var e = this.get(arguments[d]);
                e && (b++, e.hidden = !0, c.push(String(arguments[d]).split(":")[0]))
            }
            return setTimeout(function () {
                for (var b = 0; b < c.length; b++) a.refresh(c[b]), a.tooltipHide(c[b]);
                a.resize()
            }, 15), b
        },
        enable: function () {
            for (var a = this, b = 0, c = [], d = 0; d < arguments.length; d++) {
                var e = this.get(arguments[d]);
                e && (b++, e.disabled = !1, c.push(String(arguments[d]).split(":")[0]))
            }
            return setTimeout(function () {
                for (var b = 0; b < c.length; b++) a.refresh(c[b])
            }, 15), b
        },
        disable: function () {
            for (var a = this, b = 0, c = [], d = 0; d < arguments.length; d++) {
                var e = this.get(arguments[d]);
                e && (b++, e.disabled = !0, c.push(String(arguments[d]).split(":")[0]))
            }
            return setTimeout(function () {
                for (var b = 0; b < c.length; b++) a.refresh(c[b]), a.tooltipHide(c[b])
            }, 15), b
        },
        check: function () {
            for (var a = this, b = 0, c = [], d = 0; d < arguments.length; d++) {
                var e = this.get(arguments[d]);
                e && String(arguments[d]).indexOf(":") == -1 && (b++, e.checked = !0, c.push(String(arguments[d]).split(":")[0]))
            }
            return setTimeout(function () {
                for (var b = 0; b < c.length; b++) a.refresh(c[b])
            }, 15), b
        },
        uncheck: function () {
            for (var b = this, c = 0, d = [], e = 0; e < arguments.length; e++) {
                var f = this.get(arguments[e]);
                f && String(arguments[e]).indexOf(":") == -1 && (["menu", "menu-radio", "menu-check", "drop", "color", "text-color"].indexOf(f.type) != -1 && f.checked && setTimeout(function () {
                    var c = a("#tb_" + b.name + "_item_" + w2utils.escapeId(f.id));
                    c.w2overlay({
                        name: b.name
                    })
                }, 1), c++, f.checked = !1, d.push(String(arguments[e]).split(":")[0]))
            }
            return setTimeout(function () {
                for (var a = 0; a < d.length; a++) b.refresh(d[a])
            }, 15), c
        },
        click: function (b, c) {
            var d = this,
                e = String(b).split(":"),
                f = this.get(e[0]);
            if (e.length > 1) {
                var g = this.get(b);
                return void(g && !g.disabled && d.menuClick({
                    name: d.name,
                    item: f,
                    subItem: g,
                    originalEvent: c
                }))
            }
            if (f && !f.disabled) {
                var h = this.trigger({
                    phase: "before",
                    type: "click",
                    target: null != b ? b : this.name,
                    item: f,
                    object: f,
                    originalEvent: c
                });
                if (h.isCancelled === !0) return;
                var i = "#tb_" + this.name + "_item_" + w2utils.escapeId(f.id) + " table.w2ui-button";
                if (a(i).removeClass("down"), "radio" == f.type) {
                    for (var j = 0; j < this.items.length; j++) {
                        var k = this.items[j];
                        null != k && k.id != f.id && "radio" === k.type && k.group == f.group && k.checked && (k.checked = !1, this.refresh(k.id))
                    }
                    f.checked = !0, a(i).addClass("checked")
                }
                if (["menu", "menu-radio", "menu-check", "drop", "color", "text-color"].indexOf(f.type) != -1 && (d.tooltipHide(b), f.checked ? setTimeout(function () {
                        var b = a("#tb_" + d.name + "_item_" + w2utils.escapeId(f.id));
                        b.w2overlay({
                            name: d.name
                        }), f.checked = !1, d.refresh(f.id)
                    }, 1) : setTimeout(function () {
                        function b(b) {
                            f.checked = !1, a(i).removeClass("checked")
                        }
                        var c = a("#tb_" + d.name + "_item_" + w2utils.escapeId(f.id));
                        a.isPlainObject(f.overlay) || (f.overlay = {});
                        var e = (c.width() - 50) / 2;
                        if (e > 19 && (e = 19), "drop" == f.type && c.w2overlay(f.html, a.extend({
                                name: d.name,
                                left: e,
                                top: 3
                            }, f.overlay, {
                                onHide: function (a) {
                                    b()
                                }
                            })), ["menu", "menu-radio", "menu-check"].indexOf(f.type) != -1) {
                            var g = "normal";
                            "menu-radio" == f.type && (g = "radio", f.items.forEach(function (a) {
                                f.selected == a.id ? a.checked = !0 : a.checked = !1
                            })), "menu-check" == f.type && (g = "check", f.items.forEach(function (b) {
                                a.isArray(f.selected) && f.selected.indexOf(b.id) != -1 ? b.checked = !0 : b.checked = !1
                            })), c.w2menu(a.extend({
                                name: d.name,
                                items: f.items,
                                left: e,
                                top: 3
                            }, f.overlay, {
                                type: g,
                                select: function (a) {
                                    d.menuClick({
                                        name: d.name,
                                        item: f,
                                        subItem: a.item,
                                        originalEvent: a.originalEvent,
                                        keepOpen: a.keepOpen
                                    })
                                },
                                onHide: function (a) {
                                    b()
                                }
                            }))
                        } ["color", "text-color"].indexOf(f.type) != -1 && (null == f.transparent && (f.transparent = !0), a(c).w2color({
                            color: f.color,
                            transparent: f.transparent,
                            advanced: f.advanced,
                            onHide: function (a) {
                                b(), d._tmpColor && d.colorClick({
                                    name: d.name,
                                    item: f,
                                    color: d._tmpColor,
                                    final: !0
                                }), delete d._tmpColor
                            },
                            onSelect: function (a) {
                                null != a && (d.colorClick({
                                    name: d.name,
                                    item: f,
                                    color: a
                                }), d._tmpColor = a)
                            }
                        }))
                    }, 1)), ["check", "menu", "menu-radio", "menu-check", "drop", "color", "text-color"].indexOf(f.type) != -1 && (f.checked = !f.checked, f.checked ? a(i).addClass("checked") : a(i).removeClass("checked")), f.route) {
                    var l = String("/" + f.route).replace(/\/{2,}/g, "/"),
                        m = w2utils.parseRoute(l);
                    if (m.keys.length > 0)
                        for (var n = 0; n < m.keys.length; n++) l = l.replace(new RegExp(":" + m.keys[n].name, "g"), this.routeData[m.keys[n].name]);
                    setTimeout(function () {
                        window.location.hash = l
                    }, 1)
                }
                c && ["button", "check", "radio"].indexOf(f.type) != -1 && this.tooltipShow(b, c, !0), this.trigger(a.extend(h, {
                    phase: "after"
                }))
            }
        },
        scroll: function (b) {
            var c, d, e, f = a(this.box),
                g = this,
                h = f.find(".w2ui-scroll-wrapper"),
                i = h.scrollLeft();
            switch (b) {
                case "left":
                    c = h.outerWidth(), d = h.find(":first").outerWidth(), e = i - c + 50, e <= 0 && (e = 0), h.animate({
                        scrollLeft: e
                    }, 300);
                    break;
                case "right":
                    c = h.outerWidth(), d = h.find(":first").outerWidth(), e = i + c - 50, e >= d - c && (e = d - c), h.animate({
                        scrollLeft: e
                    }, 300)
            }
            setTimeout(function () {
                g.resize()
            }, 350)
        },
        render: function (b) {
            var c = (new Date).getTime(),
                d = this.trigger({
                    phase: "before",
                    type: "render",
                    target: this.name,
                    box: b
                });
            if (d.isCancelled !== !0 && (null != b && (a(this.box).find("> table #tb_" + this.name + "_right").length > 0 && a(this.box).removeAttr("name").removeClass("w2ui-reset w2ui-toolbar").html(""), this.box = b), this.box)) {
                for (var e = '<div class="w2ui-scroll-wrapper" onmousedown="var el=w2ui[\'' + this.name + '\']; if (el) el.resize();"><table cellspacing="0" cellpadding="0" width="100%"><tbody><tr>', f = 0; f < this.items.length; f++) {
                    var g = this.items[f];
                    null != g && (null == g.id && (g.id = "item_" + f), e += "spacer" == g.type ? '<td width="100%" id="tb_' + this.name + "_item_" + g.id + '" align="right"></td>' : '<td id="tb_' + this.name + "_item_" + g.id + '" style="' + (g.hidden ? "display: none" : "") + '"     class="' + (g.disabled ? "disabled" : "") + '" valign="middle"></td>')
                }
                return e += '<td width="100%" id="tb_' + this.name + '_right" align="right">' + this.right + "</td>", e += '</tr></tbody></table></div><div class="w2ui-scroll-left" onclick="var el=w2ui[\'' + this.name + "']; if (el) el.scroll('left');\"></div><div class=\"w2ui-scroll-right\" onclick=\"var el=w2ui['" + this.name + "']; if (el) el.scroll('right');\"></div>", a(this.box).attr("name", this.name).addClass("w2ui-reset w2ui-toolbar").html(e), a(this.box).length > 0 && (a(this.box)[0].style.cssText += this.style), this.refresh(), this.resize(), this.trigger(a.extend(d, {
                    phase: "after"
                })), (new Date).getTime() - c
            }
        },
        refresh: function (b) {
            var c = (new Date).getTime(),
                d = this.trigger({
                    phase: "before",
                    type: "refresh",
                    target: null != b ? b : this.name,
                    item: this.get(b)
                });
            if (d.isCancelled !== !0) {
                if (null != b) {
                    var e = this.get(b);
                    if (null == e) return !1;
                    if ("function" == typeof e.onRefresh) {
                        var f = this.trigger({
                            phase: "before",
                            type: "refresh",
                            target: b,
                            item: e,
                            object: e
                        });
                        if (f.isCancelled === !0) return
                    }
                    var g = a(this.box).find("#tb_" + this.name + "_item_" + w2utils.escapeId(e.id)),
                        h = this.getItemHTML(e);
                    return this.tooltipHide(b, {}), 0 === g.length ? (h = "spacer" == e.type ? '<td width="100%" id="tb_' + this.name + "_item_" + e.id + '" align="right"></td>' : '<td id="tb_' + this.name + "_item_" + e.id + '" style="' + (e.hidden ? "display: none" : "") + '"     class="' + (e.disabled ? "disabled" : "") + '" valign="middle">' + h + "</td>", this.get(b, !0) == this.items.length - 1 ? a(this.box).find("#tb_" + this.name + "_right").before(h) : a(this.box).find("#tb_" + this.name + "_item_" + w2utils.escapeId(this.items[parseInt(this.get(b, !0)) + 1].id)).before(h)) : (["menu", "menu-radio", "menu-check", "drop", "color", "text-color"].indexOf(e.type) != -1 && 0 == e.checked && a("#w2ui-overlay-" + this.name).length > 0 && a("#w2ui-overlay-" + this.name)[0].hide(), g.html(h), e.hidden ? g.css("display", "none") : g.css("display", ""), e.disabled ? g.addClass("disabled") : g.removeClass("disabled")), "function" == typeof e.onRefresh && this.trigger(a.extend(f, {
                        phase: "after"
                    })), this.trigger(a.extend(d, {
                        phase: "after"
                    })), (new Date).getTime() - c
                }
                for (var i = 0; i < this.items.length; i++) {
                    var j = this.items[i];
                    null == j.id && (j.id = "item_" + i), this.refresh(j.id)
                }
            }
        },
        resize: function () {
            var b = (new Date).getTime(),
                c = this.trigger({
                    phase: "before",
                    type: "resize",
                    target: this.name
                });
            if (c.isCancelled !== !0) {
                var d = a(this.box);
                d.find(".w2ui-scroll-left, .w2ui-scroll-right").hide();
                var e = d.find(".w2ui-scroll-wrapper");
                return e.find(":first").outerWidth() > e.outerWidth() && (e.scrollLeft() > 0 && d.find(".w2ui-scroll-left").show(), e.scrollLeft() < e.find(":first").outerWidth() - e.outerWidth() && d.find(".w2ui-scroll-right").show()), this.trigger(a.extend(c, {
                    phase: "after"
                })), (new Date).getTime() - b
            }
        },
        destroy: function () {
            var b = this.trigger({
                phase: "before",
                type: "destroy",
                target: this.name
            });
            b.isCancelled !== !0 && (a(this.box).find("> table #tb_" + this.name + "_right").length > 0 && a(this.box).removeAttr("name").removeClass("w2ui-reset w2ui-toolbar").html(""), a(this.box).html(""), delete w2ui[this.name], this.trigger(a.extend(b, {
                phase: "after"
            })))
        },
        getItemHTML: function (a) {
            var b = "";
            null != a.caption && null == a.text && (a.text = a.caption), null == a.text && (a.text = ""), null == a.tooltip && null != a.hint && (a.tooltip = a.hint), null == a.tooltip && (a.tooltip = "");
            var c = "<td>&#160;</td>",
                d = a.text;
            if ("function" == typeof d && (d = d.call(this, a)), a.img && (c = '<td><div class="w2ui-tb-image w2ui-icon ' + a.img + '"></div></td>'), a.icon && (c = '<td><div class="w2ui-tb-image"><span class="' + a.icon + '"></span></div></td>'), "" === b) switch (a.type) {
                case "color":
                case "text-color":
                    "string" == typeof a.color && ("#" == a.color.substr(0, 1) && (a.color = a.color.substr(1)), 3 != a.color.length && 6 != a.color.length || (a.color = "#" + a.color)), "color" == a.type && (d = '<div style="height: 12px; width: 12px; margin-top: 1px; border: 1px solid #8A8A8A; border-radius: 1px; box-shadow: 0px 0px 1px #fff;         background-color: ' + (null != a.color ? a.color : "#fff") + '; float: left;"></div>' + (a.text ? '<div style="margin-left: 17px;">' + w2utils.lang(a.text) + "</div>" : "")), "text-color" == a.type && (d = '<div style="color: ' + (null != a.color ? a.color : "#444") + ';">' + (a.text ? w2utils.lang(a.text) : "<b>Aa</b>") + "</div>");
                case "menu":
                case "menu-check":
                case "menu-radio":
                case "button":
                case "check":
                case "radio":
                case "drop":
                    b += '<table cellpadding="0" cellspacing="0"        class="w2ui-button ' + (a.checked ? "checked" : "") + '"        onclick     = "var el=w2ui[\'' + this.name + "']; if (el) el.click('" + a.id + '\', event);"        onmouseenter = "' + (a.disabled ? "" : "jQuery(this).addClass('over'); w2ui['" + this.name + "'].tooltipShow('" + a.id + "', event);") + '"       onmouseleave = "' + (a.disabled ? "" : "jQuery(this).removeClass('over').removeClass('down'); w2ui['" + this.name + "'].tooltipHide('" + a.id + "', event);") + '"       onmousedown = "' + (a.disabled ? "" : "jQuery(this).addClass('down');") + '"       onmouseup   = "' + (a.disabled ? "" : "jQuery(this).removeClass('down');") + '"><tbody><tr><td>  <table cellpadding="1" cellspacing="0"><tbody>  <tr>' + c + ("" !== d ? '<td class="w2ui-tb-caption" nowrap="nowrap" style="' + (a.style ? a.style : "") + '">' + w2utils.lang(d) + "</td>" : "") + (null != a.count ? '<td class="w2ui-tb-count" nowrap="nowrap"><span>' + a.count + "</span></td>" : "") + (["menu", "menu-radio", "menu-check", "drop", "color", "text-color"].indexOf(a.type) != -1 && a.arrow !== !1 ? '<td class="w2ui-tb-down" nowrap="nowrap"><div></div></td>' : "") + "  </tr></tbody></table></td></tr></tbody></table>";
                    break;
                case "break":
                    b += '<table cellpadding="0" cellspacing="0"><tbody><tr>    <td><div class="w2ui-break">&#160;</div></td></tr></tbody></table>';
                    break;
                case "html":
                    b += '<table cellpadding="0" cellspacing="0"><tbody><tr>    <td nowrap="nowrap">' + ("function" == typeof a.html ? a.html.call(this, a) : a.html) + "</td></tr></tbody></table>"
            }
            return "<div>" + b + "</div>"
        },
        tooltipShow: function (b, c, d) {
            if (null != this.tooltip) {
                var e = a(this.box).find("#tb_" + this.name + "_item_" + w2utils.escapeId(b)),
                    f = this.get(b),
                    g = this.tooltip,
                    h = f.tooltip;
                "function" == typeof h && (h = h.call(this, f)), clearTimeout(this._tooltipTimer), this._tooltipTimer = setTimeout(function () {
                    if (e.prop("_mouse_tooltip") !== !0) {
                        if (e.prop("_mouse_tooltip", !0), ["menu", "menu-radio", "menu-check", "drop", "color", "text-color"].indexOf(f.type) != -1 && 1 == f.checked) return;
                        e.w2tag(w2utils.lang(h), {
                            position: g
                        })
                    }
                }, 0), e.prop("_mouse_tooltip") && 1 == d && e.w2tag(w2utils.lang(h), {
                    position: g
                })
            }
        },
        tooltipHide: function (b, c) {
            if (null != this.tooltip) {
                var d = a(this.box).find("#tb_" + this.name + "_item_" + w2utils.escapeId(b));
                this.get(b);
                clearTimeout(this._tooltipTimer), setTimeout(function () {
                    d.prop("_mouse_tooltip") === !0 && (d.removeProp("_mouse_tooltip"), d.w2tag())
                }, 1)
            }
        },
        menuClick: function (b) {
            var c = this;
            if (b.item && !b.item.disabled) {
                var d = this.trigger({
                    phase: "before",
                    type: "click",
                    target: b.item.id + ":" + b.subItem.id,
                    item: b.item,
                    subItem: b.subItem,
                    originalEvent: b.originalEvent
                });
                if (d.isCancelled === !0) return;
                var e = b.subItem,
                    f = this.get(b.item.id);
                if ("menu-radio" == f.type && (f.selected = e.id, b.item.items.forEach(function (a) {
                        a.checked = !1
                    }), e.checked = !0), "menu-check" == f.type)
                    if (a.isArray(f.selected) || (f.selected = []), null == e.group) {
                        var g = f.selected.indexOf(e.id);
                        g == -1 ? (f.selected.push(e.id), e.checked = !0) : (f.selected.splice(g, 1), e.checked = !1)
                    } else {
                        var h = [];
                        f.items.forEach(function (a) {
                            if (a.group === e.group) {
                                var b = f.selected.indexOf(a.id);
                                b != -1 && (a.id != e.id && h.push(a.id), f.selected.splice(b, 1))
                            }
                        });
                        var g = f.selected.indexOf(e.id);
                        g == -1 && (f.selected.push(e.id), e.checked = !0)
                    } if ("string" == typeof e.route) {
                    var i = "" !== e.route ? String("/" + e.route).replace(/\/{2,}/g, "/") : "",
                        j = w2utils.parseRoute(i);
                    if (j.keys.length > 0)
                        for (var k = 0; k < j.keys.length; k++) null != c.routeData[j.keys[k].name] && (i = i.replace(new RegExp(":" + j.keys[k].name, "g"), this.routeData[j.keys[k].name]));
                    setTimeout(function () {
                        window.location.hash = i
                    }, 1)
                }
                this.refresh(b.item.id), this.trigger(a.extend(d, {
                    phase: "after"
                }))
            }
        },
        colorClick: function (b) {
            var c = this;
            if (b.item && !b.item.disabled) {
                var d = this.trigger({
                    phase: "before",
                    type: "click",
                    target: b.item.id,
                    item: b.item,
                    color: b.color,
                    final: b.final,
                    originalEvent: b.originalEvent
                });
                if (d.isCancelled === !0) return;
                b.item.color = b.color, c.refresh(b.item.id), this.trigger(a.extend(d, {
                    phase: "after"
                }))
            }
        }
    }, a.extend(b.prototype, w2utils.event), w2obj.toolbar = b
}(jQuery),
function (a) {
    var b = function (b) {
        this.name = null, this.box = null, this.sidebar = null, this.parent = null, this.nodes = [], this.menu = [], this.routeData = {}, this.selected = null, this.img = null, this.icon = null, this.style = "", this.topHTML = "", this.bottomHTML = "", this.flatButton = !1, this.keyboard = !0, this.flat = !1, this.hasFocus = !1, a.extend(!0, this, w2obj.sidebar, b)
    };
    a.fn.w2sidebar = function (c) {
        if (a.isPlainObject(c)) {
            if (!w2utils.checkName(c, "w2sidebar")) return;
            var d = c.nodes,
                e = new b(c);
            return a.extend(e, {
                handlers: [],
                nodes: []
            }), null != d && e.add(e, d), 0 !== a(this).length && e.render(a(this)[0]), e.sidebar = e, w2ui[e.name] = e, e
        }
        var f = w2ui[a(this).attr("name")];
        return f ? arguments.length > 0 ? (f[c] && f[c].apply(f, Array.prototype.slice.call(arguments, 1)), this) : f : null
    }, b.prototype = {
        onClick: null,
        onDblClick: null,
        onContextMenu: null,
        onMenuClick: null,
        onExpand: null,
        onCollapse: null,
        onKeydown: null,
        onRender: null,
        onRefresh: null,
        onResize: null,
        onDestroy: null,
        onFocus: null,
        onBlur: null,
        onFlat: null,
        node: {
            id: null,
            text: "",
            count: null,
            img: null,
            icon: null,
            nodes: [],
            style: "",
            route: null,
            selected: !1,
            expanded: !1,
            hidden: !1,
            disabled: !1,
            group: !1,
            groupShowHide: !0,
            collapsible: !0,
            plus: !1,
            onClick: null,
            onDblClick: null,
            onContextMenu: null,
            onExpand: null,
            onCollapse: null,
            parent: null,
            sidebar: null
        },
        add: function (a, b) {
            return 1 == arguments.length && (b = arguments[0], a = this), "string" == typeof a && (a = this.get(a)), this.insert(a, null, b)
        },
        insert: function (c, d, e) {
            var f, g, h, i, j;
            if (2 == arguments.length)
                if (e = arguments[1], d = arguments[0], null != d) {
                    if (g = this.get(d), null == g) return a.isArray(e) || (e = [e]), f = null != e[0].caption ? e[0].caption : e[0].text, console.log('ERROR: Cannot insert node "' + f + '" because cannot find node "' + d + '" to insert before.'), null;
                    c = this.get(d).parent
                } else c = this;
            "string" == typeof c && (c = this.get(c)), a.isArray(e) || (e = [e]);
            for (var k = 0; k < e.length; k++)
                if (i = e[k], null != typeof i.id)
                    if (null == this.get(this, i.id)) {
                        if (h = a.extend({}, b.prototype.node, i), h.sidebar = this, h.parent = c, j = h.nodes || [], h.nodes = [], null == d) c.nodes.push(h);
                        else {
                            if (g = this.get(c, d, !0), null == g) return f = null != i.caption ? i.caption : i.text, console.log('ERROR: Cannot insert node "' + f + '" because cannot find node "' + d + '" to insert before.'), null;
                            c.nodes.splice(g, 0, h)
                        }
                        j.length > 0 && this.insert(h, null, j)
                    } else f = null != i.caption ? i.caption : i.text, console.log("ERROR: Cannot insert node with id=" + i.id + " (text: " + f + ") because another node with the same id already exists.");
            else f = null != i.caption ? i.caption : i.text, console.log('ERROR: Cannot insert node "' + f + '" because it has no id.');
            return this.refresh(c.id), h
        },
        remove: function () {
            for (var a, b = 0, c = 0; c < arguments.length; c++)
                if (a = this.get(arguments[c]), null != a) {
                    null != this.selected && this.selected === a.id && (this.selected = null);
                    var d = this.get(a.parent, arguments[c], !0);
                    null != d && (a.parent.nodes[d].selected && a.sidebar.unselect(a.id), a.parent.nodes.splice(d, 1), b++)
                } return b > 0 && 1 == arguments.length ? this.refresh(a.parent.id) : this.refresh(), b
        },
        set: function (b, c, d) {
            if (2 == arguments.length && (d = c, c = b, b = this), "string" == typeof b && (b = this.get(b)), null == b.nodes) return null;
            for (var e = 0; e < b.nodes.length; e++) {
                if (b.nodes[e].id === c) {
                    var f = d.nodes;
                    return a.extend(b.nodes[e], d, {
                        nodes: []
                    }), null != f && this.add(b.nodes[e], f), this.refresh(c), !0
                }
                var g = this.set(b.nodes[e], c, d);
                if (g) return !0
            }
            return !1
        },
        get: function (a, b, c) {
            if (0 === arguments.length) {
                for (var d = [], e = this.find({}), f = 0; f < e.length; f++) null != e[f].id && d.push(e[f].id);
                return d
            }
            if ((1 == arguments.length || 2 == arguments.length && b === !0) && (c = b, b = a, a = this), "string" == typeof a && (a = this.get(a)), null == a.nodes) return null;
            for (var g = 0; g < a.nodes.length; g++) {
                if (a.nodes[g].id == b) return c === !0 ? g : a.nodes[g];
                var h = this.get(a.nodes[g], b, c);
                if (h || 0 === h) return h
            }
            return null
        },
        find: function (a, b, c) {
            if (1 == arguments.length && (b = a, a = this), c || (c = []), "string" == typeof a && (a = this.get(a)), null == a.nodes) return c;
            for (var d = 0; d < a.nodes.length; d++) {
                var e = !0;
                for (var f in b) a.nodes[d][f] != b[f] && (e = !1);
                e && c.push(a.nodes[d]), a.nodes[d].nodes.length > 0 && (c = this.find(a.nodes[d], b, c))
            }
            return c
        },
        hide: function () {
            for (var a = 0, b = 0; b < arguments.length; b++) {
                var c = this.get(arguments[b]);
                null != c && (c.hidden = !0, a++)
            }
            return 1 == arguments.length ? this.refresh(arguments[0]) : this.refresh(), a
        },
        show: function () {
            for (var a = 0, b = 0; b < arguments.length; b++) {
                var c = this.get(arguments[b]);
                null != c && (c.hidden = !1, a++)
            }
            return 1 == arguments.length ? this.refresh(arguments[0]) : this.refresh(), a
        },
        disable: function () {
            for (var a = 0, b = 0; b < arguments.length; b++) {
                var c = this.get(arguments[b]);
                null != c && (c.disabled = !0, c.selected && this.unselect(c.id), a++)
            }
            return 1 == arguments.length ? this.refresh(arguments[0]) : this.refresh(), a
        },
        enable: function () {
            for (var a = 0, b = 0; b < arguments.length; b++) {
                var c = this.get(arguments[b]);
                null != c && (c.disabled = !1, a++)
            }
            return 1 == arguments.length ? this.refresh(arguments[0]) : this.refresh(), a
        },
        select: function (b) {
            var c = this.get(b);
            return !!c && ((this.selected != b || !c.selected) && (this.unselect(this.selected), a(this.box).find("#node_" + w2utils.escapeId(b)).addClass("w2ui-selected").find(".w2ui-icon").addClass("w2ui-icon-selected"), c.selected = !0, this.selected = b, !0))
        },
        unselect: function (b) {
            0 === arguments.length && (b = this.selected);
            var c = this.get(b);
            return !!c && (c.selected = !1, a(this.box).find("#node_" + w2utils.escapeId(b)).removeClass("w2ui-selected").find(".w2ui-icon").removeClass("w2ui-icon-selected"), this.selected == b && (this.selected = null), !0)
        },
        toggle: function (a) {
            var b = this.get(a);
            return null != b && (b.plus ? (this.set(a, {
                plus: !1
            }), this.expand(a), void this.refresh(a)) : 0 !== b.nodes.length && (!!b.collapsible && (this.get(a).expanded ? this.collapse(a) : this.expand(a))))
        },
        collapse: function (b) {
            var c = this,
                d = this.get(b),
                e = this.trigger({
                    phase: "before",
                    type: "collapse",
                    target: b,
                    object: d
                });
            if (e.isCancelled !== !0) return a(this.box).find("#node_" + w2utils.escapeId(b) + "_sub").slideUp(200), a(this.box).find("#node_" + w2utils.escapeId(b) + " .w2ui-node-dots:first-child").html('<div class="w2ui-expand">+</div>'), d.expanded = !1, this.trigger(a.extend(e, {
                phase: "after"
            })), setTimeout(function () {
                c.refresh(b)
            }, 200), !0
        },
        collapseAll: function (a) {
            if (null == a && (a = this), "string" == typeof a && (a = this.get(a)), null == a.nodes) return !1;
            for (var b = 0; b < a.nodes.length; b++) a.nodes[b].expanded === !0 && (a.nodes[b].expanded = !1), a.nodes[b].nodes && a.nodes[b].nodes.length > 0 && this.collapseAll(a.nodes[b]);
            return this.refresh(a.id), !0
        },
        expand: function (b) {
            var c = this,
                d = this.get(b),
                e = this.trigger({
                    phase: "before",
                    type: "expand",
                    target: b,
                    object: d
                });
            if (e.isCancelled !== !0) return a(this.box).find("#node_" + w2utils.escapeId(b) + "_sub").slideDown(200), a(this.box).find("#node_" + w2utils.escapeId(b) + " .w2ui-node-dots:first-child").html('<div class="w2ui-expand">-</div>'), d.expanded = !0, this.trigger(a.extend(e, {
                phase: "after"
            })), setTimeout(function () {
                c.refresh(b)
            }, 200), !0
        },
        expandAll: function (a) {
            if (null == a && (a = this), "string" == typeof a && (a = this.get(a)), null == a.nodes) return !1;
            for (var b = 0; b < a.nodes.length; b++) a.nodes[b].expanded === !1 && (a.nodes[b].expanded = !0), a.nodes[b].nodes && a.nodes[b].nodes.length > 0 && this.expandAll(a.nodes[b]);
            this.refresh(a.id)
        },
        expandParents: function (a) {
            var b = this.get(a);
            return null != b && (b.parent && (b.parent.expanded || (b.parent.expanded = !0, this.refresh(b.parent.id)), this.expandParents(b.parent.id)), !0)
        },
        click: function (b, c) {
            var d = this,
                e = this.get(b);
            if (null != e && !e.disabled && !e.group) {
                a(d.box).find(".w2ui-node.w2ui-selected").each(function (b, c) {
                    var e = a(c).attr("id").replace("node_", ""),
                        f = d.get(e);
                    null != f && (f.selected = !1), a(c).removeClass("w2ui-selected").find(".w2ui-icon").removeClass("w2ui-icon-selected")
                });
                var f = a(d.box).find("#node_" + w2utils.escapeId(b)),
                    g = a(d.box).find("#node_" + w2utils.escapeId(d.selected));
                f.addClass("w2ui-selected").find(".w2ui-icon").addClass("w2ui-icon-selected"), setTimeout(function () {
                    var h = d.trigger({
                        phase: "before",
                        type: "click",
                        target: b,
                        originalEvent: c,
                        node: e,
                        object: e
                    });
                    if (h.isCancelled === !0) return f.removeClass("w2ui-selected").find(".w2ui-icon").removeClass("w2ui-icon-selected"), void g.addClass("w2ui-selected").find(".w2ui-icon").addClass("w2ui-icon-selected");
                    if (null != g && (g.selected = !1), d.get(b).selected = !0, d.selected = b, "string" == typeof e.route) {
                        var i = "" !== e.route ? String("/" + e.route).replace(/\/{2,}/g, "/") : "",
                            j = w2utils.parseRoute(i);
                        if (j.keys.length > 0)
                            for (var k = 0; k < j.keys.length; k++) null != d.routeData[j.keys[k].name] && (i = i.replace(new RegExp(":" + j.keys[k].name, "g"), d.routeData[j.keys[k].name]));
                        setTimeout(function () {
                            window.location.hash = i
                        }, 1)
                    }
                    d.trigger(a.extend(h, {
                        phase: "after"
                    }))
                }, 1)
            }
        },
        focus: function (b) {
            var c = this,
                d = this.trigger({
                    phase: "before",
                    type: "focus",
                    target: this.name,
                    originalEvent: b
                });
            return d.isCancelled !== !0 && (this.hasFocus = !0, a(this.box).find(".w2ui-selected").removeClass("w2ui-inactive"), setTimeout(function () {
                var b = a(c.box).find("#sidebar_" + c.name + "_focus");
                b.is(":focus") || b.focus()
            }, 10), void this.trigger(a.extend(d, {
                phase: "after"
            })))
        },
        blur: function (b) {
            var c = this.trigger({
                phase: "before",
                type: "blur",
                target: this.name,
                originalEvent: b
            });
            return c.isCancelled !== !0 && (this.hasFocus = !1, a(this.box).find(".w2ui-selected").addClass("w2ui-inactive"), void this.trigger(a.extend(c, {
                phase: "after"
            })))
        },
        keydown: function (b) {
            function c(a, b) {
                null == a || a.hidden || a.disabled || a.group || (h.click(a.id, b), setTimeout(function () {
                    h.scrollIntoView()
                }, 50))
            }

            function d(a, b) {
                for (a = b(a); null != a && (a.hidden || a.disabled) && !a.group;) a = b(a);
                return a
            }

            function e(a, b) {
                if (null == a) return null;
                var c = a.parent,
                    d = h.get(a.id, !0),
                    f = null;
                if (a.expanded && a.nodes.length > 0 && b !== !0) {
                    var g = a.nodes[0];
                    f = g.hidden || g.disabled || g.group ? e(g) : g
                } else f = c && d + 1 < c.nodes.length ? c.nodes[d + 1] : e(c, !0);
                return null != f && (f.hidden || f.disabled || f.group) && (f = e(f)), f
            }

            function f(a) {
                if (null == a) return null;
                var b = a.parent,
                    c = h.get(a.id, !0),
                    d = c > 0 ? g(b.nodes[c - 1]) : b;
                return null != d && (d.hidden || d.disabled || d.group) && (d = f(d)), d
            }

            function g(a) {
                if (a.expanded && a.nodes.length > 0) {
                    var b = a.nodes[a.nodes.length - 1];
                    return b.hidden || b.disabled || b.group ? f(b) : g(b)
                }
                return a
            }
            var h = this,
                i = h.get(h.selected);
            if (h.keyboard === !0) {
                i || (i = h.nodes[0]);
                var j = h.trigger({
                    phase: "before",
                    type: "keydown",
                    target: h.name,
                    originalEvent: b
                });
                j.isCancelled !== !0 && (13 != b.keyCode && 32 != b.keyCode || i.nodes.length > 0 && h.toggle(h.selected), 37 == b.keyCode && (i.nodes.length > 0 && i.expanded ? h.collapse(h.selected) : (c(i.parent), i.parent.group || h.collapse(i.parent.id))), 39 == b.keyCode && (i.nodes.length > 0 || i.plus) && !i.expanded && h.expand(h.selected), 38 == b.keyCode && c(d(i, f)), 40 == b.keyCode && c(d(i, e)), a.inArray(b.keyCode, [13, 32, 37, 38, 39, 40]) != -1 && (b.preventDefault && b.preventDefault(), b.stopPropagation && b.stopPropagation()), h.trigger(a.extend(j, {
                    phase: "after"
                })))
            }
        },
        scrollIntoView: function (b) {
            null == b && (b = this.selected);
            var c = this.get(b);
            if (null != c) {
                var d = a(this.box).find(".w2ui-sidebar-div"),
                    e = a(this.box).find("#node_" + w2utils.escapeId(b)),
                    f = e.offset().top - d.offset().top;
                (f + e.height() > d.height() || f <= 0) && d.animate({
                    scrollTop: d.scrollTop() + f - d.height() / 2 + e.height()
                }, 250, "linear")
            }
        },
        dblClick: function (b, c) {
            var d = this.get(b),
                e = this.trigger({
                    phase: "before",
                    type: "dblClick",
                    target: b,
                    originalEvent: c,
                    object: d
                });
            e.isCancelled !== !0 && (this.toggle(b), this.trigger(a.extend(e, {
                phase: "after"
            })))
        },
        contextMenu: function (b, c) {
            var d = this,
                e = d.get(b);
            b != d.selected && d.click(b);
            var f = d.trigger({
                phase: "before",
                type: "contextMenu",
                target: b,
                originalEvent: c,
                object: e,
                allowOnDisabled: !1
            });
            f.isCancelled !== !0 && (e.disabled && !f.allowOnDisabled || (d.menu.length > 0 && a(d.box).find("#node_" + w2utils.escapeId(b)).w2menu({
                items: d.menu,
                contextMenu: !0,
                originalEvent: c,
                onSelect: function (a) {
                    d.menuClick(b, parseInt(a.index), a.originalEvent)
                }
            }), c.preventDefault && c.preventDefault(), d.trigger(a.extend(f, {
                phase: "after"
            }))))
        },
        menuClick: function (b, c, d) {
            var e = this,
                f = e.trigger({
                    phase: "before",
                    type: "menuClick",
                    target: b,
                    originalEvent: d,
                    menuIndex: c,
                    menuItem: e.menu[c]
                });
            f.isCancelled !== !0 && e.trigger(a.extend(f, {
                phase: "after"
            }))
        },
        goFlat: function () {
            var b = this.trigger({
                phase: "before",
                type: "flat",
                goFlat: !this.flat
            });
            b.isCancelled !== !0 && (this.flat = !this.flat, this.refresh(), this.trigger(a.extend(b, {
                phase: "after"
            })))
        },
        render: function (b) {
            var c = (new Date).getTime(),
                d = this,
                e = this.trigger({
                    phase: "before",
                    type: "render",
                    target: this.name,
                    box: b
                });
            if (e.isCancelled !== !0 && (null != b && (a(this.box).find("> div > div.w2ui-sidebar-div").length > 0 && a(this.box).removeAttr("name").removeClass("w2ui-reset w2ui-sidebar").html(""), this.box = b), this.box)) {
                a(this.box).attr("name", this.name).addClass("w2ui-reset w2ui-sidebar").html('<div><input id="sidebar_' + this.name + '_focus" style="position: absolute; top: 0; right: 0; width: 1px; z-index: -1; opacity: 0"/><div class="w2ui-sidebar-top"></div><div class="w2ui-sidebar-div"></div><div class="w2ui-sidebar-bottom"></div></div>'), a(this.box).find("> div").css({
                    width: a(this.box).width() + "px",
                    height: a(this.box).height() + "px"
                }), a(this.box).length > 0 && (a(this.box)[0].style.cssText += this.style);
                var f = "";
                1 == this.flatButton && (f = '<div class="w2ui-flat-' + (this.flat ? "right" : "left") + '" onclick="w2ui[\'' + this.name + "'].goFlat()\"></div>"), "" === this.topHTML && "" === f || (a(this.box).find(".w2ui-sidebar-top").html(this.topHTML + f), a(this.box).find(".w2ui-sidebar-div").css("top", a(this.box).find(".w2ui-sidebar-top").height() + "px")), "" !== this.bottomHTML && (a(this.box).find(".w2ui-sidebar-bottom").html(this.bottomHTML), a(this.box).find(".w2ui-sidebar-div").css("bottom", a(this.box).find(".w2ui-sidebar-bottom").height() + "px"));
                var g;
                return a(this.box).find("#sidebar_" + this.name + "_focus").on("focus", function (a) {
                    clearTimeout(g), d.hasFocus || d.focus(a)
                }).on("blur", function (a) {
                    g = setTimeout(function () {
                        d.hasFocus && d.blur(a)
                    }, 100)
                }).on("keydown", function (a) {
                    9 != a.keyCode && w2ui[d.name].keydown.call(w2ui[d.name], a)
                }), a(this.box).off("mousedown").on("mousedown", function (b) {
                    setTimeout(function () {
                        if (["INPUT", "TEXTAREA", "SELECT"].indexOf(b.target.tagName.toUpperCase()) == -1) {
                            var c = a(d.box).find("#sidebar_" + d.name + "_focus");
                            if (!c.is(":focus")) {
                                if (a(b.target).hasClass("w2ui-node")) {
                                    var e = a(b.target).position().top + a(d.box).find(".w2ui-sidebar-top").height() + b.offsetY;
                                    c.css({
                                        top: e + "px",
                                        left: "0px"
                                    })
                                }
                                c.focus()
                            }
                        }
                    }, 1)
                }), this.trigger(a.extend(e, {
                    phase: "after"
                })), this.refresh(), (new Date).getTime() - c
            }
        },
        refresh: function (b) {
            function c(a) {
                var b = "",
                    c = a.img,
                    d = a.icon;
                null == d && null == c && (null == d && (d = k.icon), null == c && (c = k.img));
                for (var e = a.parent, f = 0; e && null != e.parent;) e.group && f--, e = e.parent, f++;
                if (null != a.caption && (a.text = a.caption), a.group) b = '<div class="w2ui-node-group w2ui-level-' + f + '" id="node_' + a.id + '"   onclick="w2ui[\'' + k.name + "'].toggle('" + a.id + "')\"   oncontextmenu=\"w2ui['" + k.name + "'].contextMenu('" + a.id + "', event);\"   onmouseout=\"jQuery(this).find('span:nth-child(1)').css('color', 'transparent')\"    onmouseover=\"jQuery(this).find('span:nth-child(1)').css('color', 'inherit')\">" + (a.groupShowHide && a.collapsible ? "<span>" + (!a.hidden && a.expanded ? w2utils.lang("Hide") : w2utils.lang("Show")) + "</span>" : "<span></span>") + ("function" == typeof a.text ? a.text.call(k, a) : "<span>" + a.text + "</span>") + '</div><div class="w2ui-node-sub" id="node_' + a.id + '_sub" style="' + a.style + ";" + (!a.hidden && a.expanded ? "" : "display: none;") + '"></div>', k.flat && (b = '<div class="w2ui-node-group" id="node_' + a.id + '"><span>&#160;</span></div><div id="node_' + a.id + '_sub" style="' + a.style + ";" + (!a.hidden && a.expanded ? "" : "display: none;") + '"></div>');
                else {
                    a.selected && !a.disabled && (k.selected = a.id), e = "", c && (e = '<div class="w2ui-node-image w2ui-icon ' + c + (a.selected && !a.disabled ? " w2ui-icon-selected" : "") + '"></div>'), d && (e = '<div class="w2ui-node-image"><span class="' + d + '"></span></div>');
                    var g = a.text;
                    "function" == typeof a.text && (g = a.text.call(k, a)), b = '<div class="w2ui-node w2ui-level-' + f + " " + (a.selected ? "w2ui-selected" : "") + " " + (a.disabled ? "w2ui-disabled" : "") + '" id="node_' + a.id + '" style="' + (a.hidden ? "display: none;" : "") + '"    ondblclick="w2ui[\'' + k.name + "'].dblClick('" + a.id + "', event);\"    oncontextmenu=\"w2ui['" + k.name + "'].contextMenu('" + a.id + "', event);\"    onClick=\"w2ui['" + k.name + "'].click('" + a.id + '\', event); "><table cellpadding="0" cellspacing="0" style="margin-left:' + 18 * f + "px; padding-right:" + 18 * f + 'px"><tbody><tr><td class="w2ui-node-dots" nowrap="nowrap" onclick="w2ui[\'' + k.name + "'].toggle('" + a.id + '\');         if (event.stopPropagation) event.stopPropagation(); else event.cancelBubble = true;">    <div class="w2ui-expand">' + (a.nodes.length > 0 ? a.expanded ? "-" : "+" : a.plus ? "+" : "") + '</div></td><td class="w2ui-node-data" nowrap="nowrap">' + e + (a.count || 0 === a.count ? '<div class="w2ui-node-count">' + a.count + "</div>" : "") + '<div class="w2ui-node-caption">' + g + '</div></td></tr></tbody></table></div><div class="w2ui-node-sub" id="node_' + a.id + '_sub" style="' + a.style + ";" + (!a.hidden && a.expanded ? "" : "display: none;") + '"></div>', k.flat && (b = '<div class="w2ui-node w2ui-level-' + f + " " + (a.selected ? "w2ui-selected" : "") + " " + (a.disabled ? "w2ui-disabled" : "") + '" id="node_' + a.id + '" style="' + (a.hidden ? "display: none;" : "") + "\"    onmouseover=\"jQuery(this).find('.w2ui-node-data').w2tag(w2utils.base64decode('" + w2utils.base64encode(g + (a.count || 0 === a.count ? ' - <span class="w2ui-node-count">' + a.count + "</span>" : "")) + "'),                { id: '" + a.id + "', left: -5 })\"    onmouseout=\"jQuery(this).find('.w2ui-node-data').w2tag(null, { id: '" + a.id + "' })\"    ondblclick=\"w2ui['" + k.name + "'].dblClick('" + a.id + "', event);\"    oncontextmenu=\"w2ui['" + k.name + "'].contextMenu('" + a.id + "', event);\"    onClick=\"w2ui['" + k.name + "'].click('" + a.id + '\', event); "><div class="w2ui-node-data w2ui-node-flat">' + e + '</div></div><div class="w2ui-node-sub" id="node_' + a.id + '_sub" style="' + a.style + ";" + (!a.hidden && a.expanded ? "" : "display: none;") + '"></div>')
                }
                return b
            }
            var d = (new Date).getTime(),
                e = this.trigger({
                    phase: "before",
                    type: "refresh",
                    target: null != b ? b : this.name,
                    fullRefresh: null == b
                });
            if (e.isCancelled !== !0) {
                var f = "";
                if (1 == this.flatButton && (f = '<div class="w2ui-flat-' + (this.flat ? "right" : "left") + '" onclick="w2ui[\'' + this.name + "'].goFlat()\"></div>"), "" === this.topHTML && "" === f || (a(this.box).find(".w2ui-sidebar-top").html(this.topHTML + f), a(this.box).find(".w2ui-sidebar-div").css("top", a(this.box).find(".w2ui-sidebar-top").height() + "px")), "" !== this.bottomHTML && (a(this.box).find(".w2ui-sidebar-bottom").html(this.bottomHTML), a(this.box).find(".w2ui-sidebar-div").css("bottom", a(this.box).find(".w2ui-sidebar-bottom").height() + "px")), a(this.box).find("> div").removeClass("w2ui-sidebar-flat").addClass(this.flat ? "w2ui-sidebar-flat" : "").css({
                        width: a(this.box).width() + "px",
                        height: a(this.box).height() + "px"
                    }), this.nodes.length > 0 && null == this.nodes[0].parent) {
                    var g = this.nodes;
                    this.nodes = [], this.add(this, g)
                }
                var h, i, j, k = this;
                if (null == b) h = this, j = ".w2ui-sidebar-div";
                else {
                    if (h = this.get(b), null == h) return;
                    j = "#node_" + w2utils.escapeId(h.id) + "_sub"
                }
                var l;
                if (h !== this) {
                    var g = "#node_" + w2utils.escapeId(h.id);
                    l = c(h), a(this.box).find(g).before('<div id="sidebar_' + this.name + '_tmp"></div>'), a(this.box).find(g).remove(), a(this.box).find(j).remove(), a("#sidebar_" + this.name + "_tmp").before(l), a("#sidebar_" + this.name + "_tmp").remove()
                }
                a(this.box).find(j).html("");
                for (var m = 0; m < h.nodes.length; m++)
                    if (i = h.nodes[m], l = c(i), a(this.box).find(j).append(l), 0 !== i.nodes.length) this.refresh(i.id);
                    else {
                        var n = this.trigger({
                            phase: "before",
                            type: "refresh",
                            target: i.id
                        });
                        if (n.isCancelled === !0) return;
                        this.trigger(a.extend(n, {
                            phase: "after"
                        }))
                    } return this.trigger(a.extend(e, {
                    phase: "after"
                })), (new Date).getTime() - d
            }
        },
        resize: function () {
            var b = (new Date).getTime(),
                c = this.trigger({
                    phase: "before",
                    type: "resize",
                    target: this.name
                });
            if (c.isCancelled !== !0) return a(this.box).css("overflow", "hidden"), a(this.box).find("> div").css({
                width: a(this.box).width() + "px",
                height: a(this.box).height() + "px"
            }), this.trigger(a.extend(c, {
                phase: "after"
            })), (new Date).getTime() - b
        },
        destroy: function () {
            var b = this.trigger({
                phase: "before",
                type: "destroy",
                target: this.name
            });
            b.isCancelled !== !0 && (a(this.box).find("> div > div.w2ui-sidebar-div").length > 0 && a(this.box).removeAttr("name").removeClass("w2ui-reset w2ui-sidebar").html(""), delete w2ui[this.name], this.trigger(a.extend(b, {
                phase: "after"
            })))
        },
        lock: function (a, b) {
            var c = Array.prototype.slice.call(arguments, 0);
            c.unshift(this.box), w2utils.lock.apply(window, c)
        },
        unlock: function (a) {
            w2utils.unlock(this.box, a)
        }
    }, a.extend(b.prototype, w2utils.event), w2obj.sidebar = b
}(jQuery),
function (a) {
    var b = function (b) {
        this.el = null, this.helpers = {}, this.type = b.type || "text", this.options = a.extend(!0, {}, b), this.onSearch = b.onSearch || null, this.onRequest = b.onRequest || null, this.onLoad = b.onLoad || null, this.onError = b.onError || null, this.onClick = b.onClick || null, this.onAdd = b.onAdd || null, this.onNew = b.onNew || null, this.onRemove = b.onRemove || null, this.onMouseOver = b.onMouseOver || null, this.onMouseOut = b.onMouseOut || null, this.onIconClick = b.onIconClick || null, this.onScroll = b.onScroll || null, this.tmp = {}, delete this.options.type, delete this.options.onSearch, delete this.options.onRequest, delete this.options.onLoad, delete this.options.onError, delete this.options.onClick, delete this.options.onMouseOver, delete this.options.onMouseOut, delete this.options.onIconClick, delete this.options.onScroll, a.extend(!0, this, w2obj.field)
    };
    a.fn.w2field = function (c, d) {
        if (0 !== this.length) {
            if (0 === arguments.length) {
                var e = a(this).data("w2field");
                return e
            }
            return "string" == typeof c && "object" == typeof d && (c = a.extend(!0, {}, d, {
                type: c
            })), "string" == typeof c && null == d && (c = {
                type: c
            }), c && (c.type = String(c.type).toLowerCase()), this.each(function (d, e) {
                var f = a(e).data("w2field");
                if (null == f) return f = new b(c), a.extend(f, {
                    handlers: []
                }), e && (f.el = a(e)[0]), f.init(), a(e).data("w2field", f), f;
                if (f.clear(), "clear" !== c.type) return f = new b(c), a.extend(f, {
                    handlers: []
                }), e && (f.el = a(e)[0]), f.init(), a(e).data("w2field", f), f
            })
        }
        var f = b.prototype;
        if (f[c]) return f[c].apply(f, Array.prototype.slice.call(arguments, 1))
    }, b.prototype = {
        custom: {},
        addType: function (a, b) {
            return a = String(a).toLowerCase(), this.custom[a] = b, !0
        },
        removeType: function (a) {
            return a = String(a).toLowerCase(), !!this.custom[a] && (delete this.custom[a], !0)
        },
        init: function () {
            var b, c = this,
                d = this.options;
            if ("function" == typeof this.custom[this.type]) return void this.custom[this.type].call(this, d);
            if (["INPUT", "TEXTAREA"].indexOf(this.el.tagName.toUpperCase()) == -1) return void console.log("ERROR: w2field could only be applied to INPUT or TEXTAREA.", this.el);
            switch (this.type) {
                case "text":
                case "int":
                case "float":
                case "money":
                case "currency":
                case "percent":
                case "alphanumeric":
                case "bin":
                case "hex":
                    b = {
                        min: null,
                        max: null,
                        step: 1,
                        autoFormat: !0,
                        currencyPrefix: w2utils.settings.currencyPrefix,
                        currencySuffix: w2utils.settings.currencySuffix,
                        currencyPrecision: w2utils.settings.currencyPrecision,
                        decimalSymbol: w2utils.settings.decimalSymbol,
                        groupSymbol: w2utils.settings.groupSymbol,
                        arrows: !1,
                        keyboard: !0,
                        precision: null,
                        silent: !0,
                        prefix: "",
                        suffix: ""
                    }, this.options = a.extend(!0, {}, b, d), d = this.options, d.numberRE = new RegExp("[" + d.groupSymbol + "]", "g"), d.moneyRE = new RegExp("[" + d.currencyPrefix + d.currencySuffix + d.groupSymbol + "]", "g"), d.percentRE = new RegExp("[" + d.groupSymbol + "%]", "g"), ["text", "alphanumeric", "hex", "bin"].indexOf(this.type) !== -1 && (d.arrows = !1, d.keyboard = !1), this.addPrefix(), this.addSuffix();
                    break;
                case "color":
                    b = {
                        prefix: "",
                        suffix: '<div style="width: ' + (parseInt(a(this.el).css("font-size")) || 12) + 'px">&#160;</div>',
                        arrows: !1,
                        keyboard: !1,
                        advanced: null,
                        transparent: !0
                    }, a.extend(d, b), this.addPrefix(), this.addSuffix(), "" !== a(this.el).val() && setTimeout(function () {
                        c.change()
                    }, 1);
                    break;
                case "date":
                    b = {
                        format: w2utils.settings.dateFormat,
                        keyboard: !0,
                        silent: !0,
                        start: "",
                        end: "",
                        blocked: {},
                        colored: {},
                        blockWeekDays: null
                    }, this.options = a.extend(!0, {}, b, d), d = this.options, null == a(this.el).attr("placeholder") && a(this.el).attr("placeholder", d.format);
                    break;
                case "time":
                    b = {
                        format: w2utils.settings.timeFormat,
                        keyboard: !0,
                        silent: !0,
                        start: "",
                        end: "",
                        noMinutes: !1
                    }, this.options = a.extend(!0, {}, b, d), d = this.options, null == a(this.el).attr("placeholder") && a(this.el).attr("placeholder", d.format);
                    break;
                case "datetime":
                    b = {
                        format: w2utils.settings.dateFormat + " | " + w2utils.settings.timeFormat,
                        keyboard: !0,
                        silent: !0,
                        start: "",
                        end: "",
                        blocked: [],
                        colored: {},
                        placeholder: null,
                        btn_now: !0,
                        noMinutes: !1
                    }, this.options = a.extend(!0, {}, b, d), d = this.options, null == a(this.el).attr("placeholder") && a(this.el).attr("placeholder", d.placeholder || d.format);
                    break;
                case "list":
                case "combo":
                    if (b = {
                            items: [],
                            selected: {},
                            url: null,
                            recId: null,
                            recText: null,
                            method: null,
                            interval: 350,
                            postData: {},
                            minLength: 1,
                            cacheMax: 250,
                            maxDropHeight: 350,
                            maxDropWidth: null,
                            match: "begins",
                            silent: !0,
                            icon: null,
                            iconStyle: "",
                            align: "both",
                            altRows: !0,
                            onSearch: null,
                            onRequest: null,
                            onLoad: null,
                            onError: null,
                            onIconClick: null,
                            renderDrop: null,
                            compare: null,
                            filter: !0,
                            prefix: "",
                            suffix: "",
                            openOnFocus: !1,
                            markSearch: !1
                        }, d.items = this.normMenu(d.items), "list" === this.type) {
                        if (b.openOnFocus = !0, a(this.el).addClass("w2ui-select"), !a.isPlainObject(d.selected) && d.items)
                            for (var e = 0; e < d.items.length; e++) {
                                var f = d.items[e];
                                if (f && f.id === d.selected) {
                                    d.selected = a.extend(!0, {}, f);
                                    break
                                }
                            }
                        this.watchSize()
                    }
                    d = a.extend({}, b, d), this.options = d, a.isPlainObject(d.selected) || (d.selected = {}), a(this.el).data("selected", d.selected), d.url && (d.items = [], this.request(0)), "list" === this.type && this.addFocus(), this.addPrefix(), this.addSuffix(), setTimeout(function () {
                        c.refresh()
                    }, 10), a(this.el).attr("autocomplete", "off"), null != d.selected.text && a(this.el).val(d.selected.text);
                    break;
                case "enum":
                    b = {
                        items: [],
                        selected: [],
                        max: 0,
                        url: null,
                        recId: null,
                        recText: null,
                        interval: 350,
                        method: null,
                        postData: {},
                        minLength: 1,
                        cacheMax: 250,
                        maxWidth: 250,
                        maxHeight: 350,
                        maxDropHeight: 350,
                        maxDropWidth: null,
                        match: "contains",
                        silent: !0,
                        align: "both",
                        altRows: !0,
                        openOnFocus: !1,
                        markSearch: !0,
                        renderDrop: null,
                        renderItem: null,
                        compare: null,
                        filter: !0,
                        style: "",
                        onSearch: null,
                        onRequest: null,
                        onLoad: null,
                        onError: null,
                        onClick: null,
                        onAdd: null,
                        onNew: null,
                        onRemove: null,
                        onMouseOver: null,
                        onMouseOut: null,
                        onScroll: null
                    }, d = a.extend({}, b, d, {
                        suffix: ""
                    }), d.items = this.normMenu(d.items), d.selected = this.normMenu(d.selected), this.options = d, a.isArray(d.selected) || (d.selected = []), a(this.el).data("selected", d.selected), d.url && (d.items = [], this.request(0)), this.addSuffix(), this.addMulti(), this.watchSize();
                    break;
                case "file":
                    b = {
                        selected: [],
                        max: 0,
                        maxSize: 0,
                        maxFileSize: 0,
                        maxWidth: 250,
                        maxHeight: 350,
                        maxDropHeight: 350,
                        maxDropWidth: null,
                        readContent: !0,
                        silent: !0,
                        align: "both",
                        altRows: !0,
                        renderItem: null,
                        style: "",
                        onClick: null,
                        onAdd: null,
                        onRemove: null,
                        onMouseOver: null,
                        onMouseOut: null
                    }, d = a.extend({}, b, d), this.options = d, a.isArray(d.selected) || (d.selected = []), a(this.el).data("selected", d.selected), null == a(this.el).attr("placeholder") && a(this.el).attr("placeholder", w2utils.lang("Attach files by dragging and dropping or Click to Select")), this.addMulti(), this.watchSize()
            }
            this.tmp = {
                onChange: function (a) {
                    c.change.call(c, a)
                },
                onClick: function (a) {
                    c.click.call(c, a)
                },
                onFocus: function (a) {
                    c.focus.call(c, a)
                },
                onBlur: function (a) {
                    c.blur.call(c, a)
                },
                onKeydown: function (a) {
                    c.keyDown.call(c, a)
                },
                onKeyup: function (a) {
                    c.keyUp.call(c, a)
                },
                onKeypress: function (a) {
                    c.keyPress.call(c, a)
                }
            }, a(this.el).addClass("w2field w2ui-input").data("w2field", this).on("change.w2field", this.tmp.onChange).on("click.w2field", this.tmp.onClick).on("focus.w2field", this.tmp.onFocus).on("blur.w2field", this.tmp.onBlur).on("keydown.w2field", this.tmp.onKeydown).on("keyup.w2field", this.tmp.onKeyup).on("keypress.w2field", this.tmp.onKeypress).css(w2utils.cssPrefix("box-sizing", "border-box")), this.change(a.Event("change"))
        },
        watchSize: function () {
            var b = this,
                c = a(b.el).data("tmp") || {};
            c.sizeTimer = setInterval(function () {
                a(b.el).parents("body").length > 0 ? b.resize() : clearInterval(c.sizeTimer)
            }, 200), a(b.el).data("tmp", c)
        },
        get: function () {
            var b;
            return b = ["list", "enum", "file"].indexOf(this.type) !== -1 ? a(this.el).data("selected") : a(this.el).val()
        },
        set: function (b, c) {
            if (["list", "enum", "file"].indexOf(this.type) !== -1) {
                if ("list" !== this.type && c) null == a(this.el).data("selected") && a(this.el).data("selected", []), a(this.el).data("selected").push(b), a(this.el).change();
                else {
                    var d = "enum" === this.type ? [b] : b;
                    a(this.el).data("selected", d).change()
                }
                this.refresh()
            } else a(this.el).val(b)
        },
        setIndex: function (b, c) {
            if (["list", "enum"].indexOf(this.type) !== -1) {
                var d = this.options.items;
                if (d && d[b]) {
                    if ("list" !== this.type && c) null == a(this.el).data("selected") && a(this.el).data("selected", []), a(this.el).data("selected").push(d[b]), a(this.el).change();
                    else {
                        var e = "enum" === this.type ? [d[b]] : d[b];
                        a(this.el).data("selected", e).change()
                    }
                    return this.refresh(), !0
                }
            }
            return !1
        },
        clear: function () {
            var b = this.options;
            ["money", "currency"].indexOf(this.type) !== -1 && a(this.el).val(a(this.el).val().replace(b.moneyRE, "")), "percent" === this.type && a(this.el).val(a(this.el).val().replace(/%/g, "")), "list" === this.type && a(this.el).removeClass("w2ui-select"), this.type = "clear";
            var c = a(this.el).data("tmp");
            if (this.tmp) {
                null != c && (a(this.el).height("auto"), c && c["old-padding-left"] && a(this.el).css("padding-left", c["old-padding-left"]), c && c["old-padding-right"] && a(this.el).css("padding-right", c["old-padding-right"]), c && c["old-background-color"] && a(this.el).css("background-color", c["old-background-color"]), c && c["old-border-color"] && a(this.el).css("border-color", c["old-border-color"]), clearInterval(c.sizeTimer)), a(this.el).val(this.clean(a(this.el).val())).removeClass("w2field").removeData().off(".w2field");
                for (var d in this.helpers) a(this.helpers[d]).remove();
                this.helpers = {}
            }
        },
        refresh: function () {
            var b = this,
                c = this.options,
                d = a(this.el).data("selected"),
                e = (new Date).getTime();
            if (["list"].indexOf(this.type) !== -1 && (a(b.el).parent().css("white-space", "nowrap"), b.helpers.prefix && b.helpers.prefix.hide(), setTimeout(function () {
                    if (b.helpers.focus) {
                        !a.isEmptyObject(d) && c.icon ? (c.prefix = '<span class="w2ui-icon ' + c.icon + '"style="cursor: pointer; font-size: 14px; display: inline-block; margin-top: -1px; color: #7F98AD;' + c.iconStyle + '"></span>', b.addPrefix()) : (c.prefix = "", b.addPrefix());
                        var e = b.helpers.focus.find("input");
                        "" === a(e).val() ? (a(e).css("text-indent", "-9999em").prev().css("opacity", 0), a(b.el).val(d && null != d.text ? w2utils.lang(d.text) : "")) : (a(e).css("text-indent", 0).prev().css("opacity", 1), a(b.el).val(""), setTimeout(function () {
                            b.helpers.prefix && b.helpers.prefix.hide();
                            var d = "position: absolute; opacity: 0; margin: 4px 0px 0px 2px; background-position: left !important;";
                            c.icon ? (a(e).css("margin-left", "17px"), a(b.helpers.focus).find(".icon-search").attr("style", d + "width: 11px !important; opacity: 1; display: block")) : (a(e).css("margin-left", "0px"), a(b.helpers.focus).find(".icon-search").attr("style", d + "width: 0px !important; opacity: 0; display: none"))
                        }, 1)), a(b.el).prop("readonly") || a(b.el).prop("disabled") ? setTimeout(function () {
                            a(b.helpers.prefix).css("opacity", "0.6"), a(b.helpers.suffix).css("opacity", "0.6")
                        }, 1) : setTimeout(function () {
                            a(b.helpers.prefix).css("opacity", "1"), a(b.helpers.suffix).css("opacity", "1")
                        }, 1)
                    }
                }, 1)), ["enum", "file"].indexOf(this.type) !== -1) {
                var f = "";
                if (d)
                    for (var g = 0; g < d.length; g++) {
                        var h = d[g],
                            i = "";
                        i = "function" == typeof c.renderItem ? c.renderItem(h, g, '<div class="w2ui-list-remove" title="' + w2utils.lang("Remove") + '" index="' + g + '">&#160;&#160;</div>') : '<div class="w2ui-list-remove" title="' + w2utils.lang("Remove") + '" index="' + g + '">&#160;&#160;</div>' + ("enum" === b.type ? h.text : h.name + '<span class="file-size"> - ' + w2utils.formatSize(h.size) + "</span>"), f += '<li index="' + g + '" style="max-width: ' + parseInt(c.maxWidth) + "px; " + (h.style ? h.style : "") + '">' + i + "</li>"
                    }
                var j = b.helpers.multi,
                    k = j.find("ul");
                if (j.attr("style", j.attr("style") + ";" + c.style), a(b.el).css("z-index", "-1"), a(b.el).prop("readonly") || a(b.el).prop("disabled") ? setTimeout(function () {
                        j[0].scrollTop = 0, j.addClass("w2ui-readonly").find("li").css("opacity", "0.9").parent().find("li.nomouse").hide().find("input").prop("readonly", !0).parents("ul").find(".w2ui-list-remove").hide()
                    }, 1) : setTimeout(function () {
                        j.removeClass("w2ui-readonly").find("li").css("opacity", "1").parent().find("li.nomouse").show().find("input").prop("readonly", !1).parents("ul").find(".w2ui-list-remove").show()
                    }, 1), j.find(".w2ui-enum-placeholder").remove(), k.find("li").not("li.nomouse").remove(), "" !== f) k.prepend(f);
                else if (null != a(b.el).attr("placeholder") && "" === j.find("input").val()) {
                    var l = "padding-top: " + a(this.el).css("padding-top") + ";padding-left: " + a(this.el).css("padding-left") + "; box-sizing: " + a(this.el).css("box-sizing") + "; line-height: " + a(this.el).css("line-height") + "; font-size: " + a(this.el).css("font-size") + "; font-family: " + a(this.el).css("font-family") + "; ";
                    j.prepend('<div class="w2ui-enum-placeholder" style="' + l + '">' + a(b.el).attr("placeholder") + "</div>")
                }
                j.off("scroll.w2field").on("scroll.w2field", function (c) {
                    var d = b.trigger({
                        phase: "before",
                        type: "scroll",
                        target: b.el,
                        originalEvent: c
                    });
                    d.isCancelled !== !0 && b.trigger(a.extend(d, {
                        phase: "after"
                    }))
                }).find("li").data("mouse", "out").on("click", function (c) {
                    var e = "LI" === c.target.tagName.toUpperCase() ? c.target : a(c.target).parents("LI"),
                        f = d[a(e).attr("index")];
                    if (!a(e).hasClass("nomouse"))
                        if (c.stopPropagation(), a(c.target).hasClass("w2ui-list-remove")) {
                            if (a(b.el).prop("readonly") || a(b.el).prop("disabled")) return;
                            var g = b.trigger({
                                phase: "before",
                                type: "remove",
                                target: b.el,
                                originalEvent: c.originalEvent,
                                item: f
                            });
                            if (g.isCancelled === !0) return;
                            a().w2overlay(), d.splice(a(c.target).attr("index"), 1), a(b.el).trigger("change"), a(c.target).parent().fadeOut("fast"), setTimeout(function () {
                                b.refresh(), b.trigger(a.extend(g, {
                                    phase: "after"
                                }))
                            }, 300)
                        } else {
                            var g = b.trigger({
                                phase: "before",
                                type: "click",
                                target: b.el,
                                originalEvent: c.originalEvent,
                                item: f
                            });
                            if (g.isCancelled === !0) return;
                            if ("file" === b.type) {
                                var h = "";
                                /image/i.test(f.type) && (h = '<div style="padding: 3px;">    <img src="' + (f.content ? "data:" + f.type + ";base64," + f.content : "") + '" style="max-width: 300px;"         onload="var w = jQuery(this).width(); var h = jQuery(this).height();             if (w < 300 & h < 300) return;             if (w >= h && w > 300) jQuery(this).width(300);            if (w < h && h > 300) jQuery(this).height(300);"        onerror="this.style.display = \'none\'"    ></div>');
                                var i = 'style="padding: 3px; text-align: right; color: #777;"',
                                    j = 'style="padding: 3px"';
                                h += '<div style="padding: 8px;">    <table cellpadding="2"><tbody>    <tr><td ' + i + ">" + w2utils.lang("Name") + ":</td><td " + j + ">" + f.name + "</td></tr>    <tr><td " + i + ">" + w2utils.lang("Size") + ":</td><td " + j + ">" + w2utils.formatSize(f.size) + "</td></tr>    <tr><td " + i + ">" + w2utils.lang("Type") + ":</td><td " + j + '>        <span style="width: 200px; display: block-inline; overflow: hidden; text-overflow: ellipsis; white-space: nowrap="nowrap";">' + f.type + "</span>    </td></tr>    <tr><td " + i + ">" + w2utils.lang("Modified") + ":</td><td " + j + ">" + w2utils.date(f.modified) + "</td></tr>    </tbody></table></div>", a("#w2ui-overlay").remove(), a(e).w2overlay(h)
                            }
                            b.trigger(a.extend(g, {
                                phase: "after"
                            }))
                        }
                }).on("mouseover", function (c) {
                    var e = "LI" === c.target.tagName.toUpperCase() ? c.target : a(c.target).parents("LI");
                    if (!a(e).hasClass("nomouse")) {
                        if ("out" === a(e).data("mouse")) {
                            var f = d[a(c.target).attr("index")],
                                g = b.trigger({
                                    phase: "before",
                                    type: "mouseOver",
                                    target: b.el,
                                    originalEvent: c.originalEvent,
                                    item: f
                                });
                            if (g.isCancelled === !0) return;
                            b.trigger(a.extend(g, {
                                phase: "after"
                            }))
                        }
                        a(e).data("mouse", "over")
                    }
                }).on("mouseout", function (c) {
                    var e = "LI" === c.target.tagName.toUpperCase() ? c.target : a(c.target).parents("LI");
                    a(e).hasClass("nomouse") || (a(e).data("mouse", "leaving"), setTimeout(function () {
                        if ("leaving" === a(e).data("mouse")) {
                            a(e).data("mouse", "out");
                            var f = d[a(c.target).attr("index")],
                                g = b.trigger({
                                    phase: "before",
                                    type: "mouseOut",
                                    target: b.el,
                                    originalEvent: c.originalEvent,
                                    item: f
                                });
                            if (g.isCancelled === !0) return;
                            b.trigger(a.extend(g, {
                                phase: "after"
                            }))
                        }
                    }, 0))
                }), a(this.el).height("auto");
                var m = a(j).find("> div.w2ui-multi-items").height() + 2 * w2utils.getSize(j, "+height");
                m < 26 && (m = 26), m > c.maxHeight && (m = c.maxHeight), j.length > 0 && (j[0].scrollTop = 1e3);
                var n = w2utils.getSize(a(this.el), "height") - 2;
                if (n > m && (m = n), a(j).css({
                        height: m + "px",
                        overflow: m == c.maxHeight ? "auto" : "hidden"
                    }), m < c.maxHeight && a(j).prop("scrollTop", 0), a(this.el).css({
                        height: m + 2 + "px"
                    }), "enum" === b.type) {
                    var o = b.helpers.multi.find("input");
                    o.width(8 * (o.val().length + 2) + "px")
                }
            }
            return (new Date).getTime() - e
        },
        reset: function () {
            var a = this.type;
            this.clear(), this.type = a, this.init()
        },
        resize: function () {
            var b = this,
                c = a(b.el).width(),
                d = a(b.el).height();
            if (!(b.tmp.current_width == c && d > 0)) {
                var e = this.helpers.focus,
                    f = this.helpers.multi,
                    g = this.helpers.suffix,
                    h = this.helpers.prefix;
                if (e && e.width(a(b.el).width()), f) {
                    var i = w2utils.getSize(b.el, "width") - parseInt(a(b.el).css("margin-left"), 10) - parseInt(a(b.el).css("margin-right"), 10);
                    a(f).width(i)
                }
                g && (b.options.suffix = '<div class="arrow-down" style="margin-top: ' + (parseInt(a(b.el).height()) - 6) / 2 + 'px;"></div>', b.addSuffix()), h && b.addPrefix(), b.tmp.current_width = c
            }
        },
        clean: function (b) {
            if ("number" == typeof b) return b;
            var c = this.options;
            return b = String(b).trim(), ["int", "float", "money", "currency", "percent"].indexOf(this.type) !== -1 && ("string" == typeof b && (c.autoFormat && ["money", "currency"].indexOf(this.type) !== -1 && (b = String(b).replace(c.moneyRE, "")), c.autoFormat && "percent" === this.type && (b = String(b).replace(c.percentRE, "")), c.autoFormat && ["int", "float"].indexOf(this.type) !== -1 && (b = String(b).replace(c.numberRE, "")), b = b.replace(/\s+/g, "").replace(w2utils.settings.groupSymbol, "").replace(w2utils.settings.decimalSymbol, ".")), parseFloat(b) == b && (null != c.min && b < c.min && (b = c.min, a(this.el).val(c.min)), null != c.max && b > c.max && (b = c.max, a(this.el).val(c.max))), b = "" !== b && w2utils.isFloat(b) ? Number(b) : ""), b
        },
        format: function (a) {
            var b = this.options;
            if (b.autoFormat && "" !== a) switch (this.type) {
                case "money":
                case "currency":
                    a = w2utils.formatNumber(a, b.currencyPrecision, b.groupSymbol), "" !== a && (a = b.currencyPrefix + a + b.currencySuffix);
                    break;
                case "percent":
                    a = w2utils.formatNumber(a, b.precision, b.groupSymbol), "" !== a && (a += "%");
                    break;
                case "float":
                    a = w2utils.formatNumber(a, b.precision, b.groupSymbol);
                    break;
                case "int":
                    a = w2utils.formatNumber(a, 0, b.groupSymbol)
            }
            return a
        },
        change: function (b) {
            var c = this,
                d = c.options;
            if (["int", "float", "money", "currency", "percent"].indexOf(this.type) !== -1) {
                var e = a(this.el).val(),
                    f = this.format(this.clean(a(this.el).val()));
                if ("" !== e && e != f) return a(this.el).val(f).change(), b.stopPropagation(), b.preventDefault(), !1
            }
            if ("color" === this.type) {
                var g = a(this.el).val();
                "rgb" !== g.substr(0, 3).toLowerCase() && (g = "#" + g, 6 !== a(this.el).val().length && 3 !== a(this.el).val().length && (g = "")), a(this.el).next().find("div").css("background-color", g), a(this.el).is(":focus") && a(this.el).data("skipInit") !== !0 && this.updateOverlay()
            }
            if (["list", "enum", "file"].indexOf(this.type) !== -1 && (c.refresh(), setTimeout(function () {
                    c.refresh()
                }, 5)), ["date", "time", "datetime"].indexOf(this.type) !== -1) {
                var h = parseInt(c.el.value);
                w2utils.isInt(c.el.value) && h > 3e3 && ("time" === this.type && a(c.el).val(w2utils.formatTime(new Date(h), d.format)).change(), "date" === this.type && a(c.el).val(w2utils.formatDate(new Date(h), d.format)).change(), "datetime" === this.type && a(c.el).val(w2utils.formatDateTime(new Date(h), d.format)).change())
            }
        },
        click: function (b) {
            b.stopPropagation(), ["list", "combo", "enum"].indexOf(this.type) !== -1 && (a(this.el).is(":focus") || this.focus(b)), ["date", "time", "color", "datetime"].indexOf(this.type) !== -1 && this.updateOverlay()
        },
        focus: function (b) {
            var c = this;
            if (["color", "date", "time", "datetime"].indexOf(c.type) !== -1) {
                if (a(c.el).prop("readonly") || a(c.el).prop("disabled")) return;
                a("#w2ui-overlay").length > 0 && a("#w2ui-overlay")[0].hide(), setTimeout(function () {
                    c.updateOverlay()
                }, 150)
            }
            if (["list", "combo", "enum"].indexOf(c.type) !== -1) {
                if (a(c.el).prop("readonly") || a(c.el).prop("disabled")) return;
                a("#w2ui-overlay").length > 0 && a("#w2ui-overlay")[0].hide(), c.resize(), setTimeout(function () {
                    return "list" === c.type && a(c.el).is(":focus") ? void a(c.helpers.focus).find("input").focus() : (c.search(), void setTimeout(function () {
                        c.updateOverlay()
                    }, 1))
                }, 1)
            }
            "file" === c.type && a(c.helpers.multi).css({
                outline: "auto 5px #7DB4F3",
                "outline-offset": "-2px"
            })
        },
        blur: function (b) {
            var c = this,
                d = c.options,
                e = a(c.el).val().trim(),
                f = a("#w2ui-overlay");
            if (["color", "date", "time", "list", "combo", "enum", "datetime"].indexOf(c.type) !== -1) {
                var g = window.setTimeout(function () {
                    f.data("keepOpen") !== !0 && f.hide()
                }, 0);
                a(".menu", f).one("focus", function () {
                    clearTimeout(g), a(this).one("focusout", function (a) {
                        f.hide()
                    })
                })
            } ["int", "float", "money", "currency", "percent"].indexOf(c.type) !== -1 && ("" === e || c.checkType(e) || (a(c.el).val("").change(), d.silent === !1 && (a(c.el).w2tag("Not a valid number"), setTimeout(function () {
                a(c.el).w2tag("")
            }, 3e3)))), ["date", "time", "datetime"].indexOf(c.type) !== -1 && ("" === e || c.inRange(c.el.value) ? "date" !== c.type || "" === e || w2utils.isDate(c.el.value, d.format) ? "time" !== c.type || "" === e || w2utils.isTime(c.el.value) ? "datetime" !== c.type || "" === e || w2utils.isDateTime(c.el.value, d.format) || (a(c.el).val("").removeData("selected").change(), d.silent === !1 && (a(c.el).w2tag("Not a valid date"), setTimeout(function () {
                a(c.el).w2tag("")
            }, 3e3))) : (a(c.el).val("").removeData("selected").change(), d.silent === !1 && (a(c.el).w2tag("Not a valid time"), setTimeout(function () {
                a(c.el).w2tag("")
            }, 3e3))) : (a(c.el).val("").removeData("selected").change(), d.silent === !1 && (a(c.el).w2tag("Not a valid date"), setTimeout(function () {
                a(c.el).w2tag("")
            }, 3e3))) : (a(c.el).val("").removeData("selected").change(), d.silent === !1 && (a(c.el).w2tag("Not in range"), setTimeout(function () {
                a(c.el).w2tag("")
            }, 3e3)))), "enum" === c.type && a(c.helpers.multi).find("input").val("").width(20), "file" === c.type && a(c.helpers.multi).css({
                outline: "none"
            })
        },
        keyPress: function (a) {
            var b = this;
            b.options;
            if (["int", "float", "money", "currency", "percent", "hex", "bin", "color", "alphanumeric"].indexOf(b.type) !== -1) {
                if (a.metaKey || a.ctrlKey || a.altKey || a.charCode != a.keyCode && a.keyCode > 0) return;
                var c = String.fromCharCode(a.charCode);
                if (!b.checkType(c, !0) && 13 != a.keyCode) return a.preventDefault(), a.stopPropagation ? a.stopPropagation() : a.cancelBubble = !0, !1
            } ["date", "time", "datetime"].indexOf(b.type) !== -1 && 9 !== a.keyCode && setTimeout(function () {
                b.updateOverlay()
            }, 1)
        },
        keyDown: function (b, c) {
            var d = this,
                e = d.options,
                f = b.keyCode || c && c.keyCode,
                g = !1;
            if (["int", "float", "money", "currency", "percent"].indexOf(d.type) !== -1) {
                if (!e.keyboard || a(d.el).prop("readonly") || a(d.el).prop("disabled")) return;
                var h = parseFloat(a(d.el).val().replace(e.moneyRE, "")) || 0,
                    i = e.step;
                switch ((b.ctrlKey || b.metaKey) && (i = 10), f) {
                    case 38:
                        if (b.shiftKey) break;
                        a(d.el).val(h + i <= e.max || null == e.max ? Number((h + i).toFixed(12)) : e.max).change(), g = !0;
                        break;
                    case 40:
                        if (b.shiftKey) break;
                        a(d.el).val(h - i >= e.min || null == e.min ? Number((h - i).toFixed(12)) : e.min).change(), g = !0
                }
                g && (b.preventDefault(), setTimeout(function () {
                    d.el.setSelectionRange(d.el.value.length, d.el.value.length)
                }, 0))
            }
            if ("date" === d.type) {
                if (!e.keyboard || a(d.el).prop("readonly") || a(d.el).prop("disabled")) return;
                var j = 864e5,
                    i = 1;
                (b.ctrlKey || b.metaKey) && (i = 10);
                var k = w2utils.isDate(a(d.el).val(), e.format, !0);
                switch (k || (k = new Date, j = 0), f) {
                    case 38:
                        if (b.shiftKey) break;
                        var l = w2utils.formatDate(k.getTime() + j, e.format);
                        10 == i && (l = w2utils.formatDate(new Date(k.getFullYear(), k.getMonth() + 1, k.getDate()), e.format)), a(d.el).val(l).change(), g = !0;
                        break;
                    case 40:
                        if (b.shiftKey) break;
                        var l = w2utils.formatDate(k.getTime() - j, e.format);
                        10 == i && (l = w2utils.formatDate(new Date(k.getFullYear(), k.getMonth() - 1, k.getDate()), e.format)), a(d.el).val(l).change(), g = !0
                }
                g && (b.preventDefault(), setTimeout(function () {
                    d.el.setSelectionRange(d.el.value.length, d.el.value.length), d.updateOverlay()
                }, 0))
            }
            if ("time" === d.type) {
                if (!e.keyboard || a(d.el).prop("readonly") || a(d.el).prop("disabled")) return;
                var i = b.ctrlKey || b.metaKey ? 60 : 1,
                    h = a(d.el).val(),
                    m = d.toMin(h) || d.toMin((new Date).getHours() + ":" + ((new Date).getMinutes() - 1));
                switch (f) {
                    case 38:
                        if (b.shiftKey) break;
                        m += i, g = !0;
                        break;
                    case 40:
                        if (b.shiftKey) break;
                        m -= i, g = !0
                }
                g && (a(d.el).val(d.fromMin(m)).change(), b.preventDefault(), setTimeout(function () {
                    d.el.setSelectionRange(d.el.value.length, d.el.value.length)
                }, 0))
            }
            if ("datetime" === d.type) {
                if (!e.keyboard || a(d.el).prop("readonly") || a(d.el).prop("disabled")) return;
                var j = 864e5,
                    i = 1;
                (b.ctrlKey || b.metaKey) && (i = 10);
                var n = a(d.el).val(),
                    k = w2utils.isDateTime(n, this.options.format, !0);
                switch (k || (k = new Date, j = 0), f) {
                    case 38:
                        if (b.shiftKey) break;
                        var l = w2utils.formatDateTime(k.getTime() + j, e.format);
                        10 == i && (l = w2utils.formatDateTime(new Date(k.getFullYear(), k.getMonth() + 1, k.getDate()), e.format)), a(d.el).val(l).change(), g = !0;
                        break;
                    case 40:
                        if (b.shiftKey) break;
                        var l = w2utils.formatDateTime(k.getTime() - j, e.format);
                        10 == i && (l = w2utils.formatDateTime(new Date(k.getFullYear(), k.getMonth() - 1, k.getDate()), e.format)), a(d.el).val(l).change(), g = !0
                }
                g && (b.preventDefault(), setTimeout(function () {
                    d.el.setSelectionRange(d.el.value.length, d.el.value.length), d.updateOverlay()
                }, 0))
            }
            if ("color" === d.type) {
                if (a(d.el).prop("readonly") || a(d.el).prop("disabled")) return;
                if ((b.ctrlKey || b.metaKey) && !b.shiftKey) {
                    var o = null,
                        p = null;
                    switch (f) {
                        case 38:
                            o = "up";
                            break;
                        case 40:
                            o = "down";
                            break;
                        case 39:
                            o = "right";
                            break;
                        case 37:
                            o = "left"
                    }
                    d.el.nav && null != o && (p = d.el.nav(o), a(d.el).val(p).change(), b.preventDefault())
                }
            }
            if (["list", "combo", "enum"].indexOf(d.type) !== -1) {
                if (a(d.el).prop("readonly") || a(d.el).prop("disabled")) return;
                var q = a(d.el).data("selected"),
                    r = a(d.el),
                    s = !1;
                switch (["list", "enum"].indexOf(d.type) !== -1 && ("list" === d.type && (r = a(d.helpers.focus).find("input")), "enum" === d.type && (r = a(d.helpers.multi).find("input")), [37, 38, 39, 40].indexOf(f) == -1 && setTimeout(function () {
                    d.refresh()
                }, 1), 86 == b.keyCode && (b.ctrlKey || b.metaKey) && setTimeout(function () {
                    d.refresh(), d.search(), d.request()
                }, 50)), f) {
                    case 27:
                        "list" === d.type && ("" !== r.val() && r.val(""), b.stopPropagation());
                        break;
                    case 37:
                    case 39:
                        break;
                    case 13:
                        if (0 === a("#w2ui-overlay").length) break;
                        var t = e.items[e.index];
                        if ("enum" === d.type)
                            if (null != t) {
                                var u = d.trigger({
                                    phase: "before",
                                    type: "add",
                                    target: d.el,
                                    originalEvent: b.originalEvent,
                                    item: t
                                });
                                if (u.isCancelled === !0) return;
                                t = u.item, q.length >= e.max && e.max > 0 && q.pop(), delete t.hidden, delete d.tmp.force_open, q.push(t), a(d.el).change(), r.val("").width(20), d.refresh(), d.trigger(a.extend(u, {
                                    phase: "after"
                                }))
                            } else {
                                t = {
                                    id: r.val(),
                                    text: r.val()
                                };
                                var u = d.trigger({
                                    phase: "before",
                                    type: "new",
                                    target: d.el,
                                    originalEvent: b.originalEvent,
                                    item: t
                                });
                                if (u.isCancelled === !0) return;
                                t = u.item, "function" == typeof d.onNew && (q.length >= e.max && e.max > 0 && q.pop(), delete d.tmp.force_open, q.push(t), a(d.el).change(), r.val("").width(20), d.refresh()), d.trigger(a.extend(u, {
                                    phase: "after"
                                }))
                            }
                        else t && a(d.el).data("selected", t).val(t.text).change(), "" === a(d.el).val() && a(d.el).data("selected") && a(d.el).removeData("selected").val("").change(), "list" === d.type && (r.val(""), d.refresh()), d.tmp.force_hide = !0;
                        break;
                    case 8:
                    case 46:
                        if ("enum" === d.type && 8 === f && "" === r.val() && q.length > 0) {
                            var t = q[q.length - 1],
                                u = d.trigger({
                                    phase: "before",
                                    type: "remove",
                                    target: d.el,
                                    originalEvent: b.originalEvent,
                                    item: t
                                });
                            if (u.isCancelled === !0) return;
                            q.pop(), a(d.el).trigger("change"), d.refresh(), d.trigger(a.extend(u, {
                                phase: "after"
                            }))
                        }
                        "list" === d.type && "" === r.val() && (a(d.el).data("selected", {}).change(), d.refresh());
                        break;
                    case 38:
                        for (e.index = w2utils.isInt(e.index) ? parseInt(e.index) : 0, e.index--; e.index > 0 && e.items[e.index].hidden;) e.index--;
                        if (0 === e.index && e.items[e.index].hidden)
                            for (; e.items[e.index] && e.items[e.index].hidden;) e.index++;
                        s = !0;
                        break;
                    case 40:
                        for (e.index = w2utils.isInt(e.index) ? parseInt(e.index) : -1, e.index++; e.index < e.items.length - 1 && e.items[e.index].hidden;) e.index++;
                        if (e.index == e.items.length - 1 && e.items[e.index].hidden)
                            for (; e.items[e.index] && e.items[e.index].hidden;) e.index--;
                        "" === r.val() && 0 === a("#w2ui-overlay").length ? d.tmp.force_open = !0 : s = !0
                }
                if (s) return e.index < 0 && (e.index = 0), e.index >= e.items.length && (e.index = e.items.length - 1), d.updateOverlay(s), b.preventDefault(), void setTimeout(function () {
                    if ("enum" === d.type) {
                        var a = r.get(0);
                        a.setSelectionRange(a.value.length, a.value.length)
                    } else if ("list" === d.type) {
                        var a = r.get(0);
                        a.setSelectionRange(a.value.length, a.value.length)
                    } else d.el.setSelectionRange(d.el.value.length, d.el.value.length)
                }, 0);
                "enum" === d.type && r.width(8 * (r.val().length + 2) + "px")
            }
        },
        keyUp: function (b) {
            var c = this;
            if (["list", "combo", "enum"].indexOf(this.type) !== -1) {
                if (a(c.el).prop("readonly") || a(c.el).prop("disabled")) return;
                if ([16, 17, 18, 20, 37, 39, 91].indexOf(b.keyCode) == -1) {
                    var d = a(this.helpers.focus).find("input");
                    0 === d.length && (d = a(this.el));
                    var e = this.trigger({
                        phase: "before",
                        type: "search",
                        originalEvent: b,
                        target: d,
                        search: d.val()
                    });
                    if (e.isCancelled === !0) return;
                    this.tmp.force_hide || this.request(), 1 == d.val().length && this.refresh(), 0 !== a("#w2ui-overlay").length && [38, 40].indexOf(b.keyCode) != -1 || this.search(), this.trigger(a.extend(e, {
                        phase: "after"
                    }))
                }
            }
        },
        clearCache: function () {
            var a = this.options;
            a.items = [], this.tmp.xhr_loading = !1, this.tmp.xhr_search = "", this.tmp.xhr_total = -1
        },
        request: function (b) {
            var c = this,
                d = this.options,
                e = a(c.el).val() || "";
            if (d.url) {
                if ("enum" === c.type) {
                    var f = a(c.helpers.multi).find("input");
                    e = 0 === f.length ? "" : f.val()
                }
                if ("list" === c.type) {
                    var f = a(c.helpers.focus).find("input");
                    e = 0 === f.length ? "" : f.val()
                }
                if (0 !== d.minLength && e.length < d.minLength) return d.items = [], void this.updateOverlay();
                null == b && (b = d.interval), null == c.tmp.xhr_search && (c.tmp.xhr_search = ""), null == c.tmp.xhr_total && (c.tmp.xhr_total = -1), d.url && a(c.el).prop("readonly") !== !0 && a(c.el).prop("disabled") !== !0 && (0 === d.items.length && 0 !== c.tmp.xhr_total || c.tmp.xhr_total == d.cacheMax && e.length > c.tmp.xhr_search.length || e.length >= c.tmp.xhr_search.length && e.substr(0, c.tmp.xhr_search.length) !== c.tmp.xhr_search || e.length < c.tmp.xhr_search.length) && (c.tmp.xhr && c.tmp.xhr.abort(), c.tmp.xhr_loading = !0, c.search(), clearTimeout(c.tmp.timeout), c.tmp.timeout = setTimeout(function () {
                    var b = d.url,
                        f = {
                            search: e,
                            max: d.cacheMax
                        };
                    a.extend(f, d.postData);
                    var g = c.trigger({
                        phase: "before",
                        type: "request",
                        search: e,
                        target: c.el,
                        url: b,
                        postData: f
                    });
                    if (g.isCancelled !== !0) {
                        b = g.url, f = g.postData;
                        var h = {
                            type: "GET",
                            url: b,
                            data: f,
                            dataType: "JSON"
                        };
                        d.method && (h.type = d.method), "JSON" === w2utils.settings.dataType && (h.type = "POST", h.data = JSON.stringify(h.data), h.contentType = "application/json"), "HTTPJSON" === w2utils.settings.dataType && (h.data = {
                            request: JSON.stringify(h.data)
                        }), null != d.method && (h.type = d.method), c.tmp.xhr = a.ajax(h).done(function (b, g, h) {
                            var i = c.trigger({
                                phase: "before",
                                type: "load",
                                target: c.el,
                                search: f.search,
                                data: b,
                                xhr: h
                            });
                            if (i.isCancelled !== !0) {
                                if (b = i.data, "string" == typeof b && (b = JSON.parse(b)), null == b.records && null != b.items && (b.records = b.items, delete b.items), "success" === b.status && null == b.records && (b.records = []), "success" !== b.status || !Array.isArray(b.records)) return void console.log("ERROR: server did not return proper structure. It should return", {
                                    status: "success",
                                    records: [{
                                        id: 1,
                                        text: "item"
                                    }]
                                });
                                b.records.length > d.cacheMax && b.records.splice(d.cacheMax, 1e5), null == d.recId && null != d.recid && (d.recId = d.recid), (d.recId || d.recText) && b.records.forEach(function (a) {
                                    "string" == typeof d.recId && (a.id = a[d.recId]), "function" == typeof d.recId && (a.id = d.recId(a)), "string" == typeof d.recText && (a.text = a[d.recText]), "function" == typeof d.recText && (a.text = d.recText(a))
                                }), c.tmp.xhr_loading = !1, c.tmp.xhr_search = e, c.tmp.xhr_total = b.records.length, d.items = c.normMenu(b.records), "" === e && 0 === b.records.length ? c.tmp.emptySet = !0 : c.tmp.emptySet = !1, c.search(), c.trigger(a.extend(i, {
                                    phase: "after"
                                }))
                            }
                        }).fail(function (b, d, f) {
                            var g = {
                                    status: d,
                                    error: f,
                                    rawResponseText: b.responseText
                                },
                                h = c.trigger({
                                    phase: "before",
                                    type: "error",
                                    target: c.el,
                                    search: e,
                                    error: g,
                                    xhr: b
                                });
                            if (h.isCancelled !== !0) {
                                if ("abort" !== d) {
                                    var i;
                                    try {
                                        i = a.parseJSON(b.responseText)
                                    } catch (a) {}
                                    console.log("ERROR: Server communication failed.", "\n   EXPECTED:", {
                                        status: "success",
                                        records: [{
                                            id: 1,
                                            text: "item"
                                        }]
                                    }, "\n         OR:", {
                                        status: "error",
                                        message: "error message"
                                    }, "\n   RECEIVED:", "object" == typeof i ? i : b.responseText)
                                }
                                c.clearCache(), c.search(), c.trigger(a.extend(h, {
                                    phase: "after"
                                }))
                            }
                        }), c.trigger(a.extend(g, {
                            phase: "after"
                        }))
                    }
                }, b))
            }
        },
        search: function () {
            var b = this,
                c = this.options,
                d = a(b.el).val(),
                e = b.el,
                f = [],
                g = a(b.el).data("selected");
            if ("enum" === b.type) {
                e = a(b.helpers.multi).find("input"), d = e.val();
                for (var h in g) g[h] && f.push(g[h].id)
            } else if ("list" === b.type) {
                e = a(b.helpers.focus).find("input"), d = e.val();
                for (var h in g) g[h] && f.push(g[h].id)
            }
            if (b.tmp.xhr_loading !== !0) {
                for (var i = 0, j = 0; j < c.items.length; j++) {
                    var k = c.items[j];
                    if (null != c.compare) "function" == typeof c.compare && (k.hidden = c.compare.call(this, k, d) === !1);
                    else {
                        var l = "",
                            m = "";
                        ["is", "begins"].indexOf(c.match) !== -1 && (l = "^"), ["is", "ends"].indexOf(c.match) !== -1 && (m = "$");
                        try {
                            var n = new RegExp(l + d + m, "i");
                            n.test(k.text) || "..." === k.text ? k.hidden = !1 : k.hidden = !0
                        } catch (a) {}
                    }
                    c.filter === !1 && (k.hidden = !1), "enum" === b.type && a.inArray(k.id, f) !== -1 && (k.hidden = !0), k.hidden !== !0 && (i++, delete k.hidden)
                }
                for (c.index = -1; c.items[c.index] && c.items[c.index].hidden;) c.index++;
                i <= 0 && (c.index = -1), c.spinner = !1, b.updateOverlay(), setTimeout(function () {
                    var b = a("#w2ui-overlay").html() || "";
                    c.markSearch && b.indexOf("$.fn.w2menuHandler") !== -1 && a("#w2ui-overlay").w2marker(d)
                }, 1)
            } else c.items.splice(0, c.cacheMax), c.spinner = !0, b.updateOverlay()
        },
        updateOverlay: function (b) {
            var c = this,
                d = this.options;
            if ("color" === this.type) {
                if (a(c.el).prop("readonly") || a(c.el).prop("disabled")) return;
                a(this.el).w2color({
                    color: a(this.el).val(),
                    transparent: d.transparent,
                    advanced: d.advanced
                }, function (b) {
                    null != b && a(c.el).val(b).change()
                })
            }
            if ("date" === this.type) {
                if (a(c.el).prop("readonly") || a(c.el).prop("disabled")) return;
                0 === a("#w2ui-overlay").length && a(c.el).w2overlay('<div class="w2ui-reset w2ui-calendar"></div>', {
                    css: {
                        "background-color": "#f5f5f5"
                    },
                    onShow: function (b) {
                        w2utils.isIE && (console.log("IE"), a(".w2ui-calendar").on("mousedown", function (b) {
                            var c = a(b.target);
                            1 === c.length && "w2ui-jump-year" === c[0].id && a("#w2ui-overlay").data("keepOpen", !0)
                        }))
                    }
                });
                var e, f, g = w2utils.isDate(a(c.el).val(), c.options.format, !0);
                g && (e = g.getMonth() + 1, f = g.getFullYear()),
                    function b(d, e) {
                        a("#w2ui-overlay > div > div").html(c.getMonthHTML(d, e, a(c.el).val())), a("#w2ui-overlay .w2ui-calendar-title").on("mousedown", function () {
                            if (a(this).next().hasClass("w2ui-calendar-jump")) a(this).next().remove();
                            else {
                                var d, e;
                                a(this).after('<div class="w2ui-calendar-jump" style=""></div>'), a(this).next().hide().html(c.getYearHTML()).fadeIn(200), setTimeout(function () {
                                    a("#w2ui-overlay .w2ui-calendar-jump").find(".w2ui-jump-month, .w2ui-jump-year").on("click", function () {
                                        a(this).hasClass("w2ui-jump-month") && (a(this).parent().find(".w2ui-jump-month").removeClass("selected"), a(this).addClass("selected"), e = a(this).attr("name")), a(this).hasClass("w2ui-jump-year") && (a(this).parent().find(".w2ui-jump-year").removeClass("selected"), a(this).addClass("selected"), d = a(this).attr("name")), null != d && null != e && (a("#w2ui-overlay .w2ui-calendar-jump").fadeOut(100), setTimeout(function () {
                                            b(parseInt(e) + 1, d)
                                        }, 100))
                                    }), a("#w2ui-overlay .w2ui-calendar-jump >:last-child").prop("scrollTop", 2e3)
                                }, 1)
                            }
                        }), a("#w2ui-overlay .w2ui-date").on("mousedown", function () {
                            var b = a(this).attr("date");
                            a(c.el).val(b).change(), a(this).css({
                                "background-color": "#B6D5FB",
                                "border-color": "#aaa"
                            })
                        }).on("mouseup", function () {
                            setTimeout(function () {
                                a("#w2ui-overlay").length > 0 && a("#w2ui-overlay").removeData("keepOpen")[0].hide()
                            }, 10)
                        }), a("#w2ui-overlay .previous").on("mousedown", function () {
                            var a = c.options.current.split("/");
                            a[0] = parseInt(a[0]) - 1, b(a[0], a[1])
                        }), a("#w2ui-overlay .next").on("mousedown", function () {
                            var a = c.options.current.split("/");
                            a[0] = parseInt(a[0]) + 1, b(a[0], a[1])
                        })
                    }(e, f)
            }
            if ("time" === this.type) {
                if (a(c.el).prop("readonly") || a(c.el).prop("disabled")) return;
                0 === a("#w2ui-overlay").length && a(c.el).w2overlay('<div class="w2ui-reset w2ui-calendar-time" onclick="event.stopPropagation();"></div>', {
                    css: {
                        "background-color": "#fff"
                    }
                });
                var h = "h24" === this.options.format;
                a("#w2ui-overlay > div").html(c.getHourHTML()), a("#w2ui-overlay .w2ui-time").on("mousedown", function (b) {
                    a(this).css({
                        "background-color": "#B6D5FB",
                        "border-color": "#aaa"
                    });
                    var d = a(this).attr("hour");
                    a(c.el).val((d > 12 && !h ? d - 12 : d) + ":00" + (h ? "" : d < 12 ? " am" : " pm")).change()
                }), null == this.options.noMinutes || this.options.noMinutes === !1 ? a("#w2ui-overlay .w2ui-time").on("mouseup", function () {
                    var b = a(this).attr("hour");
                    a("#w2ui-overlay").length > 0 && a("#w2ui-overlay")[0].hide(), a(c.el).w2overlay('<div class="w2ui-reset w2ui-calendar-time"></div>', {
                        css: {
                            "background-color": "#fff"
                        }
                    }), a("#w2ui-overlay > div").html(c.getMinHTML(b)), a("#w2ui-overlay .w2ui-time").on("mousedown", function () {
                        a(this).css({
                            "background-color": "#B6D5FB",
                            "border-color": "#aaa"
                        });
                        var d = a(this).attr("min");
                        a(c.el).val((b > 12 && !h ? b - 12 : b) + ":" + (d < 10 ? 0 : "") + d + (h ? "" : b < 12 ? " am" : " pm")).change()
                    }).on("mouseup", function () {
                        setTimeout(function () {
                            a("#w2ui-overlay").length > 0 && a("#w2ui-overlay").removeData("keepOpen")[0].hide()
                        }, 10)
                    })
                }) : a("#w2ui-overlay .w2ui-time").on("mouseup", function () {
                    setTimeout(function () {
                        a("#w2ui-overlay").length > 0 && a("#w2ui-overlay").removeData("keepOpen")[0].hide()
                    }, 10)
                })
            }
            if ("datetime" === this.type) {
                if (a(c.el).prop("readonly") || a(c.el).prop("disabled")) return;
                a("#w2ui-overlay .w2ui-time").length > 0 && a("#w2ui-overlay")[0].hide(), 0 === a("#w2ui-overlay").length && a(c.el).w2overlay('<div class="w2ui-reset w2ui-calendar" onclick="event.stopPropagation();"></div>', {
                    css: {
                        "background-color": "#f5f5f5"
                    },
                    onShow: function (b) {
                        w2utils.isIE && (console.log("IE"), a(".w2ui-calendar").on("mousedown", function (b) {
                            var c = a(b.target);
                            1 === c.length && "w2ui-jump-year" === c[0].id && a("#w2ui-overlay").data("keepOpen", !0)
                        }))
                    }
                });
                var e, f, g = w2utils.isDateTime(a(c.el).val(), c.options.format, !0);
                g && (e = g.getMonth() + 1, f = g.getFullYear());
                var i = null;
                ! function b(e, f) {
                    a("#w2ui-overlay > div > div").html(c.getMonthHTML(e, f, a(c.el).val()) + (d.btn_now ? '<div class="w2ui-calendar-now now">' + w2utils.lang("Current Date & Time") + "</div>" : "")), a("#w2ui-overlay .w2ui-calendar-title").on("mousedown", function () {
                        if (a(this).next().hasClass("w2ui-calendar-jump")) a(this).next().remove();
                        else {
                            var d, e;
                            a(this).after('<div class="w2ui-calendar-jump" style=""></div>'), a(this).next().hide().html(c.getYearHTML()).fadeIn(200), setTimeout(function () {
                                a("#w2ui-overlay .w2ui-calendar-jump").find(".w2ui-jump-month, .w2ui-jump-year").on("click", function () {
                                    a(this).hasClass("w2ui-jump-month") && (a(this).parent().find(".w2ui-jump-month").removeClass("selected"), a(this).addClass("selected"), e = a(this).attr("name")), a(this).hasClass("w2ui-jump-year") && (a(this).parent().find(".w2ui-jump-year").removeClass("selected"), a(this).addClass("selected"), d = a(this).attr("name")), null != d && null != e && (a("#w2ui-overlay .w2ui-calendar-jump").fadeOut(100), setTimeout(function () {
                                        b(parseInt(e) + 1, d)
                                    }, 100))
                                }), a("#w2ui-overlay .w2ui-calendar-jump >:last-child").prop("scrollTop", 2e3)
                            }, 1)
                        }
                    }), a("#w2ui-overlay .w2ui-date").on("mousedown", function () {
                        var b = a(this).attr("date");
                        a(c.el).val(b).change(), a(this).css({
                            "background-color": "#B6D5FB",
                            "border-color": "#aaa"
                        }), i = new Date(a(this).attr("data-date"))
                    }).on("mouseup", function () {
                        var b, d;
                        a("#w2ui-overlay").length > 0 && a("#w2ui-overlay")[0].hide(), a(c.el).w2overlay('<div class="w2ui-reset w2ui-calendar-time"></div>', {
                            css: {
                                "background-color": "#fff"
                            }
                        });
                        "h24" === c.options.format;
                        a("#w2ui-overlay > div").html(c.getHourHTML()), a("#w2ui-overlay .w2ui-time").on("mousedown", function (d) {
                            a(this).css({
                                "background-color": "#B6D5FB",
                                "border-color": "#aaa"
                            }), b = a(this).attr("hour"), i.setHours(b);
                            var e = w2utils.formatDateTime(i, c.options.format);
                            a(c.el).val(e).change()
                        }), null == c.options.noMinutes || c.options.noMinutes === !1 ? a("#w2ui-overlay .w2ui-time").on("mouseup", function () {
                            var e = a(this).attr("hour");
                            a("#w2ui-overlay").length > 0 && a("#w2ui-overlay")[0].hide(), a(c.el).w2overlay('<div class="w2ui-reset w2ui-calendar-time"></div>', {
                                css: {
                                    "background-color": "#fff"
                                }
                            }), a("#w2ui-overlay > div").html(c.getMinHTML(e)), a("#w2ui-overlay .w2ui-time").on("mousedown", function () {
                                a(this).css({
                                    "background-color": "#B6D5FB",
                                    "border-color": "#aaa"
                                }), d = a(this).attr("min"), i.setHours(b, d);
                                var e = w2utils.formatDateTime(i, c.options.format);
                                a(c.el).val(e).change()
                            }).on("mouseup", function () {
                                setTimeout(function () {
                                    a("#w2ui-overlay").length > 0 && a("#w2ui-overlay").removeData("keepOpen")[0].hide()
                                }, 10)
                            })
                        }) : a("#w2ui-overlay .w2ui-time").on("mouseup", function () {
                            setTimeout(function () {
                                a("#w2ui-overlay").length > 0 && a("#w2ui-overlay").removeData("keepOpen")[0].hide()
                            }, 10)
                        })
                    }), a("#w2ui-overlay .previous").on("mousedown", function () {
                        var a = c.options.current.split("/");
                        a[0] = parseInt(a[0]) - 1, b(a[0], a[1])
                    }), a("#w2ui-overlay .next").on("mousedown", function () {
                        var a = c.options.current.split("/");
                        a[0] = parseInt(a[0]) + 1, b(a[0], a[1])
                    }), a("#w2ui-overlay .now").on("mousedown", function () {
                        var b = w2utils.formatDateTime(new Date, c.options.format);
                        return a(c.el).val(b).change(), !1
                    }).on("mouseup", function () {
                        setTimeout(function () {
                            a("#w2ui-overlay").length > 0 && a("#w2ui-overlay").removeData("keepOpen")[0].hide()
                        }, 10)
                    })
                }(e, f)
            }
            if (["list", "combo", "enum"].indexOf(this.type) !== -1) {
                var j = this.el,
                    k = this.el;
                if ("enum" === this.type && (j = a(this.helpers.multi), k = a(j).find("input")), "list" === this.type) {
                    var l = a(k).data("selected");
                    a.isPlainObject(l) && !a.isEmptyObject(l) && d.index == -1 && d.items.forEach(function (a, b) {
                        a.id === l.id && (d.index = b)
                    }), k = a(this.helpers.focus).find("input")
                }
                if (a(k).is(":focus")) {
                    if (d.openOnFocus === !1 && "" === a(k).val() && c.tmp.force_open !== !0) return void a().w2overlay();
                    if (c.tmp.force_hide) return a().w2overlay(), void setTimeout(function () {
                        delete c.tmp.force_hide
                    }, 1);
                    "" !== a(k).val() && delete c.tmp.force_open;
                    var m = w2utils.lang("No matches");
                    null != d.url && a(k).val().length < d.minLength && c.tmp.emptySet !== !0 && (m = d.minLength + " " + w2utils.lang("letters or more...")), null != d.url && "" === a(k).val() && c.tmp.emptySet !== !0 && (m = w2utils.lang("Type to search...")), null == d.url && 0 === d.items.length && (m = w2utils.lang("Empty list")), null != d.msgNoItems && (m = d.msgNoItems), "function" == typeof m && (m = m(d)), a(j).w2menu(b ? "refresh-index" : "refresh", a.extend(!0, {}, d, {
                        search: !1,
                        render: d.renderDrop,
                        maxHeight: d.maxDropHeight,
                        maxWidth: d.maxDropWidth,
                        msgNoItems: m,
                        onSelect: function (b) {
                            if ("enum" === c.type) {
                                var e = a(c.el).data("selected");
                                if (b.item) {
                                    var f = c.trigger({
                                        phase: "before",
                                        type: "add",
                                        target: c.el,
                                        originalEvent: b.originalEvent,
                                        item: b.item
                                    });
                                    if (f.isCancelled === !0) return;
                                    e.length >= d.max && d.max > 0 && e.pop(), delete b.item.hidden, e.push(b.item), a(c.el).data("selected", e).change(), a(c.helpers.multi).find("input").val("").width(20), c.refresh(), a("#w2ui-overlay").length > 0 && a("#w2ui-overlay")[0].hide(), c.trigger(a.extend(f, {
                                        phase: "after"
                                    }))
                                }
                            } else a(c.el).data("selected", b.item).val(b.item.text).change(), c.helpers.focus && c.helpers.focus.find("input").val("")
                        }
                    }))
                }
            }
        },
        inRange: function (b, c) {
            var d = !1;
            if ("date" === this.type) {
                var e = w2utils.isDate(b, this.options.format, !0);
                if (e) {
                    if (this.options.start || this.options.end) {
                        var f = "string" == typeof this.options.start ? this.options.start : a(this.options.start).val(),
                            g = "string" == typeof this.options.end ? this.options.end : a(this.options.end).val(),
                            h = w2utils.isDate(f, this.options.format, !0),
                            i = w2utils.isDate(g, this.options.format, !0),
                            j = new Date(e);
                        h || (h = j), i || (i = j), j >= h && j <= i && (d = !0)
                    } else d = !0;
                    if (this.options.blocked && a.inArray(b, this.options.blocked) !== -1 && (d = !1), null !== this.options.blockWeekDays && void 0 !== this.options.blockWeekDays && void 0 != this.options.blockWeekDays.length)
                        for (var k = this.options.blockWeekDays.length, l = 0; l < k; l++) e.getDay() == this.options.blockWeekDays[l] && (d = !1)
                }
            } else if ("time" === this.type)
                if (this.options.start || this.options.end) {
                    var m = this.toMin(b),
                        n = this.toMin(this.options.start),
                        o = this.toMin(this.options.end);
                    n || (n = m), o || (o = m), m >= n && m <= o && (d = !0)
                } else d = !0;
            else if ("datetime" === this.type) {
                var e = w2utils.isDateTime(b, this.options.format, !0);
                if (e) {
                    if (this.options.start || this.options.end) {
                        var h, i;
                        if ("object" == typeof this.options.start && this.options.start instanceof Date) h = this.options.start;
                        else {
                            var f = "string" == typeof this.options.start ? this.options.start : a(this.options.start).val();
                            h = "" !== f.trim() ? w2utils.isDateTime(f, this.options.format, !0) : ""
                        }
                        if ("object" == typeof this.options.end && this.options.end instanceof Date) i = this.options.end;
                        else {
                            var g = "string" == typeof this.options.end ? this.options.end : a(this.options.end).val();
                            i = "" !== g.trim() ? w2utils.isDateTime(g, this.options.format, !0) : ""
                        }
                        var j = e;
                        h || (h = j), i || (i = j), c && h instanceof Date && (h.setHours(0), h.setMinutes(0), h.setSeconds(0)), j >= h && j <= i && (d = !0)
                    } else d = !0;
                    if (d && this.options.blocked)
                        for (var l = 0; l < this.options.blocked.length; l++) {
                            var p = this.options.blocked[l];
                            if ("string" == typeof p && (p = w2utils.isDateTime(p, this.options.format, !0)), "object" == typeof p && p instanceof Date && p.getFullYear() == e.getFullYear() && p.getMonth() == e.getMonth() && p.getDate() == e.getDate()) {
                                d = !1;
                                break
                            }
                        }
                }
            }
            return d
        },
        checkType: function (a, b) {
            var c = this;
            switch (c.type) {
                case "int":
                    return !(!b || ["-", c.options.groupSymbol].indexOf(a) === -1) || w2utils.isInt(a.replace(c.options.numberRE, ""));
                case "percent":
                    a = a.replace(/%/g, "");
                case "float":
                    return !(!b || ["-", w2utils.settings.decimalSymbol, c.options.groupSymbol].indexOf(a) === -1) || w2utils.isFloat(a.replace(c.options.numberRE, ""));
                case "money":
                case "currency":
                    return !(!b || ["-", c.options.decimalSymbol, c.options.groupSymbol, c.options.currencyPrefix, c.options.currencySuffix].indexOf(a) === -1) || w2utils.isFloat(a.replace(c.options.moneyRE, ""));
                case "bin":
                    return w2utils.isBin(a);
                case "hex":
                    return w2utils.isHex(a);
                case "alphanumeric":
                    return w2utils.isAlphaNumeric(a)
            }
            return !0
        },
        addPrefix: function () {
            var b = this;
            setTimeout(function () {
                if ("clear" !== b.type) {
                    var c, d = a(b.el).data("tmp") || {};
                    d["old-padding-left"] && a(b.el).css("padding-left", d["old-padding-left"]), d["old-padding-left"] = a(b.el).css("padding-left"), a(b.el).data("tmp", d), b.helpers.prefix && a(b.helpers.prefix).remove(), "" !== b.options.prefix && (a(b.el).before('<div class="w2ui-field-helper">' + b.options.prefix + "</div>"), c = a(b.el).prev(), c.css({
                        color: a(b.el).css("color"),
                        "font-family": a(b.el).css("font-family"),
                        "font-size": a(b.el).css("font-size"),
                        "padding-top": a(b.el).css("padding-top"),
                        "padding-bottom": a(b.el).css("padding-bottom"),
                        "padding-left": a(b.el).css("padding-left"),
                        "padding-right": 0,
                        "margin-top": parseInt(a(b.el).css("margin-top"), 10) + 2 + "px",
                        "margin-bottom": parseInt(a(b.el).css("margin-bottom"), 10) + 1 + "px",
                        "margin-left": a(b.el).css("margin-left"),
                        "margin-right": 0
                    }).on("click", function (c) {
                        if (b.options.icon && "function" == typeof b.onIconClick) {
                            var d = b.trigger({
                                phase: "before",
                                type: "iconClick",
                                target: b.el,
                                el: a(this).find("span.w2ui-icon")[0]
                            });
                            if (d.isCancelled === !0) return;
                            b.trigger(a.extend(d, {
                                phase: "after"
                            }))
                        } else "list" === b.type ? a(b.helpers.focus).find("input").focus() : a(b.el).focus()
                    }), a(b.el).css("padding-left", c.width() + parseInt(a(b.el).css("padding-left"), 10) + "px"), b.helpers.prefix = c)
                }
            }, 1)
        },
        addSuffix: function () {
            var b, c, d = this;
            setTimeout(function () {
                if ("clear" !== d.type) {
                    var e = a(d.el).data("tmp") || {};
                    e["old-padding-right"] && a(d.el).css("padding-right", e["old-padding-right"]), e["old-padding-right"] = a(d.el).css("padding-right"), a(d.el).data("tmp", e), c = parseInt(a(d.el).css("padding-right"), 10), d.options.arrows && (d.helpers.arrows && a(d.helpers.arrows).remove(), a(d.el).after('<div class="w2ui-field-helper" style="border: 1px solid transparent">&#160;    <div class="w2ui-field-up" type="up">        <div class="arrow-up" type="up"></div>    </div>    <div class="w2ui-field-down" type="down">        <div class="arrow-down" type="down"></div>    </div></div>'), b = a(d.el).next(), b.css({
                        color: a(d.el).css("color"),
                        "font-family": a(d.el).css("font-family"),
                        "font-size": a(d.el).css("font-size"),
                        height: a(d.el).height() + parseInt(a(d.el).css("padding-top"), 10) + parseInt(a(d.el).css("padding-bottom"), 10) + "px",
                        padding: 0,
                        "margin-top": parseInt(a(d.el).css("margin-top"), 10) + 1 + "px",
                        "margin-bottom": 0,
                        "border-left": "1px solid silver"
                    }).css("margin-left", "-" + (b.width() + parseInt(a(d.el).css("margin-right"), 10) + 12) + "px").on("mousedown", function (b) {
                        function c() {
                            clearTimeout(f.data("_field_update_timer")), f.off("mouseup", c)
                        }

                        function e(c) {
                            a(d.el).focus(), d.keyDown(a.Event("keydown"), {
                                keyCode: "up" === a(b.target).attr("type") ? 38 : 40
                            }), c !== !1 && a("body").data("_field_update_timer", setTimeout(e, 60))
                        }
                        var f = a("body");
                        f.on("mouseup", c), f.data("_field_update_timer", setTimeout(e, 700)), e(!1)
                    }), c += b.width() + 12, a(d.el).css("padding-right", c + "px"), d.helpers.arrows = b), "" !== d.options.suffix && (d.helpers.suffix && a(d.helpers.suffix).remove(), a(d.el).after('<div class="w2ui-field-helper">' + d.options.suffix + "</div>"), b = a(d.el).next(), b.css({
                        color: a(d.el).css("color"),
                        "font-family": a(d.el).css("font-family"),
                        "font-size": a(d.el).css("font-size"),
                        "padding-top": a(d.el).css("padding-top"),
                        "padding-bottom": a(d.el).css("padding-bottom"),
                        "padding-left": "3px",
                        "padding-right": a(d.el).css("padding-right"),
                        "margin-top": parseInt(a(d.el).css("margin-top"), 10) + 2 + "px",
                        "margin-bottom": parseInt(a(d.el).css("margin-bottom"), 10) + 1 + "px"
                    }).on("click", function (b) {
                        "list" === d.type ? a(d.helpers.focus).find("input").focus() : a(d.el).focus()
                    }), b.css("margin-left", "-" + (w2utils.getSize(b, "width") + parseInt(a(d.el).css("margin-right"), 10) + 2) + "px"), c += b.width() + 3, a(d.el).css("padding-right", c + "px"), d.helpers.suffix = b)
                }
            }, 1)
        },
        addFocus: function () {
            var b, c = this,
                d = (this.options, 0);
            a(c.helpers.focus).remove();
            var e = a(c.el).attr("tabIndex");
            e && e !== -1 && (c.el._tabIndex = e), c.el._tabIndex && (e = c.el._tabIndex), null == e && (e = -1);
            var f = '<div class="w2ui-field-helper">    <div class="w2ui-icon icon-search" style="opacity: 0; display: none"></div>    <input type="text" autocomplete="off" tabIndex="' + e + '"/></div>';
            a(c.el).attr("tabindex", -1).before(f);
            var g = a(c.el).prev();
            c.helpers.focus = g, g.css({
                width: a(c.el).width(),
                "margin-top": a(c.el).css("margin-top"),
                "margin-left": parseInt(a(c.el).css("margin-left")) + parseInt(a(c.el).css("padding-left")) + "px",
                "margin-bottom": a(c.el).css("margin-bottom"),
                "margin-right": a(c.el).css("margin-right")
            }).find("input").css({
                cursor: "default",
                width: "100%",
                outline: "none",
                opacity: 1,
                margin: 0,
                border: "1px solid transparent",
                padding: a(c.el).css("padding-top"),
                "padding-left": 0,
                "margin-left": d > 0 ? d + 6 : 0,
                "background-color": "transparent"
            }), g.find("input").on("click", function (b) {
                0 === a("#w2ui-overlay").length && c.focus(b), b.stopPropagation()
            }).on("focus", function (d) {
                b = a(c.el).attr("placeholder"), a(c.el).css({
                    outline: "auto 5px #7DB4F3",
                    "outline-offset": "-2px"
                }), a(this).val(""), a(c.el).triggerHandler("focus"), d.stopPropagation ? d.stopPropagation() : d.cancelBubble = !0
            }).on("blur", function (d) {
                a(c.el).css("outline", "none"), a(this).val(""), c.refresh(), a(c.el).triggerHandler("blur"), d.stopPropagation ? d.stopPropagation() : d.cancelBubble = !0, null != b && a(c.el).attr("placeholder", b)
            }).on("keydown", function (d) {
                var e = this;
                c.keyDown(d), setTimeout(function () {
                    "" === e.value ? a(c.el).attr("placeholder", b) : a(c.el).attr("placeholder", "")
                }, 10)
            }).on("keyup", function (a) {
                c.keyUp(a)
            }).on("keypress", function (a) {
                c.keyPress(a)
            }), g.on("click", function (b) {
                a(this).find("input").focus()
            }), c.refresh()
        },
        addMulti: function () {
            var b = this;
            this.options;
            a(b.helpers.multi).remove();
            var c = "",
                d = "margin-top     : 0px; margin-bottom  : 0px; margin-left    : " + a(b.el).css("margin-left") + "; margin-right   : " + a(b.el).css("margin-right") + "; width          : " + (w2utils.getSize(b.el, "width") - parseInt(a(b.el).css("margin-left"), 10) - parseInt(a(b.el).css("margin-right"), 10)) + "px;";
            if ("enum" === b.type) {
                var e = a(b.el).attr("tabIndex");
                e && e !== -1 && (b.el._tabIndex = e), b.el._tabIndex && (e = b.el._tabIndex), null == e && (e = -1), c = '<div class="w2ui-field-helper w2ui-list" style="' + d + '; box-sizing: border-box">    <div style="padding: 0px; margin: 0px; display: inline-block" class="w2ui-multi-items">    <ul>        <li style="padding-left: 0px; padding-right: 0px" class="nomouse">            <input type="text" style="width: 20px; margin: -3px 0 0; padding: 2px 0; border-color: white" autocomplete="off"' + (a(b.el).prop("readonly") ? ' readonly="readonly"' : "") + (a(b.el).prop("disabled") ? ' disabled="disabled"' : "") + ' tabindex="' + e + '"/>        </li>    </ul>    </div></div>'
            }
            "file" === b.type && (c = '<div class="w2ui-field-helper w2ui-list" style="' + d + '; box-sizing: border-box">   <div style="position: absolute; left: 0px; right: 0px; top: 0px; bottom: 0px;">       <input class="file-input" type="file" style="width: 100%; height: 100%; opacity: 0;" name="attachment" tabindex="-1"' + (1 !== b.options.max ? ' multiple="multiple"' : "") + (a(b.el).prop("readonly") ? ' readonly="readonly"' : "") + (a(b.el).prop("disabled") ? ' disabled="disabled"' : "") + (a(b.el).attr("accept") ? ' accept="' + a(b.el).attr("accept") + '"' : "") + '/>   </div>    <div style="position: absolute; padding: 0px; margin: 0px; display: inline-block" class="w2ui-multi-items">        <ul><li style="padding-left: 0px; padding-right: 0px" class="nomouse"></li></ul>    </div></div>');
            var f = a(b.el).data("tmp") || {};
            f["old-background-color"] = a(b.el).css("background-color"),
                f["old-border-color"] = a(b.el).css("border-color"), a(b.el).data("tmp", f), a(b.el).before(c).css({
                    "background-color": "transparent",
                    "border-color": "transparent"
                });
            var g = a(b.el).prev();
            b.helpers.multi = g, "enum" === b.type && (a(b.el).attr("tabindex", -1), g.find("input").on("click", function (c) {
                0 === a("#w2ui-overlay").length && b.focus(c), a(b.el).triggerHandler("click")
            }).on("focus", function (c) {
                a(g).css({
                    outline: "auto 5px #7DB4F3",
                    "outline-offset": "-2px"
                }), a(b.el).triggerHandler("focus"), c.stopPropagation ? c.stopPropagation() : c.cancelBubble = !0
            }).on("blur", function (c) {
                a(g).css("outline", "none"), a(b.el).triggerHandler("blur"), c.stopPropagation ? c.stopPropagation() : c.cancelBubble = !0
            }).on("keyup", function (a) {
                b.keyUp(a)
            }).on("keydown", function (a) {
                b.keyDown(a)
            }).on("keypress", function (a) {
                b.keyPress(a)
            }), g.on("click", function (b) {
                a(this).find("input").focus()
            })), "file" === b.type && (a(b.el).css("outline", "none"), g.on("click", function (c) {
                a(b.el).focus(), a(b.el).prop("readonly") || a(b.el).prop("disabled") || (b.blur(c), b.resize(), setTimeout(function () {
                    g.find("input").click()
                }, 10))
            }).on("dragenter", function (c) {
                a(b.el).prop("readonly") || a(b.el).prop("disabled") || a(g).addClass("w2ui-file-dragover")
            }).on("dragleave", function (c) {
                if (!a(b.el).prop("readonly") && !a(b.el).prop("disabled")) {
                    var d = a(c.target).parents(".w2ui-field-helper");
                    0 === d.length && a(g).removeClass("w2ui-file-dragover")
                }
            }).on("drop", function (c) {
                if (!a(b.el).prop("readonly") && !a(b.el).prop("disabled")) {
                    a(g).removeClass("w2ui-file-dragover");
                    for (var d = c.originalEvent.dataTransfer.files, e = 0, f = d.length; e < f; e++) b.addFile.call(b, d[e]);
                    c.preventDefault(), c.stopPropagation()
                }
            }).on("dragover", function (a) {
                a.preventDefault(), a.stopPropagation()
            }), g.find("input").on("click", function (a) {
                a.stopPropagation()
            }).on("change", function () {
                if ("undefined" != typeof this.files)
                    for (var a = 0, c = this.files.length; a < c; a++) b.addFile.call(b, this.files[a])
            })), b.refresh()
        },
        addFile: function (b) {
            var c, d = this,
                e = this.options,
                f = a(d.el).data("selected"),
                g = {
                    name: b.name,
                    type: b.type,
                    modified: b.lastModifiedDate,
                    size: b.size,
                    content: null,
                    file: b
                },
                h = 0,
                i = 0;
            if (f)
                for (var j = 0; j < f.length; j++) {
                    if (f[j].name == b.name && f[j].size == b.size) return;
                    h += f[j].size, i++
                }
            var k = d.trigger({
                phase: "before",
                type: "add",
                target: d.el,
                file: g,
                total: i,
                totalSize: h
            });
            if (k.isCancelled !== !0) {
                if (0 !== e.maxFileSize && g.size > e.maxFileSize) return c = "Maximum file size is " + w2utils.formatSize(e.maxFileSize), e.silent === !1 && a(d.el).w2tag(c), void console.log("ERROR: " + c);
                if (0 !== e.maxSize && h + g.size > e.maxSize) return c = w2utils.lang("Maximum total size is") + " " + w2utils.formatSize(e.maxSize), void(e.silent === !1 ? a(d.el).w2tag(c) : console.log("ERROR: " + c));
                if (0 !== e.max && i >= e.max) return c = w2utils.lang("Maximum number of files is") + " " + e.max, void(e.silent === !1 ? a(d.el).w2tag(c) : console.log("ERROR: " + c));
                if (f.push(g), "undefined" != typeof FileReader && e.readContent === !0) {
                    var l = new FileReader;
                    l.onload = function () {
                        return function (b) {
                            var c = b.target.result,
                                e = c.indexOf(",");
                            g.content = c.substr(e + 1), d.refresh(), a(d.el).trigger("change"), d.trigger(a.extend(k, {
                                phase: "after"
                            }))
                        }
                    }(), l.readAsDataURL(b)
                } else d.refresh(), a(d.el).trigger("change"), d.trigger(a.extend(k, {
                    phase: "after"
                }))
            }
        },
        normMenu: function (b) {
            if (a.isArray(b)) {
                for (var c = 0; c < b.length; c++) "string" == typeof b[c] ? b[c] = {
                    id: b[c],
                    text: b[c]
                } : (null != b[c].text && null == b[c].id && (b[c].id = b[c].text), null == b[c].text && null != b[c].id && (b[c].text = b[c].id), null != b[c].caption && (b[c].text = b[c].caption));
                return b
            }
            if ("function" == typeof b) return this.normMenu(b());
            if ("object" == typeof b) {
                var d = [];
                for (var c in b) d.push({
                    id: c,
                    text: b[c]
                });
                return d
            }
        },
        getMonthHTML: function (a, b, c) {
            var d = new Date,
                e = w2utils.settings.fullmonths,
                f = ["31", "28", "31", "30", "31", "30", "31", "31", "30", "31", "30", "31"],
                g = d.getFullYear() + "/" + (Number(d.getMonth()) + 1) + "/" + d.getDate(),
                h = w2utils.settings.fulldays.slice(),
                i = w2utils.settings.shortdays.slice();
            "M" !== w2utils.settings.weekStarts && (h.unshift(h.pop()), i.unshift(i.pop()));
            var j = this.options;
            null == j && (j = {}), b = w2utils.isInt(b) ? parseInt(b) : d.getFullYear(), a = w2utils.isInt(a) ? parseInt(a) : d.getMonth() + 1, a > 12 && (a -= 12, b++), (a < 1 || 0 === a) && (a += 12, b--), b / 4 == Math.floor(b / 4) ? f[1] = "29" : f[1] = "28", j.current = a + "/" + b, d = new Date(b, a - 1, 1);
            for (var k = d.getDay(), l = "", m = 0; m < i.length; m++) l += '<td title="' + h[m] + '">' + i[m] + "</td>";
            var n = '<div class="w2ui-calendar-title title">    <div class="w2ui-calendar-previous previous"> <div></div> </div>    <div class="w2ui-calendar-next next"> <div></div> </div> ' + e[a - 1] + ", " + b + '</div><table class="w2ui-calendar-days" cellspacing="0"><tbody>    <tr class="w2ui-day-title">' + l + "</tr>    <tr>",
                o = 1;
            if ("M" !== w2utils.settings.weekStarts && k++, "datetime" === this.type) {
                var p = w2utils.isDateTime(c, j.format, !0);
                c = w2utils.formatDate(p, w2utils.settings.dateFormat)
            }
            for (var q = 1; q < 43; q++) {
                if (0 === k && 1 == q) {
                    for (var r = 0; r < 6; r++) n += '<td class="w2ui-day-empty">&#160;</td>';
                    q += 6
                } else if (q < k || o > f[a - 1]) {
                    n += '<td class="w2ui-day-empty">&#160;</td>', q % 7 === 0 && (n += "</tr><tr>");
                    continue
                }
                var s = b + "/" + a + "/" + o,
                    t = new Date(s),
                    u = "";
                6 === t.getDay() && (u = " w2ui-saturday"), 0 === t.getDay() && (u = " w2ui-sunday"), s == g && (u += " w2ui-today");
                var v, w, x = o,
                    y = "",
                    z = "";
                if ("datetime" === this.type ? (v = w2utils.formatDateTime(s, j.format), w = w2utils.formatDate(s, w2utils.settings.dateFormat)) : (v = w2utils.formatDate(s, j.format), w = v), j.colored && void 0 !== j.colored[w]) {
                    var A = j.colored[w].split(":");
                    z = "background-color: " + A[0] + ";", y = "color: " + A[1] + ";"
                }
                n += '<td class="' + (this.inRange(v, !0) ? "w2ui-date " + (w == c ? "w2ui-date-selected" : "") : "w2ui-blocked") + u + '"    style="' + y + z + '" date="' + v + '" data-date="' + t + '">' + x + "</td>", (q % 7 === 0 || 0 === k && 1 == q) && (n += "</tr><tr>"), o++
            }
            return n += "</tr></tbody></table>"
        },
        getYearHTML: function () {
            for (var a = w2utils.settings.shortmonths, b = w2utils.settings.dateStartYear, c = w2utils.settings.dateEndYear, d = "", e = "", f = 0; f < a.length; f++) d += '<div class="w2ui-jump-month" name="' + f + '">' + a[f] + "</div>";
            for (var g = b; g <= c; g++) e += '<div class="w2ui-jump-year" name="' + g + '">' + g + "</div>";
            return '<div id="w2ui-jump-month">' + d + '</div><div id="w2ui-jump-year">' + e + "</div>"
        },
        getHourHTML: function () {
            var a = [],
                b = this.options;
            null == b && (b = {
                format: w2utils.settings.timeFormat
            });
            for (var c = b.format.indexOf("h24") > -1, d = 0; d < 24; d++) {
                var e = (d >= 12 && !c ? d - 12 : d) + ":00" + (c ? "" : d < 12 ? " am" : " pm");
                12 != d || c || (e = "12:00 pm"), a[Math.floor(d / 8)] || (a[Math.floor(d / 8)] = "");
                var f = this.fromMin(this.toMin(e)),
                    g = this.fromMin(this.toMin(e) + 59);
                if ("datetime" === this.type) {
                    var h = w2utils.isDateTime(this.el.value, b.format, !0),
                        i = b.format.split("|")[0].trim();
                    f = w2utils.formatDate(h, i) + " " + f, g = w2utils.formatDate(h, i) + " " + g
                }
                a[Math.floor(d / 8)] += '<div class="' + (this.inRange(f) || this.inRange(g) ? "w2ui-time " : "w2ui-blocked") + '" hour="' + d + '">' + e + "</div>"
            }
            var j = '<div class="w2ui-calendar">   <div class="w2ui-calendar-title">' + w2utils.lang("Select Hour") + '</div>   <div class="w2ui-calendar-time"><table><tbody><tr>       <td>' + a[0] + "</td>       <td>" + a[1] + "</td>       <td>" + a[2] + "</td>   </tr></tbody></table></div></div>";
            return j
        },
        getMinHTML: function (a) {
            null == a && (a = 0);
            var b = this.options;
            null == b && (b = {
                format: w2utils.settings.timeFormat
            });
            for (var c = b.format.indexOf("h24") > -1, d = [], e = 0; e < 60; e += 5) {
                var f = (a > 12 && !c ? a - 12 : a) + ":" + (e < 10 ? 0 : "") + e + " " + (c ? "" : a < 12 ? "am" : "pm"),
                    g = f,
                    h = e < 20 ? 0 : e < 40 ? 1 : 2;
                if (d[h] || (d[h] = ""), "datetime" === this.type) {
                    var i = w2utils.isDateTime(this.el.value, b.format, !0),
                        j = b.format.split("|")[0].trim();
                    g = w2utils.formatDate(i, j) + " " + g
                }
                d[h] += '<div class="' + (this.inRange(g) ? "w2ui-time " : "w2ui-blocked") + '" min="' + e + '">' + f + "</div>"
            }
            var k = '<div class="w2ui-calendar">   <div class="w2ui-calendar-title">' + w2utils.lang("Select Minute") + '</div>   <div class="w2ui-calendar-time"><table><tbody><tr>       <td>' + d[0] + "</td>       <td>" + d[1] + "</td>       <td>" + d[2] + "</td>   </tr></tbody></table></div></div>";
            return k
        },
        toMin: function (a) {
            if ("string" != typeof a) return null;
            var b = a.split(":");
            return 2 !== b.length ? null : (b[0] = parseInt(b[0]), b[1] = parseInt(b[1]), a.indexOf("pm") !== -1 && 12 !== b[0] && (b[0] += 12), 60 * b[0] + b[1])
        },
        fromMin: function (a) {
            var b = "";
            a >= 1440 && (a %= 1440), a < 0 && (a = 1440 + a);
            var c = Math.floor(a / 60),
                d = (a % 60 < 10 ? "0" : "") + a % 60,
                e = this.options;
            return null == e && (e = {
                format: w2utils.settings.timeFormat
            }), b = e.format.indexOf("h24") !== -1 ? c + ":" + d : (c <= 12 ? c : c - 12) + ":" + d + " " + (c >= 12 ? "pm" : "am")
        }
    }, a.extend(b.prototype, w2utils.event), w2obj.field = b
}(jQuery),
function ($) {
    var w2form = function (a) {
        this.name = null, this.header = "", this.box = null, this.url = "", this.routeData = {}, this.formURL = "", this.formHTML = "", this.page = 0, this.recid = 0, this.fields = [], this.actions = {}, this.record = {}, this.original = {}, this.postData = {}, this.httpHeaders = {}, this.method = null, this.toolbar = {}, this.tabs = {}, this.style = "", this.focus = 0, this.autosize = !0, this.multipart = !1, this.tabindexBase = 0, this.isGenerated = !1, this.last = {
            xhr: null
        }, $.extend(!0, this, w2obj.form, a)
    };
    $.fn.w2form = function (a) {
        if ($.isPlainObject(a)) {
            var b = this;
            if (!w2utils.checkName(a, "w2form")) return;
            var c = a.record,
                d = a.original,
                e = a.fields,
                f = a.toolbar,
                g = a.tabs,
                h = new w2form(a);
            if ($.extend(h, {
                    record: {},
                    original: {},
                    fields: [],
                    tabs: {},
                    toolbar: {},
                    handlers: []
                }), $.isArray(g)) {
                $.extend(!0, h.tabs, {
                    tabs: []
                });
                for (var i = 0; i < g.length; i++) {
                    var j = g[i];
                    "object" == typeof j ? (h.tabs.tabs.push(j), j.active === !0 && (h.tabs.active = j.id)) : h.tabs.tabs.push({
                        id: j,
                        caption: j
                    })
                }
            } else $.extend(!0, h.tabs, g);
            if ($.extend(!0, h.toolbar, f), e)
                for (var k = 0; k < e.length; k++) {
                    var l = $.extend(!0, {}, e[k]);
                    null == l.name && null != l.field && (l.name = l.field), null == l.field && null != l.name && (l.field = l.name), h.fields[k] = l
                }
            for (var k in c) $.isPlainObject(c[k]) ? h.record[k] = $.extend(!0, {}, c[k]) : h.record[k] = c[k];
            for (var k in d) $.isPlainObject(d[k]) ? h.original[k] = $.extend(!0, {}, d[k]) : h.original[k] = d[k];
            return b.length > 0 && (h.box = b[0]), "" !== h.formURL ? $.get(h.formURL, function (a) {
                h.formHTML = a, h.isGenerated = !0, 0 === $(h.box).length && 0 === a.length || ($(h.box).html(a), h.render(h.box))
            }) : "" !== h.formHTML || (0 !== $(this).length && "" !== $.trim($(this).html()) ? h.formHTML = $(this).html() : h.formHTML = h.generateHTML()), w2ui[h.name] = h, "" === h.formURL && (String(h.formHTML).indexOf("w2ui-page") === -1 && (h.formHTML = '<div class="w2ui-page page-0">' + h.formHTML + "</div>"), $(h.box).html(h.formHTML), h.isGenerated = !0, h.render(h.box)), h
        }
        var b = w2ui[$(this).attr("name")];
        return b ? arguments.length > 0 ? (b[a] && b[a].apply(b, Array.prototype.slice.call(arguments, 1)), this) : b : null
    }, w2form.prototype = {
        onRequest: null,
        onLoad: null,
        onValidate: null,
        onSubmit: null,
        onProgress: null,
        onSave: null,
        onChange: null,
        onRender: null,
        onRefresh: null,
        onResize: null,
        onDestroy: null,
        onAction: null,
        onToolbar: null,
        onError: null,
        msgNotJSON: "Returned data is not in valid JSON format.",
        msgAJAXerror: "AJAX error. See console for more details.",
        msgRefresh: "Refreshing...",
        msgSaving: "Saving...",
        get: function (a, b) {
            if (0 === arguments.length) {
                for (var c = [], d = 0; d < this.fields.length; d++) null != this.fields[d].name && c.push(this.fields[d].name);
                return c
            }
            for (var e = 0; e < this.fields.length; e++)
                if (this.fields[e].name == a) return b === !0 ? e : this.fields[e];
            return null
        },
        set: function (a, b) {
            for (var c = 0; c < this.fields.length; c++)
                if (this.fields[c].name == a) return $.extend(this.fields[c], b), this.refresh(), !0;
            return !1
        },
        show: function () {
            for (var a = 0, b = 0; b < arguments.length; b++) {
                var c = this.get(arguments[b]);
                c && c.hidden && (c.hidden = !1, a++)
            }
            return a > 0 && this.refresh(), a
        },
        hide: function () {
            for (var a = 0, b = 0; b < arguments.length; b++) {
                var c = this.get(arguments[b]);
                c && !c.hidden && (c.hidden = !0, a++)
            }
            return a > 0 && this.refresh(), a
        },
        enable: function () {
            for (var a = 0, b = 0; b < arguments.length; b++) {
                var c = this.get(arguments[b]);
                c && c.disabled && (c.disabled = !1, a++)
            }
            return a > 0 && this.refresh(), a
        },
        disable: function () {
            for (var a = 0, b = 0; b < arguments.length; b++) {
                var c = this.get(arguments[b]);
                c && !c.disabled && (c.disabled = !0, a++)
            }
            return a > 0 && this.refresh(), a
        },
        reload: function (a) {
            var b = "object" != typeof this.url ? this.url : this.url.get;
            b && 0 !== this.recid && null != this.recid ? this.request(a) : "function" == typeof a && a()
        },
        clear: function () {
            this.recid = 0, this.record = {}, $().w2tag(), this.refresh()
        },
        error: function (a) {
            var b = this,
                c = this.trigger({
                    target: this.name,
                    type: "error",
                    message: a,
                    xhr: this.last.xhr
                });
            return c.isCancelled === !0 ? void("function" == typeof callBack && callBack()) : (setTimeout(function () {
                b.message(a)
            }, 1), void this.trigger($.extend(c, {
                phase: "after"
            })))
        },
        message: function (a) {
            "string" == typeof a && (a = {
                width: a.length < 300 ? 350 : 550,
                height: a.length < 300 ? 170 : 250,
                body: '<div class="w2ui-centered">' + a + "</div>",
                buttons: '<button class="w2ui-btn" onclick="w2ui[\'' + this.name + "'].message()\">Ok</button>",
                onOpen: function (a) {
                    setTimeout(function () {
                        $(a.box).find(".w2ui-btn").focus()
                    }, 25)
                }
            }), w2utils.message.call(this, {
                box: this.box,
                path: "w2ui." + this.name,
                title: ".w2ui-form-header:visible",
                body: ".w2ui-form-box"
            }, a)
        },
        validate: function (a) {
            null == a && (a = !0), $().w2tag();
            for (var b = [], c = 0; c < this.fields.length; c++) {
                var d = this.fields[c];
                switch (null == this.record[d.name] && (this.record[d.name] = ""), d.type) {
                    case "int":
                        this.record[d.name] && !w2utils.isInt(this.record[d.name]) && b.push({
                            field: d,
                            error: w2utils.lang("Not an integer")
                        });
                        break;
                    case "float":
                        this.record[d.name] && !w2utils.isFloat(this.record[d.name]) && b.push({
                            field: d,
                            error: w2utils.lang("Not a float")
                        });
                        break;
                    case "money":
                        this.record[d.name] && !w2utils.isMoney(this.record[d.name]) && b.push({
                            field: d,
                            error: w2utils.lang("Not in money format")
                        });
                        break;
                    case "color":
                    case "hex":
                        this.record[d.name] && !w2utils.isHex(this.record[d.name]) && b.push({
                            field: d,
                            error: w2utils.lang("Not a hex number")
                        });
                        break;
                    case "email":
                        this.record[d.name] && !w2utils.isEmail(this.record[d.name]) && b.push({
                            field: d,
                            error: w2utils.lang("Not a valid email")
                        });
                        break;
                    case "checkbox":
                        1 == this.record[d.name] ? this.record[d.name] = 1 : this.record[d.name] = 0;
                        break;
                    case "date":
                        d.options.format || (d.options.format = w2utils.settings.dateFormat), this.record[d.name] && !w2utils.isDate(this.record[d.name], d.options.format) && b.push({
                            field: d,
                            error: w2utils.lang("Not a valid date") + ": " + d.options.format
                        });
                        break;
                    case "list":
                    case "combo":
                        break;
                    case "enum":
                }
                var e = this.record[d.name];
                d.required && ("" === e || $.isArray(e) && 0 === e.length || $.isPlainObject(e) && $.isEmptyObject(e)) && b.push({
                    field: d,
                    error: w2utils.lang("Required field")
                }), d.equalto && this.record[d.name] != this.record[d.equalto] && b.push({
                    field: d,
                    error: w2utils.lang("Field should be equal to ") + d.equalto
                })
            }
            var f = this.trigger({
                phase: "before",
                target: this.name,
                type: "validate",
                errors: b
            });
            if (f.isCancelled !== !0) {
                if (a)
                    for (var g = 0; g < f.errors.length; g++) {
                        var h = f.errors[g],
                            i = $.extend({
                                class: "w2ui-error"
                            }, h.options);
                        null != h.field && ("radio" === h.field.type ? $($(h.field.el).parents("div")[0]).w2tag(h.error, i) : ["enum", "file"].indexOf(h.field.type) !== -1 ? ! function (a) {
                            setTimeout(function () {
                                var b = $(a.field.el).data("w2field").helpers.multi;
                                $(a.field.el).w2tag(a.error, a.options), $(b).addClass("w2ui-error")
                            }, 1)
                        }(h) : $(h.field.el).w2tag(h.error, i), this.goto(b[0].field.page))
                    }
                return this.trigger($.extend(f, {
                    phase: "after"
                })), b
            }
        },
        getChanges: function () {
            var a = function (b, c, d) {
                for (var e in b) "object" == typeof b[e] ? (d[e] = a(b[e], c[e] || {}, {}), d[e] && !$.isEmptyObject(d[e]) || delete d[e]) : b[e] != c[e] && (d[e] = b[e]);
                return d
            };
            return a(this.record, this.original, {})
        },
        request: function (postData, callBack) {
            var obj = this;
            if ("function" == typeof postData && (callBack = postData, postData = null), null == postData && (postData = {}), this.url && ("object" != typeof this.url || this.url.get)) {
                null == this.recid && (this.recid = 0);
                var params = {};
                params.cmd = "get", params.recid = this.recid, params.name = this.name, $.extend(params, this.postData), $.extend(params, postData);
                var edata = this.trigger({
                    phase: "before",
                    type: "request",
                    target: this.name,
                    url: this.url,
                    postData: params,
                    httpHeaders: this.httpHeaders
                });
                if (edata.isCancelled === !0) return void("function" == typeof callBack && callBack({
                    status: "error",
                    message: "Request aborted."
                }));
                this.record = {}, this.original = {}, this.lock(w2utils.lang(this.msgRefresh));
                var url = edata.url;
                if ("object" == typeof edata.url && edata.url.get && (url = edata.url.get), this.last.xhr) try {
                    this.last.xhr.abort()
                } catch (a) {}
                if (!$.isEmptyObject(obj.routeData)) {
                    var info = w2utils.parseRoute(url);
                    if (info.keys.length > 0)
                        for (var k = 0; k < info.keys.length; k++) null != obj.routeData[info.keys[k].name] && (url = url.replace(new RegExp(":" + info.keys[k].name, "g"), obj.routeData[info.keys[k].name]))
                }
                var ajaxOptions = {
                    type: "POST",
                    url: url,
                    data: edata.postData,
                    headers: edata.httpHeaders,
                    dataType: "text"
                };
                switch (w2utils.settings.dataType) {
                    case "HTTP":
                        ajaxOptions.data = String($.param(ajaxOptions.data, !1)).replace(/%5B/g, "[").replace(/%5D/g, "]");
                        break;
                    case "HTTPJSON":
                        ajaxOptions.data = {
                            request: JSON.stringify(ajaxOptions.data)
                        };
                        break;
                    case "RESTFULL":
                        ajaxOptions.type = "GET", ajaxOptions.data = String($.param(ajaxOptions.data, !1)).replace(/%5B/g, "[").replace(/%5D/g, "]");
                        break;
                    case "RESTFULLJSON":
                        ajaxOptions.type = "GET", ajaxOptions.data = JSON.stringify(ajaxOptions.data), ajaxOptions.contentType = "application/json";
                        break;
                    case "JSON":
                        ajaxOptions.type = "POST", ajaxOptions.data = JSON.stringify(ajaxOptions.data), ajaxOptions.contentType = "application/json"
                }
                this.method && (ajaxOptions.type = this.method), this.last.xhr = $.ajax(ajaxOptions).done(function (data, status, xhr) {
                    obj.unlock();
                    var edata = obj.trigger({
                        phase: "before",
                        target: obj.name,
                        type: "load",
                        xhr: xhr
                    });
                    if (edata.isCancelled === !0) return void("function" == typeof callBack && callBack({
                        status: "error",
                        message: "Request aborted."
                    }));
                    var data, responseText = obj.last.xhr.responseText;
                    if ("error" !== status) {
                        if (null != responseText && "" !== responseText) {
                            if ("object" == typeof responseText) data = responseText;
                            else try {
                                eval("data = " + responseText)
                            } catch (a) {}
                            null == data && (data = {
                                status: "error",
                                message: w2utils.lang(obj.msgNotJSON),
                                responseText: responseText
                            }), "error" === data.status ? obj.error(w2utils.lang(data.message)) : (obj.record = $.extend({}, data.record), obj.original = $.extend({}, data.record))
                        }
                    } else obj.error("AJAX Error " + xhr.status + ": " + xhr.statusText), data = {
                        status: "error",
                        message: w2utils.lang(obj.msgAJAXerror),
                        responseText: responseText
                    };
                    obj.trigger($.extend(edata, {
                        phase: "after"
                    })), obj.refresh(), "function" == typeof callBack && callBack(data)
                }).fail(function (a, b, c) {
                    var d = {
                            status: b,
                            error: c,
                            rawResponseText: a.responseText
                        },
                        e = obj.trigger({
                            phase: "before",
                            type: "error",
                            error: d,
                            xhr: a
                        });
                    if (e.isCancelled !== !0) {
                        if ("abort" !== b) {
                            var f;
                            try {
                                f = $.parseJSON(a.responseText)
                            } catch (a) {}
                            console.log("ERROR: Server communication failed.", "\n   EXPECTED:", {
                                status: "success",
                                items: [{
                                    id: 1,
                                    text: "item"
                                }]
                            }, "\n         OR:", {
                                status: "error",
                                message: "error message"
                            }, "\n   RECEIVED:", "object" == typeof f ? f : a.responseText)
                        }
                        obj.trigger($.extend(e, {
                            phase: "after"
                        }))
                    }
                }), this.trigger($.extend(edata, {
                    phase: "after"
                }))
            }
        },
        submit: function (a, b) {
            return this.save(a, b)
        },
        save: function (postData, callBack) {
            var obj = this;
            $(this.box).find(":focus").change(), "function" == typeof postData && (callBack = postData, postData = null);
            var errors = obj.validate(!0);
            if (0 === errors.length) {
                if (null == postData && (postData = {}), !obj.url || "object" == typeof obj.url && !obj.url.save) return void console.log("ERROR: Form cannot be saved because no url is defined.");
                obj.lock(w2utils.lang(obj.msgSaving) + ' <span id="' + obj.name + '_progress"></span>'), setTimeout(function () {
                    function apend(a, b, c, d) {
                        function e(b, c, d) {
                            if ("object" == typeof b && b instanceof File && a.append(d, b), "object" == typeof b)
                                if (b && b.constructor === Array)
                                    for (var f = 0; f < b.length; f++) {
                                        var g = c ? c[f] : c;
                                        e(b[f], g, d + "[" + f + "]")
                                    } else apend(a, b, c, d)
                        }
                        null == d && (d = "");
                        for (var f in b) {
                            var g = "" == d ? f : "${p}[${prop}]",
                                h = c ? c[f] : c;
                            e(b[f], h, g)
                        }
                    }
                    var params = {};
                    params.cmd = "save", params.recid = obj.recid, params.name = obj.name, $.extend(params, obj.postData), $.extend(params, postData), obj.multipart || obj.fields.forEach(function (a) {
                        "file" === a.type && Array.isArray(obj.record[a.field]) && obj.record[a.field].forEach(function (a) {
                            delete a.file
                        })
                    }), params.record = $.extend(!0, {}, obj.record);
                    var edata = obj.trigger({
                        phase: "before",
                        type: "submit",
                        target: obj.name,
                        url: obj.url,
                        postData: params,
                        httpHeaders: obj.httpHeaders
                    });
                    if (edata.isCancelled !== !0) {
                        var url = edata.url;
                        if ("object" == typeof edata.url && edata.url.save && (url = edata.url.save), obj.last.xhr) try {
                            obj.last.xhr.abort()
                        } catch (a) {}
                        if (!$.isEmptyObject(obj.routeData)) {
                            var info = w2utils.parseRoute(url);
                            if (info.keys.length > 0)
                                for (var k = 0; k < info.keys.length; k++) null != obj.routeData[info.keys[k].name] && (url = url.replace(new RegExp(":" + info.keys[k].name, "g"), obj.routeData[info.keys[k].name]))
                        }
                        var ajaxOptions = {
                            type: "POST",
                            url: url,
                            data: edata.postData,
                            headers: edata.httpHeaders,
                            dataType: "text",
                            xhr: function () {
                                var a = new window.XMLHttpRequest;
                                return a.upload.addEventListener("progress", function (a) {
                                    if (a.lengthComputable) {
                                        var b = obj.trigger({
                                            phase: "before",
                                            type: "progress",
                                            total: a.total,
                                            loaded: a.loaded,
                                            originalEvent: a
                                        });
                                        if (b.isCancelled === !0) return;
                                        var c = Math.round(a.loaded / a.total * 100);
                                        $("#" + obj.name + "_progress").text("" + c + "%"), obj.trigger($.extend(b, {
                                            phase: "after"
                                        }))
                                    }
                                }, !1), a
                            }
                        };
                        switch (w2utils.settings.dataType) {
                            case "HTTP":
                                ajaxOptions.data = String($.param(ajaxOptions.data, !1)).replace(/%5B/g, "[").replace(/%5D/g, "]");
                                break;
                            case "HTTPJSON":
                                ajaxOptions.data = {
                                    request: JSON.stringify(ajaxOptions.data)
                                };
                                break;
                            case "RESTFULL":
                                0 !== obj.recid && null != obj.recid && (ajaxOptions.type = "PUT"), ajaxOptions.data = String($.param(ajaxOptions.data, !1)).replace(/%5B/g, "[").replace(/%5D/g, "]");
                                break;
                            case "RESTFULLJSON":
                                0 !== obj.recid && null != obj.recid && (ajaxOptions.type = "PUT"), ajaxOptions.data = JSON.stringify(ajaxOptions.data), ajaxOptions.contentType = "application/json";
                                break;
                            case "JSON":
                                if (ajaxOptions.type = "POST", ajaxOptions.contentType = "application/json", obj.multipart) {
                                    var fdata = new FormData;
                                    fdata.append("__body", JSON.stringify(ajaxOptions.data)), apend(fdata, ajaxOptions.data), ajaxOptions.data = fdata, ajaxOptions.contentType = !1, ajaxOptions.processData = !1
                                } else ajaxOptions.data = JSON.stringify(ajaxOptions.data)
                        }
                        this.method && (ajaxOptions.type = this.method), obj.last.xhr = $.ajax(ajaxOptions).done(function (data, status, xhr) {
                            obj.unlock();
                            var edata = obj.trigger({
                                phase: "before",
                                target: obj.name,
                                type: "save",
                                xhr: xhr,
                                status: status
                            });
                            if (edata.isCancelled !== !0) {
                                var data, responseText = xhr.responseText;
                                if ("error" !== status) {
                                    if (null != responseText && "" !== responseText) {
                                        if ("object" == typeof responseText) data = responseText;
                                        else try {
                                            eval("data = " + responseText)
                                        } catch (a) {}
                                        null == data && (data = {
                                            status: "error",
                                            message: w2utils.lang(obj.msgNotJSON),
                                            responseText: responseText
                                        }), "error" === data.status ? obj.error(w2utils.lang(data.message)) : obj.original = $.extend({}, obj.record)
                                    }
                                } else obj.error("AJAX Error " + xhr.status + ": " + xhr.statusText), data = {
                                    status: "error",
                                    message: w2utils.lang(obj.msgAJAXerror),
                                    responseText: responseText
                                };
                                obj.trigger($.extend(edata, {
                                    phase: "after"
                                })), obj.refresh(), "success" === data.status && "function" == typeof callBack && callBack(data)
                            }
                        }).fail(function (a, b, c) {
                            var d = {
                                    status: b,
                                    error: c,
                                    rawResponseText: a.responseText
                                },
                                e = obj.trigger({
                                    phase: "before",
                                    type: "error",
                                    error: d,
                                    xhr: a
                                });
                            e.isCancelled !== !0 && (console.log("ERROR: server communication failed. The server should return", {
                                status: "success"
                            }, "OR", {
                                status: "error",
                                message: "error message"
                            }, ", instead the AJAX request produced this: ", d), obj.trigger($.extend(e, {
                                phase: "after"
                            })))
                        }), obj.trigger($.extend(edata, {
                            phase: "after"
                        }))
                    }
                }, 50)
            }
        },
        lock: function (a, b) {
            var c = Array.prototype.slice.call(arguments, 0);
            c.unshift(this.box), setTimeout(function () {
                w2utils.lock.apply(window, c)
            }, 10)
        },
        unlock: function (a) {
            var b = this.box;
            setTimeout(function () {
                w2utils.unlock(b, a)
            }, 25)
        },
        lockPage: function (a, b) {
            var c = $(this.box).find(".page-" + a);
            return !!c.length && (w2utils.lock(c, b), !0)
        },
        unlockPage: function (a, b) {
            var c = $(this.box).find(".page-" + a);
            return !!c.length && (w2utils.unlock(c, b), !0)
        },
        goto: function (a) {
            this.page !== a && (null != a && (this.page = a), $(this.box).data("auto-size") === !0 && $(this.box).height(0), this.refresh())
        },
        generateHTML: function () {
            for (var a, b, c, d, e, f = [], g = "", h = 0; h < this.fields.length; h++) {
                c = "", d = this.tabindexBase + h + 1, e = ' tabindex="' + d + '"';
                var i = this.fields[h];
                null == i.html && (i.html = {}), null == i.options && (i.options = {}), i.html = $.extend(!0, {
                    caption: "",
                    span: 6,
                    attr: "",
                    text: "",
                    style: "",
                    page: 0,
                    column: 0
                }, i.html), null == a && (a = i.html.page), null == b && (b = i.html.column), "" === i.html.caption && (i.html.caption = i.name);
                var j = '<input name="' + i.name + '" class="w2ui-input" type="text" ' + i.html.attr + e + "/>";
                switch (i.type) {
                    case "pass":
                    case "password":
                        j = '<input name="' + i.name + '" class="w2ui-input" type = "password" ' + i.html.attr + e + "/>";
                        break;
                    case "checkbox":
                        j = '<input name="' + i.name + '" class="w2ui-input" type="checkbox" ' + i.html.attr + e + "/>";
                        break;
                    case "radio":
                        j = "";
                        var k = i.options.items ? i.options.items : i.html.items;
                        $.isArray(k) || (k = []), k.length > 0 && (k = w2obj.field.prototype.normMenu(k));
                        for (var l = 0; l < k.length; l++) j += '<label><input name="' + i.name + '" class="w2ui-input" type = "radio" ' + i.html.attr + (0 === l ? e : "") + ' value="' + k[l].id + '"/>&#160;' + k[l].text + "</label><br/>";
                        break;
                    case "select":
                        j = '<select name="' + i.name + '" class="w2ui-input" ' + i.html.attr + e + ">";
                        var k = i.options.items ? i.options.items : i.html.items;
                        $.isArray(k) || (k = []), k.length > 0 && (k = w2obj.field.prototype.normMenu(k));
                        for (var l = 0; l < k.length; l++) j += '<option value="' + k[l].id + '">' + k[l].text + "</option>";
                        j += "</select>";
                        break;
                    case "textarea":
                        j = '<textarea name="' + i.name + '" class="w2ui-input" ' + i.html.attr + e + "></textarea>";
                        break;
                    case "toggle":
                        j = '<input name="' + i.name + '" type="checkbox" ' + i.html.attr + e + ' class="w2ui-input w2ui-toggle"/><div><div></div></div>';
                        break;
                    case "html":
                    case "custom":
                    case "empty":
                        j = ""
                }
                "" !== g && (a != i.html.page || b != i.html.column || i.html.group && g != i.html.group) && (f[a][b] += "\n   </div>", g = ""), i.html.group && g != i.html.group && (c += '\n   <div class="w2ui-group-title">' + i.html.group + '</div>\n   <div class="w2ui-group">', g = i.html.group), c += '\n      <div class="w2ui-field ' + (null != i.html.span ? "w2ui-span" + i.html.span : "") + '" style="' + i.html.style + '">\n         <label>' + w2utils.lang(i.html.caption) + "</label>" + ("empty" === i.type ? "" : "\n         <div>" + j + w2utils.lang(i.html.text) + "</div>") + "\n      </div>", null == f[i.html.page] && (f[i.html.page] = []), null == f[i.html.page][i.html.column] && (f[i.html.page][i.html.column] = ""), f[i.html.page][i.html.column] += c, a = i.html.page, b = i.html.column
            }
            if ("" !== g && (f[a][b] += "\n   </div>"), this.tabs.tabs)
                for (var l = 0; l < this.tabs.tabs.length; l++) null == f[l] && (f[l] = []);
            var m = "";
            if (!$.isEmptyObject(this.actions)) {
                m += '\n<div class="w2ui-buttons">';
                for (var n in this.actions) {
                    var o = this.actions[n],
                        p = {
                            caption: "",
                            style: "",
                            class: ""
                        };
                    $.isPlainObject(o) ? (o.caption && (p.caption = o.caption), o.style && (p.style = o.style), o.class && (p.class = o.class)) : (p.caption = n, ["save", "update", "create"].indexOf(n.toLowerCase()) !== -1 ? p.class = "w2ui-btn-blue" : p.class = ""), m += '\n    <button name="' + n + '" class="w2ui-btn ' + p.class + '" style="' + p.style + '">' + w2utils.lang(p.caption) + "</button>"
                }
                m += "\n</div>"
            }
            c = "";
            for (var q = 0; q < f.length; q++) {
                c += '<div class="w2ui-page page-' + q + '" ' + (0 === q ? "" : 'style="display: none;"') + '><div class="w2ui-column-container" style="display: flex;">';
                for (var r = 0; r < f[q].length; r++) c += '<div class="w2ui-column col-' + r + '">' + (f[q][r] || "") + "\n</div>";
                c += "\n</div></div>"
            }
            return c += m
        },
        action: function (a, b) {
            var c = this.actions[a],
                d = c;
            $.isPlainObject(c) && c.onClick && (d = c.onClick);
            var e = this.trigger({
                phase: "before",
                target: a,
                type: "action",
                click: d,
                originalEvent: b
            });
            e.isCancelled !== !0 && ("function" == typeof d && d.call(this, b), this.trigger($.extend(e, {
                phase: "after"
            })))
        },
        resize: function () {
            function a() {
                d.width($(b.box).width()).height($(b.box).height()), f.css("top", "" !== b.header ? w2utils.getSize(e, "height") : 0), g.css("top", ("" !== b.header ? w2utils.getSize(e, "height") : 0) + ("object" == typeof b.toolbar && $.isArray(b.toolbar.items) && b.toolbar.items.length > 0 ? w2utils.getSize(f, "height") : 0)), h.css("top", ("" !== b.header ? w2utils.getSize(e, "height") : 0) + ("object" == typeof b.toolbar && $.isArray(b.toolbar.items) && b.toolbar.items.length > 0 ? w2utils.getSize(f, "height") + 5 : 0) + ("object" == typeof b.tabs && $.isArray(b.tabs.tabs) && b.tabs.tabs.length > 0 ? w2utils.getSize(g, "height") + 5 : 0)), h.css("bottom", k.length > 0 ? w2utils.getSize(k, "height") : 0)
            }
            var b = this,
                c = this.trigger({
                    phase: "before",
                    target: this.name,
                    type: "resize"
                });
            if (c.isCancelled !== !0) {
                var d = $(this.box).find("> div.w2ui-form-box"),
                    e = $(this.box).find("> div .w2ui-form-header"),
                    f = $(this.box).find("> div .w2ui-form-toolbar"),
                    g = $(this.box).find("> div .w2ui-form-tabs"),
                    h = $(this.box).find("> div .w2ui-page"),
                    i = $(this.box).find("> div .w2ui-page.page-" + this.page),
                    j = $(this.box).find("> div .w2ui-page.page-" + this.page + " > div"),
                    k = $(this.box).find("> div .w2ui-buttons");
                a(), this.autosize && (0 !== parseInt($(this.box).height()) && $(this.box).data("auto-size") !== !0 || ($(this.box).height((e.length > 0 ? w2utils.getSize(e, "height") : 0) + ("object" == typeof this.tabs && $.isArray(this.tabs.tabs) && this.tabs.tabs.length > 0 ? w2utils.getSize(g, "height") : 0) + ("object" == typeof this.toolbar && $.isArray(this.toolbar.items) && this.toolbar.items.length > 0 ? w2utils.getSize(f, "height") : 0) + (h.length > 0 ? w2utils.getSize(j, "height") + w2utils.getSize(i, "+height") + 12 : 0) + (k.length > 0 ? w2utils.getSize(k, "height") : 0)), $(this.box).data("auto-size", !0)), a()), this.toolbar && this.toolbar.resize && this.toolbar.resize(), this.tabs && this.tabs.resize && this.tabs.resize(), b.trigger($.extend(c, {
                    phase: "after"
                }))
            }
        },
        refresh: function (a) {
            var b = (new Date).getTime(),
                c = this;
            if (this.box && this.isGenerated && null != $(this.box).html()) {
                var d = this.trigger({
                    phase: "before",
                    target: this.name,
                    type: "refresh",
                    page: this.page,
                    field: a
                });
                if (d.isCancelled !== !0) {
                    if (null != a) var e = c.get(a, !0),
                        f = e + 1;
                    else {
                        $(this.box).find("input, textarea, select").each(function (a, b) {
                            var d = null != $(b).attr("name") ? $(b).attr("name") : $(b).attr("id"),
                                e = c.get(d);
                            if (e) {
                                var f = $(b).parents(".w2ui-page");
                                if (f.length > 0)
                                    for (var g = 0; g < 100; g++)
                                        if (f.hasClass("page-" + g)) {
                                            e.page = g;
                                            break
                                        }
                            }
                        }), $(this.box).find(".w2ui-page").hide(), $(this.box).find(".w2ui-page.page-" + this.page).show(), $(this.box).find(".w2ui-form-header").html(this.header), "object" == typeof this.tabs && $.isArray(this.tabs.tabs) && this.tabs.tabs.length > 0 ? ($("#form_" + this.name + "_tabs").show(), this.tabs.active = this.tabs.tabs[this.page].id, this.tabs.refresh()) : $("#form_" + this.name + "_tabs").hide(), "object" == typeof this.toolbar && $.isArray(this.toolbar.items) && this.toolbar.items.length > 0 ? ($("#form_" + this.name + "_toolbar").show(), this.toolbar.refresh()) : $("#form_" + this.name + "_toolbar").hide();
                        var e = 0,
                            f = this.fields.length
                    }
                    for (var g = e; g < f; g++) {
                        var a = this.fields[g];
                        if (null == a.name && null != a.field && (a.name = a.field), null == a.field && null != a.name && (a.field = a.name), a.$el = $(this.box).find('[name="' + String(a.name).replace(/\\/g, "\\\\") + '"]'), a.el = a.$el[0], null != a.el) {
                            a.el && (a.el.id = a.name);
                            var h = $(a).data("w2field");
                            h && h.clear(), $(a.$el).off("change").on("change", function () {
                                var a = this.value,
                                    b = null != c.record[this.name] ? c.record[this.name] : "",
                                    d = c.get(this.name);
                                if (["list", "enum", "file"].indexOf(d.type) !== -1 && $(this).data("selected")) {
                                    var e = $(this).data("selected"),
                                        f = c.record[this.name];
                                    if ($.isArray(e)) {
                                        a = [];
                                        for (var g = 0; g < e.length; g++) a[g] = $.extend(!0, {}, e[g])
                                    }
                                    if ($.isPlainObject(e) && (a = $.extend(!0, {}, e)), $.isArray(f)) {
                                        b = [];
                                        for (var g = 0; g < f.length; g++) b[g] = $.extend(!0, {}, f[g])
                                    }
                                    $.isPlainObject(f) && (b = $.extend(!0, {}, f))
                                }
                                if (["toggle", "checkbox"].indexOf(d.type) !== -1 && (a = !!$(this).prop("checked") && ("on" === $(this).prop("value") || $(this).prop("value"))), ["int", "float", "percent", "money", "currency"].indexOf(d.type) !== -1 && (a = $(this).data("w2field").clean(a)), a !== b) {
                                    var h = c.trigger({
                                        phase: "before",
                                        target: this.name,
                                        type: "change",
                                        value_new: a,
                                        value_previous: b
                                    });
                                    if (h.isCancelled === !0) return void $(this).val(c.record[this.name]);
                                    var i = this.value;
                                    if ("select" === this.type && (i = this.value), "checkbox" === this.type && (i = !!this.checked), "radio" === this.type && d.$el.each(function (a, b) {
                                            b.checked && (i = b.value)
                                        }), ["int", "float", "percent", "money", "currency", "list", "combo", "enum", "file", "toggle"].indexOf(d.type) !== -1 && (i = a), ["enum", "file"].indexOf(d.type) !== -1 && i.length > 0) {
                                        var j = $(d.el).data("w2field").helpers.multi;
                                        $(j).removeClass("w2ui-error")
                                    }("" === i || null == i || $.isArray(i) && 0 === i.length || $.isPlainObject(i) && $.isEmptyObject(i)) && (i = null), c.record[this.name] = i, c.trigger($.extend(h, {
                                        phase: "after"
                                    }))
                                }
                            }), a.required ? $(a.el).parent().parent().addClass("w2ui-required") : $(a.el).parent().parent().removeClass("w2ui-required"), null != a.disabled && (a.disabled ? $(a.el).prop("readonly", !0) : $(a.el).prop("readonly", !1)), a.hidden ? $(a.el).parents(".w2ui-field").hide() : $(a.el).parents(".w2ui-field").show()
                        } else "empty" !== a.type && console.log('ERROR: Cannot associate field "' + a.name + '" with html control. Make sure html control exists with the same name.')
                    }
                    $(this.box).find("button, input[type=button]").each(function (a, b) {
                        $(b).off("click").on("click", function (a) {
                            var b = this.value;
                            this.id && (b = this.id),
                                this.name && (b = this.name), c.action(b, a)
                        })
                    });
                    for (var g = e; g < f; g++) {
                        var a = this.fields[g],
                            i = null != this.record[a.name] ? this.record[a.name] : "";
                        if (a.el) switch ($(a.el).hasClass("w2ui-input") || $(a.el).addClass("w2ui-input"), a.type = String(a.type).toLowerCase(), a.options || (a.options = {}), a.type) {
                            case "text":
                            case "textarea":
                            case "email":
                            case "pass":
                            case "password":
                                a.el.value = i;
                                break;
                            case "int":
                            case "float":
                            case "money":
                            case "currency":
                            case "percent":
                                a.el.value = i, $(a.el).w2field($.extend({}, a.options, {
                                    type: a.type
                                }));
                                break;
                            case "hex":
                            case "alphanumeric":
                            case "color":
                            case "date":
                            case "time":
                                a.el.value = i, $(a.el).w2field($.extend({}, a.options, {
                                    type: a.type
                                }));
                                break;
                            case "toggle":
                                w2utils.isFloat(i) && (i = parseFloat(i)), $(a.el).prop("checked", !!i), this.record[a.name] = !!i && i;
                                break;
                            case "list":
                            case "combo":
                                if ("list" === a.type) {
                                    var j = $.isPlainObject(i) ? i.id : $.isPlainObject(a.options.selected) ? a.options.selected.id : i;
                                    a.options.items || (a.options.items = []);
                                    var k = a.options.items;
                                    $.isArray(k) && k.length > 0 && !$.isPlainObject(k[0]) && (a.options.items = w2obj.field.prototype.normMenu(k));
                                    for (var l = 0; l < a.options.items.length; l++) {
                                        var m = a.options.items[l];
                                        if (m.id == j) {
                                            i = $.extend(!0, {}, m), c.record[a.name] = i;
                                            break
                                        }
                                    }
                                } else "combo" !== a.type || $.isPlainObject(i) ? $.isPlainObject(i) && null != i.text ? a.el.value = i.text : a.el.value = "" : a.el.value = i;
                                $.isPlainObject(i) || (i = {}), $(a.el).w2field($.extend({}, a.options, {
                                    type: a.type,
                                    selected: i
                                }));
                                break;
                            case "enum":
                            case "file":
                                $.isArray(i) || (i = []), $(a.el).w2field($.extend({}, a.options, {
                                    type: a.type,
                                    selected: i
                                }));
                                break;
                            case "select":
                                var k = a.options.items;
                                if (null != k && k.length > 0) {
                                    k = w2obj.field.prototype.normMenu(k), $(a.el).html("");
                                    for (var n = 0; n < k.length; n++) $(a.el).append('<option value="' + k[n].id + '">' + k[n].text + "</option")
                                }
                                $(a.el).val(i);
                                break;
                            case "radio":
                                $(a.$el).prop("checked", !1).each(function (a, b) {
                                    $(b).val() == i && $(b).prop("checked", !0)
                                });
                                break;
                            case "checkbox":
                                $(a.el).prop("checked", !!i);
                                break;
                            case "html":
                            case "custom":
                            case "empty":
                                break;
                            default:
                                $(a.el).val(i), $(a.el).w2field($.extend({}, a.options, {
                                    type: a.type
                                }))
                        }
                    }
                    for (var h = $(this.box).find(".w2ui-page"), l = 0; l < h.length; l++) $(h[l]).find("> *").length > 1 && $(h[l]).wrapInner("<div></div>");
                    return this.trigger($.extend(d, {
                        phase: "after"
                    })), this.resize(), (new Date).getTime() - b
                }
            }
        },
        render: function (a) {
            function b() {
                var a = $(d.box).find("div:not(.w2ui-field-helper) > input, select, textarea, div > label:nth-child(1) > :radio").not(".file-input");
                a.length > d.focus && a[d.focus].focus()
            }
            var c = (new Date).getTime(),
                d = this;
            if ("object" == typeof a && ($(this.box).find("#form_" + this.name + "_tabs").length > 0 && $(this.box).removeAttr("name").removeClass("w2ui-reset w2ui-form").html(""), this.box = a), this.isGenerated && this.box) {
                var e = this.trigger({
                    phase: "before",
                    target: this.name,
                    type: "render",
                    box: null != a ? a : this.box
                });
                if (e.isCancelled !== !0) {
                    $.isEmptyObject(this.original) && !$.isEmptyObject(this.record) && (this.original = $.extend(!0, {}, this.record));
                    var f = '<div class="w2ui-form-box">' + ("" !== this.header ? '<div class="w2ui-form-header">' + this.header + "</div>" : "") + '    <div id="form_' + this.name + '_toolbar" class="w2ui-form-toolbar" style="display: none"></div>    <div id="form_' + this.name + '_tabs" class="w2ui-form-tabs" style="display: none"></div>' + this.formHTML + "</div>";
                    $(this.box).attr("name", this.name).addClass("w2ui-reset w2ui-form").html(f), $(this.box).length > 0 && ($(this.box)[0].style.cssText += this.style), "function" != typeof this.toolbar.render && (this.toolbar = $().w2toolbar($.extend({}, this.toolbar, {
                        name: this.name + "_toolbar",
                        owner: this
                    })), this.toolbar.on("click", function (a) {
                        var b = d.trigger({
                            phase: "before",
                            type: "toolbar",
                            target: a.target,
                            originalEvent: a
                        });
                        b.isCancelled !== !0 && d.trigger($.extend(b, {
                            phase: "after"
                        }))
                    })), "object" == typeof this.toolbar && "function" == typeof this.toolbar.render && this.toolbar.render($("#form_" + this.name + "_toolbar")[0]), "function" != typeof this.tabs.render && (this.tabs = $().w2tabs($.extend({}, this.tabs, {
                        name: this.name + "_tabs",
                        owner: this,
                        active: this.tabs.active
                    })), this.tabs.on("click", function (a) {
                        d.goto(this.get(a.target, !0))
                    })), "object" == typeof this.tabs && "function" == typeof this.tabs.render && (this.tabs.render($("#form_" + this.name + "_tabs")[0]), this.tabs.active && this.tabs.click(this.tabs.active)), this.trigger($.extend(e, {
                        phase: "after"
                    })), this.resize();
                    var g = "object" != typeof this.url ? this.url : this.url.get;
                    return g && 0 !== this.recid && null != this.recid ? this.request() : this.refresh(), 0 === $(".w2ui-layout").length && (this.tmp_resize = function (a) {
                        w2ui[d.name].resize()
                    }, $(window).off("resize", "body").on("resize", "body", this.tmp_resize)), this.focus >= 0 && setTimeout(function () {
                        0 === $(d.box).find("input, select, textarea").length ? setTimeout(b, 500) : b()
                    }, 10), (new Date).getTime() - c
                }
            }
        },
        destroy: function () {
            var a = this.trigger({
                phase: "before",
                target: this.name,
                type: "destroy"
            });
            a.isCancelled !== !0 && ("object" == typeof this.toolbar && this.toolbar.destroy && this.toolbar.destroy(), "object" == typeof this.tabs && this.tabs.destroy && this.tabs.destroy(), $(this.box).find("#form_" + this.name + "_tabs").length > 0 && $(this.box).removeAttr("name").removeClass("w2ui-reset w2ui-form").html(""), delete w2ui[this.name], this.trigger($.extend(a, {
                phase: "after"
            })), $(window).off("resize", "body"))
        }
    }, $.extend(w2form.prototype, w2utils.event), w2obj.form = w2form
}(jQuery);


function AXgetId(id) {
    return document.getElementById(id)
}

function AX_A(iterable) {
    if (!iterable) return [];
    if ("toArray" in Object(iterable)) return iterable.toArray();
    for (var length = iterable.length || 0, results = new Array(length); length--;) results[length] = iterable[length];
    return results
}
if (!window.AXConfig) var AXConfig = {
    anchorHref: 'href="javascript:;"',
    weekDays: [{
        label: "�씪"
    }, {
        label: "�썡"
    }, {
        label: "�솕"
    }, {
        label: "�닔"
    }, {
        label: "紐�"
    }, {
        label: "湲�"
    }, {
        label: "�넗"
    }],
    AXReq: {
        async: !0,
        okCode: "ok",
        responseType: "",
        dataType: "",
        contentType: "application/x-www-form-urlencoded; charset=UTF-8",
        dataSendMethod: "parameter",
        crossDomain: !1,
        resultFormatter: function () {
            return this
        }
    },
    AXGrid: {
        passiveMode: !1,
        passiveRemoveHide: !1,
        fitToWidthRightMargin: 11,
        fitToWidth: !1,
        pageSize: 10,
        pageHeight: 400,
        headTdHeight: 30,
        keyResult: "result",
        keyList: "list",
        emptyListMSG: "empty of list",
        listCountMSG: "<b>{listCount}</b> count(s)",
        pageCountMSG: "page(s)"
    },
    AXTree: {
        fitToWidthRightMargin: 10,
        fitToWidth: !1,
        pageSize: 10,
        pageHeight: 400,
        keyResult: "result",
        keyTree: "tree",
        keyList: "list",
        emptyListMSG: "紐⑸줉�씠 �뾾�뒿�땲�떎.",
        persistExpanded: !1,
        persistSelected: !1,
        cookiePrefix: "axtree-",
        cookieExpiredays: 7
    },
    AXProgress: {
        cancelMsg: "�봽濡쒖꽭�뒪瑜� 痍⑥냼 �븯�떆寃좎뒿�땲源�?"
    },
    AXUpload5: {
        buttonTxt: "Upload files",
        deleteConfirm: "�젙留� �궘�젣�븯�떆寃좎뒿�땲源�?",
        uploadSelectTxt: "�뾽濡쒕뱶 �븯�떎 �뙆�씪�쓣 �꽑�깮�빐二쇱꽭�슂.",
        dropZoneTxt: "�뾽濡쒕뱶�븷 �뙆�씪�쓣 �뿬湲곗뿉 �넃�뒿�땲�떎."
    },
    AXModal: {
        contentDivClass: "bodyHeightDiv",
        pars: ""
    },
    AXInput: {
        errorPrintType: "toast",
        selectorOptionEmpty: "紐⑸줉�씠 �뾾�뒿�땲�떎.",
        yearText: "{year}�뀈",
        monthText: "{month}�썡",
        confirmText: "�솗�씤",
        keyOptions: "options",
        keyOptionValue: "optionValue",
        keyOptionText: "optionText"
    },
    AXSelect: {
        keyOptions: "options",
        keyOptionValue: "optionValue",
        keyOptionText: "optionText"
    },
    AXContextMenu: {
        title: "�꽑�깮�븯�꽭�슂"
    },
    mobile: {
        responsiveWidth: 0
    },
    AXEditor: {
        editor_frameSrc: "/_AXJ/lib/AXEditor.html",
        iconDirectory: "/ui/icons/"
    },
    AXTab: {
        closable: !1
    },
    AXValidator: {
        validateErrMessage: {
            required: "[{label}](��)�뒗 �븘�닔�엯�젰 �궗�빆�엯�땲�떎.",
            requiredstring: "諛섎뱶�떆 {required}(�쑝)濡� �엯�젰�븯�뀛�빞 �븯�뒗 �궗�빆�엯�땲�떎.",
            match: "[{label}](��)�뒗 �엯�젰�맂 �궡�슜�씠 �씪移섑븯吏� �븡�뒿�땲�떎.",
            invalid: "[{label}](��)�뒗 �엯�젰�맂 �궡�슜�씠 �삱諛붾Ⅴ吏� �븡�뒿�땲�떎.",
            min: "[{label}](��)�뒗 {min} �씠�긽�쓽 媛믪쓣 �엯�젰�빐二쇱꽭�슂.",
            max: "[{label}](��)�뒗 {max} �씠�븯�쓽 媛믪쓣 �엯�젰�빐二쇱꽭�슂.",
            minbyte: "[{label}]�쓽 �엯�젰�맂 �궡�슜�쓽 湲몄씠媛� {minbyte}Byte �씠�긽�씠�뼱�빞 �빀�땲�떎.",
            maxbyte: "[{label}]�쓽 �엯�젰�맂 �궡�슜�쓽 湲몄씠媛� {maxbyte}Byte瑜� 珥덇낵�븷 �닔 �뾾�뒿�땲�떎.",
            minlength: "[{label}]�쓽 �엯�젰�맂 �궡�슜�쓽 length媛� {minlength} �씠�긽�씠�뼱�빞 �빀�땲�떎.",
            maxlength: "[{label}]�쓽 �엯�젰�맂 �궡�슜�쓽 length媛� {maxlength}�쓣 珥덇낵�븷 �닔 �뾾�뒿�땲�떎.",
            number: "�닽�옄濡쒕쭔 �엯�젰�븯�뀛�빞 �빀�땲�떎.",
            email: "�씠硫붿씪 �삎�떇�씠 �삱諛붾Ⅴ吏� �븡�뒿�땲�떎.",
            hangul: "�븳湲�濡쒕쭔 �엯�젰�븯�뀛�빞 �빀�땲�떎.",
            engonly: "�쁺臾몄쑝濡쒕쭔 �엯�젰�븯�뀛�빞 �빀�땲�떎.",
            residentno: "二쇰�쇰벑濡앸쾲�샇 �삎�떇�씠 �삱諛붾Ⅴ吏� �븡�뒿�땲�떎.",
            foreignerno: "�쇅援��씤�벑濡앸쾲�샇 �삎�떇�씠 �삱諛붾Ⅴ吏� �븡�뒿�땲�떎.",
            bizno: "�궗�뾽�옄�벑濡앸쾲�샇 �삎�떇�씠 �삱諛붾Ⅴ吏� �븡�뒿�땲�떎.",
            phone: "�쟾�솕踰덊샇 �삎�떇�씠 �삱諛붾Ⅴ吏� �븡�뒿�땲�떎.",
            isdate: "�궇吏� �삎�떇�씠 �삱諛붾Ⅴ吏� �븡�뒿�땲�떎.",
            zip: "�슦�렪踰덊샇 �삎�떇�씠 �삱諛붾Ⅴ吏� �븡�뒿�땲�떎.",
            money: "�솕�룓�삎�떇�쑝濡쒕쭔 �엯�젰�븯�뀛�빞 �빀�땲�떎.",
            earlierThan: "[{label}] 蹂대떎 鍮좊Ⅸ �궇吏쒕�� �엯�젰�빐�빞 �빀�땲�떎.",
            laterThan: "[{label}] 蹂대떎 �뒓由� �궇吏쒕�� �엯�젰�빐�빞 �빀�땲�떎.",
            exception: "not found errmessage"
        }
    }
};
var axf = AXUtil = {
        async: !0,
        ajaxOkCode: "ok",
        ajaxResponseType: "",
        ajaxDataType: "",
        gridPassiveMode: !1,
        gridPassiveRemoveHide: !1,
        gridFitToWidthRightMargin: 10,
        uniqueSeq: 0,
        getUniqueId: function () {
            return axf.uniqueSeq += 1
        },
        getId: function (id) {
            return document.getElementById(id)
        },
        each: function (obj, callback) {
            if (obj) {
                var name, i = 0,
                    length = obj.length,
                    isObj = void 0 === length || Object.isFunction(obj);
                if (isObj) {
                    for (name in obj)
                        if (callback.call(obj[name], name, obj[name]) === !1) break
                } else
                    for (; length > i && callback.call(obj[i], i, obj[i++]) !== !1;);
            }
        },
        browser: function () {
            var ua = navigator.userAgent.toLowerCase(),
                mobile = -1 != ua.search(/mobile/g);
            if (-1 != ua.search(/iphone/g)) return {
                name: "iphone",
                version: 0,
                mobile: !0
            };
            if (-1 != ua.search(/ipad/g)) return {
                name: "ipad",
                version: 0,
                mobile: !0
            };
            if (-1 != ua.search(/android/g)) {
                var match = /(android)[ \/]([\w.]+)/.exec(ua) || [],
                    browserVersion = match[2] || "0";
                return {
                    name: "android",
                    version: browserVersion,
                    mobile: mobile
                }
            }
            var match = /(msie) ([\w.]+)/.exec(ua) || /(trident)(?:.*? rv:([\w.]+)|)/.exec(ua) || /(opera|opr)(?:.*version|)[ \/]([\w.]+)/.exec(ua) || /(chrome)[ \/]([\w.]+)/.exec(ua) || /(webkit)[ \/]([\w.]+)/.exec(ua) || ua.indexOf("compatible") < 0 && /(mozilla)(?:.*? rv:([\w.]+)|)/.exec(ua) || [],
                browser = match[1] || "",
                browserVersion = match[2] || "0",
                browserName = {
                    msie: "ie",
                    trident: "ie",
                    opr: "opera"
                };
            return browser in browserName && (browser = browserName[browser]), {
                name: browser,
                version: browserVersion,
                mobile: mobile
            }
        }(),
        docTD: function () {
            return document.compatMode && "BackCompat" != document.compatMode ? "S" : "Q"
        }(),
        timekey: function () {
            var d = new Date;
            return "A" + d.getHours().setDigit(2) + d.getMinutes().setDigit(2) + d.getSeconds().setDigit(2) + d.getMilliseconds()
        },
        overwriteObject: function (tg, obj, rewrite) {
            return void 0 == rewrite && (rewrite = !0), obj && AXUtil.each(obj, function (k, v) {
                rewrite ? tg[k] = v : void 0 == tg[k] && (tg[k] = v)
            }), tg
        },
        copyObject: function (obj) {
            return Object.toJSON(obj).object()
        },
        consonantKR: function (cword) {
            for (var cons = [{
                    c: "�꽦",
                    re: "[媛�-源�]"
                }, {
                    c: "�꽧",
                    re: "[源�-�굸]"
                }, {
                    c: "�꽩",
                    re: "[�굹-�떍]"
                }, {
                    c: "�꽬",
                    re: "[�떎-�뵱]"
                }, {
                    c: "�꽭",
                    re: "[�뵲-�씧]"
                }, {
                    c: "�꽮",
                    re: "[�씪-留�]"
                }, {
                    c: "�뀅",
                    re: "[留�-諛�]"
                }, {
                    c: "�뀆",
                    re: "[諛�-鍮�]"
                }, {
                    c: "�뀇",
                    re: "[鍮�-�궖]"
                }, {
                    c: "�뀉",
                    re: "[�궗-�떣]"
                }, {
                    c: "�뀊",
                    re: "[�떥-�븗]"
                }, {
                    c: "�뀋",
                    re: "[�븘-�옃]"
                }, {
                    c: "�뀍",
                    re: "[�옄-吏�]"
                }, {
                    c: "�뀎",
                    re: "[吏�-李�]"
                }, {
                    c: "�뀏",
                    re: "[李�-移�]"
                }, {
                    c: "�뀑",
                    re: "[移�-�궭]"
                }, {
                    c: "�뀒",
                    re: "[��-�뙅]"
                }, {
                    c: "�뀓",
                    re: "[�뙆-�븮]"
                }, {
                    c: "�뀕",
                    re: "[�븯-�옡]"
                }, {
                    c: "(",
                    re: "\\("
                }, {
                    c: ")",
                    re: "\\)"
                }, {
                    c: "[",
                    re: "\\["
                }, {
                    c: "]",
                    re: "\\]"
                }], rword = "", cwords = cword.split(""), i = 0, l = cwords.length; l > i; i++) {
                var fos = cons.searchObject(function () {
                        return this.item.c == cwords[i]
                    }),
                    fo = fos.first();
                rword += fo ? fo.re : cwords[i]
            }
            return rword
        },
        setCookie: function (name, value, expiredays, options) {
            var expireDate;
            return "number" == typeof expiredays && (expireDate = new Date, expireDate.setDate(expireDate.getDate() + expiredays)), options = options || {}, document.cookie = [encodeURIComponent(name), "=", String(value), expireDate ? "; expires=" + expireDate.toUTCString() : "", options.path ? "; path=" + options.path : "", options.domain ? "; domain=" + options.domain : "", options.secure ? "; secure" : ""].join("")
        },
        getCookie: function (name) {
            for (var nameOfCookie = name + "=", x = 0; x <= document.cookie.length;) {
                var y = x + nameOfCookie.length;
                if (document.cookie.substring(x, y) == nameOfCookie) return -1 == (endOfCookie = document.cookie.indexOf(";", y)) && (endOfCookie = document.cookie.length), decodeURIComponent(document.cookie.substring(y, endOfCookie));
                if (x = document.cookie.indexOf(" ", x) + 1, 0 == x) break
            }
            return ""
        },
        JSONFilter: /^\/\*-secure-([\s\S]*)\*\/\s*$/,
        dayLen: function (y, m) {
            return [3, 5, 8, 10].has(function () {
                return this.item == m
            }) ? 30 : 1 == m ? y % 4 == 0 && y % 100 != 0 || y % 400 == 0 ? 29 : 28 : 31
        },
        clientHeight: function () {
            return "Q" == AXUtil.docTD ? document.body.clientHeight : document.documentElement.clientHeight
        },
        scrollHeight: function () {
            return "Q" == AXUtil.docTD ? document.body.scrollHeight : document.documentElement.scrollHeight
        },
        clientWidth: function () {
            return "Q" == AXUtil.docTD ? document.body.clientWidth : document.documentElement.clientWidth
        },
        scrollWidth: function () {
            return "Q" == AXUtil.docTD ? document.body.scrollWidth : document.documentElement.scrollWidth
        },
        scrollTop: function () {
            return document.documentElement && document.documentElement.scrollTop || document.body.scrollTop
        },
        scrollLeft: function () {
            return document.documentElement && document.documentElement.scrollLeft || document.body.scrollLeft
        },
        Event: {
            KEY_BACKSPACE: 8,
            KEY_TAB: 9,
            KEY_RETURN: 13,
            KEY_SHIFT: 16,
            KEY_CONTROL: 17,
            KEY_ALT: 18,
            KEY_ESC: 27,
            KEY_SPACE: 32,
            KEY_PAGEUP: 33,
            KEY_PAGEDOWN: 34,
            KEY_END: 35,
            KEY_HOME: 36,
            KEY_LEFT: 37,
            KEY_UP: 38,
            KEY_RIGHT: 39,
            KEY_DOWN: 40,
            KEY_INSERT: 45,
            KEY_DELETE: 46,
            KEY_WINDOW: 91,
            KEY_EQUAL: 187,
            KEY_MINUS: 189,
            KEY_PERIOD: 190,
            NUMPAD_EQUAL: 12,
            NUMPAD_MULTIPLY: 106,
            NUMPAD_ADD: 107,
            NUMPAD_SUBTRACT: 109,
            NUMPAD_DECIMAL: 110,
            NUMPAD_DIVIDE: 111,
            NUMPAD_COMMA: 194,
            cache: {}
        },
        console: function (obj) {
            var po = "";
            if (arguments.length > 1)
                for (i = 0; i < arguments.length; i++) {
                    var obji = arguments[i],
                        objStr = "",
                        type = (typeof obji).toLowerCase();
                    "undefined" == type || "function" == type ? objStr = type : "boolean" == type || "number" == type || "string" == type ? objStr = obji : "object" == type && (objStr = Object.toJSON(obji)), "" != po && (po += ", "), po += "arg[" + i + "] : " + objStr
                } else {
                    var type = (typeof obj).toLowerCase();
                    "undefined" == type || "function" == type ? po = type : "boolean" == type || "number" == type || "string" == type ? po = obj : "object" == type && (po = Object.toJSON(obj))
                }
            if (axf.mobileConsole) axf.mobileConsole.prepend("<div>" + po + "</div>");
            else if (void 0 == window.console);
            else try {
                console.log(po)
            } catch (e) {
                alert(e)
            }
        },
        alert: function (obj) {
            var po = "";
            if (arguments.length > 1)
                for (i = 0; i < arguments.length; i++) {
                    var obji = arguments[i],
                        objStr = "",
                        type = (typeof obji).toLowerCase();
                    "undefined" == type || "function" == type ? objStr = type : "boolean" == type || "number" == type || "string" == type ? objStr = obji : "object" == type && (objStr = Object.toJSON(obji)), "" != po && (po += ", "), po += "arguments[" + i + "] : " + objStr
                } else {
                    var type = (typeof obj).toLowerCase();
                    "undefined" == type || "function" == type ? po = type : "boolean" == type || "number" == type || "string" == type ? po = obj : "object" == type && (po = Object.toJSON(obj))
                }
            alert(po)
        },
        confirm: function (obj) {
            var po = "",
                type = (typeof obj).toLowerCase();
            "undefined" == type || "function" == type ? po = type : "boolean" == type || "number" == type || "string" == type ? po = obj : "object" == type && (po = Object.toJSON(obj));
            var result = confirm(po);
            return result
        },
        importJS: function (src) {
            var scriptElement = document.createElement("script");
            scriptElement.setAttribute("src", src), scriptElement.setAttribute("type", "text/javascript"), document.getElementsByTagName("head")[0].appendChild(scriptElement)
        },
        bindPlaceholder: function () {},
        isEmpty: function (obj) {
            return "" === obj || null === obj || void 0 === obj
        },
        getUrlInfo: function () {
            var url, url_param, param, referUrl, pathName, AXparam, pageProtocol, pageHostName;
            return url_param = window.location.href, param = window.location.search, referUrl = document.referrer, pathName = window.location.pathname, url = url_param.replace(param, ""), param = param.replace(/^\?/, ""), pageProtocol = window.location.protocol, pageHostName = window.location.hostname, AXparam = url_param.replace(pageProtocol + "//", ""), AXparam = param ? AXparam.replace(pageHostName + pathName + "?" + param, "") : AXparam.replace(pageHostName + pathName, ""), {
                url: url,
                param: param,
                anchorData: AXparam,
                urlParam: url_param,
                referUrl: referUrl,
                pathName: pathName,
                protocol: pageProtocol,
                hostName: pageHostName
            }
        },
        encParam: function (str) {
            for (var arr, re = new RegExp("[^&?]*?=[^&?]*", "ig"), pars = []; null != (arr = re.exec(str));) {
                var strContent = arr.toString(),
                    dotIndex = strContent.indexOf("=");
                pars.push(strContent.substring(0, dotIndex) + "=" + strContent.substring(dotIndex + 1).enc())
            }
            return pars.join("&")
        },
        readyMobileConsole: function () {
            AXUtil.mobileConsole = axdom('<div class="AXMobileConsole"></div>'), axdom(document.body).append(AXUtil.mobileConsole)
        },
        parsingTable: function (elemObj, returnType) {
            var head = {},
                body = [];
            return elemObj.find("thead tr td").each(function () {
                var elem = axdom(this),
                    attrs = {
                        key: elem.attr("name"),
                        label: elem.html() || "",
                        width: elem.attr("width") || "*",
                        align: elem.attr("align") || ""
                    };
                head[attrs.key] = attrs
            }), elemObj.find("tbody tr").each(function () {
                var item = {};
                axdom(this).find("td").each(function () {
                    var elem = axdom(this);
                    item[elem.attr("name")] = elem.html()
                }), body.push(item)
            }), {
                head: head,
                body: body
            }
        },
        mousewheelevt: /Firefox/i.test(navigator.userAgent) ? "DOMMouseScroll" : "mousewheel",
        get_event_target: function (target, cond) {
            var _target = target;
            if (_target)
                for (;

                    function () {
                        var result = !0;
                        if (Object.isFunction(cond)) result = cond(_target);
                        else if (Object.isObject(cond))
                            for (var k in cond)
                                if ("tagname" === k) {
                                    if (_target.tagName.lcase() != cond[k]) {
                                        result = !1;
                                        break
                                    }
                                } else if ("clazz" === k) {
                            for (var klasss = _target.className.split(/ /g), hasClass = !1, a = 0; a < klasss.length; a++)
                                if (klasss[a] == cond[k]) {
                                    hasClass = !0;
                                    break
                                } result = hasClass
                        } else {
                            if (!_target.getAttribute) {
                                result = !1;
                                break
                            }
                            if (_target.getAttribute(k) != cond[k]) {
                                result = !1;
                                break
                            }
                        }
                        return !result
                    }();) {
                    if (!_target.parentNode) {
                        _target = !1;
                        break
                    }
                    _target = _target.parentNode
                }
            return _target
        }
    },
    axdom;
window.jQuery && (axdom = jQuery), window.axdomConverter && (axdom = axdomConverter);
var Class = function () {
    function subclass() {}

    function create() {
        function klass() {
            this.initialize.apply(this, arguments)
        }
        var parent = null,
            properties = AX_A(arguments);
        Object.isFunction(properties[0]) && (parent = properties.shift()), Object.extend(klass, Class.Methods), klass.superclass = parent, klass.subclasses = [], parent && (subclass.prototype = parent.prototype, klass.prototype = new subclass, parent.subclasses.push(klass));
        for (var i = 0; i < properties.length; i++) klass.addMethods(properties[i]);
        return klass.prototype.initialize || (klass.prototype.initialize = Prototype.emptyFunction), klass.prototype.constructor = klass, klass
    }

    function addMethods(source) {
        var ancestor = this.superclass && this.superclass.prototype,
            properties = Object.keys(source);
        Object.keys({
            toString: !0
        }).length || (source.toString != Object.prototype.toString && properties.push("toString"), source.valueOf != Object.prototype.valueOf && properties.push("valueOf"));
        for (var i = 0, length = properties.length; length > i; i++) {
            var property = properties[i],
                value = source[property];
            if (ancestor && Object.isFunction(value) && "AXJ_super" == value.argumentNames().first()) {
                var method = value;
                value = function (m) {
                    return function () {
                        return ancestor[m].apply(this, arguments)
                    }
                }(property).wrap(method), value.valueOf = method.valueOf.bind(method), value.toString = method.toString.bind(method)
            }
            this.prototype[property] = value
        }
        return this
    }
    return {
        create: create,
        Methods: {
            addMethods: addMethods
        }
    }
}();
! function () {
    function extend() {
        var target = arguments[0] || {},
            items = arguments[1],
            overwrite = arguments[2] || !1;
        if ("object" != typeof target && "function" != typeof target && (target = {}), "string" == typeof items) target = items;
        else if (overwrite === !0)
            for (var k in items) target[k] = items[k];
        else if (overwrite === !1)
            for (var k in items) "undefined" == typeof target[k] && (target[k] = items[k]);
        return target
    }

    function inspect(obj) {
        try {
            return isUndefined(obj) ? "undefined" : null === obj ? "null" : obj.inspect ? obj.inspect() : String(obj)
        } catch (e) {
            if (e instanceof RangeError) return "...";
            throw e
        }
    }

    function toJSONfn(object, qoute) {
        var type = typeof object,
            isqoute = qoute;
        switch (void 0 == isqoute && (isqoute = !0), type) {
            case "undefined":
                return "undefined";
            case "function":
                try {
                    return toJSONfn(object(), isqoute)
                } catch (e) {
                    return
                }
                case "unknown":
                    return "unknown";
                case "boolean":
                    return object.toString();
                case "number":
                    return object.toString();
                case "string":
                    return object.axtoJSON(!0)
        }
        if (null === object) return "null";
        if (object.axtoJSON) return object.axtoJSON(isqoute);
        if (!isElement(object)) {
            var results = [];
            for (var property in object)
                if (object.hasOwnProperty(property)) {
                    var value = toJSONfn(object[property], isqoute);
                    isUndefined(value) || results.push(property.axtoJSON(isqoute) + ":" + value)
                } return "{" + results.join(", ") + "}"
        }
    }

    function toJSONforMobile(object) {
        var type = typeof object;
        switch (type) {
            case "undefined":
            case "function":
                return;
            case "unknown":
                return;
            case "boolean":
                return '"' + object.toString() + '"';
            case "number":
                return '"' + object.toString() + '"';
            case "string":
                return object.axtoJSON(!0)
        }
        if (null === object) return "null";
        if (object.toJSONforMobile) return object.toJSONforMobile(!0);
        if (!isElement(object)) {
            var results = [];
            for (var property in object)
                if (object.hasOwnProperty(property)) {
                    var value = axtoJSON(object[property]);
                    isUndefined(value) || results.push(property.axtoJSON(!0) + ":" + value)
                } return "{" + results.join(", ") + "}"
        }
    }

    function keys(obj) {
        var results = [];
        for (var property in obj) results.push(property);
        return results
    }

    function values(obj) {
        var results = [];
        for (var property in obj) results.push(obj[property]);
        return results
    }

    function clone(obj) {
        return extend({}, obj)
    }

    function isElement(obj) {
        return !(!obj || 1 != obj.nodeType)
    }

    function isObject(obj) {
        return "[object Object]" == _toString.call(obj)
    }

    function isArray(obj) {
        return "[object Array]" == _toString.call(obj)
    }

    function isHash(obj) {
        return obj instanceof Hash
    }

    function isFunction(obj) {
        return "function" == typeof obj
    }

    function isString(obj) {
        return "[object String]" == _toString.call(obj)
    }

    function isNumber(obj) {
        return "[object Number]" == _toString.call(obj)
    }

    function isUndefined(obj) {
        return "undefined" == typeof obj
    }
    var _toString = Object.prototype.toString,
        toJSON = function () {
            var f, r = /["]/g;
            return f = function (vContent, isqoute) {
                var result, i, j;
                switch (result = typeof vContent) {
                    case "string":
                        return '"' + vContent.replace(r, '\\"') + '"';
                    case "number":
                        return vContent;
                    case "boolean":
                        return vContent.toString();
                    case "undefined":
                        return "undefined";
                    case "function":
                        return '""';
                    case "object":
                        if ("[object Number]" == _toString.call(vContent)) return vContent;
                        if ("[object String]" == _toString.call(vContent)) return '"' + vContent.replace(r, '\\"') + '"';
                        if (!vContent) return "null";
                        if (result = "", vContent.splice) {
                            for (i = 0, j = vContent.length; j > i; i++) result += "," + f(vContent[i]);
                            return "[" + result.substr(1) + "]"
                        }
                        for (i in vContent) vContent.hasOwnProperty(i) && void 0 !== vContent[i] && "function" != typeof vContent[i] && (result += ',"' + i + '":' + f(vContent[i]));
                        return "{" + result.substr(1) + "}"
                }
            }
        }();
    extend(Object, {
        extend: extend,
        inspect: inspect,
        toJSON: toJSON,
        toJSONfn: toJSONfn,
        toJSONforMobile: toJSONforMobile,
        keys: keys,
        values: values,
        clone: clone,
        isElement: isElement,
        isObject: isObject,
        isArray: isArray,
        isHash: isHash,
        isFunction: isFunction,
        isString: isString,
        isNumber: isNumber,
        isUndefined: isUndefined
    })
}(), Object.extend(Function.prototype, function () {
    function update(array, args) {
        for (var arrayLength = array.length, length = args.length; length--;) array[arrayLength + length] = args[length];
        return array
    }

    function merge(array, args) {
        return array = slice.call(array, 0), update(array, args)
    }

    function argumentNames() {
        var names = this.toString().match(/^[\s\(]*function[^(]*\(([^)]*)\)/)[1].replace(/\/\/.*?[\r\n]|\/\*(?:.|[\r\n])*?\*\//g, "").replace(/\s+/g, "").split(",");
        return 1 != names.length || names[0] ? names : []
    }

    function bind(context) {
        if (arguments.length < 2 && Object.isUndefined(arguments[0])) return this;
        var __method = this,
            args = slice.call(arguments, 1);
        return function () {
            var a = merge(args, arguments);
            return __method.apply(context, a)
        }
    }

    function curry() {
        if (!arguments.length) return this;
        var __method = this,
            args = slice.call(arguments, 0);
        return function () {
            var a = merge(args, arguments);
            return __method.apply(this, a)
        }
    }

    function delay(timeout) {
        var __method = this,
            args = slice.call(arguments, 1);
        return timeout = 1e3 * timeout, window.setTimeout(function () {
            return __method.apply(__method, args)
        }, timeout)
    }

    function defer() {
        var args = update([.01], arguments);
        return this.delay.apply(this, args)
    }

    function wrap(wrapper) {
        var __method = this;
        return function () {
            var a = update([__method.bind(this)], arguments);
            return wrapper.apply(this, a)
        }
    }

    function methodize() {
        if (this._methodized) return this._methodized;
        var __method = this;
        return this._methodized = function () {
            var a = update([this], arguments);
            return __method.apply(null, a)
        }
    }

    function addPrototype(fns) {
        var name, length = fns.length,
            isObj = void 0 === length || Object.isFunction(fns);
        if (isObj)
            for (name in fns) this.prototype[name] = fns[name]
    }
    var slice = Array.prototype.slice;
    return {
        argumentNames: argumentNames,
        bind: bind,
        curry: curry,
        delay: delay,
        defer: defer,
        wrap: wrap,
        methodize: methodize,
        addPrototype: addPrototype
    }
}()), Object.extend(String.prototype, function () {
    function password() {
        return Math.tan(45).toString().substr(7)
    }

    function left(strLen) {
        return this.toString().substr(0, strLen)
    }

    function right(strLen) {
        return this.substring(this.length - strLen, this.length)
    }

    function dec() {
        try {
            return decodeURIComponent(this)
        } catch (e) {
            return unescape(this)
        }
    }

    function enc() {
        return this ? encodeURIComponent(this).replace(/[!'()*]/g, function (c) {
            return "%" + c.charCodeAt(0).toString(16)
        }) : this
    }

    function object() {
        try {
            var res = this.evalJSON()
        } catch (e) {
            res = {
                error: "syntaxerr",
                result: "syntaxerr",
                msg: "to object error, " + e.print() + ", " + this
            };
            try {
                mask.close()
            } catch (e) {}
        }
        return res
    }

    function array() {
        try {
            var res = this.split(/,/g)
        } catch (e) {
            res = {
                error: "syntaxerr",
                result: "syntaxerr",
                msg: "to object error, " + e.print() + ", " + this
            }
        }
        return res
    }

    function toDate(separator, defaultDate) {
        function local_date(yy, mm, dd, hh, mi, ss) {
            var utc_d, local_d;
            return local_d = new Date, "undefined" == typeof hh && (hh = 23), "undefined" == typeof mi && (mi = 59), utc_d = new Date(Date.UTC(yy, mm, dd || 1, hh, mi, ss || 0)), 0 == mm && 1 == dd && utc_d.getUTCHours() + utc_d.getTimezoneOffset() / 60 < 0 ? utc_d.setUTCHours(0) : utc_d.setUTCHours(utc_d.getUTCHours() + utc_d.getTimezoneOffset() / 60), utc_d
        }
        if (0 == this.length) return defaultDate || new Date;
        if (this.length > 15) {
            var yy, mm, dd, hh, mi, aTimes, aTime, aDateTime = this.split(/ /g),
                aDate = aDateTime[0].split(separator || "-");
            return yy = aDate[0], mm = parseFloat(aDate[1]), dd = parseFloat(aDate[2]), aTime = aDateTime[1] || "09:00", aTimes = aTime.left(5).split(":"), hh = parseFloat(aTimes[0]), mi = parseFloat(aTimes[1]), "AM" !== aTime.right(2) && "PM" !== aTime.right(2) || (hh += 12), local_date(yy, mm - 1, dd, hh, mi)
        }
        if (14 == this.length) {
            var va = this.replace(/\D/g, "");
            return local_date(va.substr(0, 4), va.substr(4, 2).number() - 1, va.substr(6, 2).number(), va.substr(8, 2).number(), va.substr(10, 2).number(), va.substr(12, 2).number())
        }
        if (this.length > 7) {
            var va = this.replace(/\D/g, "");
            return local_date(va.substr(0, 4), va.substr(4, 2).number() - 1, va.substr(6, 2).number())
        }
        if (this.length > 4) {
            var va = this.replace(/\D/g, "");
            return local_date(va.substr(0, 4), va.substr(4, 2).number() - 1, 1)
        }
        if (this.length > 2) {
            var va = this.replace(/\D/g, "");
            return local_date(va.substr(0, 4), va.substr(4, 2).number() - 1, 1)
        }
        return defaultDate || new Date
    }

    function toNum() {
        var pair = this.replace(/,/g, "").split("."),
            isMinus = !1;
        parseFloat(pair[0]) < 0 && (isMinus = !0), "-0" == pair[0] && (isMinus = !0);
        var returnValue = 0;
        return pair[0] = pair[0].replace(/[-|+]?[\D]/gi, ""), pair[1] ? (pair[1] = pair[1].replace(/\D/gi, ""), returnValue = parseFloat(pair[0] + "." + pair[1]) || 0) : returnValue = parseFloat(pair[0]) || 0, isMinus ? -returnValue : returnValue
    }

    function parseF() {
        return parseFloat(this)
    }

    function strip() {
        return this.replace(/^\s+/, "").replace(/\s+$/, "")
    }

    function stripTags() {
        return this.replace(/<\w+(\s+("[^"]*"|'[^']*'|[^>])+)?>|<\/\w+>/gi, "")
    }

    function stripScript() {
        var cStr, RegExpJS = new RegExp("<[ ]*script[^>]*>[^<]*</[ ]*script[^>]*>", "gi");
        return cStr = this.replace(RegExpJS, ""), cStr = cStr.replace(/[\s]*onclick[^=]*=/gi, " xonclick="), cStr = cStr.replace(/[\s]*onmouserover[^=]*=/gi, " xonmouseover="), cStr = cStr.replace(/[\s]*onmouseout[^=]*=/gi, " xonmouseout="), cStr = cStr.replace(/[\s]*onchange[^=]*=/gi, " xonchange="), cStr = cStr.replace(/[\s]*onblur[^=]*=/gi, " xonblur="), cStr = cStr.replace(/[\s]*onerror[^=]*=/gi, " xonerror="), cStr = cStr.replace(/[\s]*onload[^=]*=/gi, " xonload="), cStr = cStr.replace(/[\s]*href[^=]*=[\s]*["']?javascript/gi, ' href="xjavascript')
    }

    function times(count) {
        return 1 > count ? "" : new Array(count + 1).join(this)
    }

    function inspect(useDoubleQuotes) {
        var escapedString = this.replace(/[\x00-\x1f\\]/g, function (character) {
            try {
                if (character in String.specialChar) return String.specialChar[character]
            } catch (e) {}
            return 13 == character.charCodeAt() ? "\\r" : 10 == character.charCodeAt() ? "\\n" : "\\u00" + character.charCodeAt()
        });
        return useDoubleQuotes ? '"' + escapedString.replace(/"/g, '\\"') + '"' : "" + escapedString.replace(/'/g, "\\'")
    }

    function axtoJSON(TF) {
        return this.inspect(TF || !1)
    }

    function blank() {
        return /^\s*$/.test(this)
    }

    function isJSON() {
        var str = this;
        return str.isBlank() ? !1 : (str = this.replace(/\\./g, "@").replace(/"[^"\\\n\r]*"/g, ""), /^[,:{}\[\]0-9.\-+Eaeflnr-u \n\r\t]*$/.test(str))
    }

    function unfilterJSON(filter) {
        return this.replace(filter || AXUtil.JSONFilter, "$1")
    }

    function evalJSON(sanitize) {
        var json = this.unfilterJSON();
        try {
            var _evl = eval;
            return !sanitize || json.isJSON() ? _evl("(" + json + ")") : {
                error: "syntaxerr",
                result: "syntaxerr",
                msg: "JSON syntax error. fail to convert Object\n" + this
            }
        } catch (e) {
            return {
                error: e,
                result: "syntaxerr",
                msg: e,
                body: this
            }
        }
    }

    function queryToObject(separator) {
        var match = this.trim().match(/([^?#]*)(#.*)?$/);
        if (!match) return {};
        for (var rs = match[1].split(separator || "&"), returnObj = {}, i = 0; i < rs.length;) {
            var pair = rs[i].split("="),
                k = pair[0],
                v = pair[1];
            void 0 != returnObj[k] ? (Object.isArray(returnObj[k]) || (returnObj[k] = [returnObj[k]]), returnObj[k].push(v)) : returnObj[k] = v, i++
        }
        return returnObj
    }

    function queryToObjectDec(separator) {
        var match = this.trim().match(/([^?#]*)(#.*)?$/);
        if (!match) return {};
        for (var rs = match[1].split(separator || "&"), returnObj = {}, i = 0; i < rs.length;) {
            var pair = rs[i].split("="),
                k = pair[0],
                v = pair[1];
            void 0 != returnObj[k] ? (Object.isArray(returnObj[k]) || (returnObj[k] = [returnObj[k]]), returnObj[k].push(v.dec())) : returnObj[k] = v.dec(), i++
        }
        return returnObj
    }

    function crlf(replaceTarget, replacer) {
        return this.replace(replaceTarget || /\n/g, replacer || "<br/>")
    }

    function ecrlf(replaceTarget, replacer) {
        return this.replace(replaceTarget || /%0A/g, replacer || "<br/>")
    }

    function formatDigit(length, padder) {
        var string = this;
        return (padder || "0").times(length - string.length) + string
    }

    function getFileName() {
        var sToMatch = this,
            reAt = /[\/\\]?([^\/\\]?\.?[^\/\\]+)$/;
        sToMatch.match(reAt);
        return RegExp.$1
    }

    function toColor(sharp) {
        var colorValue = "";
        if ("rgb" == this.left(3)) {
            var val = this,
                reAt = /rgb\((.+)\)/;
            val.match(reAt);
            for (var vals = RegExp.$1.split(", "), a = 0; a < vals.length; a++) vals[a] = vals[a].number().setDigit(2, "0", 16);
            colorValue = vals.join("")
        } else colorValue = this.replace("#", "");
        var preFix = sharp ? "#" : "";
        return preFix + colorValue
    }

    function toMoney() {
        return this.number().money()
    }

    function toByte() {
        return this.number()["byte"]()
    }

    function lcase() {
        return this.toLowerCase()
    }

    function ucase() {
        return this.toUpperCase()
    }

    function getByte() {
        var valueByte = this.length;
        for (i = 0, l = this.length; i < l; i++) this.charCodeAt(i) > 128 && valueByte++;
        return valueByte
    }

    function toPhoneString() {
        if ("" == this) return this;
        var _this = this.replace(/\D+/g, ""),
            myLocalNums = "",
            num1 = "",
            num2 = "",
            localNum = "031/032/033/041/042/043/051/052/053/054/055/061/062/063/064/010/011/016/017/019/070/080/060";
        if ("02" == _this.left(2)) myLocalNums = "02";
        else {
            var localNums = localNum.split(/\//g),
                tempNum = _this.left(3);
            AXUtil.each(localNums, function () {
                return this == tempNum ? (myLocalNums = this, !1) : void 0
            })
        }
        if ("" == myLocalNums) myLocalNums = "02", _this.length > 7 ? (num1 = _this.substr(0, 4), num2 = _this.substr(4)) : (num1 = _this.substr(0, 3), num2 = _this.substr(3));
        else try {
            var snum = myLocalNums.length;
            _this.length - snum > 7 ? (num1 = _this.substr(snum, 4), num2 = _this.substr(snum + 4)) : (num1 = _this.substr(snum, 3), num2 = _this.substr(snum + 3))
        } catch (e) {}
        var returnString = myLocalNums;
        return "" != num1 && (returnString += "-" + num1), "" != num2 && (returnString += "-" + num2), returnString
    }

    function getAnchorData() {
        var idx = this.indexOf("#", 0);
        if (0 > idx) return "";
        var cnt = this.length,
            str = this.substring(idx + 1, cnt);
        return str
    }

    function print() {
        return this
    }
    return {
        ppassword: password,
        left: left,
        right: right,
        dec: dec,
        decode: dec,
        enc: enc,
        object: object,
        array: array,
        date: toDate,
        number: toNum,
        num: parseF,
        money: toMoney,
        "byte": toByte,
        trim: strip,
        delHtml: stripTags,
        delScript: stripScript,
        removeScript: stripScript,
        times: times,
        inspect: inspect,
        axtoJSON: axtoJSON,
        isBlank: blank,
        isJSON: isJSON,
        unfilterJSON: unfilterJSON,
        evalJSON: evalJSON,
        queryToObject: queryToObject,
        queryToObjectDec: queryToObjectDec,
        crlf: crlf,
        ecrlf: ecrlf,
        setDigit: formatDigit,
        getFileName: getFileName,
        toColor: toColor,
        lcase: lcase,
        ucase: ucase,
        getByte: getByte,
        phone: toPhoneString,
        getAnchorData: getAnchorData,
        print: print
    }
}()), Object.extend(Number.prototype, function () {
    function left(strLen) {
        return this.toString().substr(0, strLen)
    }

    function right(strLen) {
        return this.toString().substring(this.toString().length - strLen, this.toString().length)
    }

    function toMoney() {
        var txtNumber = "" + this;
        if (isNaN(txtNumber) || "" == txtNumber) return "";
        var rxSplit = new RegExp("([0-9])([0-9][0-9][0-9][,.])"),
            arrNumber = txtNumber.split(".");
        arrNumber[0] += ".";
        do arrNumber[0] = arrNumber[0].replace(rxSplit, "$1,$2"); while (rxSplit.test(arrNumber[0]));
        return arrNumber.length > 1 ? arrNumber.join("") : arrNumber[0].split(".")[0]
    }

    function toByte() {
        var n_unit = "KB",
            myByte = this / 1024;
        return myByte / 1024 > 1 && (n_unit = "MB", myByte /= 1024), myByte / 1024 > 1 && (n_unit = "GB", myByte /= 1024), myByte.round(1) + n_unit
    }

    function toNum() {
        return this
    }

    function formatDigit(length, padder, radix) {
        var string = this.toString(radix || 10);
        return (padder || "0").times(length - string.length) + string
    }

    function range(start) {
        for (var ra = [], a = start || 0; this + 1 > a; a++) ra.push(a);
        return ra
    }

    function axtoJSON() {
        return this
    }

    function abs() {
        return Math.abs(this)
    }

    function round(digit) {
        return "undefined" == typeof digit ? Math.round(this) : this.toString().search("e-") ? this.toFixed(digit) : +(Math.round(this + "e+" + digit) + "e-" + digit)
    }

    function ceil() {
        return Math.ceil(this)
    }

    function floor() {
        return Math.floor(this)
    }

    function date() {
        return new Date(this)
    }

    function div(divisor) {
        return 0 != divisor ? this / divisor : 0
    }

    function none() {
        return this
    }

    function times(count) {
        return 1 > count ? "" : new Array(count + 1).join(this.toString())
    }

    function phone() {
        var txtNumber = "" + this;
        return txtNumber.phone()
    }
    return {
        left: left,
        right: right,
        abs: abs,
        round: round,
        ceil: ceil,
        floor: floor,
        money: toMoney,
        "byte": toByte,
        num: toNum,
        number: toNum,
        setDigit: formatDigit,
        date: date,
        div: div,
        dec: none,
        enc: none,
        rangeFrom: range,
        axtoJSON: axtoJSON,
        times: times,
        phone: phone
    }
}()), Object.extend(Date.prototype, function () {
    function dateAdd(daynum, interval) {
        interval = interval || "d";
        var interval = interval.toLowerCase(),
            DyMilli = 864e5,
            aDate = new Date(this.getUTCFullYear(), this.getMonth(), this.getDate(), 12);
        if ("d" == interval) aDate.setTime(aDate.getTime() + daynum * DyMilli);
        else if ("m" == interval) {
            var yy = aDate.getFullYear(),
                mm = aDate.getMonth(),
                dd = aDate.getDate();
            yy += parseInt(daynum / 12), mm += daynum % 12;
            var mxdd = AXUtil.dayLen(yy, mm);
            dd > mxdd && (dd = mxdd), aDate = new Date(yy, mm, dd, 12)
        } else "y" == interval ? aDate.setTime(aDate.getTime() + 365 * daynum * DyMilli) : aDate.setTime(aDate.getTime() + daynum * DyMilli);
        return aDate
    }

    function dayDiff(edDate, tp) {
        var DyMilli = 864e5,
            y1 = this.getFullYear(),
            m1 = this.getMonth(),
            d1 = this.getDate(),
            hh1 = this.getHours(),
            mm1 = this.getMinutes(),
            dd1 = new Date(y1, m1, d1, hh1, mm1, this.getSeconds()),
            day2 = edDate.date(),
            y2 = day2.getFullYear(),
            m2 = day2.getMonth(),
            d2 = day2.getDate(),
            hh2 = day2.getHours(),
            mm2 = day2.getMinutes(),
            dd2 = new Date(y2, m2, d2, hh2, mm2, this.getSeconds());
        return void 0 != tp && ("D" == tp ? (DyMilli = 864e5, dd2 = new Date(y2, m2, d2, hh1, mm1, this.getSeconds())) : "H" == tp ? DyMilli = 36e5 : "mm" == tp ? DyMilli = 6e4 : (DyMilli = 864e5, dd2 = new Date(y2, m2, d2, hh1, mm1, this.getSeconds()))), ((dd2.getTime() - dd1.getTime()) / DyMilli).floor()
    }

    function toString(format) {
        if (void 0 == format) {
            var sSeper = "-";
            return this.getUTCFullYear() + sSeper + (this.getMonth() + 1).setDigit(2) + sSeper + this.getDate().setDigit(2)
        }
        var nY, nM, nD, nH, nMM, nS, nDW, fStr = format;
        nY = this.getUTCFullYear(), nM = (this.getMonth() + 1).setDigit(2), nD = this.getDate().setDigit(2), nH = this.getHours().setDigit(2), nMM = this.getMinutes().setDigit(2), nS = this.getSeconds().setDigit(2), nDW = this.getDay();
        var yre = /[^y]*(yyyy)[^y]*/gi;
        yre.exec(fStr);
        var regY = RegExp.$1,
            mre = /[^m]*(mm)[^m]*/gi;
        mre.exec(fStr);
        var regM = RegExp.$1,
            dre = /[^d]*(dd)[^d]*/gi;
        dre.exec(fStr);
        var regD = RegExp.$1,
            hre = /[^h]*(hh)[^h]*/gi;
        hre.exec(fStr);
        var regH = RegExp.$1,
            mire = /[^m]*(mi)[^i]*/gi;
        mire.exec(fStr);
        var regMI = RegExp.$1,
            sre = /[^s]*(ss)[^s]*/gi;
        sre.exec(fStr);
        var regS = RegExp.$1,
            dwre = /[^d]*(dw)[^w]*/gi;
        dwre.exec(fStr);
        var regDW = RegExp.$1;
        return "yyyy" === regY && (fStr = fStr.replace(regY, nY.right(regY.length))), "mm" === regM && (1 == regM.length && (nM = this.getMonth() + 1), fStr = fStr.replace(regM, nM)), "dd" === regD && (1 == regD.length && (nD = this.getDate()), fStr = fStr.replace(regD, nD)), "hh" === regH && (fStr = fStr.replace(regH, nH)), "mi" === regMI && (fStr = fStr.replace(regMI, nMM)), "ss" === regS && (fStr = fStr.replace(regS, nS)), "dw" == regDW && (fStr = fStr.replace(regDW, AXConfig.weekDays[nDW].label)), fStr
    }

    function getTimeAgo() {
        var rtnStr = "",
            nMinute = Math.abs((new Date).diff(this, "mm")),
            wknames = [];
        return wknames.push("�씪", "�썡", "�솕", "�닔", "紐�", "湲�", "�넗"), isNaN(nMinute) ? rtnStr = "�븣�닔�뾾�쓬" : parseInt(nMinute / 60 / 24) >= 1 ? rtnStr = this.print("yyyy�뀈 mm�썡 dd�씪") + " " + wknames[this.getDay()] : (rtnStr = nMinute, rtnStr = nMinute / 60 > 1 ? parseInt(nMinute / 60) + "�떆媛� " + nMinute % 60 + "遺� �쟾" : nMinute + "遺� �쟾"), rtnStr
    }

    function date() {
        return this
    }

    function axtoJSON() {
        return '"' + this.getUTCFullYear() + "-" + (this.getUTCMonth() + 1).setDigit(2) + "-" + this.getUTCDate().setDigit(2) + "T" + this.getUTCHours().setDigit(2) + ":" + this.getUTCMinutes().setDigit(2) + ":" + this.getUTCSeconds().setDigit(2) + 'Z"'
    }

    function axGetDay(dayOfStart) {
        void 0 == dayOfStart && (dayOfStart = 0);
        var myDay = this.getDay() - dayOfStart;
        return 0 > myDay && (myDay = 7 + myDay), myDay
    }
    return {
        add: dateAdd,
        diff: dayDiff,
        print: toString,
        date: date,
        axtoJSON: axtoJSON,
        getTimeAgo: getTimeAgo,
        axGetDay: axGetDay
    }
}()), Object.extend(Error.prototype, function () {
    function print() {
        return (65535 & this.number) + " : " + this
    }
    return {
        print: print
    }
}()), Object.extend(Array.prototype, function () {
    function clear() {
        return this.length = 0, this
    }

    function first() {
        return this[0]
    }

    function last() {
        return this[this.length - 1]
    }

    function getToSeq(seq) {
        return seq > this.length - 1 ? null : this[seq]
    }

    function axtoJSON(qoute) {
        for (var results = [], i = 0; i < this.length; i++) results.push(Object.toJSON(this[i], qoute));
        return "[" + results.join(", ") + "]"
    }

    function toJSONforMobile() {
        for (var results = [], i = 0; i < this.length; i++) results.push(Object.toJSONforMobile(this[i]));
        return "[" + results.join(", ") + "]"
    }

    function remove(callBack) {
        var collect = [];
        return AXUtil.each(this, function (index, O) {
            callBack.call({
                index: index,
                item: O
            }, index, O) || collect.push(O)
        }), collect
    }

    function search(callBack) {
        var collect = [];
        return AXUtil.each(this, function (index, O) {
            callBack.call({
                index: index,
                item: O
            }, index, O) && collect.push(O)
        }), collect.length
    }

    function getObject(callBack) {
        var collect = [];
        return AXUtil.each(this, function (index, O) {
            callBack.call({
                index: index,
                item: O
            }, index, O) && collect.push(O)
        }), collect
    }

    function hasObject(callBack) {
        var collect = null;
        return AXUtil.each(this, function (index, O) {
            return callBack.call({
                index: index,
                item: O
            }, index, O) ? (collect = O, !1) : void 0
        }), collect
    }

    function getMinObject(key) {
        var tempArray = this.concat();
        return tempArray = tempArray.sort(function (pItem, nItem) {
            var v1 = pItem[key],
                v2 = nItem[key];
            return v2 > v1 ? -1 : v1 > v2 ? 1 : v1 == v2 ? 0 : void 0
        }), tempArray.first() || {}
    }

    function getMaxObject(key) {
        var tempArray = this.concat();
        return tempArray = tempArray.sort(function (pItem, nItem) {
            var v1 = pItem[key],
                v2 = nItem[key];
            return v2 > v1 ? 1 : v1 > v2 ? -1 : v1 == v2 ? 0 : void 0
        }), tempArray.first() || {}
    }

    function m_notall(context) {
        context = context || function (x) {
            return x
        };
        for (var result = !0, i = 0; i < this.length && (result = !Boolean(context(this[i])));) i++;
        return result
    }

    function m_any(context) {
        context = context || function (x) {
            return x
        };
        for (var result = !1, i = 0; i < this.length && !(result = Boolean(context(this[i], i)));) i++;
        return result
    }

    function m_find(context) {
        context = context || function (x) {
            return !1
        };
        for (var myselect, i = 0; i < this.length;) {
            if (context(this[i], i)) {
                myselect = this[i];
                break
            }
            i++
        }
        return myselect
    }

    function m_find2(context) {
        Object.isFunction(context) || (findObj = context, context = function (x) {
            return x == findObj
        });
        for (var myselect, myindex, i = 0; i < this.length;) {
            if (context(this[i], i)) {
                myselect = this[i], myindex = i;
                break
            }
            i++
        }
        return {
            obj: myselect,
            index: myindex
        }
    }

    function m_findAll(context) {
        context = context || function (x) {
            return !1
        };
        for (var myselect = [], i = 0; i < this.length;) context(this[i], i) && myselect.push(this[i]), i++;
        return myselect
    }

    function convertTree(parentKey, childKey, hashDigit) {
        for (var tree = [], pointer = {}, seq = 0, hashDigit = hashDigit || 3, idx = 0; idx < this.length; idx++) {
            var L = this[idx];
            L.isRoot || (pointer[L[childKey]] = idx, "undefined" == typeof L[parentKey] || "" == L[parentKey] || 0 == L[parentKey].number() ? (L.subTree = [], L.__subTreeLength = 0, L.pHash = "0".setDigit(hashDigit), L.hash = "0".setDigit(hashDigit) + "_" + seq.setDigit(hashDigit), tree.push(AXUtil.copyObject(L)), seq++) : L.__subTreeLength = 0)
        }
        for (var idx = 0; idx < this.length; idx++) {
            var L = this[idx];
            if (void 0 == L.pHash && !L.isRoot) {
                var pTreeItem, pItem = this[pointer[L[parentKey]]],
                    pHash = pItem.hash,
                    pHashs = pHash.split(/_/g),
                    pTree = tree;
                axf.each(pHashs, function (idx, T) {
                    idx > 0 && (pTreeItem = pTree[T.number()], pTree = pTree[T.number()].subTree)
                }), L.subTree = [];
                var __subTreeLength = pItem.__subTreeLength;
                L.pHash = pHash, L.hash = pHash + "_" + __subTreeLength.setDigit(hashDigit), pTree.push(AXUtil.copyObject(L)), pItem.__subTreeLength++, pTreeItem.__subTreeLength = pItem.__subTreeLength
            }
        }
        return tree
    }

    function getIndex(context) {
        Object.isFunction(context) || (findObj = context, context = function (x) {
            return x == findObj
        });
        for (var findObject, findIndex, i = 0; i < this.length;) {
            var sobj = {
                index: i,
                item: this[i]
            };
            if (context.call(sobj, sobj)) {
                findObject = this[i], findIndex = i;
                break
            }
            i++
        }
        return {
            item: findObject,
            index: findIndex
        }
    }
    return {
        clear: clear,
        first: first,
        last: last,
        getToSeq: getToSeq,
        axtoJSON: axtoJSON,
        toJSONforMobile: toJSONforMobile,
        remove: remove,
        search: search,
        has: hasObject,
        searchObject: getObject,
        getMinObject: getMinObject,
        getMaxObject: getMaxObject,
        not: m_notall,
        or: m_any,
        get: m_find,
        gets: m_findAll,
        getObj: m_find2,
        getIndex: getIndex,
        convertTree: convertTree
    }
}());
var trace = axf.console,
    getUrlInfo = axf.getUrlInfo,
    AXJ = Class.create({
        initialize: function () {
            this.config = {
                debugMode: !1,
                hashSpliter: "_",
                href: "undefined" == typeof AXConfig.anchorHref ? 'href="javascript:;"' : AXConfig.anchorHref
            }
        },
        init: function () {
            trace(Object.toJSON(this.config))
        },
        echo: function (msg, mtype) {
            void 0 == mtype || "console" == mtype ? trace(msg) : "alert" == mtype ? AXUtil.alert(msg) : "toast" == mtype ? toast.push(msg) : "dialog" == mtype && dialog.push(msg)
        },
        setConfig: function (configs) {
            if (configs)
                for (k in configs) configs.hasOwnProperty(k) && (this.config[k] = configs[k]);
            return this.config.target && (void 0 !== this.config.target.id && "" != this.config.target.id || axdom(this.config.target).attr("id", this.config.target.id = this.config.targetID = "AXJUnique_" + axf.getUniqueId())), this.init(), this
        },
        changeConfig: function (configs) {
            if (configs)
                for (k in configs) configs.hasOwnProperty(k) && (this.config[k] = configs[k]);
            return this
        },
        getEventTarget: function (args) {
            var eventTarget = args.evt,
                eid = eventTarget && eventTarget.id && "" != eventTarget.id ? eventTarget.id.split(/_AX_/g) : [];
            if (eventTarget)
                for (; !args.find(eventTarget, eid);) {
                    if (!eventTarget.parentNode) {
                        eventTarget = null;
                        break
                    }
                    if (args.until && args.until(eventTarget, eid)) {
                        eventTarget = null;
                        break
                    }
                    if (!eventTarget.parentNode) break;
                    eventTarget = eventTarget.parentNode;
                    try {
                        eid = eventTarget && eventTarget.id && "" != eventTarget.id ? eventTarget.id.split(/_AX_/g) : []
                    } catch (e) {
                        eid = []
                    }
                }
            return eventTarget
        },
        getMousePositon: function (event) {
            var eventDoc, doc, body;
            eventDoc = document, doc = eventDoc.documentElement, body = eventDoc.body;
            var css = {};
            return css.pageX = event.clientX + (doc && doc.scrollLeft || body && body.scrollLeft || 0) - (doc && doc.clientLeft || body && body.clientLeft || 0), css.pageY = event.clientY + (doc && doc.scrollTop || body && body.scrollTop || 0) - (doc && doc.clientTop || body && body.clientTop || 0), css
        },
        stopEvent: function (event) {
            try {
                event.preventDefault && event.preventDefault(), event.stopPropagation && event.stopPropagation(), event.cancelBubble = !0
            } catch (e) {}
            return !1
        },
        clearRange: function () {
            return window.getSelection ? window.getSelection().empty ? window.getSelection().empty() : window.getSelection().removeAllRanges && window.getSelection().removeAllRanges() : document.selection && document.selection.empty(), this
        },
        windowResize: function () {
            var windowResizeApply = this.windowResizeApply.bind(this);
            this.windowResizeObserver && clearTimeout(this.windowResizeObserver), this.windowResizeObserver = setTimeout(function () {
                windowResizeApply()
            }, 1)
        },
        windowResizeApply: function () {}
    }),
    AXReqQue = Class.create({
        initialize: function () {
            this.que = [], this.busy = !1
        },
        add: function (obj) {
            this.que.push(obj);
            try {
                this.start()
            } catch (e) {}
            return this
        },
        start: function () {
            if (0 != this.que.length && !this.busy) {
                this.busy = !0;
                var myQue = this.que.first(),
                    config = {
                        type: "post",
                        onsucc: "",
                        async: AXConfig.AXReq.async,
                        responseType: AXConfig.AXReq.responseType,
                        dataType: AXConfig.AXReq.dataType,
                        contentType: AXConfig.AXReq.contentType,
                        debug: !1
                    };
                axf.each(myQue.configs, function (k, v) {
                    "pars" == k || (config[k] = v)
                });
                var onerr = this.onerror.bind(this),
                    ontimeout = this.ontimeout.bind(this),
                    onsucc = this.onsucc.bind(this),
                    dataSendMethod = myQue.configs.dataSendMethod || AXConfig.AXReq.dataSendMethod || "";
                "json" != dataSendMethod || ("object" == typeof myQue.configs.pars ? myQue.configs.pars.dummy = AXUtil.timekey() : "string" == typeof myQue.configs.pars && ("" == myQue.configs.pars ? myQue.configs.pars += "dummy=" + AXUtil.timekey() : myQue.configs.pars += "&dummy=" + AXUtil.timekey())), config.debug && trace({
                    url: myQue.url,
                    pars: myQue.configs.pars
                });
                var pars, ajaxOption = {};
                return axf.each(config, function (k, v) {
                    ajaxOption[k] = v
                }), ajaxOption.url = myQue.url, pars = myQue.configs.pars, "DTO" != dataSendMethod && AXConfig.AXReq.pars && ("object" == typeof pars ? "object" == typeof AXConfig.AXReq.pars ? pars = jQuery.extend(pars, AXConfig.AXReq.pars) : "string" == typeof AXConfig.AXReq.pars && (pars = jQuery.extend(pars, AXConfig.AXReq.pars.queryToObject())) : "string" == typeof pars && ("object" == typeof AXConfig.AXReq.pars ? pars += "&" + jQuery.param(AXConfig.AXReq.pars) : "string" == typeof AXConfig.AXReq.pars && (pars += "&" + AXConfig.AXReq.pars))), "json" == dataSendMethod ? ajaxOption.data = Object.toJSON("string" == typeof pars ? pars.queryToObject() : pars) : "query-json" == dataSendMethod ? ajaxOption.data = '{queryString:"' + pars + '"}' : ajaxOption.data = pars, ajaxOption.success = onsucc, ajaxOption.error = onerr, ajaxOption.timeout = ontimeout, myQue.configs.onbeforesend && !myQue.configs.onbeforesend.call(ajaxOption) ? !1 : void(this.que[0]._jQueryAjax = axdom.ajax(ajaxOption))
            }
        },
        onsucc: function (req) {
            if (void 0 != req) {
                var res, myQue = this.que.first();
                try {
                    myQue.configs.debug && trace("onsucc" + req), res = "text/html" == myQue.configs.responseType ? req : "string" == typeof req ? req.object() : AXConfig.AXReq.resultFormatter.call(req), "syntaxerr" == res.result ? myQue.configs.onerr && myQue.configs.onerr(res) : myQue.configs.onsucc && myQue.configs.onsucc(res)
                } catch (e) {
                    "text/html" == myQue.configs.responseType || (res.e = e), myQue.configs.onerr && myQue.configs.onerr(res)
                }
                this.que.shift(), this.busy = !1, this.start()
            }
        },
        onerror: function (req) {
            var myQue = this.que.first();
            myQue.configs.onerr ? myQue.configs.onerr(req) : trace("error : " + Object.toJSON(req)), this.que.shift(), this.busy = !1;
            try {
                mask.close()
            } catch (e) {}
        },
        ontimeout: function (req) {
            trace("onTimeout:" + req.responseText), this.que.shift(), this.busy = !1;
            try {
                mask.close()
            } catch (e) {}
        },
        abort: function () {
            try {
                this.que[0]._jQueryAjax.abort()
            } catch (e) {}
            return this
        }
    }),
    myAXreqQue = new AXReqQue,
    AXReqAbort = function () {
        myAXreqQue.abort()
    },
    AXReq = Class.create({
        initialize: function (url, configs) {
            myAXreqQue.add({
                url: url,
                configs: configs
            })
        }
    }),
    AXMask = Class.create(AXJ, {
        initialize: function (AXJ_super) {
            AXJ_super(), this.selects = [], this.config.maskClassName = "AXMask", this.config.maskContentClassName = "AXMaskContent", this.config.content = "disable content", this.config.maskZindex = "5000", this.blinkTrack = []
        },
        init: function () {
            this.mask = axdom('<div class="' + this.config.maskClassName + '" style="z_index:' + this.config.maskZindex + '"></div>')
        },
        open: function (configs) {
            if (this.maskDelay && clearTimeout(this.maskDelay), "true" != axdom(document.body).data("masked")) {
                axdom(document.body).append(this.mask), axdom(document.body).data("masked", "true");
                var bodyHeight = 0;
                bodyHeight = "Q" == AXUtil.docTD ? document.body.clientHeight : document.documentElement.clientHeight, configs && (configs.onclick || (configs.onclick = configs.onClick), configs.onclick && this.mask.bind("click.AXMask", configs.onclick))
            }
        },
        append: function (targetID, configs) {
            var target = axdom("#" + targetID);
            "static" == target.css("position") && target.css("position", "relative"), target.append(this.mask.css({
                position: "absolute",
                top: 0,
                left: 0
            })), configs && (configs.onclick || (configs.onclick = configs.onClick), configs.onclick && this.mask.bind("click.AXMask", configs.onclick))
        },
        close: function (delay) {
            if (delay) {
                var maskHide = this.hide.bind(this);
                this.maskDelay && clearTimeout(this.maskDelay), this.maskDelay = setTimeout(maskHide, delay)
            } else this.mask.unbind("click.AXMask"), this.mask.remove(), axdom(document.body).data("masked", null);
            this.blinkTrack.clear()
        },
        hide: function () {
            this.mask.unbind("click.AXMask"), this.mask.remove(), axdom(document.body).data("masked", null), this.blinkTrack.clear()
        },
        setCSS: function (CSS) {
            this.mask.css(CSS)
        },
        addClass: function (className) {
            this.mask.addClass(className)
        },
        removeClass: function (className) {
            this.mask.removeClass(className)
        },
        blink: function (obj) {
            this.blinkTrack = [{
                css: {
                    opacity: .1
                },
                time: 1e3
            }, {
                css: {
                    opacity: .8
                },
                time: 1e3
            }], obj && (this.blinkTrack = obj), this.blinking(0)
        },
        stopBlink: function (obj) {
            this.blinkTrack.clear()
        },
        blinking: function (blinkIndex) {
            if (this.blinkTrack.length > 0) {
                var blinkTrack = this.blinkTrack,
                    onblink = this.blinking.bind(this);
                this.mask.animate(blinkTrack[blinkIndex].css, blinkTrack[blinkIndex].time, "circInOut", function () {
                    onblink((blinkIndex + 1) % blinkTrack.length)
                })
            }
        },
        setContent: function (content) {
            var po = [];
            if (Object.isString(content)) po.push(content);
            else {
                var po = [];
                po.push("<div style='width: " + content.width + "px;height:" + content.height + "px;position: absolute;left:50%;top:50%;text-align: center;margin-left: -" + content.width / 2 + "px;margin-top:-" + content.height / 2 + "px;'>"), po.push(content.html), po.push("</div>")
            }
            this.mask.html(po.join(""))
        }
    }),
    mask = new AXMask;
mask.setConfig(), axdom.fn.mask = function (configs) {
    return axf.each(this, function () {
        mask.append(this.id, configs)
    }), this
};
var AXNotification = Class.create(AXJ, {
        initialize: function (AXJ_super) {
            AXJ_super(), this.Observer = null, this.lasBreadSeq = 0, this.bread = [], this.config.easing = {
                open: {
                    duration: 300,
                    easing: "expoOut"
                },
                close: {
                    duration: 300,
                    easing: "expoOut"
                }
            }, this.config.eatUpTime = 300, this.config.confirmStr = "�솗�씤", this.config.cancelStr = "痍⑥냼"
        },
        init: function () {
            var config = this.config;
            "toast" == config.type ? this.toastTray = axdom('<div class="AXNotificationTray" id="' + config.targetID + '"></div>') : "dialog" == config.type && (this.dialogTray = axdom('<div class="AXNotificationTrayDialog" id="' + config.targetID + '"></div>'))
        },
        push: function (obj) {
            var config = this.config,
                breadID = config.targetID + "" + this.lasBreadSeq;
            this.lasBreadSeq++;
            var po = [];
            if ("object" != (typeof obj).toLowerCase() ? (po.push('<div class="AXNotification" id="bread_AX_' + breadID + '" style="display:none;">'), "dialog" == config.type && po.push('<div class="AXNotificationHead">' + (obj.title || "Dialog Message") + "</div>"), po.push('<div class="AXNotificationCT">'), po.push('	<table cellpadding="0" cellspacing="0" class="AXNotificationTable">'), po.push("		<tbody>"), po.push("			<tr>"), po.push('				<td class="AXNotificationIcon"></td>'), po.push('				<td class="AXNotificationBody">'), Object.isString(obj) ? po.push(obj.crlf()) : po.push(obj), po.push("				</td>"), po.push("			</tr>"), po.push("		</tbody>"), po.push("	</table>"), "dialog" == config.type && (po.push('	<div class="AXNotificationButtons">'), po.push('	<input type="button" value="' + config.confirmStr + '" class="AXButton Red" data-bread-id="' + breadID + '" id="bread_AX_' + breadID + '_AX_confirm" />'), po.push("	</div>")), po.push("</div>"), po.push("</div>")) : (po.push('<div class="AXNotification ' + obj.type + '" id="bread_AX_' + breadID + '" style="display:none;">'), "dialog" == config.type && po.push('<div class="AXNotificationHead">' + (obj.title || "Dialog Message") + "</div>"), po.push('<div class="AXNotificationCT">'), po.push('	<table cellpadding="0" cellspacing="0" class="AXNotificationTable">'), po.push("		<tbody>"), po.push("			<tr>"), po.push('				<td class="AXNotificationIcon"></td>'), po.push('				<td class="AXNotificationBody">'), Object.isString(obj.body) ? po.push(obj.body.crlf()) : po.push(obj.body), po.push("				</td>"), "Caution" == obj.type && "dialog" != config.type && (obj.buttons || (po.push('				<td class="AXNotificationButton" align="right">'), po.push('				<input type="button" value="' + config.confirmStr + '" class="AXButton Red" data-bread-id="' + breadID + '" id="bread_AX_' + breadID + '_AX_confirm" />'), po.push("				</td>"))), po.push("			</tr>"), po.push("		</tbody>"), po.push("	</table>"), obj.buttons ? (po.push('	<div class="AXNotificationButtons">'), AXUtil.each(obj.buttons, function (index, B) {
                    po.push('	<input type="button" value="' + this.buttonValue + '" class="AXButton ' + (this.buttonClass || "") + '" data-bread-id="' + breadID + '" id="bread_AX_' + breadID + "_AX_buttons_AX_" + index + '" />')
                }), po.push("	</div>")) : "dialog" == config.type && (po.push('	<div class="AXNotificationButtons">'), po.push('	<input type="button" value="' + config.confirmStr + '" class="AXButton Red" data-bread-id="' + breadID + '" id="bread_AX_' + breadID + '_AX_confirm" />'), po.push("	</div>")), po.push("</div>"), po.push("</div>")), "toast" == config.type) AXgetId(config.targetID) || axdom(document.body).append(this.toastTray), this.bread.push({
                breadID: breadID,
                type: obj.type,
                html: po.join("").enc()
            }), this.insertBread(obj);
            else if ("dialog" == config.type) {
                AXgetId(config.targetID) || axdom(document.body).append(this.dialogTray), this.dialogTray.prepend(po.join(""));
                "Q" == AXUtil.docTD ? document.body.clientWidth : document.documentElement.clientWidth;
                void 0 != obj.top ? this.dialogTray.css({
                    paddingTop: obj.top
                }) : this.dialogTray.css({
                    paddingTop: 50
                });
                var breadBox = axdom("#bread_AX_" + breadID);
                breadBox.fadeIn();
                var endCheck = this.endCheck.bind(this);
                axdom("#bread_AX_" + breadID + "_AX_confirm").bind("click", function () {
                    obj.onConfirm && obj.onConfirm(obj.data), breadBox.find("button, input").hide(), breadBox.fadeOut({
                        duration: config.easing.close.duration,
                        easing: config.easing.close.easing,
                        complete: function () {
                            breadBox.remove(), endCheck()
                        }
                    })
                }), axdom(".AXNotificationButtons").find(".AXButton").bind("click", function (event) {
                    var eid = event.target.id.split(/_AX_/g),
                        myBreadID = eid[1],
                        buttonSeq = eid.last(),
                        breadBox = axdom("#bread_AX_" + myBreadID);
                    obj.buttons && obj.buttons[buttonSeq] && obj.buttons[buttonSeq].onClick && obj.buttons[buttonSeq].onClick(obj.buttons[buttonSeq].data), breadBox.find("button, input").hide(), breadBox.fadeOut({
                        duration: config.easing.close.duration,
                        easing: config.easing.close.easing,
                        complete: function () {
                            breadBox.remove(), endCheck()
                        }
                    })
                }), axdom(".AXNotificationButtons").find(".AXButton").get(0).focus(), axdom(document.body).unbind("keyup." + breadID).bind("keyup." + breadID, function (event) {
                    event.keyCode == AXUtil.Event.KEY_ESC && axdom("#bread_AX_" + breadID).fadeOut({
                        duration: config.easing.close.duration,
                        easing: config.easing.close.easing,
                        complete: function () {
                            axdom("#bread_AX_" + breadID).remove(), endCheck(breadID, obj)
                        }
                    })
                })
            }
        },
        insertBread: function (obj) {
            var config = this.config;
            if (0 != this.bread.length && !this.busy) {
                this.busy = !0;
                var nextBread = this.nextBread.bind(this),
                    endCheck = this.endCheck.bind(this),
                    myQue = this.bread[0];
                axdom("#" + config.targetID).prepend(myQue.html.decode()), axdom("#bread_AX_" + myQue.breadID + "_AX_confirm").bind("click", function (e) {
                    obj.onConfirm && obj.onConfirm(obj.data);
                    var breadBox = axdom("#bread_AX_" + myQue.breadID);
                    breadBox.find("button, input").hide(), breadBox.fadeOut({
                        duration: config.easing.close.duration,
                        easing: config.easing.close.easing,
                        complete: function () {
                            breadBox.remove(), endCheck()
                        }
                    })
                });
                var $bread = axdom("#bread_AX_" + myQue.breadID);
                $bread.slideDown({
                    duration: config.easing.open.duration,
                    easing: config.easing.open.easing,
                    complete: function () {
                        nextBread(), "Caution" != myQue.type && setTimeout(function () {
                            $bread.fadeOut({
                                duration: config.easing.close.duration,
                                easing: config.easing.close.easing,
                                complete: function () {
                                    $bread.remove(), endCheck()
                                }
                            })
                        }, config.eatUpTime)
                    }
                })
            }
        },
        nextBread: function () {
            this.bread.shift(), this.busy = !1, this.insertBread()
        },
        endCheck: function (breadID, obj) {
            "" == axdom("#" + this.config.targetID).html() && (this.lasBreadSeq = 0, "dialog" == this.config.type && (this.dialogTray.remove(), breadID && (axdom(document.body).unbind("keyup." + breadID), obj && obj.onclose && obj.onclose.call(obj, obj))))
        }
    }),
    toast = new AXNotification;
toast.setConfig({
    targetID: "basicToast",
    type: "toast"
});
var dialog = new AXNotification;
dialog.setConfig({
    targetID: "basicDialog",
    type: "dialog"
});
var AXScroll = Class.create(AXJ, {
        initialize: function (AXJ_super) {
            AXJ_super(), this.config.CT_className = "AXScroll", this.config.ST_className = "scrollTarget", this.scrollBarMove = !1, this.scrollBarAttr = {}, this.Observer = null, this.config.yscroll = !0, this.config.xscroll = !1, this.config.scrollBarMargin = 3, this.minHeightSB = {
                TF: !1,
                h: 0
            }, this.minWidthSB = {
                TF: !1,
                w: 0
            }
        },
        init: function () {
            var config = this.config;
            return Object.isUndefined(config.targetID) ? void trace("need targetID - setConfig({targetID:''})") : Object.isUndefined(config.scrollID) ? void trace("need scrollID - setConfig({scrollID:''})") : (this.scrollTargetID = axdom("#" + config.targetID), this.scrollScrollID = axdom("#" + config.scrollID), this.scrollTargetID.addClass(this.config.CT_className), this.scrollScrollID.addClass(this.config.ST_className), this.initScroll(), void this.bindEvent())
        },
        updateScroll: function () {
            return this.initScroll(), this
        },
        resizeScroll: function () {
            return this.initScroll(), this
        },
        initScroll: function () {
            var cfg = this.config;
            if (this.scroll) cfg.yscroll || this.scrollTargetID.css({
                height: this.scrollScrollID.outerHeight()
            });
            else {
                var po = [];
                cfg.yscroll ? (po.push('<div class="scrollTrack" id="' + cfg.targetID + '_AX_scrollTrack"></div>'), po.push('<div class="scrollBar" id="' + cfg.targetID + '_AX_scrollBar"></div>')) : this.scrollTargetID.css({
                    height: this.scrollScrollID.outerHeight()
                }), cfg.xscroll && (po.push('<div class="xscrollTrack" id="' + cfg.targetID + '_AX_xscrollTrack"></div>'), po.push('<div class="xscrollBar" id="' + cfg.targetID + '_AX_xscrollBar"></div>')), this.scrollTargetID.append(po.join("")), this.scroll = !0, cfg.yscroll && (this.scrollTrack = axdom("#" + cfg.targetID + "_AX_scrollTrack"), this.scrollBar = axdom("#" + cfg.targetID + "_AX_scrollBar")), cfg.xscroll && (this.xscrollTrack = axdom("#" + cfg.targetID + "_AX_xscrollTrack"), this.xscrollBar = axdom("#" + cfg.targetID + "_AX_xscrollBar"))
            }
            var CTheight = this.scrollTargetID.innerHeight(),
                CTwidth = this.scrollTargetID.innerWidth();
            cfg.yscroll && this.scrollTrack.css({
                height: CTheight - 2 * cfg.scrollBarMargin
            }), cfg.xscroll ? this.xscrollTrack.css({
                width: CTwidth - 2 * cfg.scrollBarMargin
            }) : this.scrollScrollID.css({
                width: CTwidth
            });
            var Cheight = this.scrollScrollID.outerHeight(),
                Cwidth = this.scrollScrollID.outerWidth();
            if (cfg.yscroll) {
                var SBheight = CTheight * (CTheight - 2 * cfg.scrollBarMargin) / Cheight;
                30 > SBheight && (SBheight = 30), this.scrollBar.css({
                    height: Math.ceil(SBheight)
                }), CTheight == Cheight || CTheight > Cheight ? (this.scrollTrack.hide(), this.scrollBar.hide(), this.scrollScrollID.css({
                    top: 0
                })) : (this.scrollTrack.show(), this.scrollBar.show())
            }
            if (cfg.xscroll) {
                var SBwidth = CTwidth * (CTwidth - 2 * cfg.scrollBarMargin) / Cwidth;
                30 > SBwidth && (SBwidth = 30), this.xscrollBar.css({
                    width: Math.ceil(SBwidth)
                }), CTwidth == Cwidth || CTwidth > Cwidth ? (this.xscrollTrack.hide(), this.xscrollBar.hide()) : (this.xscrollTrack.show(), this.xscrollBar.show())
            }
        },
        bindEvent: function () {
            var cfg = this.config;
            this.scrollTargetID.innerHeight(), this.scrollScrollID.outerHeight();
            if (cfg.xscroll) {
                this.scrollTargetID.innerWidth(), this.scrollScrollID.outerWidth()
            }
            var tractActive = this.tractActive.bind(this);
            this.tractActiveBind = function (event) {
                tractActive(event)
            };
            var tractInActive = this.tractInActive.bind(this);
            this.tractInActiveBind = function (event) {
                tractInActive(event)
            };
            var cancelEvent = this.cancelEvent.bind(this);
            this.cancelEventBind = function (event) {
                cancelEvent(event)
            };
            var SBonMouseDown = this.SBonMouseDown.bind(this);
            this.SBonMouseDownBind = function (event) {
                SBonMouseDown(event)
            };
            var SBonMouseMove = this.SBonMouseMove.bind(this);
            this.SBonMouseMoveBind = function (event) {
                SBonMouseMove(event)
            };
            var SBonMouseUp = this.SBonMouseUp.bind(this);
            if (this.SBonMouseUpBind = function (event) {
                    SBonMouseUp(event)
                }, this.SBonWheelBind = this.SBonWheel.bind(this), this.scrollTargetID.bind("mouseover", this.tractActiveBind), this.scrollTargetID.bind("mouseout", this.tractInActiveBind), cfg.yscroll && (this.scrollBar.bind("dragstart", this.cancelEventBind), this.scrollBar.bind("mousedown", this.SBonMouseDownBind)), cfg.xscroll) {
                var SBonMouseDownX = this.SBonMouseDownX.bind(this);
                this.SBonMouseDownXBind = function (event) {
                    SBonMouseDownX(event)
                };
                var SBonMouseMoveX = this.SBonMouseMoveX.bind(this);
                this.SBonMouseMoveXBind = function (event) {
                    SBonMouseMoveX(event)
                };
                var SBonMouseUpX = this.SBonMouseUpX.bind(this);
                this.SBonMouseUpXBind = function (event) {
                    SBonMouseUpX(event)
                }, this.xscrollBar.bind("dragstart", this.cancelEventBind), this.xscrollBar.bind("mousedown", this.SBonMouseDownXBind)
            }
            var mousewheelevt = /Firefox/i.test(navigator.userAgent) ? "DOMMouseScroll" : "mousewheel";
            if (document.attachEvent ? AXgetId(cfg.targetID) && AXgetId(cfg.targetID).attachEvent("on" + mousewheelevt, this.SBonWheelBind) : document.addEventListener && AXgetId(cfg.targetID) && AXgetId(cfg.targetID).addEventListener(mousewheelevt, this.SBonWheelBind, !1), document.addEventListener) {
                var touchstart = this.touchstart.bind(this);
                this.touchstartBind = function () {
                    touchstart()
                }, AXgetId(cfg.targetID) && AXgetId(cfg.targetID).addEventListener("touchstart", this.touchstartBind, !1)
            }
        },
        tractActive: function (event) {
            var cfg = this.config;
            cfg.yscroll && (this.scrollBar.addClass("scrollBar_hover"), this.scrollTrack.addClass("scrollTrack_hover")), cfg.xscroll && (this.xscrollBar.addClass("xscrollBar_hover"), this.xscrollTrack.addClass("xscrollTrack_hover")), this.Observer && clearTimeout(this.Observer), this.initScroll()
        },
        tractInActive: function (event) {
            var SBonWheelEnd = this.SBonWheelEnd.bind(this);
            this.Observer = setTimeout(function () {
                SBonWheelEnd()
            }, 500)
        },
        getMousePosition: function (event) {
            var pos = (this.config, this.scrollTrack ? this.scrollTrack.offset() : {
                    left: 0,
                    top: 0
                }),
                posx = this.xscrollTrack ? this.xscrollTrack.offset() : {
                    left: 0,
                    top: 0
                },
                x = event.pageX - posx.left,
                y = event.pageY - pos.top;
            return {
                x: x,
                y: y
            }
        },
        getTouchPosition: function (event) {
            var touch = (this.config, event.touches[0]),
                pos = this.scrollTrack.offset();
            if (this.config.touchDirection) var x = touch.pageX - pos.left,
                y = touch.pageY - pos.top;
            else var x = -touch.pageX - pos.left,
                y = -touch.pageY - pos.top;
            return {
                x: x,
                y: y
            }
        },
        touchstart: function (e) {
            this.touhEndObserver && clearTimeout(this.touhEndObserver), this.touhMoveObserver && clearTimeout(this.touhMoveObserver);
            var touch, cfg = this.config,
                event = window.event;
            if (touch = event.touches[0], touch.pageX) {
                this.touchStartXY = {
                    sTime: (new Date).getTime() / 1e3,
                    sTop: this.scrollScrollID.position().top,
                    sLeft: this.scrollScrollID.position().left,
                    scrollWidth: this.scrollScrollID.outerWidth(),
                    scrollHeight: this.scrollScrollID.outerHeight(),
                    targetWidth: this.scrollTargetID.outerWidth(),
                    targetHeight: this.scrollTargetID.outerHeight(),
                    x: touch.pageX,
                    y: touch.pageY
                };
                var touchEnd = this.touchEnd.bind(this);
                this.touchEndBind = function () {
                    touchEnd(event)
                };
                var touchMove = this.touchMove.bind(this);
                this.touchMoveBind = function () {
                    touchMove(event)
                }, document.removeEventListener && (document.removeEventListener("touchend", this.touchEndBind, !1), document.removeEventListener("touchmove", this.touchMoveBind, !1)), document.addEventListener && (document.addEventListener("touchend", this.touchEndBind, !1), document.addEventListener("touchmove", this.touchMoveBind, !1));
                var minLeft = 0,
                    maxLeft = -(this.touchStartXY.scrollWidth - this.touchStartXY.targetWidth),
                    minTop = 0,
                    maxTop = -(this.touchStartXY.scrollHeight - this.touchStartXY.targetHeight),
                    scrollPosition = this.scrollScrollID.position();
                (scrollPosition.left < minLeft && scrollPosition.left > maxLeft || scrollPosition.top < minTop && scrollPosition.top > maxTop) && (this.scrollScrollID.stop(), cfg.yscroll && this.scrollBar.stop(), cfg.xscroll && this.xscrollBar.stop()), this.tractActive()
            }
        },
        touchMove: function (e) {
            this.touhEndObserver && clearTimeout(this.touhEndObserver), this.touhMoveObserver && clearTimeout(this.touhMoveObserver);
            var touch, cfg = this.config,
                event = window.event;
            if (touch = event.touches[0], touch.pageX) {
                if ((this.touchStartXY.x - touch.pageX).abs() < (this.touchStartXY.y - touch.pageY).abs()) {
                    if (cfg.yscroll && this.touchStartXY.scrollHeight > this.touchStartXY.targetHeight) {
                        this.touchMode = "ns";
                        var touchDirection = this.touchStartXY.y - touch.pageY <= 0 ? "T" : "B";
                        if (touchDirection != this.touchDirection && this.touchMoveAfter(touch), this.touchDirection = touchDirection, this.moveBlock({
                                top: touch.pageY - this.touchStartXY.y
                            })) {
                            if (!event.preventDefault) return !1;
                            event.preventDefault()
                        }
                    }
                } else if ((this.touchStartXY.x - touch.pageX).abs() > (this.touchStartXY.y - touch.pageY).abs() && cfg.xscroll && this.touchStartXY.scrollWidth > this.touchStartXY.targetWidth) {
                    this.touchMode = "we";
                    var touchDirection = this.touchStartXY.x - touch.pageX <= 0 ? "L" : "R";
                    if (touchDirection != this.touchDirection && this.touchMoveAfter(touch), this.touchDirection = touchDirection, this.moveBlock({
                            left: touch.pageX - this.touchStartXY.x
                        })) {
                        if (!event.preventDefault) return !1;
                        event.preventDefault()
                    }
                }((this.touchStartXY.x - touch.pageX).abs() - (this.touchStartXY.y - touch.pageY).abs()).abs() < 5;
                var touchMoveAfter = this.touchMoveAfter.bind(this);
                this.touhMoveObserver = setTimeout(function () {
                    touchMoveAfter(touch)
                }, 50)
            }
        },
        touchMoveAfter: function (touch) {
            try {
                this.touchStartXY.sTime = (new Date).getTime() / 1e3, this.touchStartXY.sTop = this.scrollScrollID.position().top, this.touchStartXY.sLeft = this.scrollScrollID.position().left, this.touchStartXY.x = touch.pageX, this.touchStartXY.y = touch.pageY
            } catch (e) {}
        },
        touchEnd: function (e) {
            this.config, window.event || e;
            document.removeEventListener && (document.removeEventListener("touchend", this.touchEndBind, !1), document.removeEventListener("touchmove", this.touchMoveBind, !1));
            var moveEndBlock = this.moveEndBlock.bind(this);
            this.touchStartXY && (this.touhEndObserver = setTimeout(function () {
                moveEndBlock()
            }, 10))
        },
        moveBlock: function (moveXY) {
            var cfg = this.config,
                returnTF = !0;
            if (void 0 != moveXY.left) {
                var newLeft = this.touchStartXY.sLeft + moveXY.left,
                    minLeft = 0,
                    maxLeft = -(this.touchStartXY.scrollWidth - this.touchStartXY.targetWidth);
                cfg.bounces && (minLeft = .4 * this.touchStartXY.targetWidth, maxLeft = -(1.2 * (this.touchStartXY.scrollWidth - this.touchStartXY.targetWidth))), newLeft > minLeft ? (newLeft = minLeft, returnTF = !1) : maxLeft > newLeft && (newLeft = maxLeft, returnTF = !1), this.scrollScrollID.css({
                    left: newLeft
                }), this.setScrollbarPositionForWheel("left")
            } else if (void 0 != moveXY.top) {
                var newTop = this.touchStartXY.sTop + moveXY.top,
                    minTop = 0,
                    maxTop = -(this.touchStartXY.scrollHeight - this.touchStartXY.targetHeight);
                cfg.bounces && (minTop = .4 * this.touchStartXY.targetHeight, maxTop = -(1.2 * (this.touchStartXY.scrollHeight - this.touchStartXY.targetHeight))), newTop > minTop ? (newTop = minTop, returnTF = !1) : maxTop > newTop && (newTop = maxTop, returnTF = !1), this.scrollScrollID.css({
                    top: newTop
                }), this.setScrollbarPositionForWheel("top")
            }
            return returnTF
        },
        moveEndBlock: function () {
            var cfg = this.config;
            if (this.touchStartXY) {
                var sTime = this.touchStartXY.sTime,
                    eTime = (new Date).getTime() / 1e3,
                    dTime = eTime - sTime,
                    tractInActive = this.tractInActive.bind(this);
                if ("we" == this.touchMode) {
                    if (this.touchStartXY.scrollWidth <= this.touchStartXY.targetWidth) return;
                    var eLeft = this.scrollScrollID.position().left,
                        dLeft = eLeft - this.touchStartXY.sLeft,
                        velocityLeft = Math.ceil(dLeft / dTime / 1),
                        endLeft = Math.ceil(eLeft + velocityLeft);
                    endLeft > 0 ? endLeft = 0 : endLeft < -(this.touchStartXY.scrollWidth - this.touchStartXY.targetWidth) && (endLeft = -(this.touchStartXY.scrollWidth - this.touchStartXY.targetWidth));
                    var newLeft = endLeft.abs();
                    if (this.touchStartXY.sLeft = -newLeft, this.scrollScrollID.animate({
                            left: -newLeft
                        }, (eLeft + newLeft).abs(), "circOut", function () {
                            tractInActive()
                        }), this.setScrollbarPositionForWheel("left", (eLeft + newLeft).abs(), "circOut", {
                            left: -newLeft
                        }), cfg.yscroll) {
                        var eTop = this.scrollScrollID.position().top,
                            topChange = !1;
                        eTop > 0 ? (eTop = 0, topChange = !0) : eTop < -(this.touchStartXY.scrollHeight - this.touchStartXY.targetHeight) && (eTop = this.touchStartXY.scrollHeight - this.touchStartXY.targetHeight, topChange = !0), topChange && this.scrollScrollID.css({
                            top: -eTop
                        })
                    }
                } else {
                    if (this.touchStartXY.scrollHeight <= this.touchStartXY.targetHeight) return;
                    var eTop = this.scrollScrollID.position().top,
                        dTop = eTop - this.touchStartXY.sTop,
                        velocityTop = Math.ceil(dTop / dTime / 1),
                        endTop = Math.ceil(eTop + velocityTop);
                    endTop > 0 ? endTop = 0 : endTop < -(this.touchStartXY.scrollHeight - this.touchStartXY.targetHeight) && (endTop = -(this.touchStartXY.scrollHeight - this.touchStartXY.targetHeight));
                    var newTop = endTop.abs();
                    if (this.touchStartXY.sTop = -newTop, this.scrollScrollID.animate({
                            top: -newTop
                        }, (eTop + newTop).abs(), "circOut", function () {
                            tractInActive()
                        }), this.setScrollbarPositionForWheel("top", (eTop + newTop).abs(), "circOut", {
                            top: -newTop
                        }), cfg.xscroll) {
                        var eLeft = this.scrollScrollID.position().left,
                            leftChange = !1;
                        eLeft > 0 ? (eLeft = 0, leftChange = !0) : eLeft < -(this.touchStartXY.scrollWidth - this.touchStartXY.targetWidth) && (eLeft = this.touchStartXY.scrollWidth - this.touchStartXY.targetWidth, leftChange = !0), leftChange && this.scrollScrollID.css({
                            left: -eLeft
                        })
                    }
                }
                this.touchStartXY = null
            }
        },
        SBonMouseDown: function (event) {
            this.config;
            this.scrollBarMove = !0;
            var pos = this.getMousePosition(event),
                SBpos = this.scrollBar.position(),
                SBh = this.scrollBar.height(),
                STh = this.scrollTrack.height(),
                Ch = this.scrollScrollID.outerHeight();
            this.Ch = Ch, this.STh = STh, this.scrollBarAttr = {
                x: (SBpos.left - pos.x).number(),
                y: (SBpos.top - pos.y).number(),
                h: SBh.number(),
                sth: STh
            }, axdom(document.body).bind("mousemove.AXScroll", this.SBonMouseMoveBind), axdom(document.body).bind("mouseup.AXScroll", this.SBonMouseUpBind), axdom(document.body).bind("mouseleave.AXScroll", this.SBonMouseUpBind)
        },
        SBonMouseMove: function (event) {
            var config = this.config;
            if (this.scrollBarMove) {
                axdom(document.body).attr("onselectstart", "return false");
                var pos = this.getMousePosition(event),
                    SBy = pos.y + this.scrollBarAttr.y;
                SBy < config.scrollBarMargin && (SBy = config.scrollBarMargin), SBy + this.scrollBarAttr.h > this.scrollBarAttr.sth && (SBy = this.scrollBarAttr.sth - this.scrollBarAttr.h + config.scrollBarMargin), this.scrollBar.css({
                    top: SBy
                }), this.setContentPosition()
            }
        },
        SBonMouseUp: function (event) {
            if (this.scrollBarMove) {
                this.config;
                this.scrollBarMove = !1, axdom(document.body).removeAttr("onselectstart")
            }
            axdom(document.body).unbind("mousemove.AXScroll"), axdom(document.body).unbind("mouseup.AXScroll"), axdom(document.body).unbind("mouseleave.AXScroll")
        },
        SBonMouseDownX: function (event) {
            this.config;
            this.scrollBarMove = !0;
            var pos = this.getMousePosition(event),
                SBpos = this.xscrollBar.position(),
                SBw = this.xscrollBar.width(),
                STw = this.xscrollTrack.width(),
                Cw = this.scrollScrollID.outerWidth();
            this.Cw = Cw, this.STw = STw, this.scrollBarAttr = {
                x: (SBpos.left - pos.x).number(),
                w: SBw.number(),
                stw: STw
            }, axdom(document.body).bind("mousemove.AXScroll", this.SBonMouseMoveXBind), axdom(document.body).bind("mouseup.AXScroll", this.SBonMouseUpXBind), axdom(document.body).bind("mouseleave.AXScroll", this.SBonMouseUpXBind)
        },
        SBonMouseMoveX: function (event) {
            var config = this.config;
            if (this.scrollBarMove) {
                axdom(document.body).attr("onselectstart", "return false");
                var pos = this.getMousePosition(event),
                    SBx = pos.x + this.scrollBarAttr.x;
                SBx < config.scrollBarMargin && (SBx = config.scrollBarMargin), SBx + this.scrollBarAttr.w > this.scrollBarAttr.stw && (SBx = this.scrollBarAttr.stw - this.scrollBarAttr.w + config.scrollBarMargin), this.xscrollBar.css({
                    left: SBx
                }), this.setContentPosition("xscroll")
            }
        },
        SBonMouseUpX: function (event) {
            if (this.scrollBarMove) {
                this.config;
                this.scrollBarMove = !1, axdom(document.body).removeAttr("onselectstart")
            }
            axdom(document.body).unbind("mousemove.AXScroll"), axdom(document.body).unbind("mouseup.AXScroll"), axdom(document.body).unbind("mouseleave.AXScroll")
        },
        SBonWheel: function (e) {
            var event = (this.config, window.event || e),
                delta = event.detail ? -10 * event.detail : event.wheelDelta,
                Sy = this.scrollScrollID.position().top,
                Sh = this.scrollScrollID.outerHeight(),
                TGh = this.scrollTargetID.height();
            if (!(TGh > Sh)) {
                var eventCancle = !1;
                return Sy += delta, Sy > 0 && (Sy = 0, eventCancle = !0), TGh > Sh + Sy && (Sy = TGh - Sh, eventCancle = !0), this.scrollScrollID.css({
                    top: Sy
                }), this.setScrollbarPositionForWheel("top"), eventCancle ? void 0 : (event.preventDefault && event.preventDefault(), event.stopPropagation && event.stopPropagation(), event.cancelBubble = !0, !1)
            }
        },
        SBonWheelEnd: function () {
            if (!this.scrollBarMove) {
                var config = this.config;
                config.yscroll && (this.scrollBar.removeClass("scrollBar_hover"), this.scrollTrack.removeClass("scrollTrack_hover")), config.xscroll && (this.xscrollBar.removeClass("xscrollBar_hover"), this.xscrollTrack.removeClass("xscrollTrack_hover"))
            }
        },
        cancelEvent: function (event) {
            return event.stopPropagation(), !1
        },
        setContentPosition: function (xscroll) {
            var config = this.config;
            if ("xscroll" == xscroll) {
                this.contentScrollXAttr ? (this.contentScrollXAttr.scrollWidth = this.scrollScrollID.width(), this.contentScrollXAttr.scrollTrackXWidth = this.xscrollTrack.width(), this.contentScrollXAttr.scrollXHandleWidth = this.xscrollBar.width()) : this.contentScrollXAttr = {
                    bodyWidth: this.scrollTargetID.width(),
                    scrollWidth: this.scrollScrollID.width(),
                    scrollTrackXWidth: this.xscrollTrack.width(),
                    scrollXHandleWidth: this.xscrollBar.width()
                };
                var SBx = this.xscrollBar.position().left - config.scrollBarMargin,
                    L = (this.contentScrollXAttr.scrollWidth * SBx / this.contentScrollXAttr.scrollTrackXWidth).round(0);
                this.scrollScrollID.css({
                    left: -L
                })
            } else {
                this.contentScrollYAttr ? (this.contentScrollYAttr.scrollHeight = this.scrollScrollID.height(), this.contentScrollYAttr.scrollTrackYHeight = this.scrollTrack.height(), this.contentScrollYAttr.scrollYHandleHeight = this.scrollBar.height()) : this.contentScrollYAttr = {
                    bodyHeight: this.scrollTargetID.height(),
                    scrollHeight: this.scrollScrollID.height(),
                    scrollTrackYHeight: this.scrollTrack.height(),
                    scrollYHandleHeight: this.scrollBar.height()
                };
                var SBy = this.scrollBar.position().top - config.scrollBarMargin,
                    T = (this.contentScrollYAttr.scrollHeight - this.contentScrollYAttr.bodyHeight) * (SBy / (this.contentScrollYAttr.scrollTrackYHeight - this.contentScrollYAttr.scrollYHandleHeight)).number();
                this.scrollScrollID.css({
                    top: -T
                })
            }
        },
        setScrollbarPositionForWheel: function (direction, duration, easing, position) {
            var config = this.config;
            if ("left" == direction) {
                this.contentScrollXAttr ? (this.contentScrollXAttr.scrollWidth = this.scrollScrollID.width(), this.contentScrollXAttr.scrollTrackXWidth = this.xscrollTrack.width(), this.contentScrollXAttr.scrollXHandleWidth = this.xscrollBar.outerWidth()) : this.contentScrollXAttr = {
                    bodyWidth: this.scrollTargetID.width(),
                    scrollWidth: this.scrollScrollID.width(),
                    scrollTrackXWidth: this.xscrollTrack.width(),
                    scrollXHandleWidth: this.scrollBar.outerWidth()
                };
                var Sy = position ? position.left : this.scrollScrollID.position().left,
                    L = (this.contentScrollXAttr.scrollTrackXWidth - this.contentScrollXAttr.scrollXHandleWidth) * (Sy / (this.contentScrollXAttr.scrollWidth - this.contentScrollXAttr.bodyWidth));
                L -= config.scrollBarMargin, easing ? this.xscrollBar.animate({
                    left: -L
                }, duration, easing, function () {}) : this.xscrollBar.css({
                    left: -L
                })
            } else {
                if (!config.yscroll) return !1;
                this.contentScrollYAttr ? (this.contentScrollYAttr.scrollHeight = this.scrollScrollID.height(), this.contentScrollYAttr.scrollTrackYHeight = this.scrollTrack.height(), this.contentScrollYAttr.scrollYHandleHeight = this.scrollBar.outerHeight()) : this.contentScrollYAttr = {
                    bodyHeight: this.scrollTargetID.height(),
                    scrollHeight: this.scrollScrollID.height(),
                    scrollTrackYHeight: this.scrollTrack.height(),
                    scrollYHandleHeight: this.scrollBar.outerHeight()
                };
                var Sy = position ? position.top : this.scrollScrollID.position().top,
                    T = (this.contentScrollYAttr.scrollTrackYHeight - this.contentScrollYAttr.scrollYHandleHeight) * (Sy / (this.contentScrollYAttr.scrollHeight - this.contentScrollYAttr.bodyHeight));
                T -= config.scrollBarMargin, easing ? this.scrollBar.animate({
                    top: -T
                }, duration, easing, function () {}) : this.scrollBar.css({
                    top: -T
                })
            }
        },
        setSBPosition: function () {
            var config = this.config;
            try {
                var Ctop = this.scrollScrollID.position().top,
                    STh = (this.scrollTargetID.innerHeight(), this.scrollTrack.height()),
                    Ch = this.scrollScrollID.outerHeight(),
                    SBh = this.scrollBar.height(),
                    SBtop = -(STh * Ctop) / Ch;
                SBtop < config.scrollBarMargin && (SBtop = config.scrollBarMargin), SBtop + SBh > STh && (SBtop = STh - SBh + config.scrollBarMargin), this.scrollBar.css({
                    top: SBtop
                })
            } catch (e) {}
        },
        focusElement: function (id) {
            this.config;
            if (AXgetId(id)) {
                var ppos = this.scrollScrollID.offset(),
                    pos = axdom("#" + id).offset(),
                    myNewTop = pos.top - ppos.top,
                    CTheight = this.scrollTargetID.innerHeight(),
                    Cheight = this.scrollScrollID.outerHeight();
                CTheight > Cheight - myNewTop && (myNewTop = Cheight - CTheight), 0 > myNewTop && (myNewTop = 0), this.scrollScrollID.css({
                    top: -myNewTop
                }), this.setSBPosition()
            }
            return this
        },
        scrollTop: function (top) {
            var myNewTop = top,
                CTheight = this.scrollTargetID.innerHeight(),
                Cheight = this.scrollScrollID.outerHeight();
            return CTheight > Cheight - myNewTop && (myNewTop = Cheight - CTheight), 0 > myNewTop && (myNewTop = 0), this.scrollScrollID.css({
                top: -myNewTop
            }), this.setSBPosition(), this
        },
        moveTo: function (x, y) {
            var cfg = this.config,
                css = {};
            return AXUtil.isEmpty(x) || (css.left = -x), AXUtil.isEmpty(y) || (css.top = -y), this.scrollScrollID.css(css), cfg.yscroll && !AXUtil.isEmpty(css.top) && this.scrollBar.css({
                top: css.top
            }), cfg.xscroll && !AXUtil.isEmpty(css.left) && this.xscrollBar.css({
                left: css.left
            }), this
        },
        unbind: function () {
            var config = this.config;
            this.scroll = !1, this.scrollTrack.remove(), this.scrollBar.remove(), this.scrollTargetID.unbind("mouseover", this.tractActiveBind), this.scrollTargetID.unbind("mouseout", this.tractInActiveBind), axdom(document.body).unbind("mousemove.AXScroll", this.SBonMouseMoveBind), axdom(document.body).unbind("mouseup.AXScroll", this.SBonMouseUpBind);
            var mousewheelevt = /Firefox/i.test(navigator.userAgent) ? "DOMMouseScroll" : "mousewheel";
            return document.attachEvent ? AXgetId(config.targetID) && AXgetId(config.targetID).detachEvent("on" + mousewheelevt, this.SBonWheelBind) : document.addEventListener && AXgetId(config.targetID) && AXgetId(config.targetID).removeEventListener(mousewheelevt, this.SBonWheelBind, !1), document.addEventListener && AXgetId(config.targetID) && AXgetId(config.targetID).removeEventListener("touchstart", this.SBtouchstartBind, !1), this
        }
    }),
    AXCalendar = Class.create(AXJ, {
        initialize: function (AXJ_super) {
            AXJ_super(), this.config.CT_className = "AXCalendar", this.Observer = null, this.config.weeks = [{
                name: "SUN"
            }, {
                name: "MON"
            }, {
                name: "TUE"
            }, {
                name: "WED"
            }, {
                name: "THU"
            }, {
                name: "FRI"
            }, {
                name: "SAT"
            }], this.config.printFormat = "dd", this.config.titleFormat = "yyyy/mm/dd", this.config.valueFormat = "yyyy-mm-dd"
        },
        init: function () {},
        getBasicDate: function () {
            var cfg = this.config;
            return void 0 != cfg.basicDate ? cfg.basicDate.date() : new Date
        },
        getCalendarStartDate: function (date) {
            var calendarStartDate, monthStartDate, basicDate;
            this.config;
            basicDate = date ? date.date() : this.getBasicDate(), monthStartDate = new Date(basicDate.getFullYear(), basicDate.getMonth(), 1, 12);
            var calendarStartDateDay = monthStartDate.getDay();
            return 0 == calendarStartDateDay && (calendarStartDateDay = 7), calendarStartDate = monthStartDate.add(-calendarStartDateDay), {
                calendarStartDate: calendarStartDate,
                monthStartDate: monthStartDate
            }
        },
        printDayPage: function (date) {
            var cfg = this.config;
            if (Object.isUndefined(cfg.targetID)) return void trace("need targetID - setConfig({targetID:''})");
            var calendarDate = this.getCalendarStartDate(date),
                calendarStartDate = calendarDate.calendarStartDate,
                monthStartDate = calendarDate.monthStartDate,
                setDate = (this.getBasicDate(), date ? date.date() : new Date),
                po = [];
            po.push('<div id="' + cfg.targetID + '_AX_box" class="' + cfg.CT_className + '">'), po.push('<table cellspacing="0" cellpadding="0" class="calendarPage">'), po.push("<thead>"), po.push("<tr>"), axf.each(cfg.weeks, function (wi, ww) {
                po.push('<td class="head_' + wi + " dayofweek_" + wi + '">' + ww.name + "</td>")
            }), po.push("</tr>"), po.push("</thead>"), po.push("<tbody>");
            var onBeforeShowDay, minTime = -1,
                maxTime = -1,
                roopDate = calendarStartDate;
            cfg.minDate && (minTime = cfg.minDate.date().getTime()), cfg.maxDate && (maxTime = cfg.maxDate.date().getTime()), cfg.onBeforeShowDay && (onBeforeShowDay = cfg.onBeforeShowDay.bind(this));
            for (var i = 0; 6 > i;) {
                po.push("<tr>");
                for (var k = 0; 7 > k;) {
                    var roopTime = roopDate.getTime(),
                        dayValue = roopDate.print(this.config.printFormat),
                        addClass = [],
                        addStyle = "",
                        tdClass = [],
                        printTitle = roopDate.print(this.config.titleFormat),
                        isEnable = !0;
                    if (onBeforeShowDay) {
                        var addData = onBeforeShowDay(roopDate);
                        addData && (addData.className && addClass.push(addData.className), addData.style && (addStyle = addData.style), addData.title && (printTitle = addData.title), addData.isEnable === !1 && (isEnable = !1))
                    }
                    isEnable && minTime > -1 && (isEnable = !(minTime > roopTime)), isEnable && maxTime > -1 && (isEnable = !(roopTime > maxTime)), roopDate.getMonth() != monthStartDate.getMonth() && addClass.push("notThisMonth"), 0 == setDate.diff(roopDate, "D") && tdClass.push("setDate"), isEnable || addClass.push("disabled"), po.push('<td class="bodyCol_' + k + " bodyRow_" + i + " " + tdClass.join(" ") + '"><a ' + cfg.href + ' class="calendarDate ' + addClass.join(" ") + '" id="' + cfg.targetID + "_AX_" + roopDate.print(this.config.valueFormat) + '_AX_date" title="' + printTitle + '">' + dayValue.number() + "</a></td>"), k++, roopDate = roopDate.add(1)
                }
                po.push("</tr>"), i++
            }
            return po.push("</tbody>"), po.push("</table>"), po.push("</div>"), axdom("#" + cfg.targetID).html(po.join("")), this
        },
        dayPageSetDay: function (date) {
            var cfg = this.config;
            return axdom("#" + cfg.targetID).find(".calendarDate").removeClass("selected"), axdom("#" + cfg.targetID + "_AX_" + date.print(this.config.valueFormat) + "_AX_date").addClass("selected"), this
        },
        printMonthPage: function (date) {
            var cfg = this.config;
            if (Object.isUndefined(cfg.targetID)) return void trace("need targetID - setConfig({targetID:''})");
            var setDate = date ? date.date() : new Date,
                po = [];
            po.push('<div id="' + cfg.targetID + '_AX_box" class="' + cfg.CT_className + '">'), po.push('<table cellspacing="0" cellpadding="0" class="calendarPageMonth">'), po.push("<tbody>");
            for (var m = 1, i = 0; 4 > i;) {
                po.push("<tr>");
                for (var k = 0; 3 > k;) {
                    var tdClass = [];
                    m == setDate.getMonth() + 1 && tdClass.push("setDate"), po.push('<td class="bodyCol_' + k + " bodyRow_" + i + " " + tdClass.join(" ") + '"><a ' + cfg.href + ' class="calendarMonth" id="' + cfg.targetID + "_AX_" + m + '_AX_month" title="">' + m + "�썡</a></td>"), k++, m++
                }
                po.push("</tr>"), i++
            }
            return po.push("</tbody>"), po.push("</table>"), po.push("</div>"), axdom("#" + cfg.targetID).html(po.join("")), this
        },
        monthPageSetMonth: function (date) {
            var cfg = this.config;
            axdom("#" + cfg.targetID).find(".calendarMonth").removeClass("selected"), axdom("#" + cfg.targetID + "_AX_" + (date.getMonth() + 1) + "_AX_month").addClass("selected")
        },
        printYearPage: function (year) {
            var cfg = this.config;
            if (Object.isUndefined(cfg.targetID)) return void trace("need targetID - setConfig({targetID:''})");
            var po = [];
            po.push('<div id="' + cfg.targetID + '_AX_box" class="' + cfg.CT_className + '">'), po.push('<table cellspacing="0" cellpadding="0" class="calendarPageMonth">'), po.push("<tbody>");
            for (var m = year - 4, i = 0; 4 > i;) {
                po.push("<tr>");
                for (var k = 0; 3 > k;) {
                    var tdClass = [];
                    m == year && tdClass.push("setDate"), po.push('<td class="bodyCol_' + k + " bodyRow_" + i + " " + tdClass.join(" ") + '"><a ' + cfg.href + ' class="calendarMonth" id="' + cfg.targetID + "_AX_" + m + '_AX_year" title="">' + m + "�뀈</a></td>"), k++, m++
                }
                po.push("</tr>"), i++
            }
            po.push("</tbody>"), po.push("</table>"), po.push("</div>"), axdom("#" + cfg.targetID).html(po.join(""))
        },
        yearPageSetYear: function (date) {
            var cfg = this.config;
            axdom("#" + cfg.targetID).find(".calendarMonth").removeClass("selected"), axdom("#" + cfg.targetID + "_AX_" + date.print("yyyy") + "_AX_year").addClass("selected")
        },
        printTimePage: function (displayTime) {
            var cfg = this.config;
            if (Object.isUndefined(cfg.targetID)) return void trace("need targetID - setConfig({targetID:''})");
            if (displayTime) {
                var now = displayTime.split(":"),
                    hh = now[0].setDigit(2),
                    mm = now[1].left(2).setDigit(2),
                    apm = now[1].right(2);
                "00" == hh && "00" == mm && (apm = "AM"), "00" == apm && (apm = "AM")
            } else {
                var now = new Date,
                    hh = now.getHours(),
                    mm = now.getMinutes(),
                    apm = "AM";
                hh > 12 && (apm = "PM", hh -= 12), hh = hh.setDigit(2), mm = mm.setDigit(2)
            }
            var po = [];
            po.push('<div id="' + cfg.targetID + '_AX_box" class="' + cfg.CT_className + '" style="padding:0px;">'), po.push("<div class='timeBox'>"), po.push("<div class='hourTitle'>Hour</div>"), po.push("<div class='hourSlider'><input type='text' value='" + hh + "' id='" + cfg.targetID + "_AX_hour' class='AXInput' /></div>"), po.push("<div class='minuteTitle'>Minute</div>"), po.push("<div class='minuteSlider'><input type='text' value='" + mm + "' id='" + cfg.targetID + "_AX_minute' class='AXInput' /></div>"), po.push("<div class='timeDisplay'>" + hh + ":" + mm + " " + apm + "</div>"), po.push("<div class='AMPM'><input type='text' id='" + cfg.targetID + "_AX_AMPM' value='" + apm + "' style='width:50px;height:21px;border:0px none;' /></div>"), po.push("</div>"), po.push("</div>"), axdom("#" + cfg.targetID).html(po.join(""));
            var timePageChange = this.timePageChange.bind(this);
            axdom("#" + cfg.targetID + "_AX_hour").unbindInput(), axdom("#" + cfg.targetID + "_AX_minute").unbindInput(), axdom("#" + cfg.targetID + "_AX_AMPM").unbindInput(), axdom("#" + cfg.targetID + "_AX_hour").bindSlider({
                min: 0,
                max: 12,
                onChange: function (objID, objVal) {
                    timePageChange(objID, objVal)
                }
            }), axdom("#" + cfg.targetID + "_AX_minute").bindSlider({
                min: 0,
                max: 59,
                onChange: function (objID, objVal) {
                    timePageChange(objID, objVal)
                }
            }), axdom("#" + cfg.targetID + "_AX_AMPM").bindSwitch({
                off: "AM",
                on: "PM",
                onChange: function (objID, objVal) {
                    timePageChange(objID, objVal)
                }
            })
        },
        timePageChange: function () {
            var hh, mi, apm, mytime, cfg = this.config;
            hh = axdom("#" + cfg.targetID + "_AX_hour").val().number(), mi = axdom("#" + cfg.targetID + "_AX_minute").val().number(), apm = axdom("#" + cfg.targetID + "_AX_AMPM").val(), "PM" == apm && hh > 12 && (axdom("#" + cfg.targetID + "_AX_hour").val(12), axdom("#" + cfg.targetID + "_AX_hour").setValueInput(12)), mytime = hh.setDigit(2) + ":" + mi.setDigit(2) + " " + apm, axdom("#" + cfg.targetID + "_AX_box").find(".timeDisplay").html(mytime), cfg.onChange && cfg.onChange(hh.setDigit(2) + ":" + mi.setDigit(2))
        },
        getTime: function () {
            var cfg = this.config,
                hh = (axdom("#" + cfg.targetID + "_AX_hour").val() || 0).number(),
                mi = (axdom("#" + cfg.targetID + "_AX_minute").val() || 0).number(),
                apm = axdom("#" + cfg.targetID + "_AX_AMPM").val();
            return "PM" == apm && 12 > hh && (hh += 12), hh.setDigit(2) + ":" + mi.setDigit(2)
        }
    }),
    AXMultiSelect = Class.create(AXJ, {
        initialize: function (AXJ_super) {
            AXJ_super(), this.selects = [], this.moveSens = 0, this.touchMode, this.config.selectClassName = "readySelect", this.config.beselectClassName = "beSelected", this.config.selectingClassName = "AX_selecting", this.config.moveSens = 5, this.config.useHelper = !0
        },
        init: function () {
            var mouseClick = this.onmouseClick.bind(this);
            this._selectStage = axdom("#" + this.config.selectStage), this._selectStage.css({
                position: "relative"
            }), this._selectStage.bind("mousedown", this.mousedown.bind(this)), this._selectStage.bind("click", function (event) {
                mouseClick(this, event)
            }), this.helper = axdom("<div class='AXMultiselectorHelper'></div>"), this.collect(), axdom(window).bind("resize.AXMultiSelect", this.collect.bind(this)), axdom(window).bind("keydown.AXMultiSelect", this.onKeydown.bind(this)), this._selectStage.bind("scroll", this.onScrollStage.bind(this)), this._selectStage.bind("touchstart", this.touchstart.bind(this))
        },
        onKeydown: function (event) {
            event.keyCode == AXUtil.Event.KEY_ESC && this.clearSelects()
        },
        onScrollStage: function (event) {
            this.config;
            AXUtil.browser.mobile || (this.helperAppened || this.helperAppenedReady) && (this.moveSens = 0, axdom(document.body).unbind("mousemove.AXMultiSelect"), axdom(document.body).unbind("mouseup.AXMultiSelect"), axdom(document.body).unbind("mouseleave.AXMultiSelect"), axdom(document.body).removeAttr("onselectstart"), this.helperAppenedReady = !1, this.helperAppened = !1, this.helper.remove())
        },
        onmouseClick: function (element, event) {
            if (this.helperAppened) return this;
            var cfg = this.config,
                eid = event.target.id.split(/_AX_/g),
                eventTarget = event.target,
                myTarget = this.getEventTarget({
                    evt: eventTarget,
                    evtIDs: eid,
                    until: function (evt, evtIDs) {
                        return AXgetId(evt.parentNode) == AXgetId(cfg.selectStage)
                    },
                    find: function (evt, evtIDs) {
                        return !!axdom(evt).hasClass(cfg.selectClassName)
                    }
                });
            if (myTarget) {
                var selectElement = myTarget;
                selectElement && (event.shiftKey ? this.shiftSelects(selectElement) : event.metaKey || event.ctrlKey ? this.toggleSelects(selectElement) : this.clickSelects(selectElement))
            } else event.target.id == cfg.selectStage && "ie" != AXUtil.browser.name && this.clearSelects();
            return this
        },
        collect: function () {
            var cfg = this.config;
            this._selectTargets = axdom("#" + cfg.selectStage + " ." + cfg.selectClassName), this.selectTargets = this._selectTargets.get();
            var scrollLeft = this._selectStage.scrollLeft().number(),
                scrollTop = this._selectStage.scrollTop().number();
            return this._selectTargets.each(function () {
                var jQuerythis = axdom(this),
                    pos = jQuerythis.position();
                axdom.data(this, "selectableItem", {
                    element: this,
                    jQueryelement: jQuerythis,
                    left: pos.left + scrollLeft,
                    top: pos.top + scrollTop,
                    right: pos.left + scrollLeft + jQuerythis.outerWidth(),
                    bottom: pos.top + scrollTop + jQuerythis.outerHeight(),
                    selected: jQuerythis.hasClass(cfg.beselectClassName),
                    selecting: jQuerythis.hasClass(cfg.selectingClassName)
                })
            }), this
        },
        clearSelects: function () {
            var cfg = this.config;
            this._selectTargets.each(function () {
                var selectTarget = axdom.data(this, "selectableItem");
                selectTarget && (selectTarget.selecting && (selectTarget.jQueryelement.removeClass(cfg.selectingClassName), selectTarget.selecting = !1), selectTarget.selected && (selectTarget.jQueryelement.removeClass(cfg.beselectClassName), selectTarget.selected = !1))
            })
        },
        pushSelects: function (Obj) {
            var hasSelect = this.selects.has(function () {
                return this.item == Obj
            });
            hasSelect || this.selects.push(Obj)
        },
        clickSelects: function (Obj) {
            var cfg = this.config;
            this.clearSelects();
            var selectTarget = axdom.data(Obj, "selectableItem");
            selectTarget.jQueryelement.addClass(cfg.beselectClassName), selectTarget.selected = !0
        },
        toggleSelects: function (Obj) {
            var cfg = this.config,
                selectTarget = axdom.data(Obj, "selectableItem");
            selectTarget.selected ? (selectTarget.jQueryelement.removeClass(cfg.beselectClassName), selectTarget.selected = !1) : (selectTarget.jQueryelement.addClass(cfg.beselectClassName), selectTarget.selected = !0)
        },
        shiftSelects: function (Obj) {
            var li, si, cfg = this.config,
                selectedLength = 0;
            if (this._selectTargets.each(function (stIndex, ST) {
                    var selectTarget = axdom.data(this, "selectableItem");
                    selectTarget && selectTarget.selected && (selectedLength++, li = stIndex), this === Obj && (si = stIndex)
                }), 0 == selectedLength) this.clickSelects(Obj);
            else {
                if (si == li) return;
                this.clearSelects();
                var temp;
                si > li && (temp = si, si = li, li = temp), this._selectTargets.each(function (stIndex, ST) {
                    var selectTarget = axdom.data(this, "selectableItem");
                    selectTarget && stIndex >= si && li >= stIndex && (selectTarget.jQueryelement.addClass(cfg.beselectClassName), selectTarget.selected = !0)
                })
            }
        },
        mousedown: function (event) {
            this.config;
            axdom(document.body).bind("mousemove.AXMultiSelect", this.mousemove.bind(this)), axdom(document.body).bind("mouseup.AXMultiSelect", this.mouseup.bind(this)), axdom(document.body).bind("mouseleave.AXMultiSelect", this.mouseup.bind(this)), axdom(document.body).attr("onselectstart", "return false"), this.helperAppenedReady = !0
        },
        mousemove: function (event) {
            this.config;
            event.pageX && (this.config.moveSens > this.moveSens && this.moveSens++, this.moveSens == this.config.moveSens && this.selectorHelperMove(event))
        },
        mouseup: function (event) {
            var cfg = this.config,
                _this = this;
            this.helperAppenedReady = !1, this.moveSens = 0, axdom(document.body).unbind("mousemove.AXMultiSelect"), axdom(document.body).unbind("mouseup.AXMultiSelect"), axdom(document.body).unbind("mouseleave.AXMultiSelect"), axdom(document.body).removeAttr("onselectstart"), this.helperAppened && (setTimeout(function () {
                _this.helperAppened = !1, _this.helper.remove()
            }, 100), this._selectTargets.each(function () {
                var selectTarget = axdom.data(this, "selectableItem");
                selectTarget && selectTarget.selecting && (selectTarget.jQueryelement.removeClass(cfg.selectingClassName), selectTarget.selecting = !1, selectTarget.jQueryelement.addClass(cfg.beselectClassName), selectTarget.selected = !0)
            }))
        },
        selectorHelperMove: function (event) {
            var cfg = this.config;
            if (cfg.useHelper)
                if (this.helperAppened) {
                    var tmp, _helperPos = this.helperPos,
                        x1 = this.helperPos.x,
                        y1 = this.helperPos.y,
                        x2 = event.pageX - _helperPos.bodyLeft,
                        y2 = event.pageY - _helperPos.bodyTop;
                    x1 > x2 && (tmp = x2, x2 = x1, x1 = tmp), y1 > y2 && (tmp = y2, y2 = y1, y1 = tmp), this.helper.css({
                        left: x1,
                        top: y1,
                        width: x2 - x1,
                        height: y2 - y1
                    }), this._selectTargets.each(function () {
                        var selectTarget = axdom.data(this, "selectableItem"),
                            hit = !1;
                        if (selectTarget) {
                            var stL = selectTarget.left.number(),
                                stR = selectTarget.right.number(),
                                stT = selectTarget.top.number(),
                                stB = selectTarget.bottom.number();
                            stL = stL + _helperPos.stageX - _helperPos.scrollLeft - _helperPos.bodyLeft, stR = stR + _helperPos.stageX - _helperPos.scrollLeft - _helperPos.bodyLeft, stT = stT + _helperPos.stageY - _helperPos.scrollTop - _helperPos.bodyTop, stB = stB + _helperPos.stageY - _helperPos.scrollTop - _helperPos.bodyTop, hit = !(stL > x2 || x1 > stR || stT > y2 || y1 > stB), hit ? (selectTarget.selected && (selectTarget.jQueryelement.removeClass(cfg.beselectClassName), selectTarget.selected = !1), selectTarget.selecting || (selectTarget.jQueryelement.addClass(cfg.selectingClassName), selectTarget.selecting = !0)) : (selectTarget.selecting && (selectTarget.jQueryelement.removeClass(cfg.selectingClassName), selectTarget.selecting = !1), selectTarget.selected && (event.metaKey || event.shiftKey || event.ctrlKey || (selectTarget.jQueryelement.removeClass(cfg.beselectClassName), selectTarget.selected = !1)))
                        }
                    })
                } else {
                    this.helperAppened = !0, axdom(document.body).append(this.helper);
                    var css = {
                        left: event.pageX - axdom(document.body).offset().left,
                        top: event.pageY - axdom(document.body).offset().top,
                        width: 0,
                        height: 0
                    };
                    this.helper.css(css);
                    var stagePos = this._selectStage.offset();
                    this.helperPos = {
                        stageX: stagePos.left.number(),
                        stageY: stagePos.top.number(),
                        x: css.left.number(),
                        y: css.top.number(),
                        scrollLeft: this._selectStage.scrollLeft().number(),
                        scrollTop: this._selectStage.scrollTop().number(),
                        bodyLeft: axdom(document.body).offset().left,
                        bodyTop: axdom(document.body).offset().top
                    }
                }
        },
        touchstart: function (event) {
            var touchEnd = (this.config, this.touchEnd.bind(this));
            this.touchEndBind = function () {
                touchEnd(event)
            };
            var touchMove = this.touchMove.bind(this);
            this.touchMoveBind = function () {
                touchMove(event)
            }, document.addEventListener && (document.addEventListener("touchend", this.touchEndBind, !1), document.addEventListener("touchmove", this.touchMoveBind, !1)), this.helperAppenedReady = !0
        },
        touchMove: function (event) {
            var event = (this.config, window.event || e),
                touch = event.touches[0];
            if (touch.pageX) {
                var offset = this._selectStage.offset(),
                    right = offset.left + this._selectStage.width(),
                    bottom = offset.top + this._selectStage.height();
                return 0 == this.moveSens && (this.touchStartXY = {
                    x: touch.pageX,
                    y: touch.pageY,
                    scrollTop: this._selectStage.scrollTop()
                }), this.config.moveSens > this.moveSens && this.moveSens++, this.moveSens == this.config.moveSens && ("drag" == this.touchMode ? (bottom < touch.pageY ? this._selectStage.scrollTop(this.touchStartXY.scrollTop - (bottom - touch.pageY)) : offset.top > touch.pageY && this._selectStage.scrollTop(this.touchStartXY.scrollTop - (offset.top - touch.pageY)), right < touch.pageX ? this._selectStage.scrollLeft(this.touchStartXY.scrollLeft - (right - touch.pageX)) : offset.left > touch.pageX && this._selectStage.scrollLeft(this.touchStartXY.scrollLeft - (offset.left - touch.pageX)), this.selectorHelperMoveByTouch(event)) : "scrollTop" == this.touchMode ? this._selectStage.scrollTop(this.touchStartXY.scrollTop + (this.touchStartXY.y - touch.pageY)) : "scrollLeft" == this.touchMode ? this._selectStage.scrollLeft(this.touchStartXY.scrollLeft + (this.touchStartXY.x - touch.pageX)) : ((this.touchStartXY.x - touch.pageX).abs() - (this.touchStartXY.y - touch.pageY).abs()).abs() < 5 ? (this.touchMode = "drag", this.selectorHelperMoveByTouch(event)) : (this.touchStartXY.x - touch.pageX).abs() < (this.touchStartXY.y - touch.pageY).abs() ? (this.touchMode = "scrollTop", this._selectStage.scrollTop(this.touchStartXY.scrollTop + (this.touchStartXY.y - touch.pageY))) : (this.touchStartXY.x - touch.pageX).abs() > (this.touchStartXY.y - touch.pageY).abs() && (this.touchMode = "scrollLeft", this._selectStage.scrollLeft(this.touchStartXY.scrollLeft + (this.touchStartXY.x - touch.pageX)))), event.preventDefault ? void event.preventDefault() : !1
            }
        },
        selectorHelperMoveByTouch: function (e) {
            var cfg = this.config,
                event = window.event || e,
                touch = event.touches[0];
            if (this.helperAppened) {
                var tmp, _helperPos = this.helperPos,
                    x1 = this.helperPos.x,
                    y1 = this.helperPos.y,
                    x2 = touch.pageX - _helperPos.bodyLeft,
                    y2 = touch.pageY - _helperPos.bodyTop;
                x1 > x2 && (tmp = x2, x2 = x1, x1 = tmp), y1 > y2 && (tmp = y2, y2 = y1, y1 = tmp), this.helper.css({
                    left: x1,
                    top: y1,
                    width: x2 - x1,
                    height: y2 - y1
                }), this._selectTargets.each(function () {
                    var selectTarget = axdom.data(this, "selectableItem"),
                        hit = !1;
                    if (selectTarget) {
                        var stL = selectTarget.left.number(),
                            stR = selectTarget.right.number(),
                            stT = selectTarget.top.number(),
                            stB = selectTarget.bottom.number();
                        stL = stL + _helperPos.stageX - _helperPos.scrollLeft - _helperPos.bodyLeft, stR = stR + _helperPos.stageX - _helperPos.scrollLeft - _helperPos.bodyLeft, stT = stT + _helperPos.stageY - _helperPos.scrollTop - _helperPos.bodyTop, stB = stB + _helperPos.stageY - _helperPos.scrollTop - _helperPos.bodyTop, hit = !(stL > x2 || x1 > stR || stT > y2 || y1 > stB), hit ? (selectTarget.selected && (selectTarget.jQueryelement.removeClass(cfg.beselectClassName), selectTarget.selected = !1), selectTarget.selecting || (selectTarget.jQueryelement.addClass(cfg.selectingClassName), selectTarget.selecting = !0)) : (selectTarget.selecting && (selectTarget.jQueryelement.removeClass(cfg.selectingClassName), selectTarget.selecting = !1), selectTarget.selected && (event.metaKey || event.shiftKey || event.ctrlKey || (selectTarget.jQueryelement.removeClass(cfg.beselectClassName), selectTarget.selected = !1)))
                    }
                })
            } else {
                this.helperAppened = !0, axdom(document.body).append(this.helper);
                var css = {
                    left: touch.pageX - axdom(document.body).offset().left,
                    top: touch.pageY - axdom(document.body).offset().top,
                    width: 0,
                    height: 0
                };
                this.helper.css(css);
                var stagePos = this._selectStage.offset();
                this.helperPos = {
                    stageX: stagePos.left.number(),
                    stageY: stagePos.top.number(),
                    x: css.left.number(),
                    y: css.top.number(),
                    scrollLeft: this._selectStage.scrollLeft().number(),
                    scrollTop: this._selectStage.scrollTop().number(),
                    bodyLeft: axdom(document.body).offset().left,
                    bodyTop: axdom(document.body).offset().top
                }
            }
        },
        touchEnd: function (e) {
            var cfg = this.config;
            window.event || e;
            this.helperAppenedReady = !1, this.moveSens = 0, this.touchMode = !1, document.removeEventListener && (document.removeEventListener("touchend", this.touchEndBind, !1), document.removeEventListener("touchmove", this.touchMoveBind, !1)), this.helperAppened && (this.helperAppened = !1, this.helper.remove(), this._selectTargets.each(function () {
                var selectTarget = axdom.data(this, "selectableItem");
                selectTarget && (selectTarget.selecting ? (selectTarget.jQueryelement.removeClass(cfg.selectingClassName), selectTarget.selecting = !1, selectTarget.jQueryelement.addClass(cfg.beselectClassName), selectTarget.selected = !0) : selectTarget.selected)
            }))
        },
        getSelects: function () {
            var selects = (this.config, []);
            return this._selectTargets.each(function () {
                var selectTarget = axdom.data(this, "selectableItem");
                selectTarget && selectTarget.selected && selects.push(selectTarget.element)
            }), selects
        },
        size: function () {
            var selects = (this.config, []);
            return this._selectTargets.each(function () {
                var selectTarget = axdom.data(this, "selectableItem");
                selectTarget && selectTarget.selected && selects.push(selectTarget.element)
            }), selects.length
        }
    }),
    AXResizable = Class.create(AXJ, {
        initialize: function (AXJ_super) {
            AXJ_super(), this.moveSens = 0, this.objects = [], this.config.moveSens = 2, this.config.bindResiableContainer = "AXResizable", this.config.bindResiableHandle = "AXResizableHandle"
        },
        init: function () {
            this.helper = axdom("<div class='AXResizableHelper'></div>")
        },
        bind: function (obj) {
            this.config;
            if (!obj.id) return void trace("bind ���긽 ID媛� �뾾�뼱 bind 泥섎━�븷 �닔 �뾾�뒿�땲�떎.");
            if (!AXgetId(obj.id)) return void trace("bind ���긽�씠 �뾾�뼱 bind 泥섎━�븷 �닔 �뾾�뒿�땲�떎.");
            var objID = obj.id,
                objSeq = null;
            return AXUtil.each(this.objects, function (idx, O) {
                this.id == objID && (objSeq = idx)
            }), null == objSeq ? (objSeq = this.objects.length, this.objects.push({
                id: objID,
                element: AXgetId(objID),
                jQueryElement: axdom("#" + objID),
                config: obj
            })) : (this.objects[objSeq].isDel = void 0, this.objects[objSeq].config = obj), this.bindResizer(objID, objSeq), this
        },
        unbind: function (obj) {
            var removeIdx;
            this.config;
            return AXUtil.each(this.objects, function (idx, O) {
                O.id != obj.id || 1 != O.isDel && (removeIdx = idx)
            }), void 0 != removeIdx && (this.objects[removeIdx].isDel = !0), this
        },
        bindResizer: function (objID, objSeq) {
            var cfg = this.config,
                obj = this.objects[objSeq],
                po = [];
            po.push('<div class="' + cfg.bindResiableHandle + '"></div>'), obj.jQueryElement.addClass(cfg.bindResiableContainer), obj.jQueryElement.append(po.join("")), obj.jQueryElement.bind("mousedown.AXResizable", this.mousedown.bind(this, objID, objSeq))
        },
        mousedown: function (objID, objSeq, event) {
            this.config;
            axdom(window).bind("mousemove.AXResizable", this.mousemove.bind(this, objID, objSeq)), axdom(window).bind("mouseup.AXResizable", this.mouseup.bind(this, objID, objSeq)), axdom(document.body).attr("onselectstart", "return false"), this.helperAppenedReady = !0
        },
        mousemove: function (objID, objSeq, event) {
            this.config;
            event.pageX && (this.config.moveSens > this.moveSens && this.moveSens++, this.moveSens == this.config.moveSens && this.selectorHelperMove(objID, objSeq, event))
        },
        mouseup: function (objID, objSeq, event) {
            var obj = (this.config, this.objects[objSeq]);
            if (this.helperAppenedReady = !1, this.moveSens = 0, axdom(window).unbind("mousemove.AXResizable"), axdom(window).unbind("mouseup.AXResizable"), axdom(document.body).removeAttr("onselectstart"), this.helperAppened) {
                this.helperAppened = !1;
                var newWidth = this.helper.width(),
                    newHeight = this.helper.height(),
                    paddingLeft = obj.jQueryElement.css("padding-left"),
                    paddingRight = obj.jQueryElement.css("padding-right"),
                    paddingTop = obj.jQueryElement.css("padding-top"),
                    paddingBottom = obj.jQueryElement.css("padding-bottom"),
                    paddingW = paddingLeft.number() + paddingRight.number(),
                    paddingH = paddingTop.number() + paddingBottom.number();
                obj.config.animate ? obj.jQueryElement.animate({
                    width: newWidth - paddingW,
                    height: newHeight - paddingH
                }, obj.config.animate.duration || 300, obj.config.animate.easing || "liner", function () {
                    obj.config.onChange && obj.config.onChange.call(obj, obj)
                }) : (obj.jQueryElement.css({
                    width: newWidth - paddingW,
                    height: newHeight - paddingH
                }), obj.config.onChange && obj.config.onChange.call(obj, obj)), this.helper.remove()
            }
        },
        selectorHelperMove: function (objID, objSeq, event) {
            var obj = (this.config, this.objects[objSeq]);
            if (this.helperAppened) {
                var _helperPos = this.helperPos,
                    x1 = this.helperPos.x,
                    y1 = this.helperPos.y,
                    x2 = event.pageX - _helperPos.bodyLeft,
                    y2 = event.pageY - _helperPos.bodyTop,
                    minWidth = obj.config.minWidth || 0,
                    minHeight = obj.config.minHeight || 0,
                    maxWidth = obj.config.maxWidth || 0,
                    maxHeight = obj.config.maxHeight || 0,
                    myWidth = x2 - x1,
                    myHeight = y2 - y1;
                0 != minWidth && minWidth > myWidth && (myWidth = minWidth), 0 != minHeight && minHeight > myHeight && (myHeight = minHeight), 0 != maxWidth && myWidth > maxWidth && (myWidth = maxWidth), 0 != maxHeight && myHeight > maxHeight && (myHeight = maxHeight), obj.config.aspectRatio && (myWidth = myHeight * obj.config.aspectRatio), obj.config.snap && (myWidth = obj.config.snap * (myWidth / obj.config.snap).ceil(), myHeight = obj.config.snap * (myHeight / obj.config.snap).ceil()), this.helper.css({
                    width: myWidth,
                    height: myHeight
                })
            } else {
                this.helperAppened = !0, axdom(document.body).append(this.helper);
                var bodyLeft = axdom(document.body).offset().left,
                    pos = (axdom(document.body).offset().top, obj.jQueryElement.offset()),
                    css = {
                        left: pos.left + bodyLeft,
                        top: pos.top + bodyLeft,
                        width: obj.jQueryElement.outerWidth(),
                        height: obj.jQueryElement.outerHeight()
                    };
                this.helper.css(css), this.helperPos = {
                    x: css.left,
                    y: css.top,
                    bodyLeft: axdom(document.body).offset().left,
                    bodyTop: axdom(document.body).offset().top
                }
            }
        }
    }),
    AXResizableBinder = new AXResizable;
AXResizableBinder.setConfig({
    targetID: "defaultResizable"
}), axdom.fn.bindAXResizable = function (config) {
    return AXUtil.each(this, function () {
        return config = config || {}, config.id = this.id, AXResizableBinder.bind(config), this
    }), this
}, axdom.fn.unbindAXResizable = function (config) {
    return AXUtil.each(this, function () {
        return void 0 == config && (config = {}), config.id = this.id, AXResizableBinder.unbind(config), this
    }), this
};
var AXContextMenuClass = Class.create(AXJ, {
        initialize: function (AXJ_super) {
            AXJ_super(), this.showedItem = {}, this.objects = [], this.config.theme = "AXContextMenu", this.config.width = "140", this.config.responsiveMobile = 0, this.config.reserveKeys = {
                subMenu: "subMenu"
            }
        },
        init: function () {},
        bindSetConfig: function (objID, configs) {
            var findIndex = null;
            if (AXUtil.each(this.objects, function (index, O) {
                    return O.id == objID ? (findIndex = index, !1) : void 0
                }), null != findIndex) {
                var _self = this.objects[findIndex];
                axf.each(configs, function (k, v) {
                    _self.config[k] = v
                })
            }
        },
        bind: function (obj) {
            var cfg = this.config;
            if (!obj.id) return void trace("ID媛� �뾾�뼱 bind 泥섎━�븷 �닔 �뾾�뒿�땲�떎. AXContentMenu.bind({id:'idValue'});");
            var objSeq = null;
            return axf.each(this.objects, function (idx, O) {
                return this.id == obj.id ? (objSeq = idx, !1) : void 0
            }), obj.reserveKeys || (obj.reserveKeys = cfg.reserveKeys), null != objSeq ? (this.objects[objSeq] = obj, this) : (objSeq = this.objects.length, this.objects.push(obj), this)
        },
        filter: function (objSeq, objID, myobj, menu) {
            var obj = (this.config, this.objects[objSeq]);
            if (myobj.filter) {
                var sendObj = {
                    menu: menu,
                    sendObj: obj.sendObj
                };
                return myobj.filter.call(sendObj, objID)
            }
            return !0
        },
        getSubMenu: function (parentID, objSeq, objID, myobj, subMenu, depth) {
            var cfg = this.config,
                obj = this.objects[objSeq],
                theme = obj.theme || cfg.theme,
                width = obj.width || cfg.width,
                filter = this.filter.bind(this),
                getSubMenu = this.getSubMenu.bind(this),
                subMenuID = parentID + "_AX_subMenu",
                href = void 0 == obj.href ? cfg.href : obj.href,
                po = [];
            return po.push('<div id="' + subMenuID + '" class="' + theme + '" style="width:' + width + "px;left:" + (width.number() - 15) + 'px;display:none;">'), AXUtil.each(subMenu, function (idx, menu) {
                if (filter(objSeq, objID, myobj, menu)) {
                    menu.upperLine && po.push('<div class="hline"></div>');
                    var className = menu.className ? menu.className : "",
                        hasSubMenu = menu[obj.reserveKeys.subMenu] ? " hasSubMenu" : "";
                    po.push("<a " + href + ' class="contextMenuItem ' + className + hasSubMenu + '" id="' + subMenuID + "_AX_" + depth + "_AX_" + idx + '">');
                    var checked = "";
                    obj.checkbox && (menu.checked && (checked = " on"), po.push("<div class='tool-checkbox" + checked + "' id=\"" + subMenuID + "_tool_AX_" + depth + "_AX_" + idx + '"></div>')), po.push("<span class='label'>" + menu.label + "</span>"), menu.shotCut && po.push("<span class='shot-cut'>" + menu.shotCut + "</span>"), po.push("<div class='tool-rightGroup'>"), menu[obj.reserveKeys.subMenu] && menu[obj.reserveKeys.subMenu].length > 0 && po.push('<div class="contextSubMenuIcon"></div>'), po.push("</div>"), po.push("</a>"), menu.__axdomId = subMenuID + "_AX_" + depth + "_AX_" + idx, menu[obj.reserveKeys.subMenu] && menu[obj.reserveKeys.subMenu].length > 0 && po.push(getSubMenu(subMenuID + "_AX_" + depth + "_AX_" + idx, objSeq, objID, myobj, menu[obj.reserveKeys.subMenu], depth + 1)), menu.underLine && po.push('<div class="hline"></div>')
                }
            }), po.push("</div>"), po.join("")
        },
        open: function (myobj, position) {
            var cfg = this.config;
            return axf.clientWidth() < cfg.responsiveMobile ? this.mobileOpen(myobj, position) : this.deskTopOpen(myobj, position), this
        },
        mobileOpen: function (myobj, position) {
            var objSeq = (this.config, null);
            if (AXUtil.each(this.objects, function (index, O) {
                    return O.id == myobj.id ? (objSeq = index, !1) : void 0
                }), null != objSeq) {
                var obj = this.objects[objSeq],
                    objID = obj.id;
                this.modal = new AXMobileModal, this.modal.setConfig({
                    addClass: "",
                    height: 388,
                    width: 300,
                    head: {
                        close: {
                            onclick: function () {}
                        }
                    },
                    onclose: function () {}
                });
                var initMobileModalBind = this.initMobileModal.bind(this),
                    onLoad = function (modalObj) {
                        initMobileModalBind(objID, objSeq, myobj, modalObj)
                    };
                this.modal.open(null, onLoad), this.mobileMode = !0
            }
        },
        initMobileModal: function (objID, objSeq, myobj, modalObj) {
            var cfg = this.config,
                _this = this,
                obj = this.objects[objSeq];
            this.mobileModalObj = {
                myobj: myobj,
                modalObj: modalObj
            }, myobj.sendObj && (obj.sendObj = myobj.sendObj);
            var href = void 0 == obj.href ? cfg.href : obj.href,
                filter = this.filter.bind(this),
                headPo = [];
            headPo.push("<a " + href + ' class="AXContextMenuHome">home</a>'), headPo.push('<span id="' + objID + '_AX_mobileMenuPrevBox"></span>'), modalObj.modalHead.empty(), modalObj.modalHead.append(headPo.join("")), modalObj.modalHead.find(".AXContextMenuHome").bind("click", function () {
                _this.initMobileModal(objID, objSeq, myobj, modalObj)
            });
            var styles = [];
            styles.push("height:339px;");
            var menuList = obj.menu,
                po = [];
            po.push('<div id="' + objID + '_AX_containerBox" class="AXContextMenuContainer" style="' + styles.join(";") + '">'), po.push('<div id="' + objID + '_AX_scroll" class="AXContextMenuScroll">'), "undefined" == typeof obj.reserveKeys && (obj.reserveKeys = cfg.reserveKeys), axf.each(menuList, function (idx, menu) {
                if (menu && filter(objSeq, objID, myobj, menu)) {
                    var className = menu.className ? " " + menu.className : "",
                        hasSubMenu = menu[obj.reserveKeys.subMenu] ? " hasSubMenu" : "";
                    po.push("<a " + href + ' class="contextMenuItem' + className + hasSubMenu + '" id="' + objID + "_AX_contextMenu_AX_0_AX_" + idx + '">');
                    var checked = "";
                    if (obj.checkbox && (menu.checked && (checked = " on"), po.push("<div class='tool-checkbox" + checked + "' id=\"" + objID + "_AX_contextMenuToolCheck_AX_0_AX_" + idx + '"></div>')), po.push("<span class='label'>" + menu.label + "</label>"), menu.shotCut && po.push("<span class='shot-cut'>" + menu.shotCut + "</span>"), po.push("<div class='tool-rightGroup'>"), menu[obj.reserveKeys.subMenu] && menu[obj.reserveKeys.subMenu].length > 0 && po.push('<div class="contextSubMenuIcon"></div>'), obj.sortbox) {
                        var sortdirect = "";
                        menu.sort && (sortdirect = " " + menu.sort.toString().lcase()), po.push('<div class="tool-sort' + sortdirect + '" id="' + objID + "_AX_contextMenuToolSort_AX_0_AX_" + idx + '"></div>')
                    }
                    po.push("</div>"), po.push("</a>"), menu.__axdomId = objID + "_AX_contextMenu_AX_0_AX_" + idx
                }
            }), po.push("</div>"), po.push("</div>"), modalObj.modalBody.empty(), modalObj.modalBody.append(po.join("")), this.myUIScroll = new AXScroll, this.myUIScroll.setConfig({
                targetID: objID + "_AX_containerBox",
                scrollID: objID + "_AX_scroll"
            });
            var contextMenuItemClick = this.contextMenuItemClick.bind(this);
            this.closeMobileModal.bind(this);
            this.contextMenuItemClickBind = function (event) {
                contextMenuItemClick(event, objSeq, objID)
            }, modalObj.modalBody.find(".contextMenuItem").bind("click", this.contextMenuItemClickBind)
        },
        mobileModalSubMenu: function (parentID, objSeq, objID, myobj, modalObj, pMenu, depth) {
            var cfg = this.config,
                _this = this,
                obj = this.objects[objSeq],
                filter = (obj.theme || cfg.theme, obj.width || cfg.width, this.filter.bind(this)),
                subMenuID = (this.mobileModalSubMenu.bind(this), parentID + "_AX_subMenu"),
                href = void 0 == obj.href ? cfg.href : obj.href,
                poi = parentID.split(/_AX_/g),
                pdepth = poi[poi.length - 2].number();
            axdom("#" + objID + "_AX_mobileMenuPrevBox").html('<a class="AXContextMenuPrev" id="' + objID + "_AX_prev_AX_" + poi.join("_") + '">' + pMenu.label + "</a>"), axdom("#" + objID + "_AX_prev_AX_" + poi.join("_")).bind("click", function () {
                if (0 == pdepth) _this.initMobileModal(objID, objSeq, myobj, modalObj);
                else {
                    for (var poi = pMenu.__axdomId.split(/_AX_/g), hashs = (poi[poi.length - 2].number(), []), mystrPosition = poi.length - 1, r = 0; depth + 1 > r; r++) isNaN(poi[mystrPosition]) || hashs.push(poi[mystrPosition]), mystrPosition -= 3;
                    hashs = hashs.reverse(), hashs.pop();
                    for (var hash, menu = obj.menu, idx = 0, __arr = hashs; idx < __arr.length && (hash = __arr[idx]); idx++) menu = 0 == idx ? menu[hash] : menu[obj.reserveKeys.subMenu][hash];
                    _this.mobileModalSubMenu(menu.__axdomId, objSeq, objID, _this.mobileModalObj.myobj, _this.mobileModalObj.modalObj, menu, depth - 1)
                }
            });
            var styles = [];
            styles.push("height:339px;");
            var menuList = pMenu[obj.reserveKeys.subMenu],
                po = [];
            po.push('<div id="' + objID + '_AX_containerBox" class="AXContextMenuContainer" style="' + styles.join(";") + '">'), po.push('<div id="' + objID + '_AX_scroll" class="AXContextMenuScroll">'), axf.each(menuList, function (idx, menu) {
                if (menu && filter(objSeq, objID, myobj, menu)) {
                    var className = menu.className ? " " + menu.className : "",
                        hasSubMenu = menu[obj.reserveKeys.subMenu] ? " hasSubMenu" : "";
                    po.push("<a " + href + ' class="contextMenuItem' + className + hasSubMenu + '" id="' + subMenuID + "_AX_" + depth + "_AX_" + idx + '">');
                    var checked = "";
                    if (obj.checkbox && (menu.checked && (checked = " on"), po.push("<div class='tool-checkbox" + checked + "' id=\"" + subMenuID + "_AX_contextMenuToolCheck_AX_" + depth + "_AX_" + idx + '"></div>')), po.push("<span class='label'>" + menu.label + "</label>"), menu.shotCut && po.push("<span class='shot-cut'>" + menu.shotCut + "</span>"), po.push("<div class='tool-rightGroup'>"), menu[obj.reserveKeys.subMenu] && menu[obj.reserveKeys.subMenu].length > 0 && po.push('<div class="contextSubMenuIcon"></div>'), obj.sortbox) {
                        var sortdirect = "";
                        menu.sort && (sortdirect = " " + menu.sort.toString().lcase()), po.push('<div class="tool-sort' + sortdirect + '" id="' + subMenuID + "_AX_contextMenuToolSort_AX_" + depth + "_AX_" + idx + '"></div>')
                    }
                    po.push("</div>"), po.push("</a>"), menu.__axdomId = subMenuID + "_AX_" + depth + "_AX_" + idx
                }
            }), po.push("</div>"), po.push("</div>"), modalObj.modalBody.empty(), modalObj.modalBody.append(po.join("")), this.myUIScroll = new AXScroll, this.myUIScroll.setConfig({
                targetID: objID + "_AX_containerBox",
                scrollID: objID + "_AX_scroll"
            });
            var contextMenuItemClick = this.contextMenuItemClick.bind(this);
            this.closeMobileModal.bind(this);
            this.contextMenuItemClickBind = function (event) {
                contextMenuItemClick(event, objSeq, objID)
            }, modalObj.modalBody.find(".contextMenuItem").bind("click", this.contextMenuItemClickBind)
        },
        closeMobileModal: function () {
            this.config;
            this.modal.close()
        },
        deskTopOpen: function (myobj, position) {
            var cfg = this.config,
                objSeq = null;
            if (this.mobileMode = !1, AXUtil.each(this.objects, function (index, O) {
                    return O.id == myobj.id ? (objSeq = index, !1) : void 0
                }), null != objSeq) {
                var obj = this.objects[objSeq],
                    objID = obj.id;
                if (myobj.sendObj && (obj.sendObj = myobj.sendObj), !AXgetId(objID)) {
                    var theme = obj.theme || cfg.theme,
                        width = obj.width || cfg.width;
                    axdom("#" + objID).remove();
                    var href = void 0 == obj.href ? cfg.href : obj.href,
                        filter = this.filter.bind(this),
                        getSubMenu = this.getSubMenu.bind(this),
                        displayMenuCount = 0,
                        po = [];
                    if (po.push('<div id="' + objID + '" class="' + theme + '" style="width:' + width + 'px;">'), AXUtil.each(obj.menu, function (idx, menu) {
                            if (menu && filter(objSeq, objID, myobj, menu)) {
                                menu.upperLine && po.push('<div class="hline"></div>');
                                var className = menu.className ? " " + menu.className : "",
                                    hasSubMenu = menu[obj.reserveKeys.subMenu] ? " hasSubMenu" : "";
                                po.push("<a " + href + ' class="contextMenuItem' + className + hasSubMenu + '" id="' + objID + "_AX_contextMenu_AX_0_AX_" + idx + '">');
                                var checked = "";
                                obj.checkbox && (menu.checked && (checked = " on"), po.push("<div class='tool-checkbox" + checked + "' id=\"" + objID + "_AX_contextMenuTool_AX_0_AX_" + idx + '"></div>')), po.push("<span class='label'>" + menu.label + "</span>"), menu.shotCut && po.push("<span class='shot-cut'>" + menu.shotCut + "</span>"), po.push("<div class='tool-rightGroup'>"), menu[obj.reserveKeys.subMenu] && menu[obj.reserveKeys.subMenu].length > 0 && po.push('<div class="contextSubMenuIcon"></div>'), obj.sortbox && po.push('<div class="tool_sort desc"></div>'), po.push("</div>"), po.push("</a>"), menu.__axdomId = objID + "_AX_contextMenu_AX_0_AX_" + idx, menu[obj.reserveKeys.subMenu] && menu[obj.reserveKeys.subMenu].length > 0 && po.push(getSubMenu(objID + "_AX_contextMenu_AX_0_AX_" + idx, objSeq, objID, myobj, menu[obj.reserveKeys.subMenu], 1)), menu.underLine && po.push('<div class="hline"></div>'), displayMenuCount++
                            }
                        }), po.push("</div>"), 0 == displayMenuCount) return !1;
                    axdom(document.body).append(po.join("")), axdom("#" + objID + " .contextMenuItem:first-child").addClass("first"), axdom("#" + objID + " .contextMenuItem:last-child").addClass("last");
                    var contextMenuItemMouseOver = this.contextMenuItemMouseOver.bind(this);
                    this.contextMenuItemMouseOverBind = function (event) {
                        contextMenuItemMouseOver(event, objSeq, objID)
                    }, axdom("#" + objID + " .contextMenuItem").bind("mouseover", this.contextMenuItemMouseOverBind);
                    var css = {};
                    if (position.clientX) {
                        var mouse = this.getMousePositon(position);
                        css.left = mouse.pageX, css.top = mouse.pageY
                    } else void 0 != position.left ? css.left = position.left : css.right = position.right, css.top = position.top;
                    var pElement = axdom("#" + objID).offsetParent(),
                        pBox = {
                            width: pElement.width(),
                            height: pElement.height()
                        },
                        clientHeight = "Q" == AXUtil.docTD ? document.body.scrollHeight : document.documentElement.scrollHeight,
                        clienWidth = "Q" == AXUtil.docTD ? document.body.scrollWidth : document.documentElement.scrollWidth;
                    clienWidth > pBox.width && (pBox.width = clienWidth), clientHeight > pBox.height && (pBox.height = clientHeight);
                    var _box = {
                        width: axdom("#" + objID).outerWidth(),
                        height: axdom("#" + objID).outerHeight()
                    };
                    if (_box.height.number() + css.top.number() > pBox.height && (css.top -= _box.height.number() + css.top.number() - pBox.height + 25, this.openTB = "up", css.top < 0 && (css.top = 0)), void 0 != css.left)
                        if (_box.width.number() + css.left.number() > pBox.width) {
                            var moveLeft = _box.width.number() + css.left.number() - pBox.width + 25;
                            css.left -= moveLeft, this.openLR = "left"
                        } else 2 * _box.width.number() + css.left.number() > pBox.width && (this.openLR = "left");
                    else css.left = "auto", this.openLR = "right";
                    axdom("#" + objID).css(css), this.eventBind(objSeq, objID)
                }
            }
        },
        eventBind: function (objSeq, objID) {
            var contextMenuItemDown = (this.config, this.contextMenuItemDown.bind(this)),
                contextMenuItemDownBind = function (event) {
                    contextMenuItemDown(event, objSeq, objID)
                };
            axdom(document).bind("mousedown.AXContenxtMenu", contextMenuItemDownBind), axdom(document).bind("keydown.AXContenxtMenu", contextMenuItemDownBind), axdom(document).find("iframe").each(function () {
                try {
                    axdom(window[this.name].document).bind("mousedown.AXContenxtMenu", contextMenuItemDownBind), axdom(window[this.name].document).bind("keydown.AXContenxtMenu", contextMenuItemDownBind)
                } catch (e) {}
            });
            var contextMenuItemClick = this.contextMenuItemClick.bind(this);
            this.contextMenuItemClickBind = function (event) {
                contextMenuItemClick(event, objSeq, objID)
            }, axdom("#" + objID).find(".contextMenuItem").bind("click", this.contextMenuItemClickBind)
        },
        _close: function (objSeq, objID) {
            var obj = (this.config, this.objects[objSeq]),
                that = {
                    id: obj.id,
                    event_type: "event"
                };
            this.mobileMode ? this.closeMobileModal() : axdom("#" + objID).fadeOut("fast", function () {
                axdom("#" + objID).remove()
            }), axdom(document).unbind("keydown.AXContenxtMenu"), axdom(document).unbind("mousedown.AXContenxtMenu"), axdom(document).find("iframe").each(function () {
                window[this.name] && (axdom(window[this.name].document).unbind("mousedown.AXContenxtMenu"), axdom(window[this.name].document).unbind("keydown.AXContenxtMenu"))
            }), this.showedItem = {}, this.openTB = "", this.openLR = "", obj.onclose && obj.onclose.call(that)
        },
        close: function (myobj) {
            var objSeq = (this.config, null);
            if (axf.each(this.objects, function (index, O) {
                    return O.id == myobj.id ? (objSeq = index, !1) : void 0
                }), null != objSeq) {
                var obj = this.objects[objSeq],
                    objID = obj.id;
                ({
                    id: obj.id,
                    event_type: "script"
                });
                return this.mobileMode ? this.closeMobileModal() : axdom("#" + objID).fadeOut("fast", function () {
                    axdom("#" + objID).remove()
                }), axdom(document).unbind("keydown", this.contextMenuItemDownBind), axdom(document).unbind("mousedown", this.contextMenuItemDownBind), this.showedItem = {}, this.openTB = "", this.openLR = "", obj.onclose, this
            }
        },
        contextMenuItemMouseOver: function (event, objSeq, objID) {
            var cfg = this.config,
                obj = this.objects[objSeq],
                eid = (obj.width || cfg.width, event.target.id.split(/_AX_/g)),
                eventTarget = event.target,
                myTarget = this.getEventTarget({
                    evt: eventTarget,
                    evtIDs: eid,
                    find: function (evt, evtIDs) {
                        return !!axdom(evt).hasClass("contextMenuItem")
                    }
                });
            if (myTarget) {
                var poi = myTarget.id.split(/_AX_/g),
                    depth = poi[poi.length - 2];
                if (this.showedItem[depth] && axdom("#" + this.showedItem[depth]).hide(), axdom(myTarget).hasClass("hasSubMenu")) {
                    var pElement = axdom("#" + myTarget.id + "_AX_subMenu").offsetParent(),
                        pBox = {
                            width: pElement.width(),
                            height: pElement.height()
                        },
                        clientHeight = "Q" == AXUtil.docTD ? document.body.scrollHeight : document.documentElement.scrollHeight,
                        clienWidth = "Q" == AXUtil.docTD ? document.body.scrollWidth : document.documentElement.scrollWidth;
                    clienWidth > pBox.width && (pBox.width = clienWidth), clientHeight > pBox.height && (pBox.height = clientHeight);
                    var css, subMenuTop = ({
                        width: axdom("#" + myTarget.id + "_AX_subMenu").outerWidth(),
                        height: axdom("#" + myTarget.id + "_AX_subMenu").outerHeight()
                    }, axdom("#" + myTarget.id).position().top);
                    if ("up" == this.openTB) {
                        var ph = axdom("#" + myTarget.id).offsetParent().height(),
                            h = axdom("#" + myTarget.id).height(),
                            bottom = ph - subMenuTop - h;
                        css = {
                            top: "auto",
                            bottom: bottom
                        }
                    } else css = {
                        top: subMenuTop
                    };
                    "left" == this.openLR && (css.left = -20), axdom("#" + myTarget.id + "_AX_subMenu").css(css), axdom("#" + myTarget.id + "_AX_subMenu").show(), this.showedItem[depth] = myTarget.id + "_AX_subMenu"
                }
            }
        },
        contextMenuItemDown: function (event, objSeq, objID) {
            this.config, this.objects[objSeq];
            if (event.keyCode == AXUtil.Event.KEY_ESC) return void this._close(objSeq, objID, event);
            var eid = event.target.id.split(/_AX_/g),
                eventTarget = event.target,
                myTarget = this.getEventTarget({
                    evt: eventTarget,
                    evtIDs: eid,
                    find: function (evt, evtIDs) {
                        return !!axdom(evt).hasClass("contextMenuItem")
                    }
                });
            myTarget || this._close(objSeq, objID, event)
        },
        contextMenuItemClick: function (event, objSeq, objID) {
            var obj = (this.config, this.objects[objSeq]),
                eid = event.target.id.split(/_AX_/g),
                eventTarget = event.target,
                myTarget = this.getEventTarget({
                    evt: eventTarget,
                    evtIDs: eid,
                    find: function (evt, evtIDs) {
                        return !!(axdom(evt).hasClass("contextMenuItem") || axdom(evt).hasClass("tool-checkbox") || axdom(evt).hasClass("tool-sort"))
                    }
                });
            if (myTarget) {
                for (var poi = myTarget.id.split(/_AX_/g), depth = poi[poi.length - 2].number(), hashs = [], mystrPosition = poi.length - 1, r = 0; depth + 1 > r; r++) hashs.push(poi[mystrPosition]), mystrPosition -= 3;
                hashs = hashs.reverse();
                for (var hash, menu = obj.menu, idx = 0, __arr = hashs; idx < __arr.length && (hash = __arr[idx]); idx++) menu = 0 == idx ? menu[hash] : menu[obj.reserveKeys.subMenu][hash];
                if (menu[obj.reserveKeys.subMenu] && menu[obj.reserveKeys.subMenu].length > 0 && this.mobileMode) return this.mobileModalSubMenu(myTarget.id, objSeq, objID, this.mobileModalObj.myobj, this.mobileModalObj.modalObj, menu, depth + 1), !1;
                if (axdom(myTarget).hasClass("tool-checkbox")) return menu.checked = !menu.checked, axdom("#" + menu.__axdomId).find(".tool-checkbox").toggleClass("on"), obj.onchange && obj.onchange.call({
                    menu: obj.menu,
                    clickMenu: menu,
                    sendObj: obj.sendObj
                }, objID), !0;
                if (axdom(myTarget).hasClass("tool-sort")) {
                    for (var M, midx = 0, __arr = obj.menu; midx < __arr.length && (M = __arr[midx]); midx++) menu != M && (M.sort = void 0, axdom("#" + M.__axdomId).find(".tool-sort").removeClass("asc").removeClass("desc"));
                    return void 0 == menu.sort && (menu.sort = ""), "asc" == menu.sort.toString().lcase() ? (axdom("#" + menu.__axdomId).find(".tool-sort").removeClass("asc").addClass("desc"), menu.sort = "desc") : "desc" == menu.sort.toString().lcase() ? (axdom("#" + menu.__axdomId).find(".tool-sort").removeClass("desc").addClass("asc"), menu.sort = "asc") : (axdom("#" + menu.__axdomId).find(".tool-sort").addClass("desc"), menu.sort = "desc"), obj.onsort && 1 != obj.onsort.call({
                        menu: obj.menu,
                        sortMenu: menu,
                        sendObj: obj.sendObj
                    }, objID) && this._close(objSeq, objID, event), !0
                }
                if (menu.onclick) return 1 != menu.onclick.call({
                    menu: menu,
                    sendObj: obj.sendObj
                }, objID) && this._close(objSeq, objID, event), !0;
                if (obj.onchange) return menu.checked = !menu.checked, axdom("#" + menu.__axdomId).find(".tool-checkbox").toggleClass("on"), obj.onchange && 1 != obj.onchange.call({
                    menu: obj.menu,
                    clickMenu: menu,
                    sendObj: obj.sendObj
                }, objID) && this._close(objSeq, objID, event), !0
            }
        }
    }),
    AXContextMenu = new AXContextMenuClass;
AXContextMenu.setConfig({});
var AXPopOverClass = Class.create(AXContextMenuClass, {
        open: function (myobj, position) {
            var cfg = this.config,
                objSeq = null;
            if (AXUtil.each(this.objects, function (index, O) {
                    O.id == myobj.id ? objSeq = index : axdom("#" + O.id).remove()
                }), null != objSeq) {
                var obj = this.objects[objSeq],
                    objID = obj.id;
                myobj.sendObj && (obj.sendObj = myobj.sendObj), this.observer && clearTimeout(this.observer);
                var direction = obj.direction || "top";
                if (AXgetId(objID)) return void(position.clientX && this.contentMenuSetCss(event, position, objSeq, objID));
                var theme = obj.theme || cfg.theme,
                    width = obj.width || cfg.width,
                    arrowStyle = "";
                position.clientX ? arrowStyle = "background-position:10px 0px;" : position.arrowLeft && (arrowStyle = "background-position:" + position.arrowLeft + "px 0px;"), axdom("#" + objID).remove();
                var href = void 0 == obj.href ? cfg.href : obj.href,
                    filter = this.filter.bind(this),
                    getSubMenu = this.getSubMenu.bind(this),
                    po = [];
                po.push('<div id="' + objID + '" class="' + theme + '" style="width:' + width + 'px;">'), po.push('<div class="arrowTop" style="' + arrowStyle + '"></div>'), po.push('<div class="arrowBottom" style="' + arrowStyle + '"></div>'), po.push('<div class="blockContainer">'), obj.menu ? AXUtil.each(obj.menu, function (idx, menu) {
                    if (!menu) return !1;
                    if (filter(objSeq, objID, myobj, menu)) {
                        menu.upperLine && po.push('<div class="hline"></div>');
                        var className = menu.className ? " " + menu.className : "",
                            hasSubMenu = menu.subMenu ? " hasSubMenu" : "";
                        po.push("<a " + href + ' class="contextMenuItem' + className + hasSubMenu + '" id="' + objID + "_AX_contextMenu_AX_0_AX_" + idx + '">'), po.push(menu.label), menu.subMenu && menu.subMenu.length > 0 && po.push('<div class="contextSubMenuIcon"></div>'), po.push("</a>"), menu.subMenu && menu.subMenu.length > 0 && po.push(getSubMenu(objID + "_AX_contextMenu_AX_0_AX_" + idx, objSeq, objID, myobj, menu.subMenu, 1)), menu.underLine && po.push('<div class="hline"></div>')
                    }
                }) : obj.body && (po.push('<div class="contextMenuBody">'), po.push(obj.body), po.push("</div>")), po.push("</div>"), po.push("</div>"), axdom(document.body).append(po.join("")), "top" == direction ? (axdom("#" + objID).find(".arrowTop").show(), axdom("#" + objID).find(".arrowBottom").hide()) : "bottom" == direction ? (axdom("#" + objID).find(".arrowTop").hide(), axdom("#" + objID).find(".arrowBottom").show()) : (axdom("#" + objID).find(".arrowTop").show(), axdom("#" + objID).find(".arrowBottom").hide()), axdom("#" + objID + " .contextMenuItem:first-child").addClass("first"), axdom("#" + objID + " .contextMenuItem:last-child").addClass("last");
                var contextMenuItemMouseOver = this.contextMenuItemMouseOver.bind(this);
                this.contextMenuItemMouseOverBind = function (event) {
                    contextMenuItemMouseOver(event, objSeq, objID)
                };
                var contextMenuMouseOut = this.contextMenuMouseOut.bind(this);
                this.contextMenuMouseOutBind = function (event) {
                    contextMenuMouseOut(event, objSeq, objID)
                };
                var eventClear = function () {
                    this.observer && clearTimeout(this.observer)
                };
                return axdom("#" + objID + " .contextMenuItem").bind("mouseover", this.contextMenuItemMouseOverBind), axdom("#" + objID).bind("mouseover", eventClear.bind(this)), axdom("#" + objID).bind("mouseout", this.contextMenuMouseOutBind), this.contentMenuSetCss(null, position, objSeq, objID), this.eventBind(objSeq, objID), this
            }
        },
        contentMenuSetCss: function (event, position, objSeq, objID) {
            var obj = (this.config, this.objects[objSeq]),
                direction = obj.direction || "top",
                css = {};
            if (position.clientX) {
                var mouse = this.getMousePositon(position);
                obj.eventPosition = !0, css.left = mouse.pageX, css.left -= 20, css.top = mouse.pageY
            } else void 0 != position.left ? css.left = position.left : (css.left = "auto", css.right = position.right), css.top = position.top;
            var pElement = axdom("#" + objID).offsetParent(),
                pBox = {
                    width: pElement.width(),
                    height: pElement.height()
                },
                clientHeight = "Q" == AXUtil.docTD ? document.body.scrollHeight : document.documentElement.scrollHeight,
                clienWidth = "Q" == AXUtil.docTD ? document.body.scrollWidth : document.documentElement.scrollWidth;
            clienWidth > pBox.width && (pBox.width = clienWidth), clientHeight > pBox.height && (pBox.height = clientHeight);
            var _box = {
                    width: axdom("#" + objID).outerWidth(),
                    height: axdom("#" + objID).outerHeight()
                },
                openTB = "";
            if ("top" == direction ? openTB = "top" : "bottom" == direction ? (css.top -= axdom("#" + objID).outerHeight(), openTB = "bottom") : _box.height.number() + css.top.number() > pBox.height ? (css.top = css.top - _box.height.number() - position.handleHeight - 3, axdom("#" + objID).find(".arrowTop").hide(), axdom("#" + objID).find(".arrowBottom").show(), openTB = "bottom") : (axdom("#" + objID).find(".arrowTop").show(), axdom("#" + objID).find(".arrowBottom").hide(), openTB = "top"), void 0 != css.left && _box.width.number() + css.left.number() > pBox.width) {
                var moveLeft = _box.width.number() + css.left.number() - pBox.width + 5;
                css.left -= moveLeft, "top" == openTB ? axdom("#" + objID).find(".arrowTop").css({
                    "background-position": moveLeft + 5 + "px 0px;"
                }) : axdom("#" + objID).find(".arrowBottom").css({
                    "background-position": moveLeft + 5 + "px 0px;"
                })
            }
            axdom("#" + objID).css(css)
        },
        contextMenuItemMouseOver: function (event, objSeq, objID) {
            var cfg = this.config,
                obj = this.objects[objSeq];
            this.observer && clearTimeout(this.observer);
            var eid = (obj.width || cfg.width, event.target.id.split(/_AX_/g)),
                eventTarget = event.target,
                myTarget = this.getEventTarget({
                    evt: eventTarget,
                    evtIDs: eid,
                    find: function (evt, evtIDs) {
                        return !!axdom(evt).hasClass("contextMenuItem")
                    }
                });
            if (myTarget) {
                var poi = myTarget.id.split(/_AX_/g),
                    depth = poi[poi.length - 2];
                if (this.showedItem[depth] && axdom("#" + this.showedItem[depth]).hide(), axdom(myTarget).hasClass("hasSubMenu")) {
                    var css, subMenuTop = axdom("#" + myTarget.id).position().top;
                    if ("up" == this.openTB) {
                        var ph = axdom("#" + myTarget.id).offsetParent().height(),
                            h = axdom("#" + myTarget.id).height(),
                            bottom = ph - subMenuTop - h;
                        css = {
                            top: "auto",
                            bottom: bottom
                        }
                    } else css = {
                        top: subMenuTop
                    };
                    "left" == this.openLR && (css.left = -20), axdom("#" + myTarget.id + "_AX_subMenu").css(css), axdom("#" + myTarget.id + "_AX_subMenu").show(), this.showedItem[depth] = myTarget.id + "_AX_subMenu"
                }
            }
        },
        contextMenuMouseOut: function (event, objSeq, objID) {
            var close = this._close.bind(this);
            this.observer = setTimeout(function () {
                close(objSeq, objID)
            }, 200)
        }
    }),
    AXPopOver = new AXPopOverClass;
AXPopOver.setConfig({
    theme: "AXPopOver"
}), axdom.fn.bindTooltip = function (config) {
    return void 0 == config && (config = {}), AXUtil.each(this, function () {
        var tooltipContent = axdom("#" + this.id + "_AX_tooltip").html();
        AXPopOver.bind({
            id: this.id + "_AX_tooltipobj",
            theme: config.theme || "AXPopOverTooltip",
            width: config.width || "",
            direction: config.direction || "top",
            body: tooltipContent
        }), axdom(this).bind(config.event || "mouseover", function () {
            var pos = axdom(this).offset(),
                direction = config.direction || "top",
                posTop = pos.top;
            "bottom" == direction ? posTop -= 3 : posTop += axdom(this).outerHeight() + 3, AXPopOver.open({
                id: this.id + "_AX_tooltipobj",
                sendObj: {}
            }, {
                left: pos.left,
                top: posTop,
                handleHeight: axdom(this).outerHeight().number() + 3
            })
        })
    }), this
};
var AXMobileModal = Class.create(AXJ, {
    initialize: function (AXJ_super) {
        AXJ_super(), this.config.theme = "AXMobileModal", this.config.width = "auto", this.config.height = "auto", this.config.margin = "10px", this.config.align = "center", this.config.valign = "center"
    },
    init: function () {
        var cfg = this.config;
        cfg.head || (cfg.head = {})
    },
    open: function (configs, onLoad) {
        var cfg = this.config;
        configs || (configs = {});
        var theme = configs.theme || cfg.theme;
        cfg.addClass && (theme += " " + cfg.addClass), this.modalId = "AXMobileModal" + AXUtil.timekey();
        var modalId = this.modalId,
            po = (configs.clientWidth || AXUtil.clientWidth(), []);
        return po.push('<div id="', modalId, '" class="', theme, '" style="left:0px;top:0px;width:100%;height:100%;">'), po.push('	<div  id="', modalId, '_AX_modal" class="AXMobileModalPanel" style="height:50px;width:50px;left:', (AXUtil.clientWidth() - 50) / 2, "px;top:", (AXUtil.clientHeight() - 50) / 2, 'px;">'), po.push('		<div  id="', modalId, '_AX_head" class="mobileModalHead">'), po.push('			<div class="modalTitle">' + (cfg.head.title || "") + "</div>"), po.push("		</div>"), cfg.head.close && po.push("		<a " + cfg.href + ' class="mobileModelClose">Close</a>'), po.push('		<div  id="', modalId, '_AX_body" class="mobileModalBody"></div>'), po.push('		<div  id="', modalId, '_AX_foot" class="mobileModalFoot"></div>'), po.push("	</div>"), po.push("</div>"), this.jQueryModal = axdom(po.join("")), axdom(document.body).append(this.jQueryModal), this.modalPanel = this.jQueryModal.find(".AXMobileModalPanel"), this.modalHead = this.modalPanel.find(".mobileModalHead"), this.modalBody = this.modalPanel.find(".mobileModalBody"), this.modalFoot = this.modalPanel.find(".mobileModalFoot"), this.openConfigs = configs, this.setSizeModal(this.openConfigs, onLoad), this.modalPanel.find(".mobileModelClose").bind("click", this.close.bind(this)), this.jQueryModal.bind("click", this.modalClick.bind(this)), axdom(window).unbind("resize.AXMobileModal").bind("resize.AXMobileModal", this.reposition.bind(this)), this.opened = !0, {
            jQueryModal: this.jQueryModal,
            modalPanel: this.modalPanel,
            modalHead: this.modalHead,
            modalBody: this.modalBody,
            modalFoot: this.modalFoot
        }
    },
    setSizeModal: function (configs, onLoad) {
        var clientWidth, width, height, left, top, margin, align, valign, modalWidth, modalHeight, cfg = this.config,
            cssStyles = {},
            clientWidth = this.jQueryModal.innerWidth(),
            clientHeight = AXUtil.clientHeight(),
            width = configs.width || cfg.width,
            height = configs.height || cfg.height,
            margin = configs.margin || cfg.margin,
            align = configs.align || cfg.align,
            valign = configs.valign || cfg.valign;
        this.openModalAttr = {
            width: width,
            height: height,
            margin: margin,
            align: align,
            valign: valign
        }, modalWidth = "auto" == width ? "%" == margin.right(1) ? clientWidth * (100 - 2 * margin.number()) / 100 : clientWidth - 2 * margin.number() : width, left = (clientWidth - modalWidth) / 2, modalHeight = "auto" == height ? "%" == margin.right(1) ? clientHeight * (100 - 2 * margin.number()) / 100 : clientHeight - 2 * margin.number() : height, top = (clientHeight - modalHeight) / 2, 0 > left && (left = margin), -5 > top && (top = -5);
        var cssStylesStart = {
            left: (axf.clientWidth() - .8 * modalWidth) / 2,
            top: (axf.clientHeight() - .8 * modalHeight) / 2,
            width: .8 * modalWidth,
            height: .8 * modalHeight
        };
        this.modalPanel.css(cssStylesStart), cssStyles.left = left, cssStyles.top = top, cssStyles.width = modalWidth, cssStyles.height = modalHeight, mask.open();
        var returnObj = {
            jQueryModal: this.jQueryModal,
            modalPanel: this.modalPanel,
            modalHead: this.modalHead,
            modalBody: this.modalBody,
            modalFoot: this.modalFoot
        };
        "android" == AXUtil.browser.name ? (this.modalPanel.css(cssStyles), onLoad && onLoad.call(returnObj, returnObj)) : this.modalPanel.animate(cssStyles, 300, "expoOut", function () {
            onLoad && onLoad.call(returnObj, returnObj)
        })
    },
    modalClick: function (event) {
        this.config;
        event.target.id == this.modalId && this.close()
    },
    close: function () {
        var cfg = this.config;
        mask.close();
        var modalWidth, modalHeight;
        modalWidth = this.modalPanel.width(), modalHeight = this.modalPanel.height();
        var cssStylesStart = {
                left: (AXUtil.clientWidth() - .8 * modalWidth) / 2,
                top: (AXUtil.clientHeight() - .8 * modalHeight) / 2,
                width: .8 * modalWidth,
                height: .8 * modalHeight,
                opacity: 0
            },
            remove = this.remove.bind(this);
        return this.modalPanel.animate(cssStylesStart, 300, "expoOut", function () {
            remove(), cfg.onclose && cfg.onclose()
        }), this.modalPanel.empty(), this.opened = !1, axdom(window).unbind("resize.AXMobileModal"), this
    },
    remove: function () {
        this.config;
        this.jQueryModal.remove()
    },
    reposition: function () {
        var clientWidth = (this.config, AXUtil.clientWidth()),
            clientHeight = AXUtil.clientHeight();
        this.jQueryModal.css({
            width: clientWidth,
            height: clientHeight
        });
        var modalWidth, modalHeight, left, top, width = this.openModalAttr.width,
            height = this.openModalAttr.height,
            margin = this.openModalAttr.margin,
            cssStyles = (this.openModalAttr.align, this.openModalAttr.valign, {});
        modalWidth = "auto" == width ? "%" == margin.right(1) ? clientWidth * (100 - 2 * margin.number()) / 100 : clientWidth - 2 * margin.number() : width, left = (clientWidth - modalWidth) / 2, modalHeight = "auto" == height ? "%" == margin.right(1) ? clientHeight * (100 - 2 * margin.number()) / 100 : clientHeight - 2 * margin.number() : height, top = (clientHeight - modalHeight) / 2, 0 > left && (left = margin), -5 > top && (top = -5), cssStyles.left = left, cssStyles.top = top, cssStyles.width = modalWidth, cssStyles.height = modalHeight, this.modalPanel.css(cssStyles)
    }
});
axdom.extend(!0, {
    easing: {
        backIn: function (p, n, f, d) {
            var c = f + d,
                s = 1.70158;
            return c * (p /= 1) * p * ((s + 1) * p - s) + f
        },
        backOut: function (p, n, f, d) {
            var c = f + d,
                s = 1.70158;
            return c * ((p = p / 1 - 1) * p * ((s + 1) * p + s) + 1) + f
        },
        backInOut: function (p, n, f, d) {
            var c = f + d,
                s = 1.70158;
            return (p /= .5) < 1 ? c / 2 * (p * p * (((s *= 1.525) + 1) * p - s)) + f : c / 2 * ((p -= 2) * p * (((s *= 1.525) + 1) * p + s) + 2) + f
        },
        bounceIn: function (p, n, f, d) {
            var c = f + d,
                inv = this.bounceOut(1 - p, 1, 0, d);
            return c - inv + f
        },
        bounceOut: function (p, n, f, d) {
            var c = f + d;
            return 1 / 2.75 > p ? c * (7.5625 * p * p) + f : 2 / 2.75 > p ? c * (7.5625 * (p -= 1.5 / 2.75) * p + .75) + f : 2.5 / 2.75 > p ? c * (7.5625 * (p -= 2.25 / 2.75) * p + .9375) + f : c * (7.5625 * (p -= 2.625 / 2.75) * p + .984375) + f
        },
        circIn: function (p, n, f, d) {
            var c = f + d;
            return -c * (Math.sqrt(1 - (p /= 1) * p) - 1) + f
        },
        circOut: function (p, n, f, d) {
            var c = f + d;
            return c * Math.sqrt(1 - (p = p / 1 - 1) * p) + f
        },
        circInOut: function (p, n, f, d) {
            var c = f + d;
            return (p /= .5) < 1 ? -c / 2 * (Math.sqrt(1 - p * p) - 1) + f : c / 2 * (Math.sqrt(1 - (p -= 2) * p) + 1) + f
        },
        cubicIn: function (p, n, f, d) {
            var c = f + d;
            return c * (p /= 1) * p * p + f
        },
        cubicOut: function (p, n, f, d) {
            var c = f + d;
            return c * ((p = p / 1 - 1) * p * p + 1) + f
        },
        cubicInOut: function (p, n, f, d) {
            var c = f + d;
            return (p /= .5) < 1 ? c / 2 * p * p * p + f : c / 2 * ((p -= 2) * p * p + 2) + f;
        },
        elasticIn: function (p, n, f, d) {
            var c = f + d;
            if (0 == p) return f;
            if (1 == p) return c;
            var s, peroid = .25,
                amplitude = c;
            return amplitude < Math.abs(c) ? (amplitude = c, s = peroid / 4) : s = peroid / (2 * Math.PI) * Math.asin(c / amplitude), -(amplitude * Math.pow(2, 10 * (p -= 1)) * Math.sin((1 * p - s) * (2 * Math.PI) / peroid)) + f
        },
        elasticOut: function (p, n, f, d) {
            var c = f + d;
            if (0 == p) return f;
            if (1 == p) return c;
            var s, peroid = .25,
                amplitude = c;
            return amplitude < Math.abs(c) ? (amplitude = c, s = peroid / 4) : s = peroid / (2 * Math.PI) * Math.asin(c / amplitude), -(amplitude * Math.pow(2, -10 * p) * Math.sin((1 * p - s) * (2 * Math.PI) / peroid)) + c
        },
        expoIn: function (p, n, f, d) {
            var c = f + d;
            return 0 == p ? f : c * Math.pow(2, 10 * (p - 1)) + f - .001 * c
        },
        expoOut: function (p, n, f, d) {
            var c = f + d;
            return 1 == p ? c : 1.001 * d * (-Math.pow(2, -10 * p) + 1) + f
        },
        expoInOut: function (p, n, f, d) {
            var c = f + d;
            return 0 == p ? f : 1 == p ? c : (p /= .5) < 1 ? c / 2 * Math.pow(2, 10 * (p - 1)) + f - 5e-4 * c : c / 2 * 1.0005 * (-Math.pow(2, -10 * --p) + 2) + f
        },
        quadIn: function (p, n, f, d) {
            var c = f + d;
            return c * (p /= 1) * p + f
        },
        quadOut: function (p, n, f, d) {
            var c = f + d;
            return -c * (p /= 1) * (p - 2) + f
        },
        quadInOut: function (p, n, f, d) {
            var c = f + d;
            return (p /= .5) < 1 ? c / 2 * p * p + f : -c / 2 * (--p * (p - 2) - 1) + f
        },
        quartIn: function (p, n, f, d) {
            var c = f + d;
            return c * (p /= 1) * p * p * p + f
        },
        quartOut: function (p, n, f, d) {
            var c = f + d;
            return -c * ((p = p / 1 - 1) * p * p * p - 1) + f
        },
        quartInOut: function (p, n, f, d) {
            var c = f + d;
            return (p /= .5) < 1 ? c / 2 * p * p * p * p + f : -c / 2 * ((p -= 2) * p * p * p - 2) + f
        },
        quintIn: function (p, n, f, d) {
            var c = f + d;
            return c * (p /= 1) * p * p * p * p + f
        },
        quintOut: function (p, n, f, d) {
            var c = f + d;
            return c * ((p = p / 1 - 1) * p * p * p * p + 1) + f
        },
        quintInOut: function (p, n, f, d) {
            var c = f + d;
            return (p /= .5) < 1 ? c / 2 * p * p * p * p * p + f : c / 2 * ((p -= 2) * p * p * p * p + 2) + f
        },
        sineIn: function (p, n, f, d) {
            var c = f + d;
            return -c * Math.cos(p * (Math.PI / 2)) + c + f
        },
        sineOut: function (p, n, f, d) {
            var c = f + d;
            return c * Math.sin(p * (Math.PI / 2)) + f
        },
        sineInOut: function (p, n, f, d) {
            var c = f + d;
            return -c / 2 * (Math.cos(Math.PI * p) - 1) + f
        }
    }
});
var __r20 = /%20/g,
    __rbracket = /\[\]$/,
    __rCRLF = /\r?\n/g,
    __rinput = /^(?:color|date|datetime|datetime-local|email|hidden|month|number|password|range|search|tel|text|time|url|week)$/i,
    __rselectTextarea = /^(?:select|textarea)/i,
    rkeyEvent = /^key/,
    rmouseEvent = /^(?:mouse|contextmenu)|click/;
axf.each("touchstart touchmove touchend".split(" "), function (i, name) {
    axdom.fn[name] = function (data, fn) {
        return null == fn && (fn = data, data = null), arguments.length > 0 ? this.on(name, null, data, fn) : this.trigger(name)
    }, rkeyEvent.test(name) && (axdom.event.fixHooks[name] = axdom.event.keyHooks), rmouseEvent.test(name) && (axdom.event.fixHooks[name] = axdom.event.mouseHooks)
}), axdom.fn.serializeObject = function () {
    var myArray = this.map(function () {
        return this.elements ? axdom.makeArray(this.elements) : this
    }).filter(function () {
        return this.name && !this.disabled && (this.checked || __rselectTextarea.test(this.nodeName) || __rinput.test(this.type))
    }).map(function (i, elem) {
        var val = axdom(this).val(),
            label = axdom(elem).attr("title") || axdom(elem).attr("placeholder") || "";
        return null == val && "select" == this.nodeName.lcase() && (val = ""), null == val ? null : axdom.isArray(val) ? axdom.map(val, function (val, i) {
            return {
                id: elem.id,
                name: elem.name,
                type: elem.type,
                value: val.replace(__rCRLF, "\r\n"),
                label: label
            }
        }) : {
            id: elem.id,
            name: elem.name,
            type: elem.type,
            value: val.replace(__rCRLF, "\r\n"),
            label: label
        }
    }).get();
    return myArray
}, axdom.fn.endFocus = function () {
    var elem = this,
        elemLen = elem.val().length;
    return 0 == elemLen ? void elem.focus() : (document.selection ? (elem.focus(), elem.val(elem.val())) : (void 0 == document.selection || elem.selectionStart || "0" == elem.selectionStart) && elem.focus().val(elem.val()), this)
}, axdom.fn.setCaret = function (pos) {
    var input = this[0];
    if ("undefined" == typeof pos && (pos = input.value.length), input.setSelectionRange) input.focus(), input.setSelectionRange(pos, pos);
    else if (input.createTextRange) {
        var range = input.createTextRange();
        range.collapse(!0), range.moveEnd("character", pos), range.moveStart("character", pos), range.select()
    } else input.selectionStart && (input.focus(), input.selectionStart = pos, input.selectionEnd = pos);
    return this
}, axdom.fn.onwheel = function (handler, callBackFn) {
    return axf.each(this, function () {
        "undefined" == typeof axf._customerEvents && (axf._customerEvents = {}), axf._customerEvents[this.id + "_AX_" + handler] = callBackFn, document.attachEvent ? this.attachEvent("on" + axf.mousewheelevt, axf._customerEvents[this.id + "_AX_" + handler]) : document.addEventListener && this.addEventListener(axf.mousewheelevt, axf._customerEvents[this.id + "_AX_" + handler], !1)
    }), this
}, axdom.fn.offwheel = function (handler) {
    return axf.each(this, function () {
        document.attachEvent ? this.detachEvent("on" + axf.mousewheelevt, axf._customerEvents[this.id + "_AX_" + handler]) : document.addEventListener && this.removeEventListener(axf.mousewheelevt, axf._customerEvents[this.id + "_AX_" + handler], !1)
    }), this
}, axdom(document.body).ready(function () {
    axdom("input[type=text]").bind("mousedown", function () {
        this.focus()
    }), axdom("textarea").bind("mousedown", function () {
        this.focus()
    })
});


/* == jquery mousewheel plugin == Version: 3.1.13, License: MIT License (MIT) */
! function (a) {
    "function" == typeof define && define.amd ? define(["jquery"], a) : "object" == typeof exports ? module.exports = a : a(jQuery)
}(function (a) {
    function b(b) {
        var g = b || window.event,
            h = i.call(arguments, 1),
            j = 0,
            l = 0,
            m = 0,
            n = 0,
            o = 0,
            p = 0;
        if (b = a.event.fix(g), b.type = "mousewheel", "detail" in g && (m = -1 * g.detail), "wheelDelta" in g && (m = g.wheelDelta), "wheelDeltaY" in g && (m = g.wheelDeltaY), "wheelDeltaX" in g && (l = -1 * g.wheelDeltaX), "axis" in g && g.axis === g.HORIZONTAL_AXIS && (l = -1 * m, m = 0), j = 0 === m ? l : m, "deltaY" in g && (m = -1 * g.deltaY, j = m), "deltaX" in g && (l = g.deltaX, 0 === m && (j = -1 * l)), 0 !== m || 0 !== l) {
            if (1 === g.deltaMode) {
                var q = a.data(this, "mousewheel-line-height");
                j *= q, m *= q, l *= q
            } else if (2 === g.deltaMode) {
                var r = a.data(this, "mousewheel-page-height");
                j *= r, m *= r, l *= r
            }
            if (n = Math.max(Math.abs(m), Math.abs(l)), (!f || f > n) && (f = n, d(g, n) && (f /= 40)), d(g, n) && (j /= 40, l /= 40, m /= 40), j = Math[j >= 1 ? "floor" : "ceil"](j / f), l = Math[l >= 1 ? "floor" : "ceil"](l / f), m = Math[m >= 1 ? "floor" : "ceil"](m / f), k.settings.normalizeOffset && this.getBoundingClientRect) {
                var s = this.getBoundingClientRect();
                o = b.clientX - s.left, p = b.clientY - s.top
            }
            return b.deltaX = l, b.deltaY = m, b.deltaFactor = f, b.offsetX = o, b.offsetY = p, b.deltaMode = 0, h.unshift(b, j, l, m), e && clearTimeout(e), e = setTimeout(c, 200), (a.event.dispatch || a.event.handle).apply(this, h)
        }
    }

    function c() {
        f = null
    }

    function d(a, b) {
        return k.settings.adjustOldDeltas && "mousewheel" === a.type && b % 120 === 0
    }
    var e, f, g = ["wheel", "mousewheel", "DOMMouseScroll", "MozMousePixelScroll"],
        h = "onwheel" in document || document.documentMode >= 9 ? ["wheel"] : ["mousewheel", "DomMouseScroll", "MozMousePixelScroll"],
        i = Array.prototype.slice;
    if (a.event.fixHooks)
        for (var j = g.length; j;) a.event.fixHooks[g[--j]] = a.event.mouseHooks;
    var k = a.event.special.mousewheel = {
        version: "3.1.12",
        setup: function () {
            if (this.addEventListener)
                for (var c = h.length; c;) this.addEventListener(h[--c], b, !1);
            else this.onmousewheel = b;
            a.data(this, "mousewheel-line-height", k.getLineHeight(this)), a.data(this, "mousewheel-page-height", k.getPageHeight(this))
        },
        teardown: function () {
            if (this.removeEventListener)
                for (var c = h.length; c;) this.removeEventListener(h[--c], b, !1);
            else this.onmousewheel = null;
            a.removeData(this, "mousewheel-line-height"), a.removeData(this, "mousewheel-page-height")
        },
        getLineHeight: function (b) {
            var c = a(b),
                d = c["offsetParent" in a.fn ? "offsetParent" : "parent"]();
            return d.length || (d = a("body")), parseInt(d.css("fontSize"), 10) || parseInt(c.css("fontSize"), 10) || 16
        },
        getPageHeight: function (b) {
            return a(b).height()
        },
        settings: {
            adjustOldDeltas: !0,
            normalizeOffset: !0
        }
    };
    a.fn.extend({
        mousewheel: function (a) {
            return a ? this.bind("mousewheel", a) : this.trigger("mousewheel")
        },
        unmousewheel: function (a) {
            return this.unbind("mousewheel", a)
        }
    })
});
! function (a) {
    "function" == typeof define && define.amd ? define(["jquery"], a) : "object" == typeof exports ? module.exports = a : a(jQuery)
}(function (a) {
    function b(b) {
        var g = b || window.event,
            h = i.call(arguments, 1),
            j = 0,
            l = 0,
            m = 0,
            n = 0,
            o = 0,
            p = 0;
        if (b = a.event.fix(g), b.type = "mousewheel", "detail" in g && (m = -1 * g.detail), "wheelDelta" in g && (m = g.wheelDelta), "wheelDeltaY" in g && (m = g.wheelDeltaY), "wheelDeltaX" in g && (l = -1 * g.wheelDeltaX), "axis" in g && g.axis === g.HORIZONTAL_AXIS && (l = -1 * m, m = 0), j = 0 === m ? l : m, "deltaY" in g && (m = -1 * g.deltaY, j = m), "deltaX" in g && (l = g.deltaX, 0 === m && (j = -1 * l)), 0 !== m || 0 !== l) {
            if (1 === g.deltaMode) {
                var q = a.data(this, "mousewheel-line-height");
                j *= q, m *= q, l *= q
            } else if (2 === g.deltaMode) {
                var r = a.data(this, "mousewheel-page-height");
                j *= r, m *= r, l *= r
            }
            if (n = Math.max(Math.abs(m), Math.abs(l)), (!f || f > n) && (f = n, d(g, n) && (f /= 40)), d(g, n) && (j /= 40, l /= 40, m /= 40), j = Math[j >= 1 ? "floor" : "ceil"](j / f), l = Math[l >= 1 ? "floor" : "ceil"](l / f), m = Math[m >= 1 ? "floor" : "ceil"](m / f), k.settings.normalizeOffset && this.getBoundingClientRect) {
                var s = this.getBoundingClientRect();
                o = b.clientX - s.left, p = b.clientY - s.top
            }
            return b.deltaX = l, b.deltaY = m, b.deltaFactor = f, b.offsetX = o, b.offsetY = p, b.deltaMode = 0, h.unshift(b, j, l, m), e && clearTimeout(e), e = setTimeout(c, 200), (a.event.dispatch || a.event.handle).apply(this, h)
        }
    }

    function c() {
        f = null
    }

    function d(a, b) {
        return k.settings.adjustOldDeltas && "mousewheel" === a.type && b % 120 === 0
    }
    var e, f, g = ["wheel", "mousewheel", "DOMMouseScroll", "MozMousePixelScroll"],
        h = "onwheel" in document || document.documentMode >= 9 ? ["wheel"] : ["mousewheel", "DomMouseScroll", "MozMousePixelScroll"],
        i = Array.prototype.slice;
    if (a.event.fixHooks)
        for (var j = g.length; j;) a.event.fixHooks[g[--j]] = a.event.mouseHooks;
    var k = a.event.special.mousewheel = {
        version: "3.1.12",
        setup: function () {
            if (this.addEventListener)
                for (var c = h.length; c;) this.addEventListener(h[--c], b, !1);
            else this.onmousewheel = b;
            a.data(this, "mousewheel-line-height", k.getLineHeight(this)), a.data(this, "mousewheel-page-height", k.getPageHeight(this))
        },
        teardown: function () {
            if (this.removeEventListener)
                for (var c = h.length; c;) this.removeEventListener(h[--c], b, !1);
            else this.onmousewheel = null;
            a.removeData(this, "mousewheel-line-height"), a.removeData(this, "mousewheel-page-height")
        },
        getLineHeight: function (b) {
            var c = a(b),
                d = c["offsetParent" in a.fn ? "offsetParent" : "parent"]();
            return d.length || (d = a("body")), parseInt(d.css("fontSize"), 10) || parseInt(c.css("fontSize"), 10) || 16
        },
        getPageHeight: function (b) {
            return a(b).height()
        },
        settings: {
            adjustOldDeltas: !0,
            normalizeOffset: !0
        }
    };
    a.fn.extend({
        mousewheel: function (a) {
            return a ? this.bind("mousewheel", a) : this.trigger("mousewheel")
        },
        unmousewheel: function (a) {
            return this.unbind("mousewheel", a)
        }
    })
});
/* == malihu jquery custom scrollbar plugin == Version: 3.1.5, License: MIT License (MIT) */
! function (e) {
    "function" == typeof define && define.amd ? define(["jquery"], e) : "undefined" != typeof module && module.exports ? module.exports = e : e(jQuery, window, document)
}(function (e) {
    ! function (t) {
        var o = "function" == typeof define && define.amd,
            a = "undefined" != typeof module && module.exports,
            n = "https:" == document.location.protocol ? "https:" : "http:",
            i = "cdnjs.cloudflare.com/ajax/libs/jquery-mousewheel/3.1.13/jquery.mousewheel.min.js";
        o || (a ? require("jquery-mousewheel")(e) : e.event.special.mousewheel || e("head").append(decodeURI("%3Cscript src=" + n + "//" + i + "%3E%3C/script%3E"))), t()
    }(function () {
        var t, o = "mCustomScrollbar",
            a = "mCS",
            n = ".mCustomScrollbar",
            i = {
                setTop: 0,
                setLeft: 0,
                axis: "y",
                scrollbarPosition: "inside",
                scrollInertia: 950,
                autoDraggerLength: !0,
                alwaysShowScrollbar: 0,
                snapOffset: 0,
                mouseWheel: {
                    enable: !0,
                    scrollAmount: "auto",
                    axis: "y",
                    deltaFactor: "auto",
                    disableOver: ["select", "option", "keygen", "datalist", "textarea"]
                },
                scrollButtons: {
                    scrollType: "stepless",
                    scrollAmount: "auto"
                },
                keyboard: {
                    enable: !0,
                    scrollType: "stepless",
                    scrollAmount: "auto"
                },
                contentTouchScroll: 25,
                documentTouchScroll: !0,
                advanced: {
                    autoScrollOnFocus: "input,textarea,select,button,datalist,keygen,a[tabindex],area,object,[contenteditable='true']",
                    updateOnContentResize: !0,
                    updateOnImageLoad: "auto",
                    autoUpdateTimeout: 60
                },
                theme: "light",
                callbacks: {
                    onTotalScrollOffset: 0,
                    onTotalScrollBackOffset: 0,
                    alwaysTriggerOffsets: !0
                }
            },
            r = 0,
            l = {},
            s = window.attachEvent && !window.addEventListener ? 1 : 0,
            c = !1,
            d = ["mCSB_dragger_onDrag", "mCSB_scrollTools_onDrag", "mCS_img_loaded", "mCS_disabled", "mCS_destroyed", "mCS_no_scrollbar", "mCS-autoHide", "mCS-dir-rtl", "mCS_no_scrollbar_y", "mCS_no_scrollbar_x", "mCS_y_hidden", "mCS_x_hidden", "mCSB_draggerContainer", "mCSB_buttonUp", "mCSB_buttonDown", "mCSB_buttonLeft", "mCSB_buttonRight"],
            u = {
                init: function (t) {
                    var t = e.extend(!0, {}, i, t),
                        o = f.call(this);
                    if (t.live) {
                        var s = t.liveSelector || this.selector || n,
                            c = e(s);
                        if ("off" === t.live) return void m(s);
                        l[s] = setTimeout(function () {
                            c.mCustomScrollbar(t), "once" === t.live && c.length && m(s)
                        }, 500)
                    } else m(s);
                    return t.setWidth = t.set_width ? t.set_width : t.setWidth, t.setHeight = t.set_height ? t.set_height : t.setHeight, t.axis = t.horizontalScroll ? "x" : p(t.axis), t.scrollInertia = t.scrollInertia > 0 && t.scrollInertia < 17 ? 17 : t.scrollInertia, "object" != typeof t.mouseWheel && 1 == t.mouseWheel && (t.mouseWheel = {
                        enable: !0,
                        scrollAmount: "auto",
                        axis: "y",
                        preventDefault: !1,
                        deltaFactor: "auto",
                        normalizeDelta: !1,
                        invert: !1
                    }), t.mouseWheel.scrollAmount = t.mouseWheelPixels ? t.mouseWheelPixels : t.mouseWheel.scrollAmount, t.mouseWheel.normalizeDelta = t.advanced.normalizeMouseWheelDelta ? t.advanced.normalizeMouseWheelDelta : t.mouseWheel.normalizeDelta, t.scrollButtons.scrollType = g(t.scrollButtons.scrollType), h(t), e(o).each(function () {
                        var o = e(this);
                        if (!o.data(a)) {
                            o.data(a, {
                                idx: ++r,
                                opt: t,
                                scrollRatio: {
                                    y: null,
                                    x: null
                                },
                                overflowed: null,
                                contentReset: {
                                    y: null,
                                    x: null
                                },
                                bindEvents: !1,
                                tweenRunning: !1,
                                sequential: {},
                                langDir: o.css("direction"),
                                cbOffsets: null,
                                trigger: null,
                                poll: {
                                    size: {
                                        o: 0,
                                        n: 0
                                    },
                                    img: {
                                        o: 0,
                                        n: 0
                                    },
                                    change: {
                                        o: 0,
                                        n: 0
                                    }
                                }
                            });
                            var n = o.data(a),
                                i = n.opt,
                                l = o.data("mcs-axis"),
                                s = o.data("mcs-scrollbar-position"),
                                c = o.data("mcs-theme");
                            l && (i.axis = l), s && (i.scrollbarPosition = s), c && (i.theme = c, h(i)), v.call(this), n && i.callbacks.onCreate && "function" == typeof i.callbacks.onCreate && i.callbacks.onCreate.call(this), e("#mCSB_" + n.idx + "_container img:not(." + d[2] + ")").addClass(d[2]), u.update.call(null, o)
                        }
                    })
                },
                update: function (t, o) {
                    var n = t || f.call(this);
                    return e(n).each(function () {
                        var t = e(this);
                        if (t.data(a)) {
                            var n = t.data(a),
                                i = n.opt,
                                r = e("#mCSB_" + n.idx + "_container"),
                                l = e("#mCSB_" + n.idx),
                                s = [e("#mCSB_" + n.idx + "_dragger_vertical"), e("#mCSB_" + n.idx + "_dragger_horizontal")];
                            if (!r.length) return;
                            n.tweenRunning && Q(t), o && n && i.callbacks.onBeforeUpdate && "function" == typeof i.callbacks.onBeforeUpdate && i.callbacks.onBeforeUpdate.call(this), t.hasClass(d[3]) && t.removeClass(d[3]), t.hasClass(d[4]) && t.removeClass(d[4]), l.css("max-height", "none"), l.height() !== t.height() && l.css("max-height", t.height()), _.call(this), "y" === i.axis || i.advanced.autoExpandHorizontalScroll || r.css("width", x(r)), n.overflowed = y.call(this), M.call(this), i.autoDraggerLength && S.call(this), b.call(this), T.call(this);
                            var c = [Math.abs(r[0].offsetTop), Math.abs(r[0].offsetLeft)];
                            "x" !== i.axis && (n.overflowed[0] ? s[0].height() > s[0].parent().height() ? B.call(this) : (G(t, c[0].toString(), {
                                dir: "y",
                                dur: 0,
                                overwrite: "none"
                            }), n.contentReset.y = null) : (B.call(this), "y" === i.axis ? k.call(this) : "yx" === i.axis && n.overflowed[1] && G(t, c[1].toString(), {
                                dir: "x",
                                dur: 0,
                                overwrite: "none"
                            }))), "y" !== i.axis && (n.overflowed[1] ? s[1].width() > s[1].parent().width() ? B.call(this) : (G(t, c[1].toString(), {
                                dir: "x",
                                dur: 0,
                                overwrite: "none"
                            }), n.contentReset.x = null) : (B.call(this), "x" === i.axis ? k.call(this) : "yx" === i.axis && n.overflowed[0] && G(t, c[0].toString(), {
                                dir: "y",
                                dur: 0,
                                overwrite: "none"
                            }))), o && n && (2 === o && i.callbacks.onImageLoad && "function" == typeof i.callbacks.onImageLoad ? i.callbacks.onImageLoad.call(this) : 3 === o && i.callbacks.onSelectorChange && "function" == typeof i.callbacks.onSelectorChange ? i.callbacks.onSelectorChange.call(this) : i.callbacks.onUpdate && "function" == typeof i.callbacks.onUpdate && i.callbacks.onUpdate.call(this)), N.call(this)
                        }
                    })
                },
                scrollTo: function (t, o) {
                    if ("undefined" != typeof t && null != t) {
                        var n = f.call(this);
                        return e(n).each(function () {
                            var n = e(this);
                            if (n.data(a)) {
                                var i = n.data(a),
                                    r = i.opt,
                                    l = {
                                        trigger: "external",
                                        scrollInertia: r.scrollInertia,
                                        scrollEasing: "mcsEaseInOut",
                                        moveDragger: !1,
                                        timeout: 60,
                                        callbacks: !0,
                                        onStart: !0,
                                        onUpdate: !0,
                                        onComplete: !0
                                    },
                                    s = e.extend(!0, {}, l, o),
                                    c = Y.call(this, t),
                                    d = s.scrollInertia > 0 && s.scrollInertia < 17 ? 17 : s.scrollInertia;
                                c[0] = X.call(this, c[0], "y"), c[1] = X.call(this, c[1], "x"), s.moveDragger && (c[0] *= i.scrollRatio.y, c[1] *= i.scrollRatio.x), s.dur = ne() ? 0 : d, setTimeout(function () {
                                    null !== c[0] && "undefined" != typeof c[0] && "x" !== r.axis && i.overflowed[0] && (s.dir = "y", s.overwrite = "all", G(n, c[0].toString(), s)), null !== c[1] && "undefined" != typeof c[1] && "y" !== r.axis && i.overflowed[1] && (s.dir = "x", s.overwrite = "none", G(n, c[1].toString(), s))
                                }, s.timeout)
                            }
                        })
                    }
                },
                stop: function () {
                    var t = f.call(this);
                    return e(t).each(function () {
                        var t = e(this);
                        t.data(a) && Q(t)
                    })
                },
                disable: function (t) {
                    var o = f.call(this);
                    return e(o).each(function () {
                        var o = e(this);
                        if (o.data(a)) {
                            o.data(a);
                            N.call(this, "remove"), k.call(this), t && B.call(this), M.call(this, !0), o.addClass(d[3])
                        }
                    })
                },
                destroy: function () {
                    var t = f.call(this);
                    return e(t).each(function () {
                        var n = e(this);
                        if (n.data(a)) {
                            var i = n.data(a),
                                r = i.opt,
                                l = e("#mCSB_" + i.idx),
                                s = e("#mCSB_" + i.idx + "_container"),
                                c = e(".mCSB_" + i.idx + "_scrollbar");
                            r.live && m(r.liveSelector || e(t).selector), N.call(this, "remove"), k.call(this), B.call(this), n.removeData(a), $(this, "mcs"), c.remove(), s.find("img." + d[2]).removeClass(d[2]), l.replaceWith(s.contents()), n.removeClass(o + " _" + a + "_" + i.idx + " " + d[6] + " " + d[7] + " " + d[5] + " " + d[3]).addClass(d[4])
                        }
                    })
                }
            },
            f = function () {
                return "object" != typeof e(this) || e(this).length < 1 ? n : this
            },
            h = function (t) {
                var o = ["rounded", "rounded-dark", "rounded-dots", "rounded-dots-dark"],
                    a = ["rounded-dots", "rounded-dots-dark", "3d", "3d-dark", "3d-thick", "3d-thick-dark", "inset", "inset-dark", "inset-2", "inset-2-dark", "inset-3", "inset-3-dark"],
                    n = ["minimal", "minimal-dark"],
                    i = ["minimal", "minimal-dark"],
                    r = ["minimal", "minimal-dark"];
                t.autoDraggerLength = e.inArray(t.theme, o) > -1 ? !1 : t.autoDraggerLength, t.autoExpandScrollbar = e.inArray(t.theme, a) > -1 ? !1 : t.autoExpandScrollbar, t.scrollButtons.enable = e.inArray(t.theme, n) > -1 ? !1 : t.scrollButtons.enable, t.autoHideScrollbar = e.inArray(t.theme, i) > -1 ? !0 : t.autoHideScrollbar, t.scrollbarPosition = e.inArray(t.theme, r) > -1 ? "outside" : t.scrollbarPosition
            },
            m = function (e) {
                l[e] && (clearTimeout(l[e]), $(l, e))
            },
            p = function (e) {
                return "yx" === e || "xy" === e || "auto" === e ? "yx" : "x" === e || "horizontal" === e ? "x" : "y"
            },
            g = function (e) {
                return "stepped" === e || "pixels" === e || "step" === e || "click" === e ? "stepped" : "stepless"
            },
            v = function () {
                var t = e(this),
                    n = t.data(a),
                    i = n.opt,
                    r = i.autoExpandScrollbar ? " " + d[1] + "_expand" : "",
                    l = ["<div id='mCSB_" + n.idx + "_scrollbar_vertical' class='mCSB_scrollTools mCSB_" + n.idx + "_scrollbar mCS-" + i.theme + " mCSB_scrollTools_vertical" + r + "'><div class='" + d[12] + "'><div id='mCSB_" + n.idx + "_dragger_vertical' class='mCSB_dragger' style='position:absolute;'><div class='mCSB_dragger_bar' /></div><div class='mCSB_draggerRail' /></div></div>", "<div id='mCSB_" + n.idx + "_scrollbar_horizontal' class='mCSB_scrollTools mCSB_" + n.idx + "_scrollbar mCS-" + i.theme + " mCSB_scrollTools_horizontal" + r + "'><div class='" + d[12] + "'><div id='mCSB_" + n.idx + "_dragger_horizontal' class='mCSB_dragger' style='position:absolute;'><div class='mCSB_dragger_bar' /></div><div class='mCSB_draggerRail' /></div></div>"],
                    s = "yx" === i.axis ? "mCSB_vertical_horizontal" : "x" === i.axis ? "mCSB_horizontal" : "mCSB_vertical",
                    c = "yx" === i.axis ? l[0] + l[1] : "x" === i.axis ? l[1] : l[0],
                    u = "yx" === i.axis ? "<div id='mCSB_" + n.idx + "_container_wrapper' class='mCSB_container_wrapper' />" : "",
                    f = i.autoHideScrollbar ? " " + d[6] : "",
                    h = "x" !== i.axis && "rtl" === n.langDir ? " " + d[7] : "";
                i.setWidth && t.css("width", i.setWidth), i.setHeight && t.css("height", i.setHeight), i.setLeft = "y" !== i.axis && "rtl" === n.langDir ? "989999px" : i.setLeft, t.addClass(o + " _" + a + "_" + n.idx + f + h).wrapInner("<div id='mCSB_" + n.idx + "' class='mCustomScrollBox mCS-" + i.theme + " " + s + "'><div id='mCSB_" + n.idx + "_container' class='mCSB_container' style='position:relative; top:" + i.setTop + "; left:" + i.setLeft + ";' dir='" + n.langDir + "' /></div>");
                var m = e("#mCSB_" + n.idx),
                    p = e("#mCSB_" + n.idx + "_container");
                "y" === i.axis || i.advanced.autoExpandHorizontalScroll || p.css("width", x(p)), "outside" === i.scrollbarPosition ? ("static" === t.css("position") && t.css("position", "relative"), t.css("overflow", "visible"), m.addClass("mCSB_outside").after(c)) : (m.addClass("mCSB_inside").append(c), p.wrap(u)), w.call(this);
                var g = [e("#mCSB_" + n.idx + "_dragger_vertical"), e("#mCSB_" + n.idx + "_dragger_horizontal")];
                g[0].css("min-height", g[0].height()), g[1].css("min-width", g[1].width())
            },
            x = function (t) {
                var o = [t[0].scrollWidth, Math.max.apply(Math, t.children().map(function () {
                        return e(this).outerWidth(!0)
                    }).get())],
                    a = t.parent().width();
                return o[0] > a ? o[0] : o[1] > a ? o[1] : "100%"
            },
            _ = function () {
                var t = e(this),
                    o = t.data(a),
                    n = o.opt,
                    i = e("#mCSB_" + o.idx + "_container");
                if (n.advanced.autoExpandHorizontalScroll && "y" !== n.axis) {
                    i.css({
                        width: "auto",
                        "min-width": 0,
                        "overflow-x": "scroll"
                    });
                    var r = Math.ceil(i[0].scrollWidth);
                    3 === n.advanced.autoExpandHorizontalScroll || 2 !== n.advanced.autoExpandHorizontalScroll && r > i.parent().width() ? i.css({
                        width: r,
                        "min-width": "100%",
                        "overflow-x": "inherit"
                    }) : i.css({
                        "overflow-x": "inherit",
                        position: "absolute"
                    }).wrap("<div class='mCSB_h_wrapper' style='position:relative; left:0; width:999999px;' />").css({
                        width: Math.ceil(i[0].getBoundingClientRect().right + .4) - Math.floor(i[0].getBoundingClientRect().left),
                        "min-width": "100%",
                        position: "relative"
                    }).unwrap()
                }
            },
            w = function () {
                var t = e(this),
                    o = t.data(a),
                    n = o.opt,
                    i = e(".mCSB_" + o.idx + "_scrollbar:first"),
                    r = oe(n.scrollButtons.tabindex) ? "tabindex='" + n.scrollButtons.tabindex + "'" : "",
                    l = ["<a href='#' class='" + d[13] + "' " + r + " />", "<a href='#' class='" + d[14] + "' " + r + " />", "<a href='#' class='" + d[15] + "' " + r + " />", "<a href='#' class='" + d[16] + "' " + r + " />"],
                    s = ["x" === n.axis ? l[2] : l[0], "x" === n.axis ? l[3] : l[1], l[2], l[3]];
                n.scrollButtons.enable && i.prepend(s[0]).append(s[1]).next(".mCSB_scrollTools").prepend(s[2]).append(s[3])
            },
            S = function () {
                var t = e(this),
                    o = t.data(a),
                    n = e("#mCSB_" + o.idx),
                    i = e("#mCSB_" + o.idx + "_container"),
                    r = [e("#mCSB_" + o.idx + "_dragger_vertical"), e("#mCSB_" + o.idx + "_dragger_horizontal")],
                    l = [n.height() / i.outerHeight(!1), n.width() / i.outerWidth(!1)],
                    c = [parseInt(r[0].css("min-height")), Math.round(l[0] * r[0].parent().height()), parseInt(r[1].css("min-width")), Math.round(l[1] * r[1].parent().width())],
                    d = s && c[1] < c[0] ? c[0] : c[1],
                    u = s && c[3] < c[2] ? c[2] : c[3];
                r[0].css({
                    height: d,
                    "max-height": r[0].parent().height() - 10
                }).find(".mCSB_dragger_bar").css({
                    "line-height": c[0] + "px"
                }), r[1].css({
                    width: u,
                    "max-width": r[1].parent().width() - 10
                })
            },
            b = function () {
                var t = e(this),
                    o = t.data(a),
                    n = e("#mCSB_" + o.idx),
                    i = e("#mCSB_" + o.idx + "_container"),
                    r = [e("#mCSB_" + o.idx + "_dragger_vertical"), e("#mCSB_" + o.idx + "_dragger_horizontal")],
                    l = [i.outerHeight(!1) - n.height(), i.outerWidth(!1) - n.width()],
                    s = [l[0] / (r[0].parent().height() - r[0].height()), l[1] / (r[1].parent().width() - r[1].width())];
                o.scrollRatio = {
                    y: s[0],
                    x: s[1]
                }
            },
            C = function (e, t, o) {
                var a = o ? d[0] + "_expanded" : "",
                    n = e.closest(".mCSB_scrollTools");
                "active" === t ? (e.toggleClass(d[0] + " " + a), n.toggleClass(d[1]), e[0]._draggable = e[0]._draggable ? 0 : 1) : e[0]._draggable || ("hide" === t ? (e.removeClass(d[0]), n.removeClass(d[1])) : (e.addClass(d[0]), n.addClass(d[1])))
            },
            y = function () {
                var t = e(this),
                    o = t.data(a),
                    n = e("#mCSB_" + o.idx),
                    i = e("#mCSB_" + o.idx + "_container"),
                    r = null == o.overflowed ? i.height() : i.outerHeight(!1),
                    l = null == o.overflowed ? i.width() : i.outerWidth(!1),
                    s = i[0].scrollHeight,
                    c = i[0].scrollWidth;
                return s > r && (r = s), c > l && (l = c), [r > n.height(), l > n.width()]
            },
            B = function () {
                var t = e(this),
                    o = t.data(a),
                    n = o.opt,
                    i = e("#mCSB_" + o.idx),
                    r = e("#mCSB_" + o.idx + "_container"),
                    l = [e("#mCSB_" + o.idx + "_dragger_vertical"), e("#mCSB_" + o.idx + "_dragger_horizontal")];
                if (Q(t), ("x" !== n.axis && !o.overflowed[0] || "y" === n.axis && o.overflowed[0]) && (l[0].add(r).css("top", 0), G(t, "_resetY")), "y" !== n.axis && !o.overflowed[1] || "x" === n.axis && o.overflowed[1]) {
                    var s = dx = 0;
                    "rtl" === o.langDir && (s = i.width() - r.outerWidth(!1), dx = Math.abs(s / o.scrollRatio.x)), r.css("left", s), l[1].css("left", dx), G(t, "_resetX")
                }
            },
            T = function () {
                function t() {
                    r = setTimeout(function () {
                        e.event.special.mousewheel ? (clearTimeout(r), W.call(o[0])) : t()
                    }, 100)
                }
                var o = e(this),
                    n = o.data(a),
                    i = n.opt;
                if (!n.bindEvents) {
                    if (I.call(this), i.contentTouchScroll && D.call(this), E.call(this), i.mouseWheel.enable) {
                        var r;
                        t()
                    }
                    P.call(this), U.call(this), i.advanced.autoScrollOnFocus && H.call(this), i.scrollButtons.enable && F.call(this), i.keyboard.enable && q.call(this), n.bindEvents = !0
                }
            },
            k = function () {
                var t = e(this),
                    o = t.data(a),
                    n = o.opt,
                    i = a + "_" + o.idx,
                    r = ".mCSB_" + o.idx + "_scrollbar",
                    l = e("#mCSB_" + o.idx + ",#mCSB_" + o.idx + "_container,#mCSB_" + o.idx + "_container_wrapper," + r + " ." + d[12] + ",#mCSB_" + o.idx + "_dragger_vertical,#mCSB_" + o.idx + "_dragger_horizontal," + r + ">a"),
                    s = e("#mCSB_" + o.idx + "_container");
                n.advanced.releaseDraggableSelectors && l.add(e(n.advanced.releaseDraggableSelectors)), n.advanced.extraDraggableSelectors && l.add(e(n.advanced.extraDraggableSelectors)), o.bindEvents && (e(document).add(e(!A() || top.document)).unbind("." + i), l.each(function () {
                    e(this).unbind("." + i)
                }), clearTimeout(t[0]._focusTimeout), $(t[0], "_focusTimeout"), clearTimeout(o.sequential.step), $(o.sequential, "step"), clearTimeout(s[0].onCompleteTimeout), $(s[0], "onCompleteTimeout"), o.bindEvents = !1)
            },
            M = function (t) {
                var o = e(this),
                    n = o.data(a),
                    i = n.opt,
                    r = e("#mCSB_" + n.idx + "_container_wrapper"),
                    l = r.length ? r : e("#mCSB_" + n.idx + "_container"),
                    s = [e("#mCSB_" + n.idx + "_scrollbar_vertical"), e("#mCSB_" + n.idx + "_scrollbar_horizontal")],
                    c = [s[0].find(".mCSB_dragger"), s[1].find(".mCSB_dragger")];
                "x" !== i.axis && (n.overflowed[0] && !t ? (s[0].add(c[0]).add(s[0].children("a")).css("display", "block"), l.removeClass(d[8] + " " + d[10])) : (i.alwaysShowScrollbar ? (2 !== i.alwaysShowScrollbar && c[0].css("display", "none"), l.removeClass(d[10])) : (s[0].css("display", "none"), l.addClass(d[10])), l.addClass(d[8]))), "y" !== i.axis && (n.overflowed[1] && !t ? (s[1].add(c[1]).add(s[1].children("a")).css("display", "block"), l.removeClass(d[9] + " " + d[11])) : (i.alwaysShowScrollbar ? (2 !== i.alwaysShowScrollbar && c[1].css("display", "none"), l.removeClass(d[11])) : (s[1].css("display", "none"), l.addClass(d[11])), l.addClass(d[9]))), n.overflowed[0] || n.overflowed[1] ? o.removeClass(d[5]) : o.addClass(d[5])
            },
            O = function (t) {
                var o = t.type,
                    a = t.target.ownerDocument !== document && null !== frameElement ? [e(frameElement).offset().top, e(frameElement).offset().left] : null,
                    n = A() && t.target.ownerDocument !== top.document && null !== frameElement ? [e(t.view.frameElement).offset().top, e(t.view.frameElement).offset().left] : [0, 0];
                switch (o) {
                    case "pointerdown":
                    case "MSPointerDown":
                    case "pointermove":
                    case "MSPointerMove":
                    case "pointerup":
                    case "MSPointerUp":
                        return a ? [t.originalEvent.pageY - a[0] + n[0], t.originalEvent.pageX - a[1] + n[1], !1] : [t.originalEvent.pageY, t.originalEvent.pageX, !1];
                    case "touchstart":
                    case "touchmove":
                    case "touchend":
                        var i = t.originalEvent.touches[0] || t.originalEvent.changedTouches[0],
                            r = t.originalEvent.touches.length || t.originalEvent.changedTouches.length;
                        return t.target.ownerDocument !== document ? [i.screenY, i.screenX, r > 1] : [i.pageY, i.pageX, r > 1];
                    default:
                        return a ? [t.pageY - a[0] + n[0], t.pageX - a[1] + n[1], !1] : [t.pageY, t.pageX, !1]
                }
            },
            I = function () {
                function t(e, t, a, n) {
                    if (h[0].idleTimer = d.scrollInertia < 233 ? 250 : 0, o.attr("id") === f[1]) var i = "x",
                        s = (o[0].offsetLeft - t + n) * l.scrollRatio.x;
                    else var i = "y",
                        s = (o[0].offsetTop - e + a) * l.scrollRatio.y;
                    G(r, s.toString(), {
                        dir: i,
                        drag: !0
                    })
                }
                var o, n, i, r = e(this),
                    l = r.data(a),
                    d = l.opt,
                    u = a + "_" + l.idx,
                    f = ["mCSB_" + l.idx + "_dragger_vertical", "mCSB_" + l.idx + "_dragger_horizontal"],
                    h = e("#mCSB_" + l.idx + "_container"),
                    m = e("#" + f[0] + ",#" + f[1]),
                    p = d.advanced.releaseDraggableSelectors ? m.add(e(d.advanced.releaseDraggableSelectors)) : m,
                    g = d.advanced.extraDraggableSelectors ? e(!A() || top.document).add(e(d.advanced.extraDraggableSelectors)) : e(!A() || top.document);
                m.bind("contextmenu." + u, function (e) {
                    e.preventDefault()
                }).bind("mousedown." + u + " touchstart." + u + " pointerdown." + u + " MSPointerDown." + u, function (t) {
                    if (t.stopImmediatePropagation(), t.preventDefault(), ee(t)) {
                        c = !0, s && (document.onselectstart = function () {
                            return !1
                        }), L.call(h, !1), Q(r), o = e(this);
                        var a = o.offset(),
                            l = O(t)[0] - a.top,
                            u = O(t)[1] - a.left,
                            f = o.height() + a.top,
                            m = o.width() + a.left;
                        f > l && l > 0 && m > u && u > 0 && (n = l, i = u), C(o, "active", d.autoExpandScrollbar)
                    }
                }).bind("touchmove." + u, function (e) {
                    e.stopImmediatePropagation(), e.preventDefault();
                    var a = o.offset(),
                        r = O(e)[0] - a.top,
                        l = O(e)[1] - a.left;
                    t(n, i, r, l)
                }), e(document).add(g).bind("mousemove." + u + " pointermove." + u + " MSPointerMove." + u, function (e) {
                    if (o) {
                        var a = o.offset(),
                            r = O(e)[0] - a.top,
                            l = O(e)[1] - a.left;
                        if (n === r && i === l) return;
                        t(n, i, r, l)
                    }
                }).add(p).bind("mouseup." + u + " touchend." + u + " pointerup." + u + " MSPointerUp." + u, function () {
                    o && (C(o, "active", d.autoExpandScrollbar), o = null), c = !1, s && (document.onselectstart = null), L.call(h, !0)
                })
            },
            D = function () {
                function o(e) {
                    if (!te(e) || c || O(e)[2]) return void(t = 0);
                    t = 1, b = 0, C = 0, d = 1, y.removeClass("mCS_touch_action");
                    var o = I.offset();
                    u = O(e)[0] - o.top, f = O(e)[1] - o.left, z = [O(e)[0], O(e)[1]]
                }

                function n(e) {
                    if (te(e) && !c && !O(e)[2] && (T.documentTouchScroll || e.preventDefault(), e.stopImmediatePropagation(), (!C || b) && d)) {
                        g = K();
                        var t = M.offset(),
                            o = O(e)[0] - t.top,
                            a = O(e)[1] - t.left,
                            n = "mcsLinearOut";
                        if (E.push(o), W.push(a), z[2] = Math.abs(O(e)[0] - z[0]), z[3] = Math.abs(O(e)[1] - z[1]), B.overflowed[0]) var i = D[0].parent().height() - D[0].height(),
                            r = u - o > 0 && o - u > -(i * B.scrollRatio.y) && (2 * z[3] < z[2] || "yx" === T.axis);
                        if (B.overflowed[1]) var l = D[1].parent().width() - D[1].width(),
                            h = f - a > 0 && a - f > -(l * B.scrollRatio.x) && (2 * z[2] < z[3] || "yx" === T.axis);
                        r || h ? (U || e.preventDefault(), b = 1) : (C = 1, y.addClass("mCS_touch_action")), U && e.preventDefault(), w = "yx" === T.axis ? [u - o, f - a] : "x" === T.axis ? [null, f - a] : [u - o, null], I[0].idleTimer = 250, B.overflowed[0] && s(w[0], R, n, "y", "all", !0), B.overflowed[1] && s(w[1], R, n, "x", L, !0)
                    }
                }

                function i(e) {
                    if (!te(e) || c || O(e)[2]) return void(t = 0);
                    t = 1, e.stopImmediatePropagation(), Q(y), p = K();
                    var o = M.offset();
                    h = O(e)[0] - o.top, m = O(e)[1] - o.left, E = [], W = []
                }

                function r(e) {
                    if (te(e) && !c && !O(e)[2]) {
                        d = 0, e.stopImmediatePropagation(), b = 0, C = 0, v = K();
                        var t = M.offset(),
                            o = O(e)[0] - t.top,
                            a = O(e)[1] - t.left;
                        if (!(v - g > 30)) {
                            _ = 1e3 / (v - p);
                            var n = "mcsEaseOut",
                                i = 2.5 > _,
                                r = i ? [E[E.length - 2], W[W.length - 2]] : [0, 0];
                            x = i ? [o - r[0], a - r[1]] : [o - h, a - m];
                            var u = [Math.abs(x[0]), Math.abs(x[1])];
                            _ = i ? [Math.abs(x[0] / 4), Math.abs(x[1] / 4)] : [_, _];
                            var f = [Math.abs(I[0].offsetTop) - x[0] * l(u[0] / _[0], _[0]), Math.abs(I[0].offsetLeft) - x[1] * l(u[1] / _[1], _[1])];
                            w = "yx" === T.axis ? [f[0], f[1]] : "x" === T.axis ? [null, f[1]] : [f[0], null], S = [4 * u[0] + T.scrollInertia, 4 * u[1] + T.scrollInertia];
                            var y = parseInt(T.contentTouchScroll) || 0;
                            w[0] = u[0] > y ? w[0] : 0, w[1] = u[1] > y ? w[1] : 0, B.overflowed[0] && s(w[0], S[0], n, "y", L, !1), B.overflowed[1] && s(w[1], S[1], n, "x", L, !1)
                        }
                    }
                }

                function l(e, t) {
                    var o = [1.5 * t, 2 * t, t / 1.5, t / 2];
                    return e > 90 ? t > 4 ? o[0] : o[3] : e > 60 ? t > 3 ? o[3] : o[2] : e > 30 ? t > 8 ? o[1] : t > 6 ? o[0] : t > 4 ? t : o[2] : t > 8 ? t : o[3]
                }

                function s(e, t, o, a, n, i) {
                    e && G(y, e.toString(), {
                        dur: t,
                        scrollEasing: o,
                        dir: a,
                        overwrite: n,
                        drag: i
                    })
                }
                var d, u, f, h, m, p, g, v, x, _, w, S, b, C, y = e(this),
                    B = y.data(a),
                    T = B.opt,
                    k = a + "_" + B.idx,
                    M = e("#mCSB_" + B.idx),
                    I = e("#mCSB_" + B.idx + "_container"),
                    D = [e("#mCSB_" + B.idx + "_dragger_vertical"), e("#mCSB_" + B.idx + "_dragger_horizontal")],
                    E = [],
                    W = [],
                    R = 0,
                    L = "yx" === T.axis ? "none" : "all",
                    z = [],
                    P = I.find("iframe"),
                    H = ["touchstart." + k + " pointerdown." + k + " MSPointerDown." + k, "touchmove." + k + " pointermove." + k + " MSPointerMove." + k, "touchend." + k + " pointerup." + k + " MSPointerUp." + k],
                    U = void 0 !== document.body.style.touchAction && "" !== document.body.style.touchAction;
                I.bind(H[0], function (e) {
                    o(e)
                }).bind(H[1], function (e) {
                    n(e)
                }), M.bind(H[0], function (e) {
                    i(e)
                }).bind(H[2], function (e) {
                    r(e)
                }), P.length && P.each(function () {
                    e(this).bind("load", function () {
                        A(this) && e(this.contentDocument || this.contentWindow.document).bind(H[0], function (e) {
                            o(e), i(e)
                        }).bind(H[1], function (e) {
                            n(e)
                        }).bind(H[2], function (e) {
                            r(e)
                        })
                    })
                })
            },
            E = function () {
                function o() {
                    return window.getSelection ? window.getSelection().toString() : document.selection && "Control" != document.selection.type ? document.selection.createRange().text : 0
                }

                function n(e, t, o) {
                    d.type = o && i ? "stepped" : "stepless", d.scrollAmount = 10, j(r, e, t, "mcsLinearOut", o ? 60 : null)
                }
                var i, r = e(this),
                    l = r.data(a),
                    s = l.opt,
                    d = l.sequential,
                    u = a + "_" + l.idx,
                    f = e("#mCSB_" + l.idx + "_container"),
                    h = f.parent();
                f.bind("mousedown." + u, function () {
                    t || i || (i = 1, c = !0)
                }).add(document).bind("mousemove." + u, function (e) {
                    if (!t && i && o()) {
                        var a = f.offset(),
                            r = O(e)[0] - a.top + f[0].offsetTop,
                            c = O(e)[1] - a.left + f[0].offsetLeft;
                        r > 0 && r < h.height() && c > 0 && c < h.width() ? d.step && n("off", null, "stepped") : ("x" !== s.axis && l.overflowed[0] && (0 > r ? n("on", 38) : r > h.height() && n("on", 40)), "y" !== s.axis && l.overflowed[1] && (0 > c ? n("on", 37) : c > h.width() && n("on", 39)))
                    }
                }).bind("mouseup." + u + " dragend." + u, function () {
                    t || (i && (i = 0, n("off", null)), c = !1)
                })
            },
            W = function () {
                function t(t, a) {
                    if (Q(o), !z(o, t.target)) {
                        var r = "auto" !== i.mouseWheel.deltaFactor ? parseInt(i.mouseWheel.deltaFactor) : s && t.deltaFactor < 100 ? 100 : t.deltaFactor || 100,
                            d = i.scrollInertia;
                        if ("x" === i.axis || "x" === i.mouseWheel.axis) var u = "x",
                            f = [Math.round(r * n.scrollRatio.x), parseInt(i.mouseWheel.scrollAmount)],
                            h = "auto" !== i.mouseWheel.scrollAmount ? f[1] : f[0] >= l.width() ? .9 * l.width() : f[0],
                            m = Math.abs(e("#mCSB_" + n.idx + "_container")[0].offsetLeft),
                            p = c[1][0].offsetLeft,
                            g = c[1].parent().width() - c[1].width(),
                            v = "y" === i.mouseWheel.axis ? t.deltaY || a : t.deltaX;
                        else var u = "y",
                            f = [Math.round(r * n.scrollRatio.y), parseInt(i.mouseWheel.scrollAmount)],
                            h = "auto" !== i.mouseWheel.scrollAmount ? f[1] : f[0] >= l.height() ? .9 * l.height() : f[0],
                            m = Math.abs(e("#mCSB_" + n.idx + "_container")[0].offsetTop),
                            p = c[0][0].offsetTop,
                            g = c[0].parent().height() - c[0].height(),
                            v = t.deltaY || a;
                        "y" === u && !n.overflowed[0] || "x" === u && !n.overflowed[1] || ((i.mouseWheel.invert || t.webkitDirectionInvertedFromDevice) && (v = -v), i.mouseWheel.normalizeDelta && (v = 0 > v ? -1 : 1), (v > 0 && 0 !== p || 0 > v && p !== g || i.mouseWheel.preventDefault) && (t.stopImmediatePropagation(), t.preventDefault()), t.deltaFactor < 5 && !i.mouseWheel.normalizeDelta && (h = t.deltaFactor, d = 17), G(o, (m - v * h).toString(), {
                            dir: u,
                            dur: d
                        }))
                    }
                }
                if (e(this).data(a)) {
                    var o = e(this),
                        n = o.data(a),
                        i = n.opt,
                        r = a + "_" + n.idx,
                        l = e("#mCSB_" + n.idx),
                        c = [e("#mCSB_" + n.idx + "_dragger_vertical"), e("#mCSB_" + n.idx + "_dragger_horizontal")],
                        d = e("#mCSB_" + n.idx + "_container").find("iframe");
                    d.length && d.each(function () {
                        e(this).bind("load", function () {
                            A(this) && e(this.contentDocument || this.contentWindow.document).bind("mousewheel." + r, function (e, o) {
                                t(e, o)
                            })
                        })
                    }), l.bind("mousewheel." + r, function (e, o) {
                        t(e, o)
                    })
                }
            },
            R = new Object,
            A = function (t) {
                var o = !1,
                    a = !1,
                    n = null;
                if (void 0 === t ? a = "#empty" : void 0 !== e(t).attr("id") && (a = e(t).attr("id")), a !== !1 && void 0 !== R[a]) return R[a];
                if (t) {
                    try {
                        var i = t.contentDocument || t.contentWindow.document;
                        n = i.body.innerHTML
                    } catch (r) {}
                    o = null !== n
                } else {
                    try {
                        var i = top.document;
                        n = i.body.innerHTML
                    } catch (r) {}
                    o = null !== n
                }
                return a !== !1 && (R[a] = o), o
            },
            L = function (e) {
                var t = this.find("iframe");
                if (t.length) {
                    var o = e ? "auto" : "none";
                    t.css("pointer-events", o)
                }
            },
            z = function (t, o) {
                var n = o.nodeName.toLowerCase(),
                    i = t.data(a).opt.mouseWheel.disableOver,
                    r = ["select", "textarea"];
                return e.inArray(n, i) > -1 && !(e.inArray(n, r) > -1 && !e(o).is(":focus"))
            },
            P = function () {
                var t, o = e(this),
                    n = o.data(a),
                    i = a + "_" + n.idx,
                    r = e("#mCSB_" + n.idx + "_container"),
                    l = r.parent(),
                    s = e(".mCSB_" + n.idx + "_scrollbar ." + d[12]);
                s.bind("mousedown." + i + " touchstart." + i + " pointerdown." + i + " MSPointerDown." + i, function (o) {
                    c = !0, e(o.target).hasClass("mCSB_dragger") || (t = 1)
                }).bind("touchend." + i + " pointerup." + i + " MSPointerUp." + i, function () {
                    c = !1
                }).bind("click." + i, function (a) {
                    if (t && (t = 0, e(a.target).hasClass(d[12]) || e(a.target).hasClass("mCSB_draggerRail"))) {
                        Q(o);
                        var i = e(this),
                            s = i.find(".mCSB_dragger");
                        if (i.parent(".mCSB_scrollTools_horizontal").length > 0) {
                            if (!n.overflowed[1]) return;
                            var c = "x",
                                u = a.pageX > s.offset().left ? -1 : 1,
                                f = Math.abs(r[0].offsetLeft) - u * (.9 * l.width())
                        } else {
                            if (!n.overflowed[0]) return;
                            var c = "y",
                                u = a.pageY > s.offset().top ? -1 : 1,
                                f = Math.abs(r[0].offsetTop) - u * (.9 * l.height())
                        }
                        G(o, f.toString(), {
                            dir: c,
                            scrollEasing: "mcsEaseInOut"
                        })
                    }
                })
            },
            H = function () {
                var t = e(this),
                    o = t.data(a),
                    n = o.opt,
                    i = a + "_" + o.idx,
                    r = e("#mCSB_" + o.idx + "_container"),
                    l = r.parent();
                r.bind("focusin." + i, function () {
                    var o = e(document.activeElement),
                        a = r.find(".mCustomScrollBox").length,
                        i = 0;
                    o.is(n.advanced.autoScrollOnFocus) && (Q(t), clearTimeout(t[0]._focusTimeout), t[0]._focusTimer = a ? (i + 17) * a : 0, t[0]._focusTimeout = setTimeout(function () {
                        var e = [ae(o)[0], ae(o)[1]],
                            a = [r[0].offsetTop, r[0].offsetLeft],
                            s = [a[0] + e[0] >= 0 && a[0] + e[0] < l.height() - o.outerHeight(!1), a[1] + e[1] >= 0 && a[0] + e[1] < l.width() - o.outerWidth(!1)],
                            c = "yx" !== n.axis || s[0] || s[1] ? "all" : "none";
                        "x" === n.axis || s[0] || G(t, e[0].toString(), {
                            dir: "y",
                            scrollEasing: "mcsEaseInOut",
                            overwrite: c,
                            dur: i
                        }), "y" === n.axis || s[1] || G(t, e[1].toString(), {
                            dir: "x",
                            scrollEasing: "mcsEaseInOut",
                            overwrite: c,
                            dur: i
                        })
                    }, t[0]._focusTimer))
                })
            },
            U = function () {
                var t = e(this),
                    o = t.data(a),
                    n = a + "_" + o.idx,
                    i = e("#mCSB_" + o.idx + "_container").parent();
                i.bind("scroll." + n, function () {
                    0 === i.scrollTop() && 0 === i.scrollLeft() || e(".mCSB_" + o.idx + "_scrollbar").css("visibility", "hidden")
                })
            },
            F = function () {
                var t = e(this),
                    o = t.data(a),
                    n = o.opt,
                    i = o.sequential,
                    r = a + "_" + o.idx,
                    l = ".mCSB_" + o.idx + "_scrollbar",
                    s = e(l + ">a");
                s.bind("contextmenu." + r, function (e) {
                    e.preventDefault()
                }).bind("mousedown." + r + " touchstart." + r + " pointerdown." + r + " MSPointerDown." + r + " mouseup." + r + " touchend." + r + " pointerup." + r + " MSPointerUp." + r + " mouseout." + r + " pointerout." + r + " MSPointerOut." + r + " click." + r, function (a) {
                    function r(e, o) {
                        i.scrollAmount = n.scrollButtons.scrollAmount, j(t, e, o)
                    }
                    if (a.preventDefault(), ee(a)) {
                        var l = e(this).attr("class");
                        switch (i.type = n.scrollButtons.scrollType, a.type) {
                            case "mousedown":
                            case "touchstart":
                            case "pointerdown":
                            case "MSPointerDown":
                                if ("stepped" === i.type) return;
                                c = !0, o.tweenRunning = !1, r("on", l);
                                break;
                            case "mouseup":
                            case "touchend":
                            case "pointerup":
                            case "MSPointerUp":
                            case "mouseout":
                            case "pointerout":
                            case "MSPointerOut":
                                if ("stepped" === i.type) return;
                                c = !1, i.dir && r("off", l);
                                break;
                            case "click":
                                if ("stepped" !== i.type || o.tweenRunning) return;
                                r("on", l)
                        }
                    }
                })
            },
            q = function () {
                function t(t) {
                    function a(e, t) {
                        r.type = i.keyboard.scrollType, r.scrollAmount = i.keyboard.scrollAmount, "stepped" === r.type && n.tweenRunning || j(o, e, t)
                    }
                    switch (t.type) {
                        case "blur":
                            n.tweenRunning && r.dir && a("off", null);
                            break;
                        case "keydown":
                        case "keyup":
                            var l = t.keyCode ? t.keyCode : t.which,
                                s = "on";
                            if ("x" !== i.axis && (38 === l || 40 === l) || "y" !== i.axis && (37 === l || 39 === l)) {
                                if ((38 === l || 40 === l) && !n.overflowed[0] || (37 === l || 39 === l) && !n.overflowed[1]) return;
                                "keyup" === t.type && (s = "off"), e(document.activeElement).is(u) || (t.preventDefault(), t.stopImmediatePropagation(), a(s, l))
                            } else if (33 === l || 34 === l) {
                                if ((n.overflowed[0] || n.overflowed[1]) && (t.preventDefault(), t.stopImmediatePropagation()), "keyup" === t.type) {
                                    Q(o);
                                    var f = 34 === l ? -1 : 1;
                                    if ("x" === i.axis || "yx" === i.axis && n.overflowed[1] && !n.overflowed[0]) var h = "x",
                                        m = Math.abs(c[0].offsetLeft) - f * (.9 * d.width());
                                    else var h = "y",
                                        m = Math.abs(c[0].offsetTop) - f * (.9 * d.height());
                                    G(o, m.toString(), {
                                        dir: h,
                                        scrollEasing: "mcsEaseInOut"
                                    })
                                }
                            } else if ((35 === l || 36 === l) && !e(document.activeElement).is(u) && ((n.overflowed[0] || n.overflowed[1]) && (t.preventDefault(), t.stopImmediatePropagation()), "keyup" === t.type)) {
                                if ("x" === i.axis || "yx" === i.axis && n.overflowed[1] && !n.overflowed[0]) var h = "x",
                                    m = 35 === l ? Math.abs(d.width() - c.outerWidth(!1)) : 0;
                                else var h = "y",
                                    m = 35 === l ? Math.abs(d.height() - c.outerHeight(!1)) : 0;
                                G(o, m.toString(), {
                                    dir: h,
                                    scrollEasing: "mcsEaseInOut"
                                })
                            }
                    }
                }
                var o = e(this),
                    n = o.data(a),
                    i = n.opt,
                    r = n.sequential,
                    l = a + "_" + n.idx,
                    s = e("#mCSB_" + n.idx),
                    c = e("#mCSB_" + n.idx + "_container"),
                    d = c.parent(),
                    u = "input,textarea,select,datalist,keygen,[contenteditable='true']",
                    f = c.find("iframe"),
                    h = ["blur." + l + " keydown." + l + " keyup." + l];
                f.length && f.each(function () {
                    e(this).bind("load", function () {
                        A(this) && e(this.contentDocument || this.contentWindow.document).bind(h[0], function (e) {
                            t(e)
                        })
                    })
                }), s.attr("tabindex", "0").bind(h[0], function (e) {
                    t(e)
                })
            },
            j = function (t, o, n, i, r) {
                function l(e) {
                    u.snapAmount && (f.scrollAmount = u.snapAmount instanceof Array ? "x" === f.dir[0] ? u.snapAmount[1] : u.snapAmount[0] : u.snapAmount);
                    var o = "stepped" !== f.type,
                        a = r ? r : e ? o ? p / 1.5 : g : 1e3 / 60,
                        n = e ? o ? 7.5 : 40 : 2.5,
                        s = [Math.abs(h[0].offsetTop), Math.abs(h[0].offsetLeft)],
                        d = [c.scrollRatio.y > 10 ? 10 : c.scrollRatio.y, c.scrollRatio.x > 10 ? 10 : c.scrollRatio.x],
                        m = "x" === f.dir[0] ? s[1] + f.dir[1] * (d[1] * n) : s[0] + f.dir[1] * (d[0] * n),
                        v = "x" === f.dir[0] ? s[1] + f.dir[1] * parseInt(f.scrollAmount) : s[0] + f.dir[1] * parseInt(f.scrollAmount),
                        x = "auto" !== f.scrollAmount ? v : m,
                        _ = i ? i : e ? o ? "mcsLinearOut" : "mcsEaseInOut" : "mcsLinear",
                        w = !!e;
                    return e && 17 > a && (x = "x" === f.dir[0] ? s[1] : s[0]), G(t, x.toString(), {
                        dir: f.dir[0],
                        scrollEasing: _,
                        dur: a,
                        onComplete: w
                    }), e ? void(f.dir = !1) : (clearTimeout(f.step), void(f.step = setTimeout(function () {
                        l()
                    }, a)))
                }

                function s() {
                    clearTimeout(f.step), $(f, "step"), Q(t)
                }
                var c = t.data(a),
                    u = c.opt,
                    f = c.sequential,
                    h = e("#mCSB_" + c.idx + "_container"),
                    m = "stepped" === f.type,
                    p = u.scrollInertia < 26 ? 26 : u.scrollInertia,
                    g = u.scrollInertia < 1 ? 17 : u.scrollInertia;
                switch (o) {
                    case "on":
                        if (f.dir = [n === d[16] || n === d[15] || 39 === n || 37 === n ? "x" : "y", n === d[13] || n === d[15] || 38 === n || 37 === n ? -1 : 1], Q(t), oe(n) && "stepped" === f.type) return;
                        l(m);
                        break;
                    case "off":
                        s(), (m || c.tweenRunning && f.dir) && l(!0)
                }
            },
            Y = function (t) {
                var o = e(this).data(a).opt,
                    n = [];
                return "function" == typeof t && (t = t()), t instanceof Array ? n = t.length > 1 ? [t[0], t[1]] : "x" === o.axis ? [null, t[0]] : [t[0], null] : (n[0] = t.y ? t.y : t.x || "x" === o.axis ? null : t, n[1] = t.x ? t.x : t.y || "y" === o.axis ? null : t), "function" == typeof n[0] && (n[0] = n[0]()), "function" == typeof n[1] && (n[1] = n[1]()), n
            },
            X = function (t, o) {
                if (null != t && "undefined" != typeof t) {
                    var n = e(this),
                        i = n.data(a),
                        r = i.opt,
                        l = e("#mCSB_" + i.idx + "_container"),
                        s = l.parent(),
                        c = typeof t;
                    o || (o = "x" === r.axis ? "x" : "y");
                    var d = "x" === o ? l.outerWidth(!1) - s.width() : l.outerHeight(!1) - s.height(),
                        f = "x" === o ? l[0].offsetLeft : l[0].offsetTop,
                        h = "x" === o ? "left" : "top";
                    switch (c) {
                        case "function":
                            return t();
                        case "object":
                            var m = t.jquery ? t : e(t);
                            if (!m.length) return;
                            return "x" === o ? ae(m)[1] : ae(m)[0];
                        case "string":
                        case "number":
                            if (oe(t)) return Math.abs(t);
                            if (-1 !== t.indexOf("%")) return Math.abs(d * parseInt(t) / 100);
                            if (-1 !== t.indexOf("-=")) return Math.abs(f - parseInt(t.split("-=")[1]));
                            if (-1 !== t.indexOf("+=")) {
                                var p = f + parseInt(t.split("+=")[1]);
                                return p >= 0 ? 0 : Math.abs(p)
                            }
                            if (-1 !== t.indexOf("px") && oe(t.split("px")[0])) return Math.abs(t.split("px")[0]);
                            if ("top" === t || "left" === t) return 0;
                            if ("bottom" === t) return Math.abs(s.height() - l.outerHeight(!1));
                            if ("right" === t) return Math.abs(s.width() - l.outerWidth(!1));
                            if ("first" === t || "last" === t) {
                                var m = l.find(":" + t);
                                return "x" === o ? ae(m)[1] : ae(m)[0]
                            }
                            return e(t).length ? "x" === o ? ae(e(t))[1] : ae(e(t))[0] : (l.css(h, t), void u.update.call(null, n[0]))
                    }
                }
            },
            N = function (t) {
                function o() {
                    return clearTimeout(f[0].autoUpdate), 0 === l.parents("html").length ? void(l = null) : void(f[0].autoUpdate = setTimeout(function () {
                        return c.advanced.updateOnSelectorChange && (s.poll.change.n = i(), s.poll.change.n !== s.poll.change.o) ? (s.poll.change.o = s.poll.change.n, void r(3)) : c.advanced.updateOnContentResize && (s.poll.size.n = l[0].scrollHeight + l[0].scrollWidth + f[0].offsetHeight + l[0].offsetHeight + l[0].offsetWidth, s.poll.size.n !== s.poll.size.o) ? (s.poll.size.o = s.poll.size.n, void r(1)) : !c.advanced.updateOnImageLoad || "auto" === c.advanced.updateOnImageLoad && "y" === c.axis || (s.poll.img.n = f.find("img").length, s.poll.img.n === s.poll.img.o) ? void((c.advanced.updateOnSelectorChange || c.advanced.updateOnContentResize || c.advanced.updateOnImageLoad) && o()) : (s.poll.img.o = s.poll.img.n, void f.find("img").each(function () {
                            n(this)
                        }))
                    }, c.advanced.autoUpdateTimeout))
                }

                function n(t) {
                    function o(e, t) {
                        return function () {
                            return t.apply(e, arguments)
                        }
                    }

                    function a() {
                        this.onload = null, e(t).addClass(d[2]), r(2)
                    }
                    if (e(t).hasClass(d[2])) return void r();
                    var n = new Image;
                    n.onload = o(n, a), n.src = t.src
                }

                function i() {
                    c.advanced.updateOnSelectorChange === !0 && (c.advanced.updateOnSelectorChange = "*");
                    var e = 0,
                        t = f.find(c.advanced.updateOnSelectorChange);
                    return c.advanced.updateOnSelectorChange && t.length > 0 && t.each(function () {
                        e += this.offsetHeight + this.offsetWidth
                    }), e
                }

                function r(e) {
                    clearTimeout(f[0].autoUpdate), u.update.call(null, l[0], e)
                }
                var l = e(this),
                    s = l.data(a),
                    c = s.opt,
                    f = e("#mCSB_" + s.idx + "_container");
                return t ? (clearTimeout(f[0].autoUpdate), void $(f[0], "autoUpdate")) : void o()
            },
            V = function (e, t, o) {
                return Math.round(e / t) * t - o
            },
            Q = function (t) {
                var o = t.data(a),
                    n = e("#mCSB_" + o.idx + "_container,#mCSB_" + o.idx + "_container_wrapper,#mCSB_" + o.idx + "_dragger_vertical,#mCSB_" + o.idx + "_dragger_horizontal");
                n.each(function () {
                    Z.call(this)
                })
            },
            G = function (t, o, n) {
                function i(e) {
                    return s && c.callbacks[e] && "function" == typeof c.callbacks[e]
                }

                function r() {
                    return [c.callbacks.alwaysTriggerOffsets || w >= S[0] + y, c.callbacks.alwaysTriggerOffsets || -B >= w]
                }

                function l() {
                    var e = [h[0].offsetTop, h[0].offsetLeft],
                        o = [x[0].offsetTop, x[0].offsetLeft],
                        a = [h.outerHeight(!1), h.outerWidth(!1)],
                        i = [f.height(), f.width()];
                    t[0].mcs = {
                        content: h,
                        top: e[0],
                        left: e[1],
                        draggerTop: o[0],
                        draggerLeft: o[1],
                        topPct: Math.round(100 * Math.abs(e[0]) / (Math.abs(a[0]) - i[0])),
                        leftPct: Math.round(100 * Math.abs(e[1]) / (Math.abs(a[1]) - i[1])),
                        direction: n.dir
                    }
                }
                var s = t.data(a),
                    c = s.opt,
                    d = {
                        trigger: "internal",
                        dir: "y",
                        scrollEasing: "mcsEaseOut",
                        drag: !1,
                        dur: c.scrollInertia,
                        overwrite: "all",
                        callbacks: !0,
                        onStart: !0,
                        onUpdate: !0,
                        onComplete: !0
                    },
                    n = e.extend(d, n),
                    u = [n.dur, n.drag ? 0 : n.dur],
                    f = e("#mCSB_" + s.idx),
                    h = e("#mCSB_" + s.idx + "_container"),
                    m = h.parent(),
                    p = c.callbacks.onTotalScrollOffset ? Y.call(t, c.callbacks.onTotalScrollOffset) : [0, 0],
                    g = c.callbacks.onTotalScrollBackOffset ? Y.call(t, c.callbacks.onTotalScrollBackOffset) : [0, 0];
                if (s.trigger = n.trigger, 0 === m.scrollTop() && 0 === m.scrollLeft() || (e(".mCSB_" + s.idx + "_scrollbar").css("visibility", "visible"), m.scrollTop(0).scrollLeft(0)), "_resetY" !== o || s.contentReset.y || (i("onOverflowYNone") && c.callbacks.onOverflowYNone.call(t[0]), s.contentReset.y = 1), "_resetX" !== o || s.contentReset.x || (i("onOverflowXNone") && c.callbacks.onOverflowXNone.call(t[0]), s.contentReset.x = 1), "_resetY" !== o && "_resetX" !== o) {
                    if (!s.contentReset.y && t[0].mcs || !s.overflowed[0] || (i("onOverflowY") && c.callbacks.onOverflowY.call(t[0]), s.contentReset.x = null), !s.contentReset.x && t[0].mcs || !s.overflowed[1] || (i("onOverflowX") && c.callbacks.onOverflowX.call(t[0]), s.contentReset.x = null), c.snapAmount) {
                        var v = c.snapAmount instanceof Array ? "x" === n.dir ? c.snapAmount[1] : c.snapAmount[0] : c.snapAmount;
                        o = V(o, v, c.snapOffset)
                    }
                    switch (n.dir) {
                        case "x":
                            var x = e("#mCSB_" + s.idx + "_dragger_horizontal"),
                                _ = "left",
                                w = h[0].offsetLeft,
                                S = [f.width() - h.outerWidth(!1), x.parent().width() - x.width()],
                                b = [o, 0 === o ? 0 : o / s.scrollRatio.x],
                                y = p[1],
                                B = g[1],
                                T = y > 0 ? y / s.scrollRatio.x : 0,
                                k = B > 0 ? B / s.scrollRatio.x : 0;
                            break;
                        case "y":
                            var x = e("#mCSB_" + s.idx + "_dragger_vertical"),
                                _ = "top",
                                w = h[0].offsetTop,
                                S = [f.height() - h.outerHeight(!1), x.parent().height() - x.height()],
                                b = [o, 0 === o ? 0 : o / s.scrollRatio.y],
                                y = p[0],
                                B = g[0],
                                T = y > 0 ? y / s.scrollRatio.y : 0,
                                k = B > 0 ? B / s.scrollRatio.y : 0
                    }
                    b[1] < 0 || 0 === b[0] && 0 === b[1] ? b = [0, 0] : b[1] >= S[1] ? b = [S[0], S[1]] : b[0] = -b[0], t[0].mcs || (l(), i("onInit") && c.callbacks.onInit.call(t[0])), clearTimeout(h[0].onCompleteTimeout), J(x[0], _, Math.round(b[1]), u[1], n.scrollEasing), !s.tweenRunning && (0 === w && b[0] >= 0 || w === S[0] && b[0] <= S[0]) || J(h[0], _, Math.round(b[0]), u[0], n.scrollEasing, n.overwrite, {
                        onStart: function () {
                            n.callbacks && n.onStart && !s.tweenRunning && (i("onScrollStart") && (l(), c.callbacks.onScrollStart.call(t[0])), s.tweenRunning = !0, C(x), s.cbOffsets = r())
                        },
                        onUpdate: function () {
                            n.callbacks && n.onUpdate && i("whileScrolling") && (l(), c.callbacks.whileScrolling.call(t[0]))
                        },
                        onComplete: function () {
                            if (n.callbacks && n.onComplete) {
                                "yx" === c.axis && clearTimeout(h[0].onCompleteTimeout);
                                var e = h[0].idleTimer || 0;
                                h[0].onCompleteTimeout = setTimeout(function () {
                                    i("onScroll") && (l(), c.callbacks.onScroll.call(t[0])), i("onTotalScroll") && b[1] >= S[1] - T && s.cbOffsets[0] && (l(), c.callbacks.onTotalScroll.call(t[0])), i("onTotalScrollBack") && b[1] <= k && s.cbOffsets[1] && (l(), c.callbacks.onTotalScrollBack.call(t[0])), s.tweenRunning = !1, h[0].idleTimer = 0, C(x, "hide")
                                }, e)
                            }
                        }
                    })
                }
            },
            J = function (e, t, o, a, n, i, r) {
                function l() {
                    S.stop || (x || m.call(), x = K() - v, s(), x >= S.time && (S.time = x > S.time ? x + f - (x - S.time) : x + f - 1, S.time < x + 1 && (S.time = x + 1)), S.time < a ? S.id = h(l) : g.call())
                }

                function s() {
                    a > 0 ? (S.currVal = u(S.time, _, b, a, n), w[t] = Math.round(S.currVal) + "px") : w[t] = o + "px", p.call()
                }

                function c() {
                    f = 1e3 / 60, S.time = x + f, h = window.requestAnimationFrame ? window.requestAnimationFrame : function (e) {
                        return s(), setTimeout(e, .01)
                    }, S.id = h(l)
                }

                function d() {
                    null != S.id && (window.requestAnimationFrame ? window.cancelAnimationFrame(S.id) : clearTimeout(S.id), S.id = null)
                }

                function u(e, t, o, a, n) {
                    switch (n) {
                        case "linear":
                        case "mcsLinear":
                            return o * e / a + t;
                        case "mcsLinearOut":
                            return e /= a, e--, o * Math.sqrt(1 - e * e) + t;
                        case "easeInOutSmooth":
                            return e /= a / 2, 1 > e ? o / 2 * e * e + t : (e--, -o / 2 * (e * (e - 2) - 1) + t);
                        case "easeInOutStrong":
                            return e /= a / 2, 1 > e ? o / 2 * Math.pow(2, 10 * (e - 1)) + t : (e--, o / 2 * (-Math.pow(2, -10 * e) + 2) + t);
                        case "easeInOut":
                        case "mcsEaseInOut":
                            return e /= a / 2, 1 > e ? o / 2 * e * e * e + t : (e -= 2, o / 2 * (e * e * e + 2) + t);
                        case "easeOutSmooth":
                            return e /= a, e--, -o * (e * e * e * e - 1) + t;
                        case "easeOutStrong":
                            return o * (-Math.pow(2, -10 * e / a) + 1) + t;
                        case "easeOut":
                        case "mcsEaseOut":
                        default:
                            var i = (e /= a) * e,
                                r = i * e;
                            return t + o * (.499999999999997 * r * i + -2.5 * i * i + 5.5 * r + -6.5 * i + 4 * e)
                    }
                }
                e._mTween || (e._mTween = {
                    top: {},
                    left: {}
                });
                var f, h, r = r || {},
                    m = r.onStart || function () {},
                    p = r.onUpdate || function () {},
                    g = r.onComplete || function () {},
                    v = K(),
                    x = 0,
                    _ = e.offsetTop,
                    w = e.style,
                    S = e._mTween[t];
                "left" === t && (_ = e.offsetLeft);
                var b = o - _;
                S.stop = 0, "none" !== i && d(), c()
            },
            K = function () {
                return window.performance && window.performance.now ? window.performance.now() : window.performance && window.performance.webkitNow ? window.performance.webkitNow() : Date.now ? Date.now() : (new Date).getTime()
            },
            Z = function () {
                var e = this;
                e._mTween || (e._mTween = {
                    top: {},
                    left: {}
                });
                for (var t = ["top", "left"], o = 0; o < t.length; o++) {
                    var a = t[o];
                    e._mTween[a].id && (window.requestAnimationFrame ? window.cancelAnimationFrame(e._mTween[a].id) : clearTimeout(e._mTween[a].id), e._mTween[a].id = null, e._mTween[a].stop = 1)
                }
            },
            $ = function (e, t) {
                try {
                    delete e[t]
                } catch (o) {
                    e[t] = null
                }
            },
            ee = function (e) {
                return !(e.which && 1 !== e.which)
            },
            te = function (e) {
                var t = e.originalEvent.pointerType;
                return !(t && "touch" !== t && 2 !== t)
            },
            oe = function (e) {
                return !isNaN(parseFloat(e)) && isFinite(e)
            },
            ae = function (e) {
                var t = e.parents(".mCSB_container");
                return [e.offset().top - t.offset().top, e.offset().left - t.offset().left]
            },
            ne = function () {
                function e() {
                    var e = ["webkit", "moz", "ms", "o"];
                    if ("hidden" in document) return "hidden";
                    for (var t = 0; t < e.length; t++)
                        if (e[t] + "Hidden" in document) return e[t] + "Hidden";
                    return null
                }
                var t = e();
                return t ? document[t] : !1
            };
        e.fn[o] = function (t) {
            return u[t] ? u[t].apply(this, Array.prototype.slice.call(arguments, 1)) : "object" != typeof t && t ? void e.error("Method " + t + " does not exist") : u.init.apply(this, arguments)
        }, e[o] = function (t) {
            return u[t] ? u[t].apply(this, Array.prototype.slice.call(arguments, 1)) : "object" != typeof t && t ? void e.error("Method " + t + " does not exist") : u.init.apply(this, arguments)
        }, e[o].defaults = i, window[o] = !0, e(window).bind("load", function () {
            e(n)[o](), e.extend(e.expr[":"], {
                mcsInView: e.expr[":"].mcsInView || function (t) {
                    var o, a, n = e(t),
                        i = n.parents(".mCSB_container");
                    if (i.length) return o = i.parent(), a = [i[0].offsetTop, i[0].offsetLeft], a[0] + ae(n)[0] >= 0 && a[0] + ae(n)[0] < o.height() - n.outerHeight(!1) && a[1] + ae(n)[1] >= 0 && a[1] + ae(n)[1] < o.width() - n.outerWidth(!1)
                },
                mcsInSight: e.expr[":"].mcsInSight || function (t, o, a) {
                    var n, i, r, l, s = e(t),
                        c = s.parents(".mCSB_container"),
                        d = "exact" === a[3] ? [[1, 0], [1, 0]] : [[.9, .1], [.6, .4]];
                    if (c.length) return n = [s.outerHeight(!1), s.outerWidth(!1)], r = [c[0].offsetTop + ae(s)[0], c[0].offsetLeft + ae(s)[1]], i = [c.parent()[0].offsetHeight, c.parent()[0].offsetWidth], l = [n[0] < i[0] ? d[0] : d[1], n[1] < i[1] ? d[0] : d[1]], r[0] - i[0] * l[0][0] < 0 && r[0] + n[0] - i[0] * l[0][1] >= 0 && r[1] - i[1] * l[1][0] < 0 && r[1] + n[1] - i[1] * l[1][1] >= 0
                },
                mcsOverflow: e.expr[":"].mcsOverflow || function (t) {
                    var o = e(t).data(a);
                    if (o) return o.overflowed[0] || o.overflowed[1]
                }
            })
        })
    })
});


/*
 Highcharts JS v6.2.0 (2018-10-17)

 (c) 2009-2016 Torstein Honsi

 License: www.highcharts.com/license
*/
(function (S, K) {
    "object" === typeof module && module.exports ? module.exports = S.document ? K(S) : K : "function" === typeof define && define.amd ? define(function () {
        return K(S)
    }) : S.Highcharts = K(S)
})("undefined" !== typeof window ? window : this, function (S) {
    var K = function () {
        var a = "undefined" === typeof S ? window : S,
            C = a.document,
            F = a.navigator && a.navigator.userAgent || "",
            I = C && C.createElementNS && !!C.createElementNS("http://www.w3.org/2000/svg", "svg").createSVGRect,
            n = /(edge|msie|trident)/i.test(F) && !a.opera,
            f = -1 !== F.indexOf("Firefox"),
            e = -1 !== F.indexOf("Chrome"),
            u = f && 4 > parseInt(F.split("Firefox/")[1], 10);
        return a.Highcharts ? a.Highcharts.error(16, !0) : {
            product: "Highcharts",
            version: "6.2.0",
            deg2rad: 2 * Math.PI / 360,
            doc: C,
            hasBidiBug: u,
            hasTouch: C && void 0 !== C.documentElement.ontouchstart,
            isMS: n,
            isWebKit: -1 !== F.indexOf("AppleWebKit"),
            isFirefox: f,
            isChrome: e,
            isSafari: !e && -1 !== F.indexOf("Safari"),
            isTouchDevice: /(Mobile|Android|Windows Phone)/.test(F),
            SVG_NS: "http://www.w3.org/2000/svg",
            chartCount: 0,
            seriesTypes: {},
            symbolSizes: {},
            svg: I,
            win: a,
            marginNames: ["plotTop",
"marginRight", "marginBottom", "plotLeft"],
            noop: function () {},
            charts: []
        }
    }();
    (function (a) {
        a.timers = [];
        var C = a.charts,
            F = a.doc,
            I = a.win;
        a.error = function (n, f) {
            n = a.isNumber(n) ? "Highcharts error #" + n + ": www.highcharts.com/errors/" + n : n;
            if (f) throw Error(n);
            I.console && console.log(n)
        };
        a.Fx = function (a, f, e) {
            this.options = f;
            this.elem = a;
            this.prop = e
        };
        a.Fx.prototype = {
            dSetter: function () {
                var a = this.paths[0],
                    f = this.paths[1],
                    e = [],
                    u = this.now,
                    x = a.length,
                    t;
                if (1 === u) e = this.toD;
                else if (x === f.length && 1 > u)
                    for (; x--;) t = parseFloat(a[x]),
                        e[x] = isNaN(t) ? f[x] : u * parseFloat(f[x] - t) + t;
                else e = f;
                this.elem.attr("d", e, null, !0)
            },
            update: function () {
                var a = this.elem,
                    f = this.prop,
                    e = this.now,
                    u = this.options.step;
                if (this[f + "Setter"]) this[f + "Setter"]();
                else a.attr ? a.element && a.attr(f, e, null, !0) : a.style[f] = e + this.unit;
                u && u.call(a, e, this)
            },
            run: function (n, f, e) {
                var u = this,
                    x = u.options,
                    t = function (a) {
                        return t.stopped ? !1 : u.step(a)
                    },
                    w = I.requestAnimationFrame || function (a) {
                        setTimeout(a, 13)
                    },
                    y = function () {
                        for (var c = 0; c < a.timers.length; c++) a.timers[c]() || a.timers.splice(c--,
                            1);
                        a.timers.length && w(y)
                    };
                n !== f || this.elem["forceAnimate:" + this.prop] ? (this.startTime = +new Date, this.start = n, this.end = f, this.unit = e, this.now = this.start, this.pos = 0, t.elem = this.elem, t.prop = this.prop, t() && 1 === a.timers.push(t) && w(y)) : (delete x.curAnim[this.prop], x.complete && 0 === a.keys(x.curAnim).length && x.complete.call(this.elem))
            },
            step: function (n) {
                var f = +new Date,
                    e, u = this.options,
                    x = this.elem,
                    t = u.complete,
                    w = u.duration,
                    y = u.curAnim;
                x.attr && !x.element ? n = !1 : n || f >= w + this.startTime ? (this.now = this.end, this.pos =
                    1, this.update(), e = y[this.prop] = !0, a.objectEach(y, function (a) {
                        !0 !== a && (e = !1)
                    }), e && t && t.call(x), n = !1) : (this.pos = u.easing((f - this.startTime) / w), this.now = this.start + (this.end - this.start) * this.pos, this.update(), n = !0);
                return n
            },
            initPath: function (n, f, e) {
                function u(a) {
                    var b, k;
                    for (d = a.length; d--;) b = "M" === a[d] || "L" === a[d], k = /[a-zA-Z]/.test(a[d + 3]), b && k && a.splice(d + 1, 0, a[d + 1], a[d + 2], a[d + 1], a[d + 2])
                }

                function x(a, h) {
                    for (; a.length < k;) {
                        a[0] = h[k - a.length];
                        var c = a.slice(0, p);
                        [].splice.apply(a, [0, 0].concat(c));
                        b && (c =
                            a.slice(a.length - p), [].splice.apply(a, [a.length, 0].concat(c)), d--)
                    }
                    a[0] = "M"
                }

                function t(a, d) {
                    for (var c = (k - a.length) / p; 0 < c && c--;) q = a.slice().splice(a.length / v - p, p * v), q[0] = d[k - p - c * p], h && (q[p - 6] = q[p - 2], q[p - 5] = q[p - 1]), [].splice.apply(a, [a.length / v, 0].concat(q)), b && c--
                }
                f = f || "";
                var w, y = n.startX,
                    c = n.endX,
                    h = -1 < f.indexOf("C"),
                    p = h ? 7 : 3,
                    k, q, d;
                f = f.split(" ");
                e = e.slice();
                var b = n.isArea,
                    v = b ? 2 : 1,
                    J;
                h && (u(f), u(e));
                if (y && c) {
                    for (d = 0; d < y.length; d++)
                        if (y[d] === c[0]) {
                            w = d;
                            break
                        } else if (y[0] === c[c.length - y.length + d]) {
                        w = d;
                        J = !0;
                        break
                    }
                    void 0 === w && (f = [])
                }
                f.length && a.isNumber(w) && (k = e.length + w * v * p, J ? (x(f, e), t(e, f)) : (x(e, f), t(f, e)));
                return [f, e]
            },
            fillSetter: function () {
                a.Fx.prototype.strokeSetter.apply(this, arguments)
            },
            strokeSetter: function () {
                this.elem.attr(this.prop, a.color(this.start).tweenTo(a.color(this.end), this.pos), null, !0)
            }
        };
        a.merge = function () {
            var n, f = arguments,
                e, u = {},
                x = function (e, n) {
                    "object" !== typeof e && (e = {});
                    a.objectEach(n, function (y, c) {
                        !a.isObject(y, !0) || a.isClass(y) || a.isDOMElement(y) ? e[c] = n[c] : e[c] = x(e[c] || {},
                            y)
                    });
                    return e
                };
            !0 === f[0] && (u = f[1], f = Array.prototype.slice.call(f, 2));
            e = f.length;
            for (n = 0; n < e; n++) u = x(u, f[n]);
            return u
        };
        a.pInt = function (a, f) {
            return parseInt(a, f || 10)
        };
        a.isString = function (a) {
            return "string" === typeof a
        };
        a.isArray = function (a) {
            a = Object.prototype.toString.call(a);
            return "[object Array]" === a || "[object Array Iterator]" === a
        };
        a.isObject = function (n, f) {
            return !!n && "object" === typeof n && (!f || !a.isArray(n))
        };
        a.isDOMElement = function (n) {
            return a.isObject(n) && "number" === typeof n.nodeType
        };
        a.isClass = function (n) {
            var f =
                n && n.constructor;
            return !(!a.isObject(n, !0) || a.isDOMElement(n) || !f || !f.name || "Object" === f.name)
        };
        a.isNumber = function (a) {
            return "number" === typeof a && !isNaN(a) && Infinity > a && -Infinity < a
        };
        a.erase = function (a, f) {
            for (var e = a.length; e--;)
                if (a[e] === f) {
                    a.splice(e, 1);
                    break
                }
        };
        a.defined = function (a) {
            return void 0 !== a && null !== a
        };
        a.attr = function (n, f, e) {
            var u;
            a.isString(f) ? a.defined(e) ? n.setAttribute(f, e) : n && n.getAttribute && ((u = n.getAttribute(f)) || "class" !== f || (u = n.getAttribute(f + "Name"))) : a.defined(f) && a.isObject(f) &&
                a.objectEach(f, function (a, e) {
                    n.setAttribute(e, a)
                });
            return u
        };
        a.splat = function (n) {
            return a.isArray(n) ? n : [n]
        };
        a.syncTimeout = function (a, f, e) {
            if (f) return setTimeout(a, f, e);
            a.call(0, e)
        };
        a.clearTimeout = function (n) {
            a.defined(n) && clearTimeout(n)
        };
        a.extend = function (a, f) {
            var e;
            a || (a = {});
            for (e in f) a[e] = f[e];
            return a
        };
        a.pick = function () {
            var a = arguments,
                f, e, u = a.length;
            for (f = 0; f < u; f++)
                if (e = a[f], void 0 !== e && null !== e) return e
        };
        a.css = function (n, f) {
            a.isMS && !a.svg && f && void 0 !== f.opacity && (f.filter = "alpha(opacity\x3d" +
                100 * f.opacity + ")");
            a.extend(n.style, f)
        };
        a.createElement = function (n, f, e, u, x) {
            n = F.createElement(n);
            var t = a.css;
            f && a.extend(n, f);
            x && t(n, {
                padding: 0,
                border: "none",
                margin: 0
            });
            e && t(n, e);
            u && u.appendChild(n);
            return n
        };
        a.extendClass = function (n, f) {
            var e = function () {};
            e.prototype = new n;
            a.extend(e.prototype, f);
            return e
        };
        a.pad = function (a, f, e) {
            return Array((f || 2) + 1 - String(a).replace("-", "").length).join(e || 0) + a
        };
        a.relativeLength = function (a, f, e) {
            return /%$/.test(a) ? f * parseFloat(a) / 100 + (e || 0) : parseFloat(a)
        };
        a.wrap =
            function (a, f, e) {
                var n = a[f];
                a[f] = function () {
                    var a = Array.prototype.slice.call(arguments),
                        t = arguments,
                        w = this;
                    w.proceed = function () {
                        n.apply(w, arguments.length ? arguments : t)
                    };
                    a.unshift(n);
                    a = e.apply(this, a);
                    w.proceed = null;
                    return a
                }
            };
        a.datePropsToTimestamps = function (n) {
            a.objectEach(n, function (f, e) {
                a.isObject(f) && "function" === typeof f.getTime ? n[e] = f.getTime() : (a.isObject(f) || a.isArray(f)) && a.datePropsToTimestamps(f)
            })
        };
        a.formatSingle = function (n, f, e) {
            var u = /\.([0-9])/,
                x = a.defaultOptions.lang;
            /f$/.test(n) ? (e =
                (e = n.match(u)) ? e[1] : -1, null !== f && (f = a.numberFormat(f, e, x.decimalPoint, -1 < n.indexOf(",") ? x.thousandsSep : ""))) : f = (e || a.time).dateFormat(n, f);
            return f
        };
        a.format = function (n, f, e) {
            for (var u = "{", x = !1, t, w, y, c, h = [], p; n;) {
                u = n.indexOf(u);
                if (-1 === u) break;
                t = n.slice(0, u);
                if (x) {
                    t = t.split(":");
                    w = t.shift().split(".");
                    c = w.length;
                    p = f;
                    for (y = 0; y < c; y++) p && (p = p[w[y]]);
                    t.length && (p = a.formatSingle(t.join(":"), p, e));
                    h.push(p)
                } else h.push(t);
                n = n.slice(u + 1);
                u = (x = !x) ? "}" : "{"
            }
            h.push(n);
            return h.join("")
        };
        a.getMagnitude = function (a) {
            return Math.pow(10,
                Math.floor(Math.log(a) / Math.LN10))
        };
        a.normalizeTickInterval = function (n, f, e, u, x) {
            var t, w = n;
            e = a.pick(e, 1);
            t = n / e;
            f || (f = x ? [1, 1.2, 1.5, 2, 2.5, 3, 4, 5, 6, 8, 10] : [1, 2, 2.5, 5, 10], !1 === u && (1 === e ? f = a.grep(f, function (a) {
                return 0 === a % 1
            }) : .1 >= e && (f = [1 / e])));
            for (u = 0; u < f.length && !(w = f[u], x && w * e >= n || !x && t <= (f[u] + (f[u + 1] || f[u])) / 2); u++);
            return w = a.correctFloat(w * e, -Math.round(Math.log(.001) / Math.LN10))
        };
        a.stableSort = function (a, f) {
            var e = a.length,
                n, x;
            for (x = 0; x < e; x++) a[x].safeI = x;
            a.sort(function (a, e) {
                n = f(a, e);
                return 0 === n ?
                    a.safeI - e.safeI : n
            });
            for (x = 0; x < e; x++) delete a[x].safeI
        };
        a.arrayMin = function (a) {
            for (var f = a.length, e = a[0]; f--;) a[f] < e && (e = a[f]);
            return e
        };
        a.arrayMax = function (a) {
            for (var f = a.length, e = a[0]; f--;) a[f] > e && (e = a[f]);
            return e
        };
        a.destroyObjectProperties = function (n, f) {
            a.objectEach(n, function (a, u) {
                a && a !== f && a.destroy && a.destroy();
                delete n[u]
            })
        };
        a.discardElement = function (n) {
            var f = a.garbageBin;
            f || (f = a.createElement("div"));
            n && f.appendChild(n);
            f.innerHTML = ""
        };
        a.correctFloat = function (a, f) {
            return parseFloat(a.toPrecision(f ||
                14))
        };
        a.setAnimation = function (n, f) {
            f.renderer.globalAnimation = a.pick(n, f.options.chart.animation, !0)
        };
        a.animObject = function (n) {
            return a.isObject(n) ? a.merge(n) : {
                duration: n ? 500 : 0
            }
        };
        a.timeUnits = {
            millisecond: 1,
            second: 1E3,
            minute: 6E4,
            hour: 36E5,
            day: 864E5,
            week: 6048E5,
            month: 24192E5,
            year: 314496E5
        };
        a.numberFormat = function (n, f, e, u) {
            n = +n || 0;
            f = +f;
            var x = a.defaultOptions.lang,
                t = (n.toString().split(".")[1] || "").split("e")[0].length,
                w, y, c = n.toString().split("e"); - 1 === f ? f = Math.min(t, 20) : a.isNumber(f) ? f && c[1] && 0 > c[1] &&
                (w = f + +c[1], 0 <= w ? (c[0] = (+c[0]).toExponential(w).split("e")[0], f = w) : (c[0] = c[0].split(".")[0] || 0, n = 20 > f ? (c[0] * Math.pow(10, c[1])).toFixed(f) : 0, c[1] = 0)) : f = 2;
            y = (Math.abs(c[1] ? c[0] : n) + Math.pow(10, -Math.max(f, t) - 1)).toFixed(f);
            t = String(a.pInt(y));
            w = 3 < t.length ? t.length % 3 : 0;
            e = a.pick(e, x.decimalPoint);
            u = a.pick(u, x.thousandsSep);
            n = (0 > n ? "-" : "") + (w ? t.substr(0, w) + u : "");
            n += t.substr(w).replace(/(\d{3})(?=\d)/g, "$1" + u);
            f && (n += e + y.slice(-f));
            c[1] && 0 !== +n && (n += "e" + c[1]);
            return n
        };
        Math.easeInOutSine = function (a) {
            return -.5 *
                (Math.cos(Math.PI * a) - 1)
        };
        a.getStyle = function (n, f, e) {
            if ("width" === f) return Math.max(0, Math.min(n.offsetWidth, n.scrollWidth) - a.getStyle(n, "padding-left") - a.getStyle(n, "padding-right"));
            if ("height" === f) return Math.max(0, Math.min(n.offsetHeight, n.scrollHeight) - a.getStyle(n, "padding-top") - a.getStyle(n, "padding-bottom"));
            I.getComputedStyle || a.error(27, !0);
            if (n = I.getComputedStyle(n, void 0)) n = n.getPropertyValue(f), a.pick(e, "opacity" !== f) && (n = a.pInt(n));
            return n
        };
        a.inArray = function (n, f, e) {
            return (a.indexOfPolyfill ||
                Array.prototype.indexOf).call(f, n, e)
        };
        a.grep = function (n, f) {
            return (a.filterPolyfill || Array.prototype.filter).call(n, f)
        };
        a.find = Array.prototype.find ? function (a, f) {
            return a.find(f)
        } : function (a, f) {
            var e, u = a.length;
            for (e = 0; e < u; e++)
                if (f(a[e], e)) return a[e]
        };
        a.some = function (n, f, e) {
            return (a.somePolyfill || Array.prototype.some).call(n, f, e)
        };
        a.map = function (a, f) {
            for (var e = [], u = 0, x = a.length; u < x; u++) e[u] = f.call(a[u], a[u], u, a);
            return e
        };
        a.keys = function (n) {
            return (a.keysPolyfill || Object.keys).call(void 0, n)
        };
        a.reduce =
            function (n, f, e) {
                return (a.reducePolyfill || Array.prototype.reduce).apply(n, 2 < arguments.length ? [f, e] : [f])
            };
        a.offset = function (a) {
            var f = F.documentElement;
            a = a.parentElement || a.parentNode ? a.getBoundingClientRect() : {
                top: 0,
                left: 0
            };
            return {
                top: a.top + (I.pageYOffset || f.scrollTop) - (f.clientTop || 0),
                left: a.left + (I.pageXOffset || f.scrollLeft) - (f.clientLeft || 0)
            }
        };
        a.stop = function (n, f) {
            for (var e = a.timers.length; e--;) a.timers[e].elem !== n || f && f !== a.timers[e].prop || (a.timers[e].stopped = !0)
        };
        a.each = function (n, f, e) {
            return (a.forEachPolyfill ||
                Array.prototype.forEach).call(n, f, e)
        };
        a.objectEach = function (a, f, e) {
            for (var u in a) a.hasOwnProperty(u) && f.call(e || a[u], a[u], u, a)
        };
        a.addEvent = function (n, f, e, u) {
            var x, t = n.addEventListener || a.addEventListenerPolyfill;
            x = "function" === typeof n && n.prototype ? n.prototype.protoEvents = n.prototype.protoEvents || {} : n.hcEvents = n.hcEvents || {};
            a.Point && n instanceof a.Point && n.series && n.series.chart && (n.series.chart.runTrackerClick = !0);
            t && t.call(n, f, e, !1);
            x[f] || (x[f] = []);
            x[f].push(e);
            u && a.isNumber(u.order) && (e.order =
                u.order, x[f].sort(function (a, e) {
                    return a.order - e.order
                }));
            return function () {
                a.removeEvent(n, f, e)
            }
        };
        a.removeEvent = function (n, f, e) {
            function u(e, c) {
                var h = n.removeEventListener || a.removeEventListenerPolyfill;
                h && h.call(n, e, c, !1)
            }

            function x(e) {
                var c, h;
                n.nodeName && (f ? (c = {}, c[f] = !0) : c = e, a.objectEach(c, function (a, k) {
                    if (e[k])
                        for (h = e[k].length; h--;) u(k, e[k][h])
                }))
            }
            var t, w;
            a.each(["protoEvents", "hcEvents"], function (y) {
                var c = n[y];
                c && (f ? (t = c[f] || [], e ? (w = a.inArray(e, t), -1 < w && (t.splice(w, 1), c[f] = t), u(f, e)) : (x(c),
                    c[f] = [])) : (x(c), n[y] = {}))
            })
        };
        a.fireEvent = function (n, f, e, u) {
            var x, t, w, y, c;
            e = e || {};
            F.createEvent && (n.dispatchEvent || n.fireEvent) ? (x = F.createEvent("Events"), x.initEvent(f, !0, !0), a.extend(x, e), n.dispatchEvent ? n.dispatchEvent(x) : n.fireEvent(f, x)) : a.each(["protoEvents", "hcEvents"], function (h) {
                if (n[h])
                    for (t = n[h][f] || [], w = t.length, e.target || a.extend(e, {
                            preventDefault: function () {
                                e.defaultPrevented = !0
                            },
                            target: n,
                            type: f
                        }), y = 0; y < w; y++)(c = t[y]) && !1 === c.call(n, e) && e.preventDefault()
            });
            u && !e.defaultPrevented && u.call(n,
                e)
        };
        a.animate = function (n, f, e) {
            var u, x = "",
                t, w, y;
            a.isObject(e) || (y = arguments, e = {
                duration: y[2],
                easing: y[3],
                complete: y[4]
            });
            a.isNumber(e.duration) || (e.duration = 400);
            e.easing = "function" === typeof e.easing ? e.easing : Math[e.easing] || Math.easeInOutSine;
            e.curAnim = a.merge(f);
            a.objectEach(f, function (c, h) {
                a.stop(n, h);
                w = new a.Fx(n, e, h);
                t = null;
                "d" === h ? (w.paths = w.initPath(n, n.d, f.d), w.toD = f.d, u = 0, t = 1) : n.attr ? u = n.attr(h) : (u = parseFloat(a.getStyle(n, h)) || 0, "opacity" !== h && (x = "px"));
                t || (t = c);
                t && t.match && t.match("px") &&
                    (t = t.replace(/px/g, ""));
                w.run(u, t, x)
            })
        };
        a.seriesType = function (n, f, e, u, x) {
            var t = a.getOptions(),
                w = a.seriesTypes;
            t.plotOptions[n] = a.merge(t.plotOptions[f], e);
            w[n] = a.extendClass(w[f] || function () {}, u);
            w[n].prototype.type = n;
            x && (w[n].prototype.pointClass = a.extendClass(a.Point, x));
            return w[n]
        };
        a.uniqueKey = function () {
            var a = Math.random().toString(36).substring(2, 9),
                f = 0;
            return function () {
                return "highcharts-" + a + "-" + f++
            }
        }();
        I.jQuery && (I.jQuery.fn.highcharts = function () {
            var n = [].slice.call(arguments);
            if (this[0]) return n[0] ?
                (new(a[a.isString(n[0]) ? n.shift() : "Chart"])(this[0], n[0], n[1]), this) : C[a.attr(this[0], "data-highcharts-chart")]
        })
    })(K);
    (function (a) {
        var C = a.each,
            F = a.isNumber,
            I = a.map,
            n = a.merge,
            f = a.pInt;
        a.Color = function (e) {
            if (!(this instanceof a.Color)) return new a.Color(e);
            this.init(e)
        };
        a.Color.prototype = {
            parsers: [{
                regex: /rgba\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]?(?:\.[0-9]+)?)\s*\)/,
                parse: function (a) {
                    return [f(a[1]), f(a[2]), f(a[3]), parseFloat(a[4], 10)]
                }
            }, {
                regex: /rgb\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*\)/,
                parse: function (a) {
                    return [f(a[1]), f(a[2]), f(a[3]), 1]
                }
            }],
            names: {
                white: "#ffffff",
                black: "#000000"
            },
            init: function (e) {
                var f, x, t, w;
                if ((this.input = e = this.names[e && e.toLowerCase ? e.toLowerCase() : ""] || e) && e.stops) this.stops = I(e.stops, function (e) {
                    return new a.Color(e[1])
                });
                else if (e && e.charAt && "#" === e.charAt() && (f = e.length, e = parseInt(e.substr(1), 16), 7 === f ? x = [(e & 16711680) >> 16, (e & 65280) >> 8, e & 255, 1] : 4 === f && (x = [(e & 3840) >> 4 | (e & 3840) >> 8, (e & 240) >> 4 | e & 240, (e & 15) << 4 | e & 15, 1])), !x)
                    for (t = this.parsers.length; t-- && !x;) w = this.parsers[t],
                        (f = w.regex.exec(e)) && (x = w.parse(f));
                this.rgba = x || []
            },
            get: function (a) {
                var e = this.input,
                    f = this.rgba,
                    t;
                this.stops ? (t = n(e), t.stops = [].concat(t.stops), C(this.stops, function (e, y) {
                    t.stops[y] = [t.stops[y][0], e.get(a)]
                })) : t = f && F(f[0]) ? "rgb" === a || !a && 1 === f[3] ? "rgb(" + f[0] + "," + f[1] + "," + f[2] + ")" : "a" === a ? f[3] : "rgba(" + f.join(",") + ")" : e;
                return t
            },
            brighten: function (a) {
                var e, x = this.rgba;
                if (this.stops) C(this.stops, function (e) {
                    e.brighten(a)
                });
                else if (F(a) && 0 !== a)
                    for (e = 0; 3 > e; e++) x[e] += f(255 * a), 0 > x[e] && (x[e] = 0), 255 < x[e] &&
                        (x[e] = 255);
                return this
            },
            setOpacity: function (a) {
                this.rgba[3] = a;
                return this
            },
            tweenTo: function (a, f) {
                var e = this.rgba,
                    t = a.rgba;
                t.length && e && e.length ? (a = 1 !== t[3] || 1 !== e[3], f = (a ? "rgba(" : "rgb(") + Math.round(t[0] + (e[0] - t[0]) * (1 - f)) + "," + Math.round(t[1] + (e[1] - t[1]) * (1 - f)) + "," + Math.round(t[2] + (e[2] - t[2]) * (1 - f)) + (a ? "," + (t[3] + (e[3] - t[3]) * (1 - f)) : "") + ")") : f = a.input || "none";
                return f
            }
        };
        a.color = function (e) {
            return new a.Color(e)
        }
    })(K);
    (function (a) {
        var C, F, I = a.addEvent,
            n = a.animate,
            f = a.attr,
            e = a.charts,
            u = a.color,
            x = a.css,
            t = a.createElement,
            w = a.defined,
            y = a.deg2rad,
            c = a.destroyObjectProperties,
            h = a.doc,
            p = a.each,
            k = a.extend,
            q = a.erase,
            d = a.grep,
            b = a.hasTouch,
            v = a.inArray,
            J = a.isArray,
            l = a.isFirefox,
            L = a.isMS,
            B = a.isObject,
            D = a.isString,
            m = a.isWebKit,
            G = a.merge,
            A = a.noop,
            N = a.objectEach,
            E = a.pick,
            g = a.pInt,
            r = a.removeEvent,
            M = a.stop,
            O = a.svg,
            H = a.SVG_NS,
            R = a.symbolSizes,
            Q = a.win;
        C = a.SVGElement = function () {
            return this
        };
        k(C.prototype, {
            opacity: 1,
            SVG_NS: H,
            textProps: "direction fontSize fontWeight fontFamily fontStyle color lineHeight width textAlign textDecoration textOverflow textOutline cursor".split(" "),
            init: function (a, g) {
                this.element = "span" === g ? t(g) : h.createElementNS(this.SVG_NS, g);
                this.renderer = a
            },
            animate: function (z, g, r) {
                g = a.animObject(E(g, this.renderer.globalAnimation, !0));
                0 !== g.duration ? (r && (g.complete = r), n(this, z, g)) : (this.attr(z, null, r), g.step && g.step.call(this));
                return this
            },
            complexColor: function (z, g, r) {
                var b = this.renderer,
                    k, m, d, H, c, h, q, A, v, P, l, O = [],
                    M;
                a.fireEvent(this.renderer, "complexColor", {
                    args: arguments
                }, function () {
                    z.radialGradient ? m = "radialGradient" : z.linearGradient && (m = "linearGradient");
                    m && (d = z[m], c = b.gradients, q = z.stops, P = r.radialReference, J(d) && (z[m] = d = {
                        x1: d[0],
                        y1: d[1],
                        x2: d[2],
                        y2: d[3],
                        gradientUnits: "userSpaceOnUse"
                    }), "radialGradient" === m && P && !w(d.gradientUnits) && (H = d, d = G(d, b.getRadialAttr(P, H), {
                        gradientUnits: "userSpaceOnUse"
                    })), N(d, function (a, z) {
                        "id" !== z && O.push(z, a)
                    }), N(q, function (a) {
                        O.push(a)
                    }), O = O.join(","), c[O] ? l = c[O].attr("id") : (d.id = l = a.uniqueKey(), c[O] = h = b.createElement(m).attr(d).add(b.defs), h.radAttr = H, h.stops = [], p(q, function (z) {
                        0 === z[1].indexOf("rgba") ? (k = a.color(z[1]),
                            A = k.get("rgb"), v = k.get("a")) : (A = z[1], v = 1);
                        z = b.createElement("stop").attr({
                            offset: z[0],
                            "stop-color": A,
                            "stop-opacity": v
                        }).add(h);
                        h.stops.push(z)
                    })), M = "url(" + b.url + "#" + l + ")", r.setAttribute(g, M), r.gradient = O, z.toString = function () {
                        return M
                    })
                })
            },
            applyTextOutline: function (z) {
                var g = this.element,
                    r, b, d, m, k; - 1 !== z.indexOf("contrast") && (z = z.replace(/contrast/g, this.renderer.getContrast(g.style.fill)));
                z = z.split(" ");
                b = z[z.length - 1];
                if ((d = z[0]) && "none" !== d && a.svg) {
                    this.fakeTS = !0;
                    z = [].slice.call(g.getElementsByTagName("tspan"));
                    this.ySetter = this.xSetter;
                    d = d.replace(/(^[\d\.]+)(.*?)$/g, function (a, z, g) {
                        return 2 * z + g
                    });
                    for (k = z.length; k--;) r = z[k], "highcharts-text-outline" === r.getAttribute("class") && q(z, g.removeChild(r));
                    m = g.firstChild;
                    p(z, function (a, z) {
                        0 === z && (a.setAttribute("x", g.getAttribute("x")), z = g.getAttribute("y"), a.setAttribute("y", z || 0), null === z && g.setAttribute("y", 0));
                        a = a.cloneNode(1);
                        f(a, {
                            "class": "highcharts-text-outline",
                            fill: b,
                            stroke: b,
                            "stroke-width": d,
                            "stroke-linejoin": "round"
                        });
                        g.insertBefore(a, m)
                    })
                }
            },
            attr: function (a,
                g, r, b) {
                var z, d = this.element,
                    m, k = this,
                    c, H;
                "string" === typeof a && void 0 !== g && (z = a, a = {}, a[z] = g);
                "string" === typeof a ? k = (this[a + "Getter"] || this._defaultGetter).call(this, a, d) : (N(a, function (z, g) {
                    c = !1;
                    b || M(this, g);
                    this.symbolName && /^(x|y|width|height|r|start|end|innerR|anchorX|anchorY)$/.test(g) && (m || (this.symbolAttr(a), m = !0), c = !0);
                    !this.rotation || "x" !== g && "y" !== g || (this.doTransform = !0);
                    c || (H = this[g + "Setter"] || this._defaultSetter, H.call(this, z, g, d), this.shadows && /^(width|height|visibility|x|y|d|transform|cx|cy|r)$/.test(g) &&
                        this.updateShadows(g, z, H))
                }, this), this.afterSetters());
                r && r.call(this);
                return k
            },
            afterSetters: function () {
                this.doTransform && (this.updateTransform(), this.doTransform = !1)
            },
            updateShadows: function (a, g, r) {
                for (var z = this.shadows, d = z.length; d--;) r.call(z[d], "height" === a ? Math.max(g - (z[d].cutHeight || 0), 0) : "d" === a ? this.d : g, a, z[d])
            },
            addClass: function (a, g) {
                var z = this.attr("class") || ""; - 1 === z.indexOf(a) && (g || (a = (z + (z ? " " : "") + a).replace("  ", " ")), this.attr("class", a));
                return this
            },
            hasClass: function (a) {
                return -1 !==
                    v(a, (this.attr("class") || "").split(" "))
            },
            removeClass: function (a) {
                return this.attr("class", (this.attr("class") || "").replace(a, ""))
            },
            symbolAttr: function (a) {
                var z = this;
                p("x y r start end width height innerR anchorX anchorY".split(" "), function (g) {
                    z[g] = E(a[g], z[g])
                });
                z.attr({
                    d: z.renderer.symbols[z.symbolName](z.x, z.y, z.width, z.height, z)
                })
            },
            clip: function (a) {
                return this.attr("clip-path", a ? "url(" + this.renderer.url + "#" + a.id + ")" : "none")
            },
            crisp: function (a, g) {
                var z;
                g = g || a.strokeWidth || 0;
                z = Math.round(g) % 2 / 2;
                a.x = Math.floor(a.x || this.x || 0) + z;
                a.y = Math.floor(a.y || this.y || 0) + z;
                a.width = Math.floor((a.width || this.width || 0) - 2 * z);
                a.height = Math.floor((a.height || this.height || 0) - 2 * z);
                w(a.strokeWidth) && (a.strokeWidth = g);
                return a
            },
            css: function (a) {
                var z = this.styles,
                    r = {},
                    d = this.element,
                    b, m = "",
                    c, H = !z,
                    h = ["textOutline", "textOverflow", "width"];
                a && a.color && (a.fill = a.color);
                z && N(a, function (a, g) {
                    a !== z[g] && (r[g] = a, H = !0)
                });
                H && (z && (a = k(z, r)), a && (null === a.width || "auto" === a.width ? delete this.textWidth : "text" === d.nodeName.toLowerCase() &&
                    a.width && (b = this.textWidth = g(a.width))), this.styles = a, b && !O && this.renderer.forExport && delete a.width, d.namespaceURI === this.SVG_NS ? (c = function (a, z) {
                    return "-" + z.toLowerCase()
                }, N(a, function (a, z) {
                    -1 === v(z, h) && (m += z.replace(/([A-Z])/g, c) + ":" + a + ";")
                }), m && f(d, "style", m)) : x(d, a), this.added && ("text" === this.element.nodeName && this.renderer.buildText(this), a && a.textOutline && this.applyTextOutline(a.textOutline)));
                return this
            },
            strokeWidth: function () {
                return this["stroke-width"] || 0
            },
            on: function (a, g) {
                var z = this,
                    r =
                    z.element;
                b && "click" === a ? (r.ontouchstart = function (a) {
                    z.touchEventFired = Date.now();
                    a.preventDefault();
                    g.call(r, a)
                }, r.onclick = function (a) {
                    (-1 === Q.navigator.userAgent.indexOf("Android") || 1100 < Date.now() - (z.touchEventFired || 0)) && g.call(r, a)
                }) : r["on" + a] = g;
                return this
            },
            setRadialReference: function (a) {
                var z = this.renderer.gradients[this.element.gradient];
                this.element.radialReference = a;
                z && z.radAttr && z.animate(this.renderer.getRadialAttr(a, z.radAttr));
                return this
            },
            translate: function (a, g) {
                return this.attr({
                    translateX: a,
                    translateY: g
                })
            },
            invert: function (a) {
                this.inverted = a;
                this.updateTransform();
                return this
            },
            updateTransform: function () {
                var a = this.translateX || 0,
                    g = this.translateY || 0,
                    r = this.scaleX,
                    d = this.scaleY,
                    b = this.inverted,
                    m = this.rotation,
                    k = this.matrix,
                    c = this.element;
                b && (a += this.width, g += this.height);
                a = ["translate(" + a + "," + g + ")"];
                w(k) && a.push("matrix(" + k.join(",") + ")");
                b ? a.push("rotate(90) scale(-1,1)") : m && a.push("rotate(" + m + " " + E(this.rotationOriginX, c.getAttribute("x"), 0) + " " + E(this.rotationOriginY, c.getAttribute("y") ||
                    0) + ")");
                (w(r) || w(d)) && a.push("scale(" + E(r, 1) + " " + E(d, 1) + ")");
                a.length && c.setAttribute("transform", a.join(" "))
            },
            toFront: function () {
                var a = this.element;
                a.parentNode.appendChild(a);
                return this
            },
            align: function (a, g, r) {
                var z, d, b, m, k = {};
                d = this.renderer;
                b = d.alignedObjects;
                var c, H;
                if (a) {
                    if (this.alignOptions = a, this.alignByTranslate = g, !r || D(r)) this.alignTo = z = r || "renderer", q(b, this), b.push(this), r = null
                } else a = this.alignOptions, g = this.alignByTranslate, z = this.alignTo;
                r = E(r, d[z], d);
                z = a.align;
                d = a.verticalAlign;
                b =
                    (r.x || 0) + (a.x || 0);
                m = (r.y || 0) + (a.y || 0);
                "right" === z ? c = 1 : "center" === z && (c = 2);
                c && (b += (r.width - (a.width || 0)) / c);
                k[g ? "translateX" : "x"] = Math.round(b);
                "bottom" === d ? H = 1 : "middle" === d && (H = 2);
                H && (m += (r.height - (a.height || 0)) / H);
                k[g ? "translateY" : "y"] = Math.round(m);
                this[this.placed ? "animate" : "attr"](k);
                this.placed = !0;
                this.alignAttr = k;
                return this
            },
            getBBox: function (a, g) {
                var z, r = this.renderer,
                    d, b = this.element,
                    m = this.styles,
                    c, H = this.textStr,
                    h, q = r.cache,
                    A = r.cacheKeys,
                    v = b.namespaceURI === this.SVG_NS,
                    l;
                g = E(g, this.rotation);
                d = g * y;
                c = m && m.fontSize;
                w(H) && (l = H.toString(), -1 === l.indexOf("\x3c") && (l = l.replace(/[0-9]/g, "0")), l += ["", g || 0, c, this.textWidth, m && m.textOverflow].join());
                l && !a && (z = q[l]);
                if (!z) {
                    if (v || r.forExport) {
                        try {
                            (h = this.fakeTS && function (a) {
                                p(b.querySelectorAll(".highcharts-text-outline"), function (g) {
                                    g.style.display = a
                                })
                            }) && h("none"), z = b.getBBox ? k({}, b.getBBox()) : {
                                width: b.offsetWidth,
                                height: b.offsetHeight
                            }, h && h("")
                        } catch (X) {}
                        if (!z || 0 > z.width) z = {
                            width: 0,
                            height: 0
                        }
                    } else z = this.htmlGetBBox();
                    r.isSVG && (a = z.width, r = z.height,
                        v && (z.height = r = {
                            "11px,17": 14,
                            "13px,20": 16
                        } [m && m.fontSize + "," + Math.round(r)] || r), g && (z.width = Math.abs(r * Math.sin(d)) + Math.abs(a * Math.cos(d)), z.height = Math.abs(r * Math.cos(d)) + Math.abs(a * Math.sin(d))));
                    if (l && 0 < z.height) {
                        for (; 250 < A.length;) delete q[A.shift()];
                        q[l] || A.push(l);
                        q[l] = z
                    }
                }
                return z
            },
            show: function (a) {
                return this.attr({
                    visibility: a ? "inherit" : "visible"
                })
            },
            hide: function () {
                return this.attr({
                    visibility: "hidden"
                })
            },
            fadeOut: function (a) {
                var g = this;
                g.animate({
                    opacity: 0
                }, {
                    duration: a || 150,
                    complete: function () {
                        g.attr({
                            y: -9999
                        })
                    }
                })
            },
            add: function (a) {
                var g = this.renderer,
                    z = this.element,
                    r;
                a && (this.parentGroup = a);
                this.parentInverted = a && a.inverted;
                void 0 !== this.textStr && g.buildText(this);
                this.added = !0;
                if (!a || a.handleZ || this.zIndex) r = this.zIndexSetter();
                r || (a ? a.element : g.box).appendChild(z);
                if (this.onAdd) this.onAdd();
                return this
            },
            safeRemoveChild: function (a) {
                var g = a.parentNode;
                g && g.removeChild(a)
            },
            destroy: function () {
                var a = this,
                    g = a.element || {},
                    r = a.renderer.isSVG && "SPAN" === g.nodeName && a.parentGroup,
                    d = g.ownerSVGElement,
                    b = a.clipPath;
                g.onclick =
                    g.onmouseout = g.onmouseover = g.onmousemove = g.point = null;
                M(a);
                b && d && (p(d.querySelectorAll("[clip-path],[CLIP-PATH]"), function (a) {
                    var g = a.getAttribute("clip-path"),
                        z = b.element.id;
                    (-1 < g.indexOf("(#" + z + ")") || -1 < g.indexOf('("#' + z + '")')) && a.removeAttribute("clip-path")
                }), a.clipPath = b.destroy());
                if (a.stops) {
                    for (d = 0; d < a.stops.length; d++) a.stops[d] = a.stops[d].destroy();
                    a.stops = null
                }
                a.safeRemoveChild(g);
                for (a.destroyShadows(); r && r.div && 0 === r.div.childNodes.length;) g = r.parentGroup, a.safeRemoveChild(r.div), delete r.div,
                    r = g;
                a.alignTo && q(a.renderer.alignedObjects, a);
                N(a, function (g, z) {
                    delete a[z]
                });
                return null
            },
            shadow: function (a, g, r) {
                var z = [],
                    d, b, m = this.element,
                    k, c, H, h;
                if (!a) this.destroyShadows();
                else if (!this.shadows) {
                    c = E(a.width, 3);
                    H = (a.opacity || .15) / c;
                    h = this.parentInverted ? "(-1,-1)" : "(" + E(a.offsetX, 1) + ", " + E(a.offsetY, 1) + ")";
                    for (d = 1; d <= c; d++) b = m.cloneNode(0), k = 2 * c + 1 - 2 * d, f(b, {
                        stroke: a.color || "#000000",
                        "stroke-opacity": H * d,
                        "stroke-width": k,
                        transform: "translate" + h,
                        fill: "none"
                    }), b.setAttribute("class", (b.getAttribute("class") ||
                        "") + " highcharts-shadow"), r && (f(b, "height", Math.max(f(b, "height") - k, 0)), b.cutHeight = k), g ? g.element.appendChild(b) : m.parentNode && m.parentNode.insertBefore(b, m), z.push(b);
                    this.shadows = z
                }
                return this
            },
            destroyShadows: function () {
                p(this.shadows || [], function (a) {
                    this.safeRemoveChild(a)
                }, this);
                this.shadows = void 0
            },
            xGetter: function (a) {
                "circle" === this.element.nodeName && ("x" === a ? a = "cx" : "y" === a && (a = "cy"));
                return this._defaultGetter(a)
            },
            _defaultGetter: function (a) {
                a = E(this[a + "Value"], this[a], this.element ? this.element.getAttribute(a) :
                    null, 0);
                /^[\-0-9\.]+$/.test(a) && (a = parseFloat(a));
                return a
            },
            dSetter: function (a, g, r) {
                a && a.join && (a = a.join(" "));
                /(NaN| {2}|^$)/.test(a) && (a = "M 0 0");
                this[g] !== a && (r.setAttribute(g, a), this[g] = a)
            },
            dashstyleSetter: function (a) {
                var r, z = this["stroke-width"];
                "inherit" === z && (z = 1);
                if (a = a && a.toLowerCase()) {
                    a = a.replace("shortdashdotdot", "3,1,1,1,1,1,").replace("shortdashdot", "3,1,1,1").replace("shortdot", "1,1,").replace("shortdash", "3,1,").replace("longdash", "8,3,").replace(/dot/g, "1,3,").replace("dash", "4,3,").replace(/,$/,
                        "").split(",");
                    for (r = a.length; r--;) a[r] = g(a[r]) * z;
                    a = a.join(",").replace(/NaN/g, "none");
                    this.element.setAttribute("stroke-dasharray", a)
                }
            },
            alignSetter: function (a) {
                this.alignValue = a;
                this.element.setAttribute("text-anchor", {
                    left: "start",
                    center: "middle",
                    right: "end"
                } [a])
            },
            opacitySetter: function (a, g, r) {
                this[g] = a;
                r.setAttribute(g, a)
            },
            titleSetter: function (a) {
                var g = this.element.getElementsByTagName("title")[0];
                g || (g = h.createElementNS(this.SVG_NS, "title"), this.element.appendChild(g));
                g.firstChild && g.removeChild(g.firstChild);
                g.appendChild(h.createTextNode(String(E(a), "").replace(/<[^>]*>/g, "").replace(/&lt;/g, "\x3c").replace(/&gt;/g, "\x3e")))
            },
            textSetter: function (a) {
                a !== this.textStr && (delete this.bBox, this.textStr = a, this.added && this.renderer.buildText(this))
            },
            fillSetter: function (a, g, r) {
                "string" === typeof a ? r.setAttribute(g, a) : a && this.complexColor(a, g, r)
            },
            visibilitySetter: function (a, g, r) {
                "inherit" === a ? r.removeAttribute(g) : this[g] !== a && r.setAttribute(g, a);
                this[g] = a
            },
            zIndexSetter: function (a, r) {
                var z = this.renderer,
                    d = this.parentGroup,
                    b = (d || z).element || z.box,
                    m, k = this.element,
                    c, H, z = b === z.box;
                m = this.added;
                var h;
                w(a) ? (k.setAttribute("data-z-index", a), a = +a, this[r] === a && (m = !1)) : w(this[r]) && k.removeAttribute("data-z-index");
                this[r] = a;
                if (m) {
                    (a = this.zIndex) && d && (d.handleZ = !0);
                    r = b.childNodes;
                    for (h = r.length - 1; 0 <= h && !c; h--)
                        if (d = r[h], m = d.getAttribute("data-z-index"), H = !w(m), d !== k)
                            if (0 > a && H && !z && !h) b.insertBefore(k, r[h]), c = !0;
                            else if (g(m) <= a || H && (!w(a) || 0 <= a)) b.insertBefore(k, r[h + 1] || null), c = !0;
                    c || (b.insertBefore(k, r[z ? 3 : 0] || null), c = !0)
                }
                return c
            },
            _defaultSetter: function (a, g, r) {
                r.setAttribute(g, a)
            }
        });
        C.prototype.yGetter = C.prototype.xGetter;
        C.prototype.translateXSetter = C.prototype.translateYSetter = C.prototype.rotationSetter = C.prototype.verticalAlignSetter = C.prototype.rotationOriginXSetter = C.prototype.rotationOriginYSetter = C.prototype.scaleXSetter = C.prototype.scaleYSetter = C.prototype.matrixSetter = function (a, g) {
            this[g] = a;
            this.doTransform = !0
        };
        C.prototype["stroke-widthSetter"] = C.prototype.strokeSetter = function (a, g, r) {
            this[g] = a;
            this.stroke && this["stroke-width"] ?
                (C.prototype.fillSetter.call(this, this.stroke, "stroke", r), r.setAttribute("stroke-width", this["stroke-width"]), this.hasStroke = !0) : "stroke-width" === g && 0 === a && this.hasStroke && (r.removeAttribute("stroke"), this.hasStroke = !1)
        };
        F = a.SVGRenderer = function () {
            this.init.apply(this, arguments)
        };
        k(F.prototype, {
            Element: C,
            SVG_NS: H,
            init: function (a, g, r, d, b, k) {
                var z;
                d = this.createElement("svg").attr({
                    version: "1.1",
                    "class": "highcharts-root"
                }).css(this.getStyle(d));
                z = d.element;
                a.appendChild(z);
                f(a, "dir", "ltr"); - 1 === a.innerHTML.indexOf("xmlns") &&
                    f(z, "xmlns", this.SVG_NS);
                this.isSVG = !0;
                this.box = z;
                this.boxWrapper = d;
                this.alignedObjects = [];
                this.url = (l || m) && h.getElementsByTagName("base").length ? Q.location.href.split("#")[0].replace(/<[^>]*>/g, "").replace(/([\('\)])/g, "\\$1").replace(/ /g, "%20") : "";
                this.createElement("desc").add().element.appendChild(h.createTextNode("Created with Highcharts 6.2.0"));
                this.defs = this.createElement("defs").add();
                this.allowHTML = k;
                this.forExport = b;
                this.gradients = {};
                this.cache = {};
                this.cacheKeys = [];
                this.imgCount = 0;
                this.setSize(g,
                    r, !1);
                var c;
                l && a.getBoundingClientRect && (g = function () {
                    x(a, {
                        left: 0,
                        top: 0
                    });
                    c = a.getBoundingClientRect();
                    x(a, {
                        left: Math.ceil(c.left) - c.left + "px",
                        top: Math.ceil(c.top) - c.top + "px"
                    })
                }, g(), this.unSubPixelFix = I(Q, "resize", g))
            },
            getStyle: function (a) {
                return this.style = k({
                    fontFamily: '"Lucida Grande", "Lucida Sans Unicode", Arial, Helvetica, sans-serif',
                    fontSize: "12px"
                }, a)
            },
            setStyle: function (a) {
                this.boxWrapper.css(this.getStyle(a))
            },
            isHidden: function () {
                return !this.boxWrapper.getBBox().width
            },
            destroy: function () {
                var a =
                    this.defs;
                this.box = null;
                this.boxWrapper = this.boxWrapper.destroy();
                c(this.gradients || {});
                this.gradients = null;
                a && (this.defs = a.destroy());
                this.unSubPixelFix && this.unSubPixelFix();
                return this.alignedObjects = null
            },
            createElement: function (a) {
                var g = new this.Element;
                g.init(this, a);
                return g
            },
            draw: A,
            getRadialAttr: function (a, g) {
                return {
                    cx: a[0] - a[2] / 2 + g.cx * a[2],
                    cy: a[1] - a[2] / 2 + g.cy * a[2],
                    r: g.r * a[2]
                }
            },
            truncate: function (a, g, r, d, b, m, k) {
                var z = this,
                    c = a.rotation,
                    H, q = d ? 1 : 0,
                    A = (r || d).length,
                    v = A,
                    p = [],
                    l = function (a) {
                        g.firstChild &&
                            g.removeChild(g.firstChild);
                        a && g.appendChild(h.createTextNode(a))
                    },
                    O = function (m, c) {
                        c = c || m;
                        if (void 0 === p[c])
                            if (g.getSubStringLength) try {
                                p[c] = b + g.getSubStringLength(0, d ? c + 1 : c)
                            } catch (Y) {} else z.getSpanWidth && (l(k(r || d, m)), p[c] = b + z.getSpanWidth(a, g));
                        return p[c]
                    },
                    G, M;
                a.rotation = 0;
                G = O(g.textContent.length);
                if (M = b + G > m) {
                    for (; q <= A;) v = Math.ceil((q + A) / 2), d && (H = k(d, v)), G = O(v, H && H.length - 1), q === A ? q = A + 1 : G > m ? A = v - 1 : q = v;
                    0 === A ? l("") : r && A === r.length - 1 || l(H || k(r || d, v))
                }
                d && d.splice(0, v);
                a.actualWidth = G;
                a.rotation = c;
                return M
            },
            escapes: {
                "\x26": "\x26amp;",
                "\x3c": "\x26lt;",
                "\x3e": "\x26gt;",
                "'": "\x26#39;",
                '"': "\x26quot;"
            },
            buildText: function (a) {
                var r = a.element,
                    b = this,
                    m = b.forExport,
                    c = E(a.textStr, "").toString(),
                    z = -1 !== c.indexOf("\x3c"),
                    k = r.childNodes,
                    q, A = f(r, "x"),
                    l = a.styles,
                    G = a.textWidth,
                    M = l && l.lineHeight,
                    e = l && l.textOutline,
                    B = l && "ellipsis" === l.textOverflow,
                    R = l && "nowrap" === l.whiteSpace,
                    y = l && l.fontSize,
                    t, D, J = k.length,
                    l = G && !a.added && this.box,
                    w = function (a) {
                        var d;
                        d = /(px|em)$/.test(a && a.style.fontSize) ? a.style.fontSize : y ||
                            b.style.fontSize || 12;
                        return M ? g(M) : b.fontMetrics(d, a.getAttribute("style") ? a : r).h
                    },
                    Q = function (a, g) {
                        N(b.escapes, function (r, d) {
                            g && -1 !== v(r, g) || (a = a.toString().replace(new RegExp(r, "g"), d))
                        });
                        return a
                    },
                    u = function (a, g) {
                        var r;
                        r = a.indexOf("\x3c");
                        a = a.substring(r, a.indexOf("\x3e") - r);
                        r = a.indexOf(g + "\x3d");
                        if (-1 !== r && (r = r + g.length + 1, g = a.charAt(r), '"' === g || "'" === g)) return a = a.substring(r + 1), a.substring(0, a.indexOf(g))
                    };
                t = [c, B, R, M, e, y, G].join();
                if (t !== a.textCache) {
                    for (a.textCache = t; J--;) r.removeChild(k[J]);
                    z || e || B || G || -1 !== c.indexOf(" ") ? (l && l.appendChild(r), c = z ? c.replace(/<(b|strong)>/g, '\x3cspan style\x3d"font-weight:bold"\x3e').replace(/<(i|em)>/g, '\x3cspan style\x3d"font-style:italic"\x3e').replace(/<a/g, "\x3cspan").replace(/<\/(b|strong|i|em|a)>/g, "\x3c/span\x3e").split(/<br.*?>/g) : [c], c = d(c, function (a) {
                        return "" !== a
                    }), p(c, function (g, d) {
                        var c, z = 0,
                            k = 0;
                        g = g.replace(/^\s+|\s+$/g, "").replace(/<span/g, "|||\x3cspan").replace(/<\/span>/g, "\x3c/span\x3e|||");
                        c = g.split("|||");
                        p(c, function (g) {
                            if ("" !== g || 1 ===
                                c.length) {
                                var v = {},
                                    l = h.createElementNS(b.SVG_NS, "tspan"),
                                    p, M;
                                (p = u(g, "class")) && f(l, "class", p);
                                if (p = u(g, "style")) p = p.replace(/(;| |^)color([ :])/, "$1fill$2"), f(l, "style", p);
                                (M = u(g, "href")) && !m && (f(l, "onclick", 'location.href\x3d"' + M + '"'), f(l, "class", "highcharts-anchor"), x(l, {
                                    cursor: "pointer"
                                }));
                                g = Q(g.replace(/<[a-zA-Z\/](.|\n)*?>/g, "") || " ");
                                if (" " !== g) {
                                    l.appendChild(h.createTextNode(g));
                                    z ? v.dx = 0 : d && null !== A && (v.x = A);
                                    f(l, v);
                                    r.appendChild(l);
                                    !z && D && (!O && m && x(l, {
                                        display: "block"
                                    }), f(l, "dy", w(l)));
                                    if (G) {
                                        var e =
                                            g.replace(/([^\^])-/g, "$1- ").split(" "),
                                            v = !R && (1 < c.length || d || 1 < e.length);
                                        M = 0;
                                        var t = w(l);
                                        if (B) q = b.truncate(a, l, g, void 0, 0, Math.max(0, G - parseInt(y || 12, 10)), function (a, g) {
                                            return a.substring(0, g) + "\u2026"
                                        });
                                        else if (v)
                                            for (; e.length;) e.length && !R && 0 < M && (l = h.createElementNS(H, "tspan"), f(l, {
                                                    dy: t,
                                                    x: A
                                                }), p && f(l, "style", p), l.appendChild(h.createTextNode(e.join(" ").replace(/- /g, "-"))), r.appendChild(l)), b.truncate(a, l, null, e, 0 === M ? k : 0, G, function (a, g) {
                                                    return e.slice(0, g).join(" ").replace(/- /g, "-")
                                                }), k = a.actualWidth,
                                                M++
                                    }
                                    z++
                                }
                            }
                        });
                        D = D || r.childNodes.length
                    }), B && q && a.attr("title", Q(a.textStr, ["\x26lt;", "\x26gt;"])), l && l.removeChild(r), e && a.applyTextOutline && a.applyTextOutline(e)) : r.appendChild(h.createTextNode(Q(c)))
                }
            },
            getContrast: function (a) {
                a = u(a).rgba;
                a[0] *= 1;
                a[1] *= 1.2;
                a[2] *= .5;
                return 459 < a[0] + a[1] + a[2] ? "#000000" : "#FFFFFF"
            },
            button: function (a, g, r, d, b, c, m, H, h) {
                var z = this.label(a, g, r, h, null, null, null, null, "button"),
                    q = 0;
                z.attr(G({
                    padding: 8,
                    r: 2
                }, b));
                var A, v, l, p;
                b = G({
                    fill: "#f7f7f7",
                    stroke: "#cccccc",
                    "stroke-width": 1,
                    style: {
                        color: "#333333",
                        cursor: "pointer",
                        fontWeight: "normal"
                    }
                }, b);
                A = b.style;
                delete b.style;
                c = G(b, {
                    fill: "#e6e6e6"
                }, c);
                v = c.style;
                delete c.style;
                m = G(b, {
                    fill: "#e6ebf5",
                    style: {
                        color: "#000000",
                        fontWeight: "bold"
                    }
                }, m);
                l = m.style;
                delete m.style;
                H = G(b, {
                    style: {
                        color: "#cccccc"
                    }
                }, H);
                p = H.style;
                delete H.style;
                I(z.element, L ? "mouseover" : "mouseenter", function () {
                    3 !== q && z.setState(1)
                });
                I(z.element, L ? "mouseout" : "mouseleave", function () {
                    3 !== q && z.setState(q)
                });
                z.setState = function (a) {
                    1 !== a && (z.state = q = a);
                    z.removeClass(/highcharts-button-(normal|hover|pressed|disabled)/).addClass("highcharts-button-" + ["normal", "hover", "pressed", "disabled"][a || 0]);
                    z.attr([b, c, m, H][a || 0]).css([A, v, l, p][a || 0])
                };
                z.attr(b).css(k({
                    cursor: "default"
                }, A));
                return z.on("click", function (a) {
                    3 !== q && d.call(z, a)
                })
            },
            crispLine: function (a, g) {
                a[1] === a[4] && (a[1] = a[4] = Math.round(a[1]) - g % 2 / 2);
                a[2] === a[5] && (a[2] = a[5] = Math.round(a[2]) + g % 2 / 2);
                return a
            },
            path: function (a) {
                var g = {
                    fill: "none"
                };
                J(a) ? g.d = a : B(a) && k(g, a);
                return this.createElement("path").attr(g)
            },
            circle: function (a, g, r) {
                a = B(a) ? a : {
                    x: a,
                    y: g,
                    r: r
                };
                g = this.createElement("circle");
                g.xSetter =
                    g.ySetter = function (a, g, r) {
                        r.setAttribute("c" + g, a)
                    };
                return g.attr(a)
            },
            arc: function (a, g, r, d, b, c) {
                B(a) ? (d = a, g = d.y, r = d.r, a = d.x) : d = {
                    innerR: d,
                    start: b,
                    end: c
                };
                a = this.symbol("arc", a, g, r, r, d);
                a.r = r;
                return a
            },
            rect: function (a, g, r, d, b, c) {
                b = B(a) ? a.r : b;
                var m = this.createElement("rect");
                a = B(a) ? a : void 0 === a ? {} : {
                    x: a,
                    y: g,
                    width: Math.max(r, 0),
                    height: Math.max(d, 0)
                };
                void 0 !== c && (a.strokeWidth = c, a = m.crisp(a));
                a.fill = "none";
                b && (a.r = b);
                m.rSetter = function (a, g, r) {
                    f(r, {
                        rx: a,
                        ry: a
                    })
                };
                return m.attr(a)
            },
            setSize: function (a, g, r) {
                var d =
                    this.alignedObjects,
                    b = d.length;
                this.width = a;
                this.height = g;
                for (this.boxWrapper.animate({
                        width: a,
                        height: g
                    }, {
                        step: function () {
                            this.attr({
                                viewBox: "0 0 " + this.attr("width") + " " + this.attr("height")
                            })
                        },
                        duration: E(r, !0) ? void 0 : 0
                    }); b--;) d[b].align()
            },
            g: function (a) {
                var g = this.createElement("g");
                return a ? g.attr({
                    "class": "highcharts-" + a
                }) : g
            },
            image: function (a, g, r, d, b, c) {
                var m = {
                        preserveAspectRatio: "none"
                    },
                    H, h = function (a, g) {
                        a.setAttributeNS ? a.setAttributeNS("http://www.w3.org/1999/xlink", "href", g) : a.setAttribute("hc-svg-href",
                            g)
                    },
                    q = function (g) {
                        h(H.element, a);
                        c.call(H, g)
                    };
                1 < arguments.length && k(m, {
                    x: g,
                    y: r,
                    width: d,
                    height: b
                });
                H = this.createElement("image").attr(m);
                c ? (h(H.element, "data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw\x3d\x3d"), m = new Q.Image, I(m, "load", q), m.src = a, m.complete && q({})) : h(H.element, a);
                return H
            },
            symbol: function (a, g, r, d, b, c) {
                var m = this,
                    H, q = /^url\((.*?)\)$/,
                    A = q.test(a),
                    v = !A && (this.symbols[a] ? a : "circle"),
                    z = v && this.symbols[v],
                    l = w(g) && z && z.call(this.symbols, Math.round(g), Math.round(r),
                        d, b, c),
                    G, M;
                z ? (H = this.path(l), H.attr("fill", "none"), k(H, {
                    symbolName: v,
                    x: g,
                    y: r,
                    width: d,
                    height: b
                }), c && k(H, c)) : A && (G = a.match(q)[1], H = this.image(G), H.imgwidth = E(R[G] && R[G].width, c && c.width), H.imgheight = E(R[G] && R[G].height, c && c.height), M = function () {
                    H.attr({
                        width: H.width,
                        height: H.height
                    })
                }, p(["width", "height"], function (a) {
                    H[a + "Setter"] = function (a, g) {
                        var r = {},
                            d = this["img" + g],
                            b = "width" === g ? "translateX" : "translateY";
                        this[g] = a;
                        w(d) && (this.element && this.element.setAttribute(g, d), this.alignByTranslate || (r[b] =
                            ((this[g] || 0) - d) / 2, this.attr(r)))
                    }
                }), w(g) && H.attr({
                    x: g,
                    y: r
                }), H.isImg = !0, w(H.imgwidth) && w(H.imgheight) ? M() : (H.attr({
                    width: 0,
                    height: 0
                }), t("img", {
                    onload: function () {
                        var a = e[m.chartIndex];
                        0 === this.width && (x(this, {
                            position: "absolute",
                            top: "-999em"
                        }), h.body.appendChild(this));
                        R[G] = {
                            width: this.width,
                            height: this.height
                        };
                        H.imgwidth = this.width;
                        H.imgheight = this.height;
                        H.element && M();
                        this.parentNode && this.parentNode.removeChild(this);
                        m.imgCount--;
                        if (!m.imgCount && a && a.onload) a.onload()
                    },
                    src: G
                }), this.imgCount++));
                return H
            },
            symbols: {
                circle: function (a, g, r, d) {
                    return this.arc(a + r / 2, g + d / 2, r / 2, d / 2, {
                        start: 0,
                        end: 2 * Math.PI,
                        open: !1
                    })
                },
                square: function (a, g, r, d) {
                    return ["M", a, g, "L", a + r, g, a + r, g + d, a, g + d, "Z"]
                },
                triangle: function (a, g, r, d) {
                    return ["M", a + r / 2, g, "L", a + r, g + d, a, g + d, "Z"]
                },
                "triangle-down": function (a, g, r, d) {
                    return ["M", a, g, "L", a + r, g, a + r / 2, g + d, "Z"]
                },
                diamond: function (a, g, r, d) {
                    return ["M", a + r / 2, g, "L", a + r, g + d / 2, a + r / 2, g + d, a, g + d / 2, "Z"]
                },
                arc: function (a, g, r, d, b) {
                    var c = b.start,
                        m = b.r || r,
                        H = b.r || d || r,
                        k = b.end - .001;
                    r = b.innerR;
                    d = E(b.open,
                        .001 > Math.abs(b.end - b.start - 2 * Math.PI));
                    var h = Math.cos(c),
                        q = Math.sin(c),
                        A = Math.cos(k),
                        k = Math.sin(k);
                    b = .001 > b.end - c - Math.PI ? 0 : 1;
                    m = ["M", a + m * h, g + H * q, "A", m, H, 0, b, 1, a + m * A, g + H * k];
                    w(r) && m.push(d ? "M" : "L", a + r * A, g + r * k, "A", r, r, 0, b, 0, a + r * h, g + r * q);
                    m.push(d ? "" : "Z");
                    return m
                },
                callout: function (a, g, r, d, b) {
                    var c = Math.min(b && b.r || 0, r, d),
                        m = c + 6,
                        H = b && b.anchorX;
                    b = b && b.anchorY;
                    var k;
                    k = ["M", a + c, g, "L", a + r - c, g, "C", a + r, g, a + r, g, a + r, g + c, "L", a + r, g + d - c, "C", a + r, g + d, a + r, g + d, a + r - c, g + d, "L", a + c, g + d, "C", a, g + d, a, g + d, a, g + d - c, "L", a, g + c,
"C", a, g, a, g, a + c, g];
                    H && H > r ? b > g + m && b < g + d - m ? k.splice(13, 3, "L", a + r, b - 6, a + r + 6, b, a + r, b + 6, a + r, g + d - c) : k.splice(13, 3, "L", a + r, d / 2, H, b, a + r, d / 2, a + r, g + d - c) : H && 0 > H ? b > g + m && b < g + d - m ? k.splice(33, 3, "L", a, b + 6, a - 6, b, a, b - 6, a, g + c) : k.splice(33, 3, "L", a, d / 2, H, b, a, d / 2, a, g + c) : b && b > d && H > a + m && H < a + r - m ? k.splice(23, 3, "L", H + 6, g + d, H, g + d + 6, H - 6, g + d, a + c, g + d) : b && 0 > b && H > a + m && H < a + r - m && k.splice(3, 3, "L", H - 6, g, H, g - 6, H + 6, g, r - c, g);
                    return k
                }
            },
            clipRect: function (g, r, d, b) {
                var c = a.uniqueKey(),
                    m = this.createElement("clipPath").attr({
                        id: c
                    }).add(this.defs);
                g = this.rect(g, r, d, b, 0).add(m);
                g.id = c;
                g.clipPath = m;
                g.count = 0;
                return g
            },
            text: function (a, g, r, d) {
                var b = {};
                if (d && (this.allowHTML || !this.forExport)) return this.html(a, g, r);
                b.x = Math.round(g || 0);
                r && (b.y = Math.round(r));
                w(a) && (b.text = a);
                a = this.createElement("text").attr(b);
                d || (a.xSetter = function (a, g, r) {
                    var d = r.getElementsByTagName("tspan"),
                        b, c = r.getAttribute(g),
                        m;
                    for (m = 0; m < d.length; m++) b = d[m], b.getAttribute(g) === c && b.setAttribute(g, a);
                    r.setAttribute(g, a)
                });
                return a
            },
            fontMetrics: function (a, r) {
                a = a || r && r.style &&
                    r.style.fontSize || this.style && this.style.fontSize;
                a = /px/.test(a) ? g(a) : /em/.test(a) ? parseFloat(a) * (r ? this.fontMetrics(null, r.parentNode).f : 16) : 12;
                r = 24 > a ? a + 3 : Math.round(1.2 * a);
                return {
                    h: r,
                    b: Math.round(.8 * r),
                    f: a
                }
            },
            rotCorr: function (a, g, r) {
                var d = a;
                g && r && (d = Math.max(d * Math.cos(g * y), 4));
                return {
                    x: -a / 3 * Math.sin(g * y),
                    y: d
                }
            },
            label: function (g, d, b, c, m, H, h, q, A) {
                var v = this,
                    l = v.g("button" !== A && "label"),
                    M = l.text = v.text("", 0, 0, h).attr({
                        zIndex: 1
                    }),
                    O, z, e = 0,
                    B = 3,
                    R = 0,
                    f, y, t, D, J, E = {},
                    N, x, Q = /^url\((.*?)\)$/.test(c),
                    u = Q,
                    L, n,
                    P, T;
                A && l.addClass("highcharts-" + A);
                u = Q;
                L = function () {
                    return (N || 0) % 2 / 2
                };
                n = function () {
                    var a = M.element.style,
                        g = {};
                    z = (void 0 === f || void 0 === y || J) && w(M.textStr) && M.getBBox();
                    l.width = (f || z.width || 0) + 2 * B + R;
                    l.height = (y || z.height || 0) + 2 * B;
                    x = B + v.fontMetrics(a && a.fontSize, M).b;
                    u && (O || (l.box = O = v.symbols[c] || Q ? v.symbol(c) : v.rect(), O.addClass(("button" === A ? "" : "highcharts-label-box") + (A ? " highcharts-" + A + "-box" : "")), O.add(l), a = L(), g.x = a, g.y = (q ? -x : 0) + a), g.width = Math.round(l.width), g.height = Math.round(l.height), O.attr(k(g,
                        E)), E = {})
                };
                P = function () {
                    var a = R + B,
                        g;
                    g = q ? 0 : x;
                    w(f) && z && ("center" === J || "right" === J) && (a += {
                        center: .5,
                        right: 1
                    } [J] * (f - z.width));
                    if (a !== M.x || g !== M.y) M.attr("x", a), M.hasBoxWidthChanged && (z = M.getBBox(!0), n()), void 0 !== g && M.attr("y", g);
                    M.x = a;
                    M.y = g
                };
                T = function (a, g) {
                    O ? O.attr(a, g) : E[a] = g
                };
                l.onAdd = function () {
                    M.add(l);
                    l.attr({
                        text: g || 0 === g ? g : "",
                        x: d,
                        y: b
                    });
                    O && w(m) && l.attr({
                        anchorX: m,
                        anchorY: H
                    })
                };
                l.widthSetter = function (g) {
                    f = a.isNumber(g) ? g : null
                };
                l.heightSetter = function (a) {
                    y = a
                };
                l["text-alignSetter"] = function (a) {
                    J = a
                };
                l.paddingSetter = function (a) {
                    w(a) && a !== B && (B = l.padding = a, P())
                };
                l.paddingLeftSetter = function (a) {
                    w(a) && a !== R && (R = a, P())
                };
                l.alignSetter = function (a) {
                    a = {
                        left: 0,
                        center: .5,
                        right: 1
                    } [a];
                    a !== e && (e = a, z && l.attr({
                        x: t
                    }))
                };
                l.textSetter = function (a) {
                    void 0 !== a && M.textSetter(a);
                    n();
                    P()
                };
                l["stroke-widthSetter"] = function (a, g) {
                    a && (u = !0);
                    N = this["stroke-width"] = a;
                    T(g, a)
                };
                l.strokeSetter = l.fillSetter = l.rSetter = function (a, g) {
                    "r" !== g && ("fill" === g && a && (u = !0), l[g] = a);
                    T(g, a)
                };
                l.anchorXSetter = function (a, g) {
                    m = l.anchorX = a;
                    T(g, Math.round(a) -
                        L() - t)
                };
                l.anchorYSetter = function (a, g) {
                    H = l.anchorY = a;
                    T(g, a - D)
                };
                l.xSetter = function (a) {
                    l.x = a;
                    e && (a -= e * ((f || z.width) + 2 * B), l["forceAnimate:x"] = !0);
                    t = Math.round(a);
                    l.attr("translateX", t)
                };
                l.ySetter = function (a) {
                    D = l.y = Math.round(a);
                    l.attr("translateY", D)
                };
                var V = l.css;
                return k(l, {
                    css: function (a) {
                        if (a) {
                            var g = {};
                            a = G(a);
                            p(l.textProps, function (r) {
                                void 0 !== a[r] && (g[r] = a[r], delete a[r])
                            });
                            M.css(g);
                            "width" in g && n()
                        }
                        return V.call(l, a)
                    },
                    getBBox: function () {
                        return {
                            width: z.width + 2 * B,
                            height: z.height + 2 * B,
                            x: z.x - B,
                            y: z.y -
                                B
                        }
                    },
                    shadow: function (a) {
                        a && (n(), O && O.shadow(a));
                        return l
                    },
                    destroy: function () {
                        r(l.element, "mouseenter");
                        r(l.element, "mouseleave");
                        M && (M = M.destroy());
                        O && (O = O.destroy());
                        C.prototype.destroy.call(l);
                        l = v = n = P = T = null
                    }
                })
            }
        });
        a.Renderer = F
    })(K);
    (function (a) {
        var C = a.attr,
            F = a.createElement,
            I = a.css,
            n = a.defined,
            f = a.each,
            e = a.extend,
            u = a.isFirefox,
            x = a.isMS,
            t = a.isWebKit,
            w = a.pick,
            y = a.pInt,
            c = a.SVGRenderer,
            h = a.win,
            p = a.wrap;
        e(a.SVGElement.prototype, {
            htmlCss: function (a) {
                var c = "SPAN" === this.element.tagName && a && "width" in a,
                    d = w(c && a.width, void 0);
                c && (delete a.width, this.textWidth = d, this.htmlUpdateTransform());
                a && "ellipsis" === a.textOverflow && (a.whiteSpace = "nowrap", a.overflow = "hidden");
                this.styles = e(this.styles, a);
                I(this.element, a);
                return this
            },
            htmlGetBBox: function () {
                var a = this.element;
                return {
                    x: a.offsetLeft,
                    y: a.offsetTop,
                    width: a.offsetWidth,
                    height: a.offsetHeight
                }
            },
            htmlUpdateTransform: function () {
                if (this.added) {
                    var a = this.renderer,
                        c = this.element,
                        d = this.translateX || 0,
                        b = this.translateY || 0,
                        h = this.x || 0,
                        p = this.y || 0,
                        l = this.textAlign ||
                        "left",
                        e = {
                            left: 0,
                            center: .5,
                            right: 1
                        } [l],
                        B = this.styles,
                        t = B && B.whiteSpace;
                    I(c, {
                        marginLeft: d,
                        marginTop: b
                    });
                    this.shadows && f(this.shadows, function (a) {
                        I(a, {
                            marginLeft: d + 1,
                            marginTop: b + 1
                        })
                    });
                    this.inverted && f(c.childNodes, function (d) {
                        a.invertChild(d, c)
                    });
                    if ("SPAN" === c.tagName) {
                        var B = this.rotation,
                            m = this.textWidth && y(this.textWidth),
                            G = [B, l, c.innerHTML, this.textWidth, this.textAlign].join(),
                            A;
                        (A = m !== this.oldTextWidth) && !(A = m > this.oldTextWidth) && ((A = this.textPxLength) || (I(c, {
                                width: "",
                                whiteSpace: t || "nowrap"
                            }), A =
                            c.offsetWidth), A = A > m);
                        A && /[ \-]/.test(c.textContent || c.innerText) ? (I(c, {
                            width: m + "px",
                            display: "block",
                            whiteSpace: t || "normal"
                        }), this.oldTextWidth = m, this.hasBoxWidthChanged = !0) : this.hasBoxWidthChanged = !1;
                        G !== this.cTT && (t = a.fontMetrics(c.style.fontSize).b, !n(B) || B === (this.oldRotation || 0) && l === this.oldAlign || this.setSpanRotation(B, e, t), this.getSpanCorrection(!n(B) && this.textPxLength || c.offsetWidth, t, e, B, l));
                        I(c, {
                            left: h + (this.xCorr || 0) + "px",
                            top: p + (this.yCorr || 0) + "px"
                        });
                        this.cTT = G;
                        this.oldRotation = B;
                        this.oldAlign =
                            l
                    }
                } else this.alignOnAdd = !0
            },
            setSpanRotation: function (a, c, d) {
                var b = {},
                    k = this.renderer.getTransformKey();
                b[k] = b.transform = "rotate(" + a + "deg)";
                b[k + (u ? "Origin" : "-origin")] = b.transformOrigin = 100 * c + "% " + d + "px";
                I(this.element, b)
            },
            getSpanCorrection: function (a, c, d) {
                this.xCorr = -a * d;
                this.yCorr = -c
            }
        });
        e(c.prototype, {
            getTransformKey: function () {
                return x && !/Edge/.test(h.navigator.userAgent) ? "-ms-transform" : t ? "-webkit-transform" : u ? "MozTransform" : h.opera ? "-o-transform" : ""
            },
            html: function (a, c, d) {
                var b = this.createElement("span"),
                    k = b.element,
                    h = b.renderer,
                    l = h.isSVG,
                    q = function (a, d) {
                        f(["opacity", "visibility"], function (b) {
                            p(a, b + "Setter", function (a, b, c, m) {
                                a.call(this, b, c, m);
                                d[c] = b
                            })
                        });
                        a.addedSetters = !0
                    };
                b.textSetter = function (a) {
                    a !== k.innerHTML && delete this.bBox;
                    this.textStr = a;
                    k.innerHTML = w(a, "");
                    b.doTransform = !0
                };
                l && q(b, b.element.style);
                b.xSetter = b.ySetter = b.alignSetter = b.rotationSetter = function (a, d) {
                    "align" === d && (d = "textAlign");
                    b[d] = a;
                    b.doTransform = !0
                };
                b.afterSetters = function () {
                    this.doTransform && (this.htmlUpdateTransform(), this.doTransform = !1)
                };
                b.attr({
                    text: a,
                    x: Math.round(c),
                    y: Math.round(d)
                }).css({
                    fontFamily: this.style.fontFamily,
                    fontSize: this.style.fontSize,
                    position: "absolute"
                });
                k.style.whiteSpace = "nowrap";
                b.css = b.htmlCss;
                l && (b.add = function (a) {
                    var d, c = h.box.parentNode,
                        l = [];
                    if (this.parentGroup = a) {
                        if (d = a.div, !d) {
                            for (; a;) l.push(a), a = a.parentGroup;
                            f(l.reverse(), function (a) {
                                function m(g, d) {
                                    a[d] = g;
                                    "translateX" === d ? k.left = g + "px" : k.top = g + "px";
                                    a.doTransform = !0
                                }
                                var k, g = C(a.element, "class");
                                g && (g = {
                                    className: g
                                });
                                d = a.div = a.div || F("div", g, {
                                    position: "absolute",
                                    left: (a.translateX || 0) + "px",
                                    top: (a.translateY || 0) + "px",
                                    display: a.display,
                                    opacity: a.opacity,
                                    pointerEvents: a.styles && a.styles.pointerEvents
                                }, d || c);
                                k = d.style;
                                e(a, {
                                    classSetter: function (a) {
                                        return function (g) {
                                            this.element.setAttribute("class", g);
                                            a.className = g
                                        }
                                    }(d),
                                    on: function () {
                                        l[0].div && b.on.apply({
                                            element: l[0].div
                                        }, arguments);
                                        return a
                                    },
                                    translateXSetter: m,
                                    translateYSetter: m
                                });
                                a.addedSetters || q(a, k)
                            })
                        }
                    } else d = c;
                    d.appendChild(k);
                    b.added = !0;
                    b.alignOnAdd && b.htmlUpdateTransform();
                    return b
                });
                return b
            }
        })
    })(K);
    (function (a) {
        var C = a.defined,
            F = a.each,
            I = a.extend,
            n = a.merge,
            f = a.pick,
            e = a.timeUnits,
            u = a.win;
        a.Time = function (a) {
            this.update(a, !1)
        };
        a.Time.prototype = {
            defaultOptions: {},
            update: function (a) {
                var e = f(a && a.useUTC, !0),
                    w = this;
                this.options = a = n(!0, this.options || {}, a);
                this.Date = a.Date || u.Date;
                this.timezoneOffset = (this.useUTC = e) && a.timezoneOffset;
                this.getTimezoneOffset = this.timezoneOffsetFunction();
                (this.variableTimezone = !(e && !a.getTimezoneOffset && !a.timezone)) || this.timezoneOffset ? (this.get = function (a, c) {
                    var h =
                        c.getTime(),
                        p = h - w.getTimezoneOffset(c);
                    c.setTime(p);
                    a = c["getUTC" + a]();
                    c.setTime(h);
                    return a
                }, this.set = function (a, c, h) {
                    var p;
                    if ("Milliseconds" === a || "Seconds" === a || "Minutes" === a && 0 === c.getTimezoneOffset() % 60) c["set" + a](h);
                    else p = w.getTimezoneOffset(c), p = c.getTime() - p, c.setTime(p), c["setUTC" + a](h), a = w.getTimezoneOffset(c), p = c.getTime() + a, c.setTime(p)
                }) : e ? (this.get = function (a, c) {
                    return c["getUTC" + a]()
                }, this.set = function (a, c, h) {
                    return c["setUTC" + a](h)
                }) : (this.get = function (a, c) {
                        return c["get" + a]()
                    }, this.set =
                    function (a, c, h) {
                        return c["set" + a](h)
                    })
            },
            makeTime: function (e, t, w, y, c, h) {
                var p, k, q;
                this.useUTC ? (p = this.Date.UTC.apply(0, arguments), k = this.getTimezoneOffset(p), p += k, q = this.getTimezoneOffset(p), k !== q ? p += q - k : k - 36E5 !== this.getTimezoneOffset(p - 36E5) || a.isSafari || (p -= 36E5)) : p = (new this.Date(e, t, f(w, 1), f(y, 0), f(c, 0), f(h, 0))).getTime();
                return p
            },
            timezoneOffsetFunction: function () {
                var e = this,
                    f = this.options,
                    w = u.moment;
                if (!this.useUTC) return function (a) {
                    return 6E4 * (new Date(a)).getTimezoneOffset()
                };
                if (f.timezone) {
                    if (w) return function (a) {
                        return 6E4 *
                            -w.tz(a, f.timezone).utcOffset()
                    };
                    a.error(25)
                }
                return this.useUTC && f.getTimezoneOffset ? function (a) {
                    return 6E4 * f.getTimezoneOffset(a)
                } : function () {
                    return 6E4 * (e.timezoneOffset || 0)
                }
            },
            dateFormat: function (e, f, w) {
                if (!a.defined(f) || isNaN(f)) return a.defaultOptions.lang.invalidDate || "";
                e = a.pick(e, "%Y-%m-%d %H:%M:%S");
                var t = this,
                    c = new this.Date(f),
                    h = this.get("Hours", c),
                    p = this.get("Day", c),
                    k = this.get("Date", c),
                    q = this.get("Month", c),
                    d = this.get("FullYear", c),
                    b = a.defaultOptions.lang,
                    v = b.weekdays,
                    J = b.shortWeekdays,
                    l = a.pad,
                    c = a.extend({
                        a: J ? J[p] : v[p].substr(0, 3),
                        A: v[p],
                        d: l(k),
                        e: l(k, 2, " "),
                        w: p,
                        b: b.shortMonths[q],
                        B: b.months[q],
                        m: l(q + 1),
                        o: q + 1,
                        y: d.toString().substr(2, 2),
                        Y: d,
                        H: l(h),
                        k: h,
                        I: l(h % 12 || 12),
                        l: h % 12 || 12,
                        M: l(t.get("Minutes", c)),
                        p: 12 > h ? "AM" : "PM",
                        P: 12 > h ? "am" : "pm",
                        S: l(c.getSeconds()),
                        L: l(Math.floor(f % 1E3), 3)
                    }, a.dateFormats);
                a.objectEach(c, function (a, d) {
                    for (; - 1 !== e.indexOf("%" + d);) e = e.replace("%" + d, "function" === typeof a ? a.call(t, f) : a)
                });
                return w ? e.substr(0, 1).toUpperCase() + e.substr(1) : e
            },
            resolveDTLFormat: function (e) {
                return a.isObject(e,
                    !0) ? e : (e = a.splat(e), {
                    main: e[0],
                    from: e[1],
                    to: e[2]
                })
            },
            getTimeTicks: function (a, t, w, y) {
                var c = this,
                    h = [],
                    p, k = {},
                    q;
                p = new c.Date(t);
                var d = a.unitRange,
                    b = a.count || 1,
                    v;
                y = f(y, 1);
                if (C(t)) {
                    c.set("Milliseconds", p, d >= e.second ? 0 : b * Math.floor(c.get("Milliseconds", p) / b));
                    d >= e.second && c.set("Seconds", p, d >= e.minute ? 0 : b * Math.floor(c.get("Seconds", p) / b));
                    d >= e.minute && c.set("Minutes", p, d >= e.hour ? 0 : b * Math.floor(c.get("Minutes", p) / b));
                    d >= e.hour && c.set("Hours", p, d >= e.day ? 0 : b * Math.floor(c.get("Hours", p) / b));
                    d >= e.day && c.set("Date",
                        p, d >= e.month ? 1 : b * Math.floor(c.get("Date", p) / b));
                    d >= e.month && (c.set("Month", p, d >= e.year ? 0 : b * Math.floor(c.get("Month", p) / b)), q = c.get("FullYear", p));
                    d >= e.year && c.set("FullYear", p, q - q % b);
                    d === e.week && (q = c.get("Day", p), c.set("Date", p, c.get("Date", p) - q + y + (q < y ? -7 : 0)));
                    q = c.get("FullYear", p);
                    y = c.get("Month", p);
                    var J = c.get("Date", p),
                        l = c.get("Hours", p);
                    t = p.getTime();
                    c.variableTimezone && (v = w - t > 4 * e.month || c.getTimezoneOffset(t) !== c.getTimezoneOffset(w));
                    t = p.getTime();
                    for (p = 1; t < w;) h.push(t), t = d === e.year ? c.makeTime(q +
                        p * b, 0) : d === e.month ? c.makeTime(q, y + p * b) : !v || d !== e.day && d !== e.week ? v && d === e.hour && 1 < b ? c.makeTime(q, y, J, l + p * b) : t + d * b : c.makeTime(q, y, J + p * b * (d === e.day ? 1 : 7)), p++;
                    h.push(t);
                    d <= e.hour && 1E4 > h.length && F(h, function (a) {
                        0 === a % 18E5 && "000000000" === c.dateFormat("%H%M%S%L", a) && (k[a] = "day")
                    })
                }
                h.info = I(a, {
                    higherRanks: k,
                    totalRange: d * b
                });
                return h
            }
        }
    })(K);
    (function (a) {
        var C = a.color,
            F = a.merge;
        a.defaultOptions = {
            colors: "#7cb5ec #434348 #90ed7d #f7a35c #8085e9 #f15c80 #e4d354 #2b908f #f45b5b #91e8e1".split(" "),
            symbols: ["circle",
"diamond", "square", "triangle", "triangle-down"],
            lang: {
                loading: "Loading...",
                months: "January February March April May June July August September October November December".split(" "),
                shortMonths: "Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),
                weekdays: "Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),
                decimalPoint: ".",
                numericSymbols: "kMGTPE".split(""),
                resetZoom: "Reset zoom",
                resetZoomTitle: "Reset zoom level 1:1",
                thousandsSep: " "
            },
            global: {},
            time: a.Time.prototype.defaultOptions,
            chart: {
                borderRadius: 0,
                defaultSeriesType: "line",
                ignoreHiddenSeries: !0,
                spacing: [10, 10, 15, 10],
                resetZoomButton: {
                    theme: {
                        zIndex: 6
                    },
                    position: {
                        align: "right",
                        x: -10,
                        y: 10
                    }
                },
                width: null,
                height: null,
                borderColor: "#335cad",
                backgroundColor: "#ffffff",
                plotBorderColor: "#cccccc"
            },
            title: {
                text: "Chart title",
                align: "center",
                margin: 15,
                widthAdjust: -44
            },
            subtitle: {
                text: "",
                align: "center",
                widthAdjust: -44
            },
            plotOptions: {},
            labels: {
                style: {
                    position: "absolute",
                    color: "#333333"
                }
            },
            legend: {
                enabled: !0,
                align: "center",
                alignColumns: !0,
                layout: "horizontal",
                labelFormatter: function () {
                    return this.name
                },
                borderColor: "#999999",
                borderRadius: 0,
                navigation: {
                    activeColor: "#003399",
                    inactiveColor: "#cccccc"
                },
                itemStyle: {
                    color: "#333333",
                    fontSize: "12px",
                    fontWeight: "bold",
                    textOverflow: "ellipsis"
                },
                itemHoverStyle: {
                    color: "#000000"
                },
                itemHiddenStyle: {
                    color: "#cccccc"
                },
                shadow: !1,
                itemCheckboxStyle: {
                    position: "absolute",
                    width: "13px",
                    height: "13px"
                },
                squareSymbol: !0,
                symbolPadding: 5,
                verticalAlign: "bottom",
                x: 0,
                y: 0,
                title: {
                    style: {
                        fontWeight: "bold"
                    }
                }
            },
            loading: {
                labelStyle: {
                    fontWeight: "bold",
                    position: "relative",
                    top: "45%"
                },
                style: {
                    position: "absolute",
                    backgroundColor: "#ffffff",
                    opacity: .5,
                    textAlign: "center"
                }
            },
            tooltip: {
                enabled: !0,
                animation: a.svg,
                borderRadius: 3,
                dateTimeLabelFormats: {
                    millisecond: "%A, %b %e, %H:%M:%S.%L",
                    second: "%A, %b %e, %H:%M:%S",
                    minute: "%A, %b %e, %H:%M",
                    hour: "%A, %b %e, %H:%M",
                    day: "%A, %b %e, %Y",
                    week: "Week from %A, %b %e, %Y",
                    month: "%B %Y",
                    year: "%Y"
                },
                footerFormat: "",
                padding: 8,
                snap: a.isTouchDevice ? 25 : 10,
                backgroundColor: C("#f7f7f7").setOpacity(.85).get(),
                borderWidth: 1,
                headerFormat: '\x3cspan style\x3d"font-size: 10px"\x3e{point.key}\x3c/span\x3e\x3cbr/\x3e',
                pointFormat: '\x3cspan style\x3d"color:{point.color}"\x3e\u25cf\x3c/span\x3e {series.name}: \x3cb\x3e{point.y}\x3c/b\x3e\x3cbr/\x3e',
                shadow: !0,
                style: {
                    color: "#333333",
                    cursor: "default",
                    fontSize: "12px",
                    pointerEvents: "none",
                    whiteSpace: "nowrap"
                }
            },
            credits: {
                enabled: !0,
                href: "https://www.highcharts.com",
                position: {
                    align: "right",
                    x: -10,
                    verticalAlign: "bottom",
                    y: -5
                },
                style: {
                    cursor: "pointer",
                    color: "#999999",
                    fontSize: "9px"
                },
                text: "Highcharts.com"
            }
        };
        a.setOptions = function (C) {
            a.defaultOptions = F(!0, a.defaultOptions, C);
            a.time.update(F(a.defaultOptions.global, a.defaultOptions.time), !1);
            return a.defaultOptions
        };
        a.getOptions = function () {
            return a.defaultOptions
        };
        a.defaultPlotOptions = a.defaultOptions.plotOptions;
        a.time = new a.Time(F(a.defaultOptions.global, a.defaultOptions.time));
        a.dateFormat = function (C, n, f) {
            return a.time.dateFormat(C, n, f)
        }
    })(K);
    (function (a) {
        var C = a.correctFloat,
            F = a.defined,
            I = a.destroyObjectProperties,
            n = a.fireEvent,
            f = a.isNumber,
            e = a.merge,
            u = a.pick,
            x = a.deg2rad;
        a.Tick = function (a, e, f, c, h) {
            this.axis = a;
            this.pos =
                e;
            this.type = f || "";
            this.isNewLabel = this.isNew = !0;
            this.parameters = h || {};
            this.tickmarkOffset = this.parameters.tickmarkOffset;
            this.options = this.parameters.options;
            f || c || this.addLabel()
        };
        a.Tick.prototype = {
            addLabel: function () {
                var f = this,
                    w = f.axis,
                    y = w.options,
                    c = w.chart,
                    h = w.categories,
                    p = w.names,
                    k = f.pos,
                    q = u(f.options && f.options.labels, y.labels),
                    d = w.tickPositions,
                    b = k === d[0],
                    v = k === d[d.length - 1],
                    h = this.parameters.category || (h ? u(h[k], p[k], k) : k),
                    J = f.label,
                    d = d.info,
                    l, n, B, D;
                w.isDatetimeAxis && d && (n = c.time.resolveDTLFormat(y.dateTimeLabelFormats[!y.grid &&
                    d.higherRanks[k] || d.unitName]), l = n.main);
                f.isFirst = b;
                f.isLast = v;
                f.formatCtx = {
                    axis: w,
                    chart: c,
                    isFirst: b,
                    isLast: v,
                    dateTimeLabelFormat: l,
                    tickPositionInfo: d,
                    value: w.isLog ? C(w.lin2log(h)) : h,
                    pos: k
                };
                y = w.labelFormatter.call(f.formatCtx, this.formatCtx);
                if (D = n && n.list) f.shortenLabel = function () {
                    for (B = 0; B < D.length; B++)
                        if (J.attr({
                                text: w.labelFormatter.call(a.extend(f.formatCtx, {
                                    dateTimeLabelFormat: D[B]
                                }))
                            }), J.getBBox().width < w.getSlotWidth(f) - 2 * u(q.padding, 5)) return;
                    J.attr({
                        text: ""
                    })
                };
                if (F(J)) J && J.textStr !== y &&
                    (!J.textWidth || q.style && q.style.width || J.styles.width || J.css({
                        width: null
                    }), J.attr({
                        text: y
                    }));
                else {
                    if (f.label = J = F(y) && q.enabled ? c.renderer.text(y, 0, 0, q.useHTML).css(e(q.style)).add(w.labelGroup) : null) J.textPxLength = J.getBBox().width;
                    f.rotation = 0
                }
            },
            getLabelSize: function () {
                return this.label ? this.label.getBBox()[this.axis.horiz ? "height" : "width"] : 0
            },
            handleOverflow: function (a) {
                var e = this.axis,
                    f = e.options.labels,
                    c = a.x,
                    h = e.chart.chartWidth,
                    p = e.chart.spacing,
                    k = u(e.labelLeft, Math.min(e.pos, p[3])),
                    p = u(e.labelRight,
                        Math.max(e.isRadial ? 0 : e.pos + e.len, h - p[1])),
                    q = this.label,
                    d = this.rotation,
                    b = {
                        left: 0,
                        center: .5,
                        right: 1
                    } [e.labelAlign || q.attr("align")],
                    v = q.getBBox().width,
                    J = e.getSlotWidth(this),
                    l = J,
                    t = 1,
                    B, D = {};
                if (d || "justify" !== u(f.overflow, "justify")) 0 > d && c - b * v < k ? B = Math.round(c / Math.cos(d * x) - k) : 0 < d && c + b * v > p && (B = Math.round((h - c) / Math.cos(d * x)));
                else if (h = c + (1 - b) * v, c - b * v < k ? l = a.x + l * (1 - b) - k : h > p && (l = p - a.x + l * b, t = -1), l = Math.min(J, l), l < J && "center" === e.labelAlign && (a.x += t * (J - l - b * (J - Math.min(v, l)))), v > l || e.autoRotation && (q.styles || {}).width) B = l;
                B && (this.shortenLabel ? this.shortenLabel() : (D.width = B, (f.style || {}).textOverflow || (D.textOverflow = "ellipsis"), q.css(D)))
            },
            getPosition: function (e, f, y, c) {
                var h = this.axis,
                    p = h.chart,
                    k = c && p.oldChartHeight || p.chartHeight;
                e = {
                    x: e ? a.correctFloat(h.translate(f + y, null, null, c) + h.transB) : h.left + h.offset + (h.opposite ? (c && p.oldChartWidth || p.chartWidth) - h.right - h.left : 0),
                    y: e ? k - h.bottom + h.offset - (h.opposite ? h.height : 0) : a.correctFloat(k - h.translate(f + y, null, null, c) - h.transB)
                };
                n(this, "afterGetPosition", {
                    pos: e
                });
                return e
            },
            getLabelPosition: function (a, e, f, c, h, p, k, q) {
                var d = this.axis,
                    b = d.transA,
                    v = d.reversed,
                    J = d.staggerLines,
                    l = d.tickRotCorr || {
                        x: 0,
                        y: 0
                    },
                    t = h.y,
                    B = c || d.reserveSpaceDefault ? 0 : -d.labelOffset * ("center" === d.labelAlign ? .5 : 1),
                    D = {};
                F(t) || (t = 0 === d.side ? f.rotation ? -8 : -f.getBBox().height : 2 === d.side ? l.y + 8 : Math.cos(f.rotation * x) * (l.y - f.getBBox(!1, 0).height / 2));
                a = a + h.x + B + l.x - (p && c ? p * b * (v ? -1 : 1) : 0);
                e = e + t - (p && !c ? p * b * (v ? 1 : -1) : 0);
                J && (f = k / (q || 1) % J, d.opposite && (f = J - f - 1), e += d.labelOffset / J * f);
                D.x = a;
                D.y = Math.round(e);
                n(this, "afterGetLabelPosition", {
                    pos: D
                });
                return D
            },
            getMarkPath: function (a, e, f, c, h, p) {
                return p.crispLine(["M", a, e, "L", a + (h ? 0 : -f), e + (h ? f : 0)], c)
            },
            renderGridLine: function (a, e, f) {
                var c = this.axis,
                    h = c.options,
                    p = this.gridLine,
                    k = {},
                    q = this.pos,
                    d = this.type,
                    b = u(this.tickmarkOffset, c.tickmarkOffset),
                    v = c.chart.renderer,
                    J = d ? d + "Grid" : "grid",
                    l = h[J + "LineWidth"],
                    t = h[J + "LineColor"],
                    h = h[J + "LineDashStyle"];
                p || (k.stroke = t, k["stroke-width"] = l, h && (k.dashstyle = h), d || (k.zIndex = 1), a && (e = 0), this.gridLine = p = v.path().attr(k).addClass("highcharts-" +
                    (d ? d + "-" : "") + "grid-line").add(c.gridGroup));
                if (p && (f = c.getPlotLinePath(q + b, p.strokeWidth() * f, a, "pass"))) p[a || this.isNew ? "attr" : "animate"]({
                    d: f,
                    opacity: e
                })
            },
            renderMark: function (a, e, f) {
                var c = this.axis,
                    h = c.options,
                    p = c.chart.renderer,
                    k = this.type,
                    q = k ? k + "Tick" : "tick",
                    d = c.tickSize(q),
                    b = this.mark,
                    v = !b,
                    J = a.x;
                a = a.y;
                var l = u(h[q + "Width"], !k && c.isXAxis ? 1 : 0),
                    h = h[q + "Color"];
                d && (c.opposite && (d[0] = -d[0]), v && (this.mark = b = p.path().addClass("highcharts-" + (k ? k + "-" : "") + "tick").add(c.axisGroup), b.attr({
                        stroke: h,
                        "stroke-width": l
                    })),
                    b[v ? "attr" : "animate"]({
                        d: this.getMarkPath(J, a, d[0], b.strokeWidth() * f, c.horiz, p),
                        opacity: e
                    }))
            },
            renderLabel: function (a, e, y, c) {
                var h = this.axis,
                    p = h.horiz,
                    k = h.options,
                    q = this.label,
                    d = k.labels,
                    b = d.step,
                    h = u(this.tickmarkOffset, h.tickmarkOffset),
                    v = !0,
                    J = a.x;
                a = a.y;
                q && f(J) && (q.xy = a = this.getLabelPosition(J, a, q, p, d, h, c, b), this.isFirst && !this.isLast && !u(k.showFirstLabel, 1) || this.isLast && !this.isFirst && !u(k.showLastLabel, 1) ? v = !1 : !p || d.step || d.rotation || e || 0 === y || this.handleOverflow(a), b && c % b && (v = !1), v && f(a.y) ? (a.opacity =
                    y, q[this.isNewLabel ? "attr" : "animate"](a), this.isNewLabel = !1) : (q.attr("y", -9999), this.isNewLabel = !0))
            },
            render: function (e, f, y) {
                var c = this.axis,
                    h = c.horiz,
                    p = this.pos,
                    k = u(this.tickmarkOffset, c.tickmarkOffset),
                    p = this.getPosition(h, p, k, f),
                    k = p.x,
                    q = p.y,
                    c = h && k === c.pos + c.len || !h && q === c.pos ? -1 : 1;
                y = u(y, 1);
                this.isActive = !0;
                this.renderGridLine(f, y, c);
                this.renderMark(p, y, c);
                this.renderLabel(p, f, y, e);
                this.isNew = !1;
                a.fireEvent(this, "afterRender")
            },
            destroy: function () {
                I(this, this.axis)
            }
        }
    })(K);
    var W = function (a) {
        var C =
            a.addEvent,
            F = a.animObject,
            I = a.arrayMax,
            n = a.arrayMin,
            f = a.color,
            e = a.correctFloat,
            u = a.defaultOptions,
            x = a.defined,
            t = a.deg2rad,
            w = a.destroyObjectProperties,
            y = a.each,
            c = a.extend,
            h = a.fireEvent,
            p = a.format,
            k = a.getMagnitude,
            q = a.grep,
            d = a.inArray,
            b = a.isArray,
            v = a.isNumber,
            J = a.isString,
            l = a.merge,
            L = a.normalizeTickInterval,
            B = a.objectEach,
            D = a.pick,
            m = a.removeEvent,
            G = a.splat,
            A = a.syncTimeout,
            N = a.Tick,
            E = function () {
                this.init.apply(this, arguments)
            };
        a.extend(E.prototype, {
            defaultOptions: {
                dateTimeLabelFormats: {
                    millisecond: {
                        main: "%H:%M:%S.%L",
                        range: !1
                    },
                    second: {
                        main: "%H:%M:%S",
                        range: !1
                    },
                    minute: {
                        main: "%H:%M",
                        range: !1
                    },
                    hour: {
                        main: "%H:%M",
                        range: !1
                    },
                    day: {
                        main: "%e. %b"
                    },
                    week: {
                        main: "%e. %b"
                    },
                    month: {
                        main: "%b '%y"
                    },
                    year: {
                        main: "%Y"
                    }
                },
                endOnTick: !1,
                labels: {
                    enabled: !0,
                    indentation: 10,
                    x: 0,
                    style: {
                        color: "#666666",
                        cursor: "default",
                        fontSize: "11px"
                    }
                },
                maxPadding: .01,
                minorTickLength: 2,
                minorTickPosition: "outside",
                minPadding: .01,
                startOfWeek: 1,
                startOnTick: !1,
                tickLength: 10,
                tickPixelInterval: 100,
                tickmarkPlacement: "between",
                tickPosition: "outside",
                title: {
                    align: "middle",
                    style: {
                        color: "#666666"
                    }
                },
                type: "linear",
                minorGridLineColor: "#f2f2f2",
                minorGridLineWidth: 1,
                minorTickColor: "#999999",
                lineColor: "#ccd6eb",
                lineWidth: 1,
                gridLineColor: "#e6e6e6",
                tickColor: "#ccd6eb"
            },
            defaultYAxisOptions: {
                endOnTick: !0,
                maxPadding: .05,
                minPadding: .05,
                tickPixelInterval: 72,
                showLastLabel: !0,
                labels: {
                    x: -8
                },
                startOnTick: !0,
                title: {
                    rotation: 270,
                    text: "Values"
                },
                stackLabels: {
                    allowOverlap: !1,
                    enabled: !1,
                    formatter: function () {
                        return a.numberFormat(this.total, -1)
                    },
                    style: {
                        color: "#000000",
                        fontSize: "11px",
                        fontWeight: "bold",
                        textOutline: "1px contrast"
                    }
                },
                gridLineWidth: 1,
                lineWidth: 0
            },
            defaultLeftAxisOptions: {
                labels: {
                    x: -15
                },
                title: {
                    rotation: 270
                }
            },
            defaultRightAxisOptions: {
                labels: {
                    x: 15
                },
                title: {
                    rotation: 90
                }
            },
            defaultBottomAxisOptions: {
                labels: {
                    autoRotation: [-45],
                    x: 0
                },
                title: {
                    rotation: 0
                }
            },
            defaultTopAxisOptions: {
                labels: {
                    autoRotation: [-45],
                    x: 0
                },
                title: {
                    rotation: 0
                }
            },
            init: function (a, r) {
                var g = r.isX,
                    b = this;
                b.chart = a;
                b.horiz = a.inverted && !b.isZAxis ? !g : g;
                b.isXAxis = g;
                b.coll = b.coll || (g ? "xAxis" : "yAxis");
                h(this, "init", {
                    userOptions: r
                });
                b.opposite =
                    r.opposite;
                b.side = r.side || (b.horiz ? b.opposite ? 0 : 2 : b.opposite ? 1 : 3);
                b.setOptions(r);
                var c = this.options,
                    m = c.type;
                b.labelFormatter = c.labels.formatter || b.defaultLabelFormatter;
                b.userOptions = r;
                b.minPixelPadding = 0;
                b.reversed = c.reversed;
                b.visible = !1 !== c.visible;
                b.zoomEnabled = !1 !== c.zoomEnabled;
                b.hasNames = "category" === m || !0 === c.categories;
                b.categories = c.categories || b.hasNames;
                b.names || (b.names = [], b.names.keys = {});
                b.plotLinesAndBandsGroups = {};
                b.isLog = "logarithmic" === m;
                b.isDatetimeAxis = "datetime" === m;
                b.positiveValuesOnly =
                    b.isLog && !b.allowNegativeLog;
                b.isLinked = x(c.linkedTo);
                b.ticks = {};
                b.labelEdge = [];
                b.minorTicks = {};
                b.plotLinesAndBands = [];
                b.alternateBands = {};
                b.len = 0;
                b.minRange = b.userMinRange = c.minRange || c.maxZoom;
                b.range = c.range;
                b.offset = c.offset || 0;
                b.stacks = {};
                b.oldStacks = {};
                b.stacksTouched = 0;
                b.max = null;
                b.min = null;
                b.crosshair = D(c.crosshair, G(a.options.tooltip.crosshairs)[g ? 0 : 1], !1);
                r = b.options.events; - 1 === d(b, a.axes) && (g ? a.axes.splice(a.xAxis.length, 0, b) : a.axes.push(b), a[b.coll].push(b));
                b.series = b.series || [];
                a.inverted &&
                    !b.isZAxis && g && void 0 === b.reversed && (b.reversed = !0);
                B(r, function (a, g) {
                    C(b, g, a)
                });
                b.lin2log = c.linearToLogConverter || b.lin2log;
                b.isLog && (b.val2lin = b.log2lin, b.lin2val = b.lin2log);
                h(this, "afterInit")
            },
            setOptions: function (a) {
                this.options = l(this.defaultOptions, "yAxis" === this.coll && this.defaultYAxisOptions, [this.defaultTopAxisOptions, this.defaultRightAxisOptions, this.defaultBottomAxisOptions, this.defaultLeftAxisOptions][this.side], l(u[this.coll], a));
                h(this, "afterSetOptions", {
                    userOptions: a
                })
            },
            defaultLabelFormatter: function () {
                var g =
                    this.axis,
                    r = this.value,
                    b = g.chart.time,
                    d = g.categories,
                    c = this.dateTimeLabelFormat,
                    m = u.lang,
                    k = m.numericSymbols,
                    m = m.numericSymbolMagnitude || 1E3,
                    h = k && k.length,
                    l, q = g.options.labels.format,
                    g = g.isLog ? Math.abs(r) : g.tickInterval;
                if (q) l = p(q, this, b);
                else if (d) l = r;
                else if (c) l = b.dateFormat(c, r);
                else if (h && 1E3 <= g)
                    for (; h-- && void 0 === l;) b = Math.pow(m, h + 1), g >= b && 0 === 10 * r % b && null !== k[h] && 0 !== r && (l = a.numberFormat(r / b, -1) + k[h]);
                void 0 === l && (l = 1E4 <= Math.abs(r) ? a.numberFormat(r, -1) : a.numberFormat(r, -1, void 0, ""));
                return l
            },
            getSeriesExtremes: function () {
                var a = this,
                    r = a.chart;
                h(this, "getSeriesExtremes", null, function () {
                    a.hasVisibleSeries = !1;
                    a.dataMin = a.dataMax = a.threshold = null;
                    a.softThreshold = !a.isXAxis;
                    a.buildStacks && a.buildStacks();
                    y(a.series, function (g) {
                        if (g.visible || !r.options.chart.ignoreHiddenSeries) {
                            var b = g.options,
                                d = b.threshold,
                                c;
                            a.hasVisibleSeries = !0;
                            a.positiveValuesOnly && 0 >= d && (d = null);
                            if (a.isXAxis) b = g.xData, b.length && (g = n(b), c = I(b), v(g) || g instanceof Date || (b = q(b, v), g = n(b), c = I(b)), b.length && (a.dataMin = Math.min(D(a.dataMin,
                                b[0], g), g), a.dataMax = Math.max(D(a.dataMax, b[0], c), c)));
                            else if (g.getExtremes(), c = g.dataMax, g = g.dataMin, x(g) && x(c) && (a.dataMin = Math.min(D(a.dataMin, g), g), a.dataMax = Math.max(D(a.dataMax, c), c)), x(d) && (a.threshold = d), !b.softThreshold || a.positiveValuesOnly) a.softThreshold = !1
                        }
                    })
                });
                h(this, "afterGetSeriesExtremes")
            },
            translate: function (a, r, b, d, c, m) {
                var g = this.linkedParent || this,
                    k = 1,
                    H = 0,
                    l = d ? g.oldTransA : g.transA;
                d = d ? g.oldMin : g.min;
                var h = g.minPixelPadding;
                c = (g.isOrdinal || g.isBroken || g.isLog && c) && g.lin2val;
                l ||
                    (l = g.transA);
                b && (k *= -1, H = g.len);
                g.reversed && (k *= -1, H -= k * (g.sector || g.len));
                r ? (a = (a * k + H - h) / l + d, c && (a = g.lin2val(a))) : (c && (a = g.val2lin(a)), a = v(d) ? k * (a - d) * l + H + k * h + (v(m) ? l * m : 0) : void 0);
                return a
            },
            toPixels: function (a, r) {
                return this.translate(a, !1, !this.horiz, null, !0) + (r ? 0 : this.pos)
            },
            toValue: function (a, r) {
                return this.translate(a - (r ? 0 : this.pos), !0, !this.horiz, null, !0)
            },
            getPlotLinePath: function (a, r, b, d, c) {
                var g = this.chart,
                    m = this.left,
                    k = this.top,
                    H, l, h = b && g.oldChartHeight || g.chartHeight,
                    q = b && g.oldChartWidth ||
                    g.chartWidth,
                    A;
                H = this.transB;
                var e = function (a, g, r) {
                    if ("pass" !== d && a < g || a > r) d ? a = Math.min(Math.max(g, a), r) : A = !0;
                    return a
                };
                c = D(c, this.translate(a, null, null, b));
                c = Math.min(Math.max(-1E5, c), 1E5);
                a = b = Math.round(c + H);
                H = l = Math.round(h - c - H);
                v(c) ? this.horiz ? (H = k, l = h - this.bottom, a = b = e(a, m, m + this.width)) : (a = m, b = q - this.right, H = l = e(H, k, k + this.height)) : (A = !0, d = !1);
                return A && !d ? null : g.renderer.crispLine(["M", a, H, "L", b, l], r || 1)
            },
            getLinearTickPositions: function (a, r, b) {
                var g, d = e(Math.floor(r / a) * a);
                b = e(Math.ceil(b / a) *
                    a);
                var c = [],
                    m;
                e(d + a) === d && (m = 20);
                if (this.single) return [r];
                for (r = d; r <= b;) {
                    c.push(r);
                    r = e(r + a, m);
                    if (r === g) break;
                    g = r
                }
                return c
            },
            getMinorTickInterval: function () {
                var a = this.options;
                return !0 === a.minorTicks ? D(a.minorTickInterval, "auto") : !1 === a.minorTicks ? null : a.minorTickInterval
            },
            getMinorTickPositions: function () {
                var a = this,
                    r = a.options,
                    b = a.tickPositions,
                    d = a.minorTickInterval,
                    c = [],
                    m = a.pointRangePadding || 0,
                    k = a.min - m,
                    m = a.max + m,
                    l = m - k;
                if (l && l / d < a.len / 3)
                    if (a.isLog) y(this.paddedTicks, function (g, r, b) {
                        r && c.push.apply(c,
                            a.getLogTickPositions(d, b[r - 1], b[r], !0))
                    });
                    else if (a.isDatetimeAxis && "auto" === this.getMinorTickInterval()) c = c.concat(a.getTimeTicks(a.normalizeTimeTickInterval(d), k, m, r.startOfWeek));
                else
                    for (r = k + (b[0] - k) % d; r <= m && r !== c[0]; r += d) c.push(r);
                0 !== c.length && a.trimTicks(c);
                return c
            },
            adjustForMinRange: function () {
                var a = this.options,
                    r = this.min,
                    b = this.max,
                    d, c, m, k, l, h, q, v;
                this.isXAxis && void 0 === this.minRange && !this.isLog && (x(a.min) || x(a.max) ? this.minRange = null : (y(this.series, function (a) {
                    h = a.xData;
                    for (k = q = a.xIncrement ?
                        1 : h.length - 1; 0 < k; k--)
                        if (l = h[k] - h[k - 1], void 0 === m || l < m) m = l
                }), this.minRange = Math.min(5 * m, this.dataMax - this.dataMin)));
                b - r < this.minRange && (c = this.dataMax - this.dataMin >= this.minRange, v = this.minRange, d = (v - b + r) / 2, d = [r - d, D(a.min, r - d)], c && (d[2] = this.isLog ? this.log2lin(this.dataMin) : this.dataMin), r = I(d), b = [r + v, D(a.max, r + v)], c && (b[2] = this.isLog ? this.log2lin(this.dataMax) : this.dataMax), b = n(b), b - r < v && (d[0] = b - v, d[1] = D(a.min, b - v), r = I(d)));
                this.min = r;
                this.max = b
            },
            getClosest: function () {
                var a;
                this.categories ? a = 1 : y(this.series,
                    function (g) {
                        var r = g.closestPointRange,
                            b = g.visible || !g.chart.options.chart.ignoreHiddenSeries;
                        !g.noSharedTooltip && x(r) && b && (a = x(a) ? Math.min(a, r) : r)
                    });
                return a
            },
            nameToX: function (a) {
                var g = b(this.categories),
                    c = g ? this.categories : this.names,
                    m = a.options.x,
                    k;
                a.series.requireSorting = !1;
                x(m) || (m = !1 === this.options.uniqueNames ? a.series.autoIncrement() : g ? d(a.name, c) : D(c.keys[a.name], -1)); - 1 === m ? g || (k = c.length) : k = m;
                void 0 !== k && (this.names[k] = a.name, this.names.keys[a.name] = k);
                return k
            },
            updateNames: function () {
                var g =
                    this,
                    r = this.names;
                0 < r.length && (y(a.keys(r.keys), function (a) {
                    delete r.keys[a]
                }), r.length = 0, this.minRange = this.userMinRange, y(this.series || [], function (a) {
                    a.xIncrement = null;
                    if (!a.points || a.isDirtyData) a.processData(), a.generatePoints();
                    y(a.points, function (r, b) {
                        var d;
                        r.options && (d = g.nameToX(r), void 0 !== d && d !== r.x && (r.x = d, a.xData[b] = d))
                    })
                }))
            },
            setAxisTranslation: function (a) {
                var g = this,
                    b = g.max - g.min,
                    d = g.axisPointRange || 0,
                    c, m = 0,
                    k = 0,
                    l = g.linkedParent,
                    q = !!g.categories,
                    v = g.transA,
                    A = g.isXAxis;
                if (A || q || d) c = g.getClosest(),
                    l ? (m = l.minPointOffset, k = l.pointRangePadding) : y(g.series, function (a) {
                        var b = q ? 1 : A ? D(a.options.pointRange, c, 0) : g.axisPointRange || 0;
                        a = a.options.pointPlacement;
                        d = Math.max(d, b);
                        g.single || (m = Math.max(m, J(a) ? 0 : b / 2), k = Math.max(k, "on" === a ? 0 : b))
                    }), l = g.ordinalSlope && c ? g.ordinalSlope / c : 1, g.minPointOffset = m *= l, g.pointRangePadding = k *= l, g.pointRange = Math.min(d, b), A && (g.closestPointRange = c);
                a && (g.oldTransA = v);
                g.translationSlope = g.transA = v = g.staticScale || g.len / (b + k || 1);
                g.transB = g.horiz ? g.left : g.bottom;
                g.minPixelPadding =
                    v * m;
                h(this, "afterSetAxisTranslation")
            },
            minFromRange: function () {
                return this.max - this.range
            },
            setTickInterval: function (g) {
                var b = this,
                    d = b.chart,
                    c = b.options,
                    m = b.isLog,
                    l = b.isDatetimeAxis,
                    q = b.isXAxis,
                    A = b.isLinked,
                    p = c.maxPadding,
                    f = c.minPadding,
                    G = c.tickInterval,
                    B = c.tickPixelInterval,
                    J = b.categories,
                    E = v(b.threshold) ? b.threshold : null,
                    N = b.softThreshold,
                    w, t, u, n;
                l || J || A || this.getTickAmount();
                u = D(b.userMin, c.min);
                n = D(b.userMax, c.max);
                A ? (b.linkedParent = d[b.coll][c.linkedTo], d = b.linkedParent.getExtremes(), b.min = D(d.min,
                    d.dataMin), b.max = D(d.max, d.dataMax), c.type !== b.linkedParent.options.type && a.error(11, 1)) : (!N && x(E) && (b.dataMin >= E ? (w = E, f = 0) : b.dataMax <= E && (t = E, p = 0)), b.min = D(u, w, b.dataMin), b.max = D(n, t, b.dataMax));
                m && (b.positiveValuesOnly && !g && 0 >= Math.min(b.min, D(b.dataMin, b.min)) && a.error(10, 1), b.min = e(b.log2lin(b.min), 15), b.max = e(b.log2lin(b.max), 15));
                b.range && x(b.max) && (b.userMin = b.min = u = Math.max(b.dataMin, b.minFromRange()), b.userMax = n = b.max, b.range = null);
                h(b, "foundExtremes");
                b.beforePadding && b.beforePadding();
                b.adjustForMinRange();
                !(J || b.axisPointRange || b.usePercentage || A) && x(b.min) && x(b.max) && (d = b.max - b.min) && (!x(u) && f && (b.min -= d * f), !x(n) && p && (b.max += d * p));
                v(c.softMin) && !v(b.userMin) && (b.min = Math.min(b.min, c.softMin));
                v(c.softMax) && !v(b.userMax) && (b.max = Math.max(b.max, c.softMax));
                v(c.floor) && (b.min = Math.max(b.min, c.floor));
                v(c.ceiling) && (b.max = Math.min(b.max, c.ceiling));
                N && x(b.dataMin) && (E = E || 0, !x(u) && b.min < E && b.dataMin >= E ? b.min = E : !x(n) && b.max > E && b.dataMax <= E && (b.max = E));
                b.tickInterval = b.min === b.max ||
                    void 0 === b.min || void 0 === b.max ? 1 : A && !G && B === b.linkedParent.options.tickPixelInterval ? G = b.linkedParent.tickInterval : D(G, this.tickAmount ? (b.max - b.min) / Math.max(this.tickAmount - 1, 1) : void 0, J ? 1 : (b.max - b.min) * B / Math.max(b.len, B));
                q && !g && y(b.series, function (a) {
                    a.processData(b.min !== b.oldMin || b.max !== b.oldMax)
                });
                b.setAxisTranslation(!0);
                b.beforeSetTickPositions && b.beforeSetTickPositions();
                b.postProcessTickInterval && (b.tickInterval = b.postProcessTickInterval(b.tickInterval));
                b.pointRange && !G && (b.tickInterval =
                    Math.max(b.pointRange, b.tickInterval));
                g = D(c.minTickInterval, b.isDatetimeAxis && b.closestPointRange);
                !G && b.tickInterval < g && (b.tickInterval = g);
                l || m || G || (b.tickInterval = L(b.tickInterval, null, k(b.tickInterval), D(c.allowDecimals, !(.5 < b.tickInterval && 5 > b.tickInterval && 1E3 < b.max && 9999 > b.max)), !!this.tickAmount));
                this.tickAmount || (b.tickInterval = b.unsquish());
                this.setTickPositions()
            },
            setTickPositions: function () {
                var g = this.options,
                    b, d = g.tickPositions;
                b = this.getMinorTickInterval();
                var c = g.tickPositioner,
                    m =
                    g.startOnTick,
                    k = g.endOnTick;
                this.tickmarkOffset = this.categories && "between" === g.tickmarkPlacement && 1 === this.tickInterval ? .5 : 0;
                this.minorTickInterval = "auto" === b && this.tickInterval ? this.tickInterval / 5 : b;
                this.single = this.min === this.max && x(this.min) && !this.tickAmount && (parseInt(this.min, 10) === this.min || !1 !== g.allowDecimals);
                this.tickPositions = b = d && d.slice();
                !b && (!this.ordinalPositions && (this.max - this.min) / this.tickInterval > Math.max(2 * this.len, 200) ? (b = [this.min, this.max], a.error(19)) : b = this.isDatetimeAxis ?
                    this.getTimeTicks(this.normalizeTimeTickInterval(this.tickInterval, g.units), this.min, this.max, g.startOfWeek, this.ordinalPositions, this.closestPointRange, !0) : this.isLog ? this.getLogTickPositions(this.tickInterval, this.min, this.max) : this.getLinearTickPositions(this.tickInterval, this.min, this.max), b.length > this.len && (b = [b[0], b.pop()], b[0] === b[1] && (b.length = 1)), this.tickPositions = b, c && (c = c.apply(this, [this.min, this.max]))) && (this.tickPositions = b = c);
                this.paddedTicks = b.slice(0);
                this.trimTicks(b, m, k);
                this.isLinked ||
                    (this.single && 2 > b.length && (this.min -= .5, this.max += .5), d || c || this.adjustTickAmount());
                h(this, "afterSetTickPositions")
            },
            trimTicks: function (a, b, d) {
                var g = a[0],
                    c = a[a.length - 1],
                    m = this.minPointOffset || 0;
                if (!this.isLinked) {
                    if (b && -Infinity !== g) this.min = g;
                    else
                        for (; this.min - m > a[0];) a.shift();
                    if (d) this.max = c;
                    else
                        for (; this.max + m < a[a.length - 1];) a.pop();
                    0 === a.length && x(g) && !this.options.tickPositions && a.push((c + g) / 2)
                }
            },
            alignToOthers: function () {
                var a = {},
                    b, d = this.options;
                !1 === this.chart.options.chart.alignTicks ||
                    !1 === d.alignTicks || !1 === d.startOnTick || !1 === d.endOnTick || this.isLog || y(this.chart[this.coll], function (g) {
                        var d = g.options,
                            d = [g.horiz ? d.left : d.top, d.width, d.height, d.pane].join();
                        g.series.length && (a[d] ? b = !0 : a[d] = 1)
                    });
                return b
            },
            getTickAmount: function () {
                var a = this.options,
                    b = a.tickAmount,
                    d = a.tickPixelInterval;
                !x(a.tickInterval) && this.len < d && !this.isRadial && !this.isLog && a.startOnTick && a.endOnTick && (b = 2);
                !b && this.alignToOthers() && (b = Math.ceil(this.len / d) + 1);
                4 > b && (this.finalTickAmt = b, b = 5);
                this.tickAmount =
                    b
            },
            adjustTickAmount: function () {
                var a = this.tickInterval,
                    b = this.tickPositions,
                    d = this.tickAmount,
                    c = this.finalTickAmt,
                    m = b && b.length,
                    k = D(this.threshold, this.softThreshold ? 0 : null);
                if (this.hasData()) {
                    if (m < d) {
                        for (; b.length < d;) b.length % 2 || this.min === k ? b.push(e(b[b.length - 1] + a)) : b.unshift(e(b[0] - a));
                        this.transA *= (m - 1) / (d - 1);
                        this.min = b[0];
                        this.max = b[b.length - 1]
                    } else m > d && (this.tickInterval *= 2, this.setTickPositions());
                    if (x(c)) {
                        for (a = d = b.length; a--;)(3 === c && 1 === a % 2 || 2 >= c && 0 < a && a < d - 1) && b.splice(a, 1);
                        this.finalTickAmt =
                            void 0
                    }
                }
            },
            setScale: function () {
                var a, b;
                this.oldMin = this.min;
                this.oldMax = this.max;
                this.oldAxisLength = this.len;
                this.setAxisSize();
                b = this.len !== this.oldAxisLength;
                y(this.series, function (b) {
                    if (b.isDirtyData || b.isDirty || b.xAxis.isDirty) a = !0
                });
                b || a || this.isLinked || this.forceRedraw || this.userMin !== this.oldUserMin || this.userMax !== this.oldUserMax || this.alignToOthers() ? (this.resetStacks && this.resetStacks(), this.forceRedraw = !1, this.getSeriesExtremes(), this.setTickInterval(), this.oldUserMin = this.userMin, this.oldUserMax =
                    this.userMax, this.isDirty || (this.isDirty = b || this.min !== this.oldMin || this.max !== this.oldMax)) : this.cleanStacks && this.cleanStacks();
                h(this, "afterSetScale")
            },
            setExtremes: function (a, b, d, m, k) {
                var g = this,
                    r = g.chart;
                d = D(d, !0);
                y(g.series, function (a) {
                    delete a.kdTree
                });
                k = c(k, {
                    min: a,
                    max: b
                });
                h(g, "setExtremes", k, function () {
                    g.userMin = a;
                    g.userMax = b;
                    g.eventArgs = k;
                    d && r.redraw(m)
                })
            },
            zoom: function (a, b) {
                var g = this.dataMin,
                    d = this.dataMax,
                    c = this.options,
                    m = Math.min(g, D(c.min, g)),
                    c = Math.max(d, D(c.max, d));
                if (a !== this.min ||
                    b !== this.max) this.allowZoomOutside || (x(g) && (a < m && (a = m), a > c && (a = c)), x(d) && (b < m && (b = m), b > c && (b = c))), this.displayBtn = void 0 !== a || void 0 !== b, this.setExtremes(a, b, !1, void 0, {
                    trigger: "zoom"
                });
                return !0
            },
            setAxisSize: function () {
                var b = this.chart,
                    d = this.options,
                    c = d.offsets || [0, 0, 0, 0],
                    m = this.horiz,
                    k = this.width = Math.round(a.relativeLength(D(d.width, b.plotWidth - c[3] + c[1]), b.plotWidth)),
                    l = this.height = Math.round(a.relativeLength(D(d.height, b.plotHeight - c[0] + c[2]), b.plotHeight)),
                    h = this.top = Math.round(a.relativeLength(D(d.top,
                        b.plotTop + c[0]), b.plotHeight, b.plotTop)),
                    d = this.left = Math.round(a.relativeLength(D(d.left, b.plotLeft + c[3]), b.plotWidth, b.plotLeft));
                this.bottom = b.chartHeight - l - h;
                this.right = b.chartWidth - k - d;
                this.len = Math.max(m ? k : l, 0);
                this.pos = m ? d : h
            },
            getExtremes: function () {
                var a = this.isLog;
                return {
                    min: a ? e(this.lin2log(this.min)) : this.min,
                    max: a ? e(this.lin2log(this.max)) : this.max,
                    dataMin: this.dataMin,
                    dataMax: this.dataMax,
                    userMin: this.userMin,
                    userMax: this.userMax
                }
            },
            getThreshold: function (a) {
                var b = this.isLog,
                    g = b ? this.lin2log(this.min) :
                    this.min,
                    b = b ? this.lin2log(this.max) : this.max;
                null === a || -Infinity === a ? a = g : Infinity === a ? a = b : g > a ? a = g : b < a && (a = b);
                return this.translate(a, 0, 1, 0, 1)
            },
            autoLabelAlign: function (a) {
                a = (D(a, 0) - 90 * this.side + 720) % 360;
                return 15 < a && 165 > a ? "right" : 195 < a && 345 > a ? "left" : "center"
            },
            tickSize: function (a) {
                var b = this.options,
                    g = b[a + "Length"],
                    d = D(b[a + "Width"], "tick" === a && this.isXAxis ? 1 : 0);
                if (d && g) return "inside" === b[a + "Position"] && (g = -g), [g, d]
            },
            labelMetrics: function () {
                var a = this.tickPositions && this.tickPositions[0] || 0;
                return this.chart.renderer.fontMetrics(this.options.labels.style &&
                    this.options.labels.style.fontSize, this.ticks[a] && this.ticks[a].label)
            },
            unsquish: function () {
                var a = this.options.labels,
                    b = this.horiz,
                    d = this.tickInterval,
                    c = d,
                    m = this.len / (((this.categories ? 1 : 0) + this.max - this.min) / d),
                    k, l = a.rotation,
                    h = this.labelMetrics(),
                    q, v = Number.MAX_VALUE,
                    A, p = function (a) {
                        a /= m || 1;
                        a = 1 < a ? Math.ceil(a) : 1;
                        return e(a * d)
                    };
                b ? (A = !a.staggerLines && !a.step && (x(l) ? [l] : m < D(a.autoRotationLimit, 80) && a.autoRotation)) && y(A, function (a) {
                    var b;
                    if (a === l || a && -90 <= a && 90 >= a) q = p(Math.abs(h.h / Math.sin(t * a))), b =
                        q + Math.abs(a / 360), b < v && (v = b, k = a, c = q)
                }) : a.step || (c = p(h.h));
                this.autoRotation = A;
                this.labelRotation = D(k, l);
                return c
            },
            getSlotWidth: function (a) {
                var b = this.chart,
                    g = this.horiz,
                    d = this.options.labels,
                    c = Math.max(this.tickPositions.length - (this.categories ? 0 : 1), 1),
                    m = b.margin[3];
                return a && a.slotWidth || g && 2 > (d.step || 0) && !d.rotation && (this.staggerLines || 1) * this.len / c || !g && (d.style && parseInt(d.style.width, 10) || m && m - b.spacing[3] || .33 * b.chartWidth)
            },
            renderUnsquish: function () {
                var a = this.chart,
                    b = a.renderer,
                    d = this.tickPositions,
                    c = this.ticks,
                    m = this.options.labels,
                    k = m && m.style || {},
                    l = this.horiz,
                    h = this.getSlotWidth(),
                    q = Math.max(1, Math.round(h - 2 * (m.padding || 5))),
                    v = {},
                    A = this.labelMetrics(),
                    e = m.style && m.style.textOverflow,
                    p, f, G = 0,
                    B;
                J(m.rotation) || (v.rotation = m.rotation || 0);
                y(d, function (a) {
                    (a = c[a]) && a.label && a.label.textPxLength > G && (G = a.label.textPxLength)
                });
                this.maxLabelLength = G;
                if (this.autoRotation) G > q && G > A.h ? v.rotation = this.labelRotation : this.labelRotation = 0;
                else if (h && (p = q, !e))
                    for (f = "clip", q = d.length; !l && q--;)
                        if (B = d[q], B = c[B].label) B.styles &&
                            "ellipsis" === B.styles.textOverflow ? B.css({
                                textOverflow: "clip"
                            }) : B.textPxLength > h && B.css({
                                width: h + "px"
                            }), B.getBBox().height > this.len / d.length - (A.h - A.f) && (B.specificTextOverflow = "ellipsis");
                v.rotation && (p = G > .5 * a.chartHeight ? .33 * a.chartHeight : G, e || (f = "ellipsis"));
                if (this.labelAlign = m.align || this.autoLabelAlign(this.labelRotation)) v.align = this.labelAlign;
                y(d, function (a) {
                    var b = (a = c[a]) && a.label,
                        g = k.width,
                        d = {};
                    b && (b.attr(v), a.shortenLabel ? a.shortenLabel() : p && !g && "nowrap" !== k.whiteSpace && (p < b.textPxLength ||
                        "SPAN" === b.element.tagName) ? (d.width = p, e || (d.textOverflow = b.specificTextOverflow || f), b.css(d)) : b.styles && b.styles.width && !d.width && !g && b.css({
                        width: null
                    }), delete b.specificTextOverflow, a.rotation = v.rotation)
                }, this);
                this.tickRotCorr = b.rotCorr(A.b, this.labelRotation || 0, 0 !== this.side)
            },
            hasData: function () {
                return this.hasVisibleSeries || x(this.min) && x(this.max) && this.tickPositions && 0 < this.tickPositions.length
            },
            addTitle: function (a) {
                var b = this.chart.renderer,
                    g = this.horiz,
                    d = this.opposite,
                    c = this.options.title,
                    m;
                this.axisTitle || ((m = c.textAlign) || (m = (g ? {
                    low: "left",
                    middle: "center",
                    high: "right"
                } : {
                    low: d ? "right" : "left",
                    middle: "center",
                    high: d ? "left" : "right"
                })[c.align]), this.axisTitle = b.text(c.text, 0, 0, c.useHTML).attr({
                    zIndex: 7,
                    rotation: c.rotation || 0,
                    align: m
                }).addClass("highcharts-axis-title").css(l(c.style)).add(this.axisGroup), this.axisTitle.isNew = !0);
                c.style.width || this.isRadial || this.axisTitle.css({
                    width: this.len
                });
                this.axisTitle[a ? "show" : "hide"](!0)
            },
            generateTick: function (a) {
                var b = this.ticks;
                b[a] ? b[a].addLabel() :
                    b[a] = new N(this, a)
            },
            getOffset: function () {
                var a = this,
                    b = a.chart,
                    d = b.renderer,
                    c = a.options,
                    m = a.tickPositions,
                    k = a.ticks,
                    l = a.horiz,
                    q = a.side,
                    v = b.inverted && !a.isZAxis ? [1, 0, 3, 2][q] : q,
                    A, e, p = 0,
                    G, f = 0,
                    J = c.title,
                    E = c.labels,
                    N = 0,
                    w = b.axisOffset,
                    b = b.clipOffset,
                    t = [-1, 1, 1, -1][q],
                    u = c.className,
                    n = a.axisParent;
                A = a.hasData();
                a.showAxis = e = A || D(c.showEmpty, !0);
                a.staggerLines = a.horiz && E.staggerLines;
                a.axisGroup || (a.gridGroup = d.g("grid").attr({
                    zIndex: c.gridZIndex || 1
                }).addClass("highcharts-" + this.coll.toLowerCase() + "-grid " +
                    (u || "")).add(n), a.axisGroup = d.g("axis").attr({
                    zIndex: c.zIndex || 2
                }).addClass("highcharts-" + this.coll.toLowerCase() + " " + (u || "")).add(n), a.labelGroup = d.g("axis-labels").attr({
                    zIndex: E.zIndex || 7
                }).addClass("highcharts-" + a.coll.toLowerCase() + "-labels " + (u || "")).add(n));
                A || a.isLinked ? (y(m, function (b, g) {
                    a.generateTick(b, g)
                }), a.renderUnsquish(), a.reserveSpaceDefault = 0 === q || 2 === q || {
                    1: "left",
                    3: "right"
                } [q] === a.labelAlign, D(E.reserveSpace, "center" === a.labelAlign ? !0 : null, a.reserveSpaceDefault) && y(m, function (a) {
                    N =
                        Math.max(k[a].getLabelSize(), N)
                }), a.staggerLines && (N *= a.staggerLines), a.labelOffset = N * (a.opposite ? -1 : 1)) : B(k, function (a, b) {
                    a.destroy();
                    delete k[b]
                });
                J && J.text && !1 !== J.enabled && (a.addTitle(e), e && !1 !== J.reserveSpace && (a.titleOffset = p = a.axisTitle.getBBox()[l ? "height" : "width"], G = J.offset, f = x(G) ? 0 : D(J.margin, l ? 5 : 10)));
                a.renderLine();
                a.offset = t * D(c.offset, w[q]);
                a.tickRotCorr = a.tickRotCorr || {
                    x: 0,
                    y: 0
                };
                d = 0 === q ? -a.labelMetrics().h : 2 === q ? a.tickRotCorr.y : 0;
                f = Math.abs(N) + f;
                N && (f = f - d + t * (l ? D(E.y, a.tickRotCorr.y +
                    8 * t) : E.x));
                a.axisTitleMargin = D(G, f);
                a.getMaxLabelDimensions && (a.maxLabelDimensions = a.getMaxLabelDimensions(k, m));
                l = this.tickSize("tick");
                w[q] = Math.max(w[q], a.axisTitleMargin + p + t * a.offset, f, A && m.length && l ? l[0] + t * a.offset : 0);
                c = c.offset ? 0 : 2 * Math.floor(a.axisLine.strokeWidth() / 2);
                b[v] = Math.max(b[v], c);
                h(this, "afterGetOffset")
            },
            getLinePath: function (a) {
                var b = this.chart,
                    g = this.opposite,
                    d = this.offset,
                    c = this.horiz,
                    m = this.left + (g ? this.width : 0) + d,
                    d = b.chartHeight - this.bottom - (g ? this.height : 0) + d;
                g && (a *= -1);
                return b.renderer.crispLine(["M",
c ? this.left : m, c ? d : this.top, "L", c ? b.chartWidth - this.right : m, c ? d : b.chartHeight - this.bottom], a)
            },
            renderLine: function () {
                this.axisLine || (this.axisLine = this.chart.renderer.path().addClass("highcharts-axis-line").add(this.axisGroup), this.axisLine.attr({
                    stroke: this.options.lineColor,
                    "stroke-width": this.options.lineWidth,
                    zIndex: 7
                }))
            },
            getTitlePosition: function () {
                var a = this.horiz,
                    b = this.left,
                    d = this.top,
                    c = this.len,
                    m = this.options.title,
                    k = a ? b : d,
                    l = this.opposite,
                    h = this.offset,
                    q = m.x || 0,
                    v = m.y || 0,
                    A = this.axisTitle,
                    e =
                    this.chart.renderer.fontMetrics(m.style && m.style.fontSize, A),
                    A = Math.max(A.getBBox(null, 0).height - e.h - 1, 0),
                    c = {
                        low: k + (a ? 0 : c),
                        middle: k + c / 2,
                        high: k + (a ? c : 0)
                    } [m.align],
                    b = (a ? d + this.height : b) + (a ? 1 : -1) * (l ? -1 : 1) * this.axisTitleMargin + [-A, A, e.f, -A][this.side];
                return {
                    x: a ? c + q : b + (l ? this.width : 0) + h + q,
                    y: a ? b + v - (l ? this.height : 0) + h : c + v
                }
            },
            renderMinorTick: function (a) {
                var b = this.chart.hasRendered && v(this.oldMin),
                    d = this.minorTicks;
                d[a] || (d[a] = new N(this, a, "minor"));
                b && d[a].isNew && d[a].render(null, !0);
                d[a].render(null, !1,
                    1)
            },
            renderTick: function (a, b) {
                var d = this.isLinked,
                    g = this.ticks,
                    c = this.chart.hasRendered && v(this.oldMin);
                if (!d || a >= this.min && a <= this.max) g[a] || (g[a] = new N(this, a)), c && g[a].isNew && g[a].render(b, !0, -1), g[a].render(b)
            },
            render: function () {
                var b = this,
                    d = b.chart,
                    c = b.options,
                    m = b.isLog,
                    k = b.isLinked,
                    l = b.tickPositions,
                    q = b.axisTitle,
                    e = b.ticks,
                    p = b.minorTicks,
                    f = b.alternateBands,
                    G = c.stackLabels,
                    J = c.alternateGridColor,
                    E = b.tickmarkOffset,
                    D = b.axisLine,
                    t = b.showAxis,
                    w = F(d.renderer.globalAnimation),
                    u, n;
                b.labelEdge.length =
                    0;
                b.overlap = !1;
                y([e, p, f], function (a) {
                    B(a, function (a) {
                        a.isActive = !1
                    })
                });
                if (b.hasData() || k) b.minorTickInterval && !b.categories && y(b.getMinorTickPositions(), function (a) {
                    b.renderMinorTick(a)
                }), l.length && (y(l, function (a, d) {
                    b.renderTick(a, d)
                }), E && (0 === b.min || b.single) && (e[-1] || (e[-1] = new N(b, -1, null, !0)), e[-1].render(-1))), J && y(l, function (c, g) {
                    n = void 0 !== l[g + 1] ? l[g + 1] + E : b.max - E;
                    0 === g % 2 && c < b.max && n <= b.max + (d.polar ? -E : E) && (f[c] || (f[c] = new a.PlotLineOrBand(b)), u = c + E, f[c].options = {
                        from: m ? b.lin2log(u) : u,
                        to: m ?
                            b.lin2log(n) : n,
                        color: J
                    }, f[c].render(), f[c].isActive = !0)
                }), b._addedPlotLB || (y((c.plotLines || []).concat(c.plotBands || []), function (a) {
                    b.addPlotBandOrLine(a)
                }), b._addedPlotLB = !0);
                y([e, p, f], function (a) {
                    var b, c = [],
                        g = w.duration;
                    B(a, function (a, b) {
                        a.isActive || (a.render(b, !1, 0), a.isActive = !1, c.push(b))
                    });
                    A(function () {
                        for (b = c.length; b--;) a[c[b]] && !a[c[b]].isActive && (a[c[b]].destroy(), delete a[c[b]])
                    }, a !== f && d.hasRendered && g ? g : 0)
                });
                D && (D[D.isPlaced ? "animate" : "attr"]({
                    d: this.getLinePath(D.strokeWidth())
                }), D.isPlaced = !0, D[t ? "show" : "hide"](!0));
                q && t && (c = b.getTitlePosition(), v(c.y) ? (q[q.isNew ? "attr" : "animate"](c), q.isNew = !1) : (q.attr("y", -9999), q.isNew = !0));
                G && G.enabled && b.renderStackTotals();
                b.isDirty = !1;
                h(this, "afterRender")
            },
            redraw: function () {
                this.visible && (this.render(), y(this.plotLinesAndBands, function (a) {
                    a.render()
                }));
                y(this.series, function (a) {
                    a.isDirty = !0
                })
            },
            keepProps: "extKey hcEvents names series userMax userMin".split(" "),
            destroy: function (a) {
                var b = this,
                    c = b.stacks,
                    g = b.plotLinesAndBands,
                    k;
                h(this, "destroy", {
                    keepEvents: a
                });
                a || m(b);
                B(c, function (a, b) {
                    w(a);
                    c[b] = null
                });
                y([b.ticks, b.minorTicks, b.alternateBands], function (a) {
                    w(a)
                });
                if (g)
                    for (a = g.length; a--;) g[a].destroy();
                y("stackTotalGroup axisLine axisTitle axisGroup gridGroup labelGroup cross scrollbar".split(" "), function (a) {
                    b[a] && (b[a] = b[a].destroy())
                });
                for (k in b.plotLinesAndBandsGroups) b.plotLinesAndBandsGroups[k] = b.plotLinesAndBandsGroups[k].destroy();
                B(b, function (a, c) {
                    -1 === d(c, b.keepProps) && delete b[c]
                })
            },
            drawCrosshair: function (a, b) {
                var d, c = this.crosshair,
                    g = D(c.snap, !0),
                    m, k = this.cross;
                h(this, "drawCrosshair", {
                    e: a,
                    point: b
                });
                a || (a = this.cross && this.cross.e);
                if (this.crosshair && !1 !== (x(b) || !g)) {
                    g ? x(b) && (m = D(b.crosshairPos, this.isXAxis ? b.plotX : this.len - b.plotY)) : m = a && (this.horiz ? a.chartX - this.pos : this.len - a.chartY + this.pos);
                    x(m) && (d = this.getPlotLinePath(b && (this.isXAxis ? b.x : D(b.stackY, b.y)), null, null, null, m) || null);
                    if (!x(d)) {
                        this.hideCrosshair();
                        return
                    }
                    g = this.categories && !this.isRadial;
                    k || (this.cross = k = this.chart.renderer.path().addClass("highcharts-crosshair highcharts-crosshair-" +
                        (g ? "category " : "thin ") + c.className).attr({
                        zIndex: D(c.zIndex, 2)
                    }).add(), k.attr({
                        stroke: c.color || (g ? f("#ccd6eb").setOpacity(.25).get() : "#cccccc"),
                        "stroke-width": D(c.width, 1)
                    }).css({
                        "pointer-events": "none"
                    }), c.dashStyle && k.attr({
                        dashstyle: c.dashStyle
                    }));
                    k.show().attr({
                        d: d
                    });
                    g && !c.width && k.attr({
                        "stroke-width": this.transA
                    });
                    this.cross.e = a
                } else this.hideCrosshair();
                h(this, "afterDrawCrosshair", {
                    e: a,
                    point: b
                })
            },
            hideCrosshair: function () {
                this.cross && this.cross.hide()
            }
        });
        return a.Axis = E
    }(K);
    (function (a) {
        var C =
            a.Axis,
            F = a.getMagnitude,
            I = a.normalizeTickInterval,
            n = a.timeUnits;
        C.prototype.getTimeTicks = function () {
            return this.chart.time.getTimeTicks.apply(this.chart.time, arguments)
        };
        C.prototype.normalizeTimeTickInterval = function (a, e) {
            var f = e || [["millisecond", [1, 2, 5, 10, 20, 25, 50, 100, 200, 500]], ["second", [1, 2, 5, 10, 15, 30]], ["minute", [1, 2, 5, 10, 15, 30]], ["hour", [1, 2, 3, 4, 6, 8, 12]], ["day", [1, 2]], ["week", [1, 2]], ["month", [1, 2, 3, 4, 6]], ["year", null]];
            e = f[f.length - 1];
            var x = n[e[0]],
                t = e[1],
                w;
            for (w = 0; w < f.length && !(e = f[w], x = n[e[0]],
                    t = e[1], f[w + 1] && a <= (x * t[t.length - 1] + n[f[w + 1][0]]) / 2); w++);
            x === n.year && a < 5 * x && (t = [1, 2, 5]);
            a = I(a / x, t, "year" === e[0] ? Math.max(F(a / x), 1) : 1);
            return {
                unitRange: x,
                count: a,
                unitName: e[0]
            }
        }
    })(K);
    (function (a) {
        var C = a.Axis,
            F = a.getMagnitude,
            I = a.map,
            n = a.normalizeTickInterval,
            f = a.pick;
        C.prototype.getLogTickPositions = function (a, u, x, t) {
            var e = this.options,
                y = this.len,
                c = [];
            t || (this._minorAutoInterval = null);
            if (.5 <= a) a = Math.round(a), c = this.getLinearTickPositions(a, u, x);
            else if (.08 <= a)
                for (var y = Math.floor(u), h, p, k, q, d, e = .3 <
                        a ? [1, 2, 4] : .15 < a ? [1, 2, 4, 6, 8] : [1, 2, 3, 4, 5, 6, 7, 8, 9]; y < x + 1 && !d; y++)
                    for (p = e.length, h = 0; h < p && !d; h++) k = this.log2lin(this.lin2log(y) * e[h]), k > u && (!t || q <= x) && void 0 !== q && c.push(q), q > x && (d = !0), q = k;
            else u = this.lin2log(u), x = this.lin2log(x), a = t ? this.getMinorTickInterval() : e.tickInterval, a = f("auto" === a ? null : a, this._minorAutoInterval, e.tickPixelInterval / (t ? 5 : 1) * (x - u) / ((t ? y / this.tickPositions.length : y) || 1)), a = n(a, null, F(a)), c = I(this.getLinearTickPositions(a, u, x), this.log2lin), t || (this._minorAutoInterval = a / 5);
            t || (this.tickInterval =
                a);
            return c
        };
        C.prototype.log2lin = function (a) {
            return Math.log(a) / Math.LN10
        };
        C.prototype.lin2log = function (a) {
            return Math.pow(10, a)
        }
    })(K);
    (function (a, C) {
        var F = a.arrayMax,
            I = a.arrayMin,
            n = a.defined,
            f = a.destroyObjectProperties,
            e = a.each,
            u = a.erase,
            x = a.merge,
            t = a.pick;
        a.PlotLineOrBand = function (a, e) {
            this.axis = a;
            e && (this.options = e, this.id = e.id)
        };
        a.PlotLineOrBand.prototype = {
            render: function () {
                a.fireEvent(this, "render");
                var e = this,
                    f = e.axis,
                    c = f.horiz,
                    h = e.options,
                    p = h.label,
                    k = e.label,
                    q = h.to,
                    d = h.from,
                    b = h.value,
                    v = n(d) &&
                    n(q),
                    J = n(b),
                    l = e.svgElem,
                    u = !l,
                    B = [],
                    D = h.color,
                    m = t(h.zIndex, 0),
                    G = h.events,
                    B = {
                        "class": "highcharts-plot-" + (v ? "band " : "line ") + (h.className || "")
                    },
                    A = {},
                    N = f.chart.renderer,
                    E = v ? "bands" : "lines";
                f.isLog && (d = f.log2lin(d), q = f.log2lin(q), b = f.log2lin(b));
                J ? (B.stroke = D, B["stroke-width"] = h.width, h.dashStyle && (B.dashstyle = h.dashStyle)) : v && (D && (B.fill = D), h.borderWidth && (B.stroke = h.borderColor, B["stroke-width"] = h.borderWidth));
                A.zIndex = m;
                E += "-" + m;
                (D = f.plotLinesAndBandsGroups[E]) || (f.plotLinesAndBandsGroups[E] = D = N.g("plot-" +
                    E).attr(A).add());
                u && (e.svgElem = l = N.path().attr(B).add(D));
                if (J) B = f.getPlotLinePath(b, l.strokeWidth());
                else if (v) B = f.getPlotBandPath(d, q, h);
                else return;
                u && B && B.length ? (l.attr({
                    d: B
                }), G && a.objectEach(G, function (a, b) {
                    l.on(b, function (a) {
                        G[b].apply(e, [a])
                    })
                })) : l && (B ? (l.show(), l.animate({
                    d: B
                })) : (l.hide(), k && (e.label = k = k.destroy())));
                p && n(p.text) && B && B.length && 0 < f.width && 0 < f.height && !B.isFlat ? (p = x({
                        align: c && v && "center",
                        x: c ? !v && 4 : 10,
                        verticalAlign: !c && v && "middle",
                        y: c ? v ? 16 : 10 : v ? 6 : -4,
                        rotation: c && !v && 90
                    }, p),
                    this.renderLabel(p, B, v, m)) : k && k.hide();
                return e
            },
            renderLabel: function (a, e, c, h) {
                var p = this.label,
                    k = this.axis.chart.renderer;
                p || (p = {
                    align: a.textAlign || a.align,
                    rotation: a.rotation,
                    "class": "highcharts-plot-" + (c ? "band" : "line") + "-label " + (a.className || "")
                }, p.zIndex = h, this.label = p = k.text(a.text, 0, 0, a.useHTML).attr(p).add(), p.css(a.style));
                h = e.xBounds || [e[1], e[4], c ? e[6] : e[1]];
                e = e.yBounds || [e[2], e[5], c ? e[7] : e[2]];
                c = I(h);
                k = I(e);
                p.align(a, !1, {
                    x: c,
                    y: k,
                    width: F(h) - c,
                    height: F(e) - k
                });
                p.show()
            },
            destroy: function () {
                u(this.axis.plotLinesAndBands,
                    this);
                delete this.axis;
                f(this)
            }
        };
        a.extend(C.prototype, {
            getPlotBandPath: function (a, e) {
                var c = this.getPlotLinePath(e, null, null, !0),
                    h = this.getPlotLinePath(a, null, null, !0),
                    p = [],
                    k = this.horiz,
                    q = 1,
                    d;
                a = a < this.min && e < this.min || a > this.max && e > this.max;
                if (h && c)
                    for (a && (d = h.toString() === c.toString(), q = 0), a = 0; a < h.length; a += 6) k && c[a + 1] === h[a + 1] ? (c[a + 1] += q, c[a + 4] += q) : k || c[a + 2] !== h[a + 2] || (c[a + 2] += q, c[a + 5] += q), p.push("M", h[a + 1], h[a + 2], "L", h[a + 4], h[a + 5], c[a + 4], c[a + 5], c[a + 1], c[a + 2], "z"), p.isFlat = d;
                return p
            },
            addPlotBand: function (a) {
                return this.addPlotBandOrLine(a,
                    "plotBands")
            },
            addPlotLine: function (a) {
                return this.addPlotBandOrLine(a, "plotLines")
            },
            addPlotBandOrLine: function (e, f) {
                var c = (new a.PlotLineOrBand(this, e)).render(),
                    h = this.userOptions;
                c && (f && (h[f] = h[f] || [], h[f].push(e)), this.plotLinesAndBands.push(c));
                return c
            },
            removePlotBandOrLine: function (a) {
                for (var f = this.plotLinesAndBands, c = this.options, h = this.userOptions, p = f.length; p--;) f[p].id === a && f[p].destroy();
                e([c.plotLines || [], h.plotLines || [], c.plotBands || [], h.plotBands || []], function (c) {
                    for (p = c.length; p--;) c[p].id ===
                        a && u(c, c[p])
                })
            },
            removePlotBand: function (a) {
                this.removePlotBandOrLine(a)
            },
            removePlotLine: function (a) {
                this.removePlotBandOrLine(a)
            }
        })
    })(K, W);
    (function (a) {
        var C = a.doc,
            F = a.each,
            I = a.extend,
            n = a.format,
            f = a.isNumber,
            e = a.map,
            u = a.merge,
            x = a.pick,
            t = a.splat,
            w = a.syncTimeout,
            y = a.timeUnits;
        a.Tooltip = function () {
            this.init.apply(this, arguments)
        };
        a.Tooltip.prototype = {
            init: function (a, h) {
                this.chart = a;
                this.options = h;
                this.crosshairs = [];
                this.now = {
                    x: 0,
                    y: 0
                };
                this.isHidden = !0;
                this.split = h.split && !a.inverted;
                this.shared = h.shared ||
                    this.split;
                this.outside = h.outside && !this.split
            },
            cleanSplit: function (a) {
                F(this.chart.series, function (c) {
                    var h = c && c.tt;
                    h && (!h.isActive || a ? c.tt = h.destroy() : h.isActive = !1)
                })
            },
            getLabel: function () {
                var c = this.chart.renderer,
                    h = this.options,
                    e;
                this.label || (this.outside && (this.container = e = a.doc.createElement("div"), e.className = "highcharts-tooltip-container", a.css(e, {
                        position: "absolute",
                        top: "1px",
                        pointerEvents: h.style && h.style.pointerEvents
                    }), a.doc.body.appendChild(e), this.renderer = c = new a.Renderer(e, 0, 0)), this.split ?
                    this.label = c.g("tooltip") : (this.label = c.label("", 0, 0, h.shape || "callout", null, null, h.useHTML, null, "tooltip").attr({
                        padding: h.padding,
                        r: h.borderRadius
                    }), this.label.attr({
                        fill: h.backgroundColor,
                        "stroke-width": h.borderWidth
                    }).css(h.style).shadow(h.shadow)), this.outside && (this.label.attr({
                        x: this.distance,
                        y: this.distance
                    }), this.label.xSetter = function (a) {
                        e.style.left = a + "px"
                    }, this.label.ySetter = function (a) {
                        e.style.top = a + "px"
                    }), this.label.attr({
                        zIndex: 8
                    }).add());
                return this.label
            },
            update: function (a) {
                this.destroy();
                u(!0, this.chart.options.tooltip.userOptions, a);
                this.init(this.chart, u(!0, this.options, a))
            },
            destroy: function () {
                this.label && (this.label = this.label.destroy());
                this.split && this.tt && (this.cleanSplit(this.chart, !0), this.tt = this.tt.destroy());
                this.renderer && (this.renderer = this.renderer.destroy(), a.discardElement(this.container));
                a.clearTimeout(this.hideTimer);
                a.clearTimeout(this.tooltipTimeout)
            },
            move: function (c, h, e, k) {
                var q = this,
                    d = q.now,
                    b = !1 !== q.options.animation && !q.isHidden && (1 < Math.abs(c - d.x) || 1 < Math.abs(h -
                        d.y)),
                    v = q.followPointer || 1 < q.len;
                I(d, {
                    x: b ? (2 * d.x + c) / 3 : c,
                    y: b ? (d.y + h) / 2 : h,
                    anchorX: v ? void 0 : b ? (2 * d.anchorX + e) / 3 : e,
                    anchorY: v ? void 0 : b ? (d.anchorY + k) / 2 : k
                });
                q.getLabel().attr(d);
                b && (a.clearTimeout(this.tooltipTimeout), this.tooltipTimeout = setTimeout(function () {
                    q && q.move(c, h, e, k)
                }, 32))
            },
            hide: function (c) {
                var h = this;
                a.clearTimeout(this.hideTimer);
                c = x(c, this.options.hideDelay, 500);
                this.isHidden || (this.hideTimer = w(function () {
                    h.getLabel()[c ? "fadeOut" : "hide"]();
                    h.isHidden = !0
                }, c))
            },
            getAnchor: function (a, h) {
                var c =
                    this.chart,
                    k = c.pointer,
                    q = c.inverted,
                    d = c.plotTop,
                    b = c.plotLeft,
                    v = 0,
                    f = 0,
                    l, n;
                a = t(a);
                this.followPointer && h ? (void 0 === h.chartX && (h = k.normalize(h)), a = [h.chartX - c.plotLeft, h.chartY - d]) : a[0].tooltipPos ? a = a[0].tooltipPos : (F(a, function (a) {
                    l = a.series.yAxis;
                    n = a.series.xAxis;
                    v += a.plotX + (!q && n ? n.left - b : 0);
                    f += (a.plotLow ? (a.plotLow + a.plotHigh) / 2 : a.plotY) + (!q && l ? l.top - d : 0)
                }), v /= a.length, f /= a.length, a = [q ? c.plotWidth - f : v, this.shared && !q && 1 < a.length && h ? h.chartY - d : q ? c.plotHeight - v : f]);
                return e(a, Math.round)
            },
            getPosition: function (a,
                h, e) {
                var c = this.chart,
                    q = this.distance,
                    d = {},
                    b = c.inverted && e.h || 0,
                    v, f = this.outside,
                    l = f ? C.documentElement.clientWidth - 2 * q : c.chartWidth,
                    p = f ? Math.max(C.body.scrollHeight, C.documentElement.scrollHeight, C.body.offsetHeight, C.documentElement.offsetHeight, C.documentElement.clientHeight) : c.chartHeight,
                    B = c.pointer.chartPosition,
                    D = ["y", p, h, (f ? B.top - q : 0) + e.plotY + c.plotTop, f ? 0 : c.plotTop, f ? p : c.plotTop + c.plotHeight],
                    m = ["x", l, a, (f ? B.left - q : 0) + e.plotX + c.plotLeft, f ? 0 : c.plotLeft, f ? l : c.plotLeft + c.plotWidth],
                    G = !this.followPointer &&
                    x(e.ttBelow, !c.inverted === !!e.negative),
                    A = function (a, c, g, m, k, l) {
                        var h = g < m - q,
                            v = m + q + g < c,
                            A = m - q - g;
                        m += q;
                        if (G && v) d[a] = m;
                        else if (!G && h) d[a] = A;
                        else if (h) d[a] = Math.min(l - g, 0 > A - b ? A : A - b);
                        else if (v) d[a] = Math.max(k, m + b + g > c ? m : m + b);
                        else return !1
                    },
                    N = function (a, b, c, g) {
                        var m;
                        g < q || g > b - q ? m = !1 : d[a] = g < c / 2 ? 1 : g > b - c / 2 ? b - c - 2 : g - c / 2;
                        return m
                    },
                    E = function (a) {
                        var b = D;
                        D = m;
                        m = b;
                        v = a
                    },
                    g = function () {
                        !1 !== A.apply(0, D) ? !1 !== N.apply(0, m) || v || (E(!0), g()) : v ? d.x = d.y = 0 : (E(!0), g())
                    };
                (c.inverted || 1 < this.len) && E();
                g();
                return d
            },
            defaultFormatter: function (a) {
                var c =
                    this.points || t(this),
                    e;
                e = [a.tooltipFooterHeaderFormatter(c[0])];
                e = e.concat(a.bodyFormatter(c));
                e.push(a.tooltipFooterHeaderFormatter(c[0], !0));
                return e
            },
            refresh: function (c, h) {
                var e, k = this.options,
                    q, d = c,
                    b, v = {},
                    f = [];
                e = k.formatter || this.defaultFormatter;
                var v = this.shared,
                    l;
                k.enabled && (a.clearTimeout(this.hideTimer), this.followPointer = t(d)[0].series.tooltipOptions.followPointer, b = this.getAnchor(d, h), h = b[0], q = b[1], !v || d.series && d.series.noSharedTooltip ? v = d.getLabelConfig() : (F(d, function (a) {
                    a.setState("hover");
                    f.push(a.getLabelConfig())
                }), v = {
                    x: d[0].category,
                    y: d[0].y
                }, v.points = f, d = d[0]), this.len = f.length, v = e.call(v, this), l = d.series, this.distance = x(l.tooltipOptions.distance, 16), !1 === v ? this.hide() : (e = this.getLabel(), this.isHidden && e.attr({
                    opacity: 1
                }).show(), this.split ? this.renderSplit(v, t(c)) : (k.style.width || e.css({
                    width: this.chart.spacingBox.width
                }), e.attr({
                    text: v && v.join ? v.join("") : v
                }), e.removeClass(/highcharts-color-[\d]+/g).addClass("highcharts-color-" + x(d.colorIndex, l.colorIndex)), e.attr({
                    stroke: k.borderColor ||
                        d.color || l.color || "#666666"
                }), this.updatePosition({
                    plotX: h,
                    plotY: q,
                    negative: d.negative,
                    ttBelow: d.ttBelow,
                    h: b[2] || 0
                })), this.isHidden = !1))
            },
            renderSplit: function (c, h) {
                var e = this,
                    k = [],
                    q = this.chart,
                    d = q.renderer,
                    b = !0,
                    v = this.options,
                    f = 0,
                    l, t = this.getLabel(),
                    B = q.plotTop;
                a.isString(c) && (c = [!1, c]);
                F(c.slice(0, h.length + 1), function (a, c) {
                    if (!1 !== a) {
                        c = h[c - 1] || {
                            isHeader: !0,
                            plotX: h[0].plotX
                        };
                        var m = c.series || e,
                            A = m.tt,
                            p = c.series || {},
                            E = "highcharts-color-" + x(c.colorIndex, p.colorIndex, "none");
                        A || (m.tt = A = d.label(null, null,
                            null, "callout", null, null, v.useHTML).addClass("highcharts-tooltip-box " + E + (c.isHeader ? " highcharts-tooltip-header" : "")).attr({
                            padding: v.padding,
                            r: v.borderRadius,
                            fill: v.backgroundColor,
                            stroke: v.borderColor || c.color || p.color || "#333333",
                            "stroke-width": v.borderWidth
                        }).add(t));
                        A.isActive = !0;
                        A.attr({
                            text: a
                        });
                        A.css(v.style).shadow(v.shadow);
                        a = A.getBBox();
                        p = a.width + A.strokeWidth();
                        c.isHeader ? (f = a.height, q.xAxis[0].opposite && (l = !0, B -= f), p = Math.max(0, Math.min(c.plotX + q.plotLeft - p / 2, q.chartWidth + (q.scrollablePixels ?
                            q.scrollablePixels - q.marginRight : 0) - p))) : p = c.plotX + q.plotLeft - x(v.distance, 16) - p;
                        0 > p && (b = !1);
                        a = (c.series && c.series.yAxis && c.series.yAxis.pos) + (c.plotY || 0);
                        a -= B;
                        c.isHeader && (a = l ? -f : q.plotHeight + f);
                        k.push({
                            target: a,
                            rank: c.isHeader ? 1 : 0,
                            size: m.tt.getBBox().height + 1,
                            point: c,
                            x: p,
                            tt: A
                        })
                    }
                });
                this.cleanSplit();
                a.distribute(k, q.plotHeight + f);
                F(k, function (a) {
                    var c = a.point,
                        d = c.series;
                    a.tt.attr({
                        visibility: void 0 === a.pos ? "hidden" : "inherit",
                        x: b || c.isHeader ? a.x : c.plotX + q.plotLeft + x(v.distance, 16),
                        y: a.pos + B,
                        anchorX: c.isHeader ?
                            c.plotX + q.plotLeft : c.plotX + d.xAxis.pos,
                        anchorY: c.isHeader ? q.plotTop + q.plotHeight / 2 : c.plotY + d.yAxis.pos
                    })
                })
            },
            updatePosition: function (a) {
                var c = this.chart,
                    e = this.getLabel(),
                    k = (this.options.positioner || this.getPosition).call(this, e.width, e.height, a),
                    q = a.plotX + c.plotLeft;
                a = a.plotY + c.plotTop;
                var d;
                this.outside && (d = (this.options.borderWidth || 0) + 2 * this.distance, this.renderer.setSize(e.width + d, e.height + d, !1), q += c.pointer.chartPosition.left - k.x, a += c.pointer.chartPosition.top - k.y);
                this.move(Math.round(k.x),
                    Math.round(k.y || 0), q, a)
            },
            getDateFormat: function (a, h, e, k) {
                var c = this.chart.time,
                    d = c.dateFormat("%m-%d %H:%M:%S.%L", h),
                    b, v, f = {
                        millisecond: 15,
                        second: 12,
                        minute: 9,
                        hour: 6,
                        day: 3
                    },
                    l = "millisecond";
                for (v in y) {
                    if (a === y.week && +c.dateFormat("%w", h) === e && "00:00:00.000" === d.substr(6)) {
                        v = "week";
                        break
                    }
                    if (y[v] > a) {
                        v = l;
                        break
                    }
                    if (f[v] && d.substr(f[v]) !== "01-01 00:00:00.000".substr(f[v])) break;
                    "week" !== v && (l = v)
                }
                v && (b = c.resolveDTLFormat(k[v]).main);
                return b
            },
            getXDateFormat: function (a, h, e) {
                h = h.dateTimeLabelFormats;
                var c =
                    e && e.closestPointRange;
                return (c ? this.getDateFormat(c, a.x, e.options.startOfWeek, h) : h.day) || h.year
            },
            tooltipFooterHeaderFormatter: function (a, h) {
                h = h ? "footer" : "header";
                var c = a.series,
                    k = c.tooltipOptions,
                    e = k.xDateFormat,
                    d = c.xAxis,
                    b = d && "datetime" === d.options.type && f(a.key),
                    v = k[h + "Format"];
                b && !e && (e = this.getXDateFormat(a, k, d));
                b && e && F(a.point && a.point.tooltipDateKeys || ["key"], function (a) {
                    v = v.replace("{point." + a + "}", "{point." + a + ":" + e + "}")
                });
                return n(v, {
                    point: a,
                    series: c
                }, this.chart.time)
            },
            bodyFormatter: function (a) {
                return e(a,
                    function (a) {
                        var c = a.series.tooltipOptions;
                        return (c[(a.point.formatPrefix || "point") + "Formatter"] || a.point.tooltipFormatter).call(a.point, c[(a.point.formatPrefix || "point") + "Format"])
                    })
            }
        }
    })(K);
    (function (a) {
        var C = a.addEvent,
            F = a.attr,
            I = a.charts,
            n = a.color,
            f = a.css,
            e = a.defined,
            u = a.each,
            x = a.extend,
            t = a.find,
            w = a.fireEvent,
            y = a.isNumber,
            c = a.isObject,
            h = a.offset,
            p = a.pick,
            k = a.splat,
            q = a.Tooltip;
        a.Pointer = function (a, b) {
            this.init(a, b)
        };
        a.Pointer.prototype = {
            init: function (a, b) {
                this.options = b;
                this.chart = a;
                this.runChartClick =
                    b.chart.events && !!b.chart.events.click;
                this.pinchDown = [];
                this.lastValidTouch = {};
                q && (a.tooltip = new q(a, b.tooltip), this.followTouchMove = p(b.tooltip.followTouchMove, !0));
                this.setDOMEvents()
            },
            zoomOption: function (a) {
                var b = this.chart,
                    c = b.options.chart,
                    d = c.zoomType || "",
                    b = b.inverted;
                /touch/.test(a.type) && (d = p(c.pinchType, d));
                this.zoomX = a = /x/.test(d);
                this.zoomY = d = /y/.test(d);
                this.zoomHor = a && !b || d && b;
                this.zoomVert = d && !b || a && b;
                this.hasZoom = a || d
            },
            normalize: function (a, b) {
                var c;
                c = a.touches ? a.touches.length ? a.touches.item(0) :
                    a.changedTouches[0] : a;
                b || (this.chartPosition = b = h(this.chart.container));
                return x(a, {
                    chartX: Math.round(c.pageX - b.left),
                    chartY: Math.round(c.pageY - b.top)
                })
            },
            getCoordinates: function (a) {
                var b = {
                    xAxis: [],
                    yAxis: []
                };
                u(this.chart.axes, function (c) {
                    b[c.isXAxis ? "xAxis" : "yAxis"].push({
                        axis: c,
                        value: c.toValue(a[c.horiz ? "chartX" : "chartY"])
                    })
                });
                return b
            },
            findNearestKDPoint: function (a, b, k) {
                var d;
                u(a, function (a) {
                    var l = !(a.noSharedTooltip && b) && 0 > a.options.findNearestPointBy.indexOf("y");
                    a = a.searchPoint(k, l);
                    if ((l = c(a,
                            !0)) && !(l = !c(d, !0))) var l = d.distX - a.distX,
                        e = d.dist - a.dist,
                        h = (a.series.group && a.series.group.zIndex) - (d.series.group && d.series.group.zIndex),
                        l = 0 < (0 !== l && b ? l : 0 !== e ? e : 0 !== h ? h : d.series.index > a.series.index ? -1 : 1);
                    l && (d = a)
                });
                return d
            },
            getPointFromEvent: function (a) {
                a = a.target;
                for (var b; a && !b;) b = a.point, a = a.parentNode;
                return b
            },
            getChartCoordinatesFromPoint: function (a, b) {
                var c = a.series,
                    d = c.xAxis,
                    c = c.yAxis,
                    k = p(a.clientX, a.plotX),
                    e = a.shapeArgs;
                if (d && c) return b ? {
                    chartX: d.len + d.pos - k,
                    chartY: c.len + c.pos - a.plotY
                } : {
                    chartX: k + d.pos,
                    chartY: a.plotY + c.pos
                };
                if (e && e.x && e.y) return {
                    chartX: e.x,
                    chartY: e.y
                }
            },
            getHoverData: function (d, b, k, e, l, h, q) {
                var v, m = [],
                    f = q && q.isBoosting;
                e = !(!e || !d);
                q = b && !b.stickyTracking ? [b] : a.grep(k, function (a) {
                    return a.visible && !(!l && a.directTouch) && p(a.options.enableMouseTracking, !0) && a.stickyTracking
                });
                b = (v = e ? d : this.findNearestKDPoint(q, l, h)) && v.series;
                v && (l && !b.noSharedTooltip ? (q = a.grep(k, function (a) {
                        return a.visible && !(!l && a.directTouch) && p(a.options.enableMouseTracking, !0) && !a.noSharedTooltip
                    }),
                    u(q, function (a) {
                        var b = t(a.points, function (a) {
                            return a.x === v.x && !a.isNull
                        });
                        c(b) && (f && (b = a.getPoint(b)), m.push(b))
                    })) : m.push(v));
                return {
                    hoverPoint: v,
                    hoverSeries: b,
                    hoverPoints: m
                }
            },
            runPointActions: function (c, b) {
                var d = this.chart,
                    k = d.tooltip && d.tooltip.options.enabled ? d.tooltip : void 0,
                    l = k ? k.shared : !1,
                    e = b || d.hoverPoint,
                    h = e && e.series || d.hoverSeries,
                    h = this.getHoverData(e, h, d.series, "touchmove" !== c.type && (!!b || h && h.directTouch && this.isDirectTouch), l, c, {
                        isBoosting: d.isBoosting
                    }),
                    q, e = h.hoverPoint;
                q = h.hoverPoints;
                b = (h = h.hoverSeries) && h.tooltipOptions.followPointer;
                l = l && h && !h.noSharedTooltip;
                if (e && (e !== d.hoverPoint || k && k.isHidden)) {
                    u(d.hoverPoints || [], function (b) {
                        -1 === a.inArray(b, q) && b.setState()
                    });
                    u(q || [], function (a) {
                        a.setState("hover")
                    });
                    if (d.hoverSeries !== h) h.onMouseOver();
                    d.hoverPoint && d.hoverPoint.firePointEvent("mouseOut");
                    if (!e.series) return;
                    e.firePointEvent("mouseOver");
                    d.hoverPoints = q;
                    d.hoverPoint = e;
                    k && k.refresh(l ? q : e, c)
                } else b && k && !k.isHidden && (e = k.getAnchor([{}], c), k.updatePosition({
                    plotX: e[0],
                    plotY: e[1]
                }));
                this.unDocMouseMove || (this.unDocMouseMove = C(d.container.ownerDocument, "mousemove", function (b) {
                    var c = I[a.hoverChartIndex];
                    if (c) c.pointer.onDocumentMouseMove(b)
                }));
                u(d.axes, function (b) {
                    var d = p(b.crosshair.snap, !0),
                        m = d ? a.find(q, function (a) {
                            return a.series[b.coll] === b
                        }) : void 0;
                    m || !d ? b.drawCrosshair(c, m) : b.hideCrosshair()
                })
            },
            reset: function (a, b) {
                var c = this.chart,
                    d = c.hoverSeries,
                    l = c.hoverPoint,
                    e = c.hoverPoints,
                    h = c.tooltip,
                    q = h && h.shared ? e : l;
                a && q && u(k(q), function (b) {
                    b.series.isCartesian && void 0 === b.plotX &&
                        (a = !1)
                });
                if (a) h && q && (h.refresh(q), h.shared && e ? u(e, function (a) {
                    a.setState(a.state, !0);
                    a.series.isCartesian && (a.series.xAxis.crosshair && a.series.xAxis.drawCrosshair(null, a), a.series.yAxis.crosshair && a.series.yAxis.drawCrosshair(null, a))
                }) : l && (l.setState(l.state, !0), u(c.axes, function (a) {
                    a.crosshair && a.drawCrosshair(null, l)
                })));
                else {
                    if (l) l.onMouseOut();
                    e && u(e, function (a) {
                        a.setState()
                    });
                    if (d) d.onMouseOut();
                    h && h.hide(b);
                    this.unDocMouseMove && (this.unDocMouseMove = this.unDocMouseMove());
                    u(c.axes, function (a) {
                        a.hideCrosshair()
                    });
                    this.hoverX = c.hoverPoints = c.hoverPoint = null
                }
            },
            scaleGroups: function (a, b) {
                var c = this.chart,
                    d;
                u(c.series, function (k) {
                    d = a || k.getPlotBox();
                    k.xAxis && k.xAxis.zoomEnabled && k.group && (k.group.attr(d), k.markerGroup && (k.markerGroup.attr(d), k.markerGroup.clip(b ? c.clipRect : null)), k.dataLabelsGroup && k.dataLabelsGroup.attr(d))
                });
                c.clipRect.attr(b || c.clipBox)
            },
            dragStart: function (a) {
                var b = this.chart;
                b.mouseIsDown = a.type;
                b.cancelClick = !1;
                b.mouseDownX = this.mouseDownX = a.chartX;
                b.mouseDownY = this.mouseDownY = a.chartY
            },
            drag: function (a) {
                var b =
                    this.chart,
                    c = b.options.chart,
                    d = a.chartX,
                    k = a.chartY,
                    e = this.zoomHor,
                    h = this.zoomVert,
                    q = b.plotLeft,
                    m = b.plotTop,
                    f = b.plotWidth,
                    A = b.plotHeight,
                    p, E = this.selectionMarker,
                    g = this.mouseDownX,
                    r = this.mouseDownY,
                    t = c.panKey && a[c.panKey + "Key"];
                E && E.touch || (d < q ? d = q : d > q + f && (d = q + f), k < m ? k = m : k > m + A && (k = m + A), this.hasDragged = Math.sqrt(Math.pow(g - d, 2) + Math.pow(r - k, 2)), 10 < this.hasDragged && (p = b.isInsidePlot(g - q, r - m), b.hasCartesianSeries && (this.zoomX || this.zoomY) && p && !t && !E && (this.selectionMarker = E = b.renderer.rect(q, m, e ? 1 : f,
                    h ? 1 : A, 0).attr({
                    fill: c.selectionMarkerFill || n("#335cad").setOpacity(.25).get(),
                    "class": "highcharts-selection-marker",
                    zIndex: 7
                }).add()), E && e && (d -= g, E.attr({
                    width: Math.abs(d),
                    x: (0 < d ? 0 : d) + g
                })), E && h && (d = k - r, E.attr({
                    height: Math.abs(d),
                    y: (0 < d ? 0 : d) + r
                })), p && !E && c.panning && b.pan(a, c.panning)))
            },
            drop: function (a) {
                var b = this,
                    c = this.chart,
                    d = this.hasPinched;
                if (this.selectionMarker) {
                    var k = {
                            originalEvent: a,
                            xAxis: [],
                            yAxis: []
                        },
                        h = this.selectionMarker,
                        q = h.attr ? h.attr("x") : h.x,
                        p = h.attr ? h.attr("y") : h.y,
                        m = h.attr ? h.attr("width") :
                        h.width,
                        G = h.attr ? h.attr("height") : h.height,
                        A;
                    if (this.hasDragged || d) u(c.axes, function (c) {
                        if (c.zoomEnabled && e(c.min) && (d || b[{
                                xAxis: "zoomX",
                                yAxis: "zoomY"
                            } [c.coll]])) {
                            var h = c.horiz,
                                g = "touchend" === a.type ? c.minPixelPadding : 0,
                                l = c.toValue((h ? q : p) + g),
                                h = c.toValue((h ? q + m : p + G) - g);
                            k[c.coll].push({
                                axis: c,
                                min: Math.min(l, h),
                                max: Math.max(l, h)
                            });
                            A = !0
                        }
                    }), A && w(c, "selection", k, function (a) {
                        c.zoom(x(a, d ? {
                            animation: !1
                        } : null))
                    });
                    y(c.index) && (this.selectionMarker = this.selectionMarker.destroy());
                    d && this.scaleGroups()
                }
                c && y(c.index) &&
                    (f(c.container, {
                        cursor: c._cursor
                    }), c.cancelClick = 10 < this.hasDragged, c.mouseIsDown = this.hasDragged = this.hasPinched = !1, this.pinchDown = [])
            },
            onContainerMouseDown: function (a) {
                a = this.normalize(a);
                2 !== a.button && (this.zoomOption(a), a.preventDefault && a.preventDefault(), this.dragStart(a))
            },
            onDocumentMouseUp: function (c) {
                I[a.hoverChartIndex] && I[a.hoverChartIndex].pointer.drop(c)
            },
            onDocumentMouseMove: function (a) {
                var b = this.chart,
                    c = this.chartPosition;
                a = this.normalize(a, c);
                !c || this.inClass(a.target, "highcharts-tracker") ||
                    b.isInsidePlot(a.chartX - b.plotLeft, a.chartY - b.plotTop) || this.reset()
            },
            onContainerMouseLeave: function (c) {
                var b = I[a.hoverChartIndex];
                b && (c.relatedTarget || c.toElement) && (b.pointer.reset(), b.pointer.chartPosition = null)
            },
            onContainerMouseMove: function (c) {
                var b = this.chart;
                e(a.hoverChartIndex) && I[a.hoverChartIndex] && I[a.hoverChartIndex].mouseIsDown || (a.hoverChartIndex = b.index);
                c = this.normalize(c);
                c.returnValue = !1;
                "mousedown" === b.mouseIsDown && this.drag(c);
                !this.inClass(c.target, "highcharts-tracker") && !b.isInsidePlot(c.chartX -
                    b.plotLeft, c.chartY - b.plotTop) || b.openMenu || this.runPointActions(c)
            },
            inClass: function (a, b) {
                for (var c; a;) {
                    if (c = F(a, "class")) {
                        if (-1 !== c.indexOf(b)) return !0;
                        if (-1 !== c.indexOf("highcharts-container")) return !1
                    }
                    a = a.parentNode
                }
            },
            onTrackerMouseOut: function (a) {
                var b = this.chart.hoverSeries;
                a = a.relatedTarget || a.toElement;
                this.isDirectTouch = !1;
                if (!(!b || !a || b.stickyTracking || this.inClass(a, "highcharts-tooltip") || this.inClass(a, "highcharts-series-" + b.index) && this.inClass(a, "highcharts-tracker"))) b.onMouseOut()
            },
            onContainerClick: function (a) {
                var b = this.chart,
                    c = b.hoverPoint,
                    d = b.plotLeft,
                    k = b.plotTop;
                a = this.normalize(a);
                b.cancelClick || (c && this.inClass(a.target, "highcharts-tracker") ? (w(c.series, "click", x(a, {
                    point: c
                })), b.hoverPoint && c.firePointEvent("click", a)) : (x(a, this.getCoordinates(a)), b.isInsidePlot(a.chartX - d, a.chartY - k) && w(b, "click", a)))
            },
            setDOMEvents: function () {
                var c = this,
                    b = c.chart.container,
                    k = b.ownerDocument;
                b.onmousedown = function (a) {
                    c.onContainerMouseDown(a)
                };
                b.onmousemove = function (a) {
                    c.onContainerMouseMove(a)
                };
                b.onclick = function (a) {
                    c.onContainerClick(a)
                };
                this.unbindContainerMouseLeave = C(b, "mouseleave", c.onContainerMouseLeave);
                a.unbindDocumentMouseUp || (a.unbindDocumentMouseUp = C(k, "mouseup", c.onDocumentMouseUp));
                a.hasTouch && (b.ontouchstart = function (a) {
                    c.onContainerTouchStart(a)
                }, b.ontouchmove = function (a) {
                    c.onContainerTouchMove(a)
                }, a.unbindDocumentTouchEnd || (a.unbindDocumentTouchEnd = C(k, "touchend", c.onDocumentTouchEnd)))
            },
            destroy: function () {
                var c = this;
                c.unDocMouseMove && c.unDocMouseMove();
                this.unbindContainerMouseLeave();
                a.chartCount || (a.unbindDocumentMouseUp && (a.unbindDocumentMouseUp = a.unbindDocumentMouseUp()), a.unbindDocumentTouchEnd && (a.unbindDocumentTouchEnd = a.unbindDocumentTouchEnd()));
                clearInterval(c.tooltipTimeout);
                a.objectEach(c, function (a, d) {
                    c[d] = null
                })
            }
        }
    })(K);
    (function (a) {
        var C = a.charts,
            F = a.each,
            I = a.extend,
            n = a.map,
            f = a.noop,
            e = a.pick;
        I(a.Pointer.prototype, {
            pinchTranslate: function (a, e, f, n, y, c) {
                this.zoomHor && this.pinchTranslateDirection(!0, a, e, f, n, y, c);
                this.zoomVert && this.pinchTranslateDirection(!1, a, e, f, n,
                    y, c)
            },
            pinchTranslateDirection: function (a, e, f, n, y, c, h, p) {
                var k = this.chart,
                    q = a ? "x" : "y",
                    d = a ? "X" : "Y",
                    b = "chart" + d,
                    v = a ? "width" : "height",
                    t = k["plot" + (a ? "Left" : "Top")],
                    l, u, B = p || 1,
                    D = k.inverted,
                    m = k.bounds[a ? "h" : "v"],
                    G = 1 === e.length,
                    A = e[0][b],
                    N = f[0][b],
                    E = !G && e[1][b],
                    g = !G && f[1][b],
                    r;
                f = function () {
                    !G && 20 < Math.abs(A - E) && (B = p || Math.abs(N - g) / Math.abs(A - E));
                    u = (t - N) / B + A;
                    l = k["plot" + (a ? "Width" : "Height")] / B
                };
                f();
                e = u;
                e < m.min ? (e = m.min, r = !0) : e + l > m.max && (e = m.max - l, r = !0);
                r ? (N -= .8 * (N - h[q][0]), G || (g -= .8 * (g - h[q][1])), f()) : h[q] = [N, g];
                D || (c[q] = u - t, c[v] = l);
                c = D ? 1 / B : B;
                y[v] = l;
                y[q] = e;
                n[D ? a ? "scaleY" : "scaleX" : "scale" + d] = B;
                n["translate" + d] = c * t + (N - c * A)
            },
            pinch: function (a) {
                var u = this,
                    t = u.chart,
                    w = u.pinchDown,
                    y = a.touches,
                    c = y.length,
                    h = u.lastValidTouch,
                    p = u.hasZoom,
                    k = u.selectionMarker,
                    q = {},
                    d = 1 === c && (u.inClass(a.target, "highcharts-tracker") && t.runTrackerClick || u.runChartClick),
                    b = {};
                1 < c && (u.initiated = !0);
                p && u.initiated && !d && a.preventDefault();
                n(y, function (a) {
                    return u.normalize(a)
                });
                "touchstart" === a.type ? (F(y, function (a, b) {
                    w[b] = {
                        chartX: a.chartX,
                        chartY: a.chartY
                    }
                }), h.x = [w[0].chartX, w[1] && w[1].chartX], h.y = [w[0].chartY, w[1] && w[1].chartY], F(t.axes, function (a) {
                    if (a.zoomEnabled) {
                        var b = t.bounds[a.horiz ? "h" : "v"],
                            c = a.minPixelPadding,
                            d = a.toPixels(e(a.options.min, a.dataMin)),
                            k = a.toPixels(e(a.options.max, a.dataMax)),
                            h = Math.max(d, k);
                        b.min = Math.min(a.pos, Math.min(d, k) - c);
                        b.max = Math.max(a.pos + a.len, h + c)
                    }
                }), u.res = !0) : u.followTouchMove && 1 === c ? this.runPointActions(u.normalize(a)) : w.length && (k || (u.selectionMarker = k = I({
                    destroy: f,
                    touch: !0
                }, t.plotBox)), u.pinchTranslate(w,
                    y, q, k, b, h), u.hasPinched = p, u.scaleGroups(q, b), u.res && (u.res = !1, this.reset(!1, 0)))
            },
            touch: function (f, n) {
                var t = this.chart,
                    u, y;
                if (t.index !== a.hoverChartIndex) this.onContainerMouseLeave({
                    relatedTarget: !0
                });
                a.hoverChartIndex = t.index;
                1 === f.touches.length ? (f = this.normalize(f), (y = t.isInsidePlot(f.chartX - t.plotLeft, f.chartY - t.plotTop)) && !t.openMenu ? (n && this.runPointActions(f), "touchmove" === f.type && (n = this.pinchDown, u = n[0] ? 4 <= Math.sqrt(Math.pow(n[0].chartX - f.chartX, 2) + Math.pow(n[0].chartY - f.chartY, 2)) : !1), e(u,
                    !0) && this.pinch(f)) : n && this.reset()) : 2 === f.touches.length && this.pinch(f)
            },
            onContainerTouchStart: function (a) {
                this.zoomOption(a);
                this.touch(a, !0)
            },
            onContainerTouchMove: function (a) {
                this.touch(a)
            },
            onDocumentTouchEnd: function (e) {
                C[a.hoverChartIndex] && C[a.hoverChartIndex].pointer.drop(e)
            }
        })
    })(K);
    (function (a) {
        var C = a.addEvent,
            F = a.charts,
            I = a.css,
            n = a.doc,
            f = a.extend,
            e = a.noop,
            u = a.Pointer,
            x = a.removeEvent,
            t = a.win,
            w = a.wrap;
        if (!a.hasTouch && (t.PointerEvent || t.MSPointerEvent)) {
            var y = {},
                c = !!t.PointerEvent,
                h = function () {
                    var c = [];
                    c.item = function (a) {
                        return this[a]
                    };
                    a.objectEach(y, function (a) {
                        c.push({
                            pageX: a.pageX,
                            pageY: a.pageY,
                            target: a.target
                        })
                    });
                    return c
                },
                p = function (c, q, d, b) {
                    "touch" !== c.pointerType && c.pointerType !== c.MSPOINTER_TYPE_TOUCH || !F[a.hoverChartIndex] || (b(c), b = F[a.hoverChartIndex].pointer, b[q]({
                        type: d,
                        target: c.currentTarget,
                        preventDefault: e,
                        touches: h()
                    }))
                };
            f(u.prototype, {
                onContainerPointerDown: function (a) {
                    p(a, "onContainerTouchStart", "touchstart", function (a) {
                        y[a.pointerId] = {
                            pageX: a.pageX,
                            pageY: a.pageY,
                            target: a.currentTarget
                        }
                    })
                },
                onContainerPointerMove: function (a) {
                    p(a, "onContainerTouchMove", "touchmove", function (a) {
                        y[a.pointerId] = {
                            pageX: a.pageX,
                            pageY: a.pageY
                        };
                        y[a.pointerId].target || (y[a.pointerId].target = a.currentTarget)
                    })
                },
                onDocumentPointerUp: function (a) {
                    p(a, "onDocumentTouchEnd", "touchend", function (a) {
                        delete y[a.pointerId]
                    })
                },
                batchMSEvents: function (a) {
                    a(this.chart.container, c ? "pointerdown" : "MSPointerDown", this.onContainerPointerDown);
                    a(this.chart.container, c ? "pointermove" : "MSPointerMove", this.onContainerPointerMove);
                    a(n, c ?
                        "pointerup" : "MSPointerUp", this.onDocumentPointerUp)
                }
            });
            w(u.prototype, "init", function (a, c, d) {
                a.call(this, c, d);
                this.hasZoom && I(c.container, {
                    "-ms-touch-action": "none",
                    "touch-action": "none"
                })
            });
            w(u.prototype, "setDOMEvents", function (a) {
                a.apply(this);
                (this.hasZoom || this.followTouchMove) && this.batchMSEvents(C)
            });
            w(u.prototype, "destroy", function (a) {
                this.batchMSEvents(x);
                a.call(this)
            })
        }
    })(K);
    (function (a) {
        var C = a.addEvent,
            F = a.css,
            I = a.discardElement,
            n = a.defined,
            f = a.each,
            e = a.fireEvent,
            u = a.isFirefox,
            x = a.marginNames,
            t = a.merge,
            w = a.pick,
            y = a.setAnimation,
            c = a.stableSort,
            h = a.win,
            p = a.wrap;
        a.Legend = function (a, c) {
            this.init(a, c)
        };
        a.Legend.prototype = {
            init: function (a, c) {
                this.chart = a;
                this.setOptions(c);
                c.enabled && (this.render(), C(this.chart, "endResize", function () {
                    this.legend.positionCheckboxes()
                }), this.proximate ? this.unchartrender = C(this.chart, "render", function () {
                    this.legend.proximatePositions();
                    this.legend.positionItems()
                }) : this.unchartrender && this.unchartrender())
            },
            setOptions: function (a) {
                var c = w(a.padding, 8);
                this.options =
                    a;
                this.itemStyle = a.itemStyle;
                this.itemHiddenStyle = t(this.itemStyle, a.itemHiddenStyle);
                this.itemMarginTop = a.itemMarginTop || 0;
                this.padding = c;
                this.initialItemY = c - 5;
                this.symbolWidth = w(a.symbolWidth, 16);
                this.pages = [];
                this.proximate = "proximate" === a.layout && !this.chart.inverted
            },
            update: function (a, c) {
                var d = this.chart;
                this.setOptions(t(!0, this.options, a));
                this.destroy();
                d.isDirtyLegend = d.isDirtyBox = !0;
                w(c, !0) && d.redraw();
                e(this, "afterUpdate")
            },
            colorizeItem: function (a, c) {
                a.legendGroup[c ? "removeClass" : "addClass"]("highcharts-legend-item-hidden");
                var d = this.options,
                    b = a.legendItem,
                    k = a.legendLine,
                    h = a.legendSymbol,
                    l = this.itemHiddenStyle.color,
                    d = c ? d.itemStyle.color : l,
                    q = c ? a.color || l : l,
                    f = a.options && a.options.marker,
                    p = {
                        fill: q
                    };
                b && b.css({
                    fill: d,
                    color: d
                });
                k && k.attr({
                    stroke: q
                });
                h && (f && h.isMarker && (p = a.pointAttribs(), c || (p.stroke = p.fill = l)), h.attr(p));
                e(this, "afterColorizeItem", {
                    item: a,
                    visible: c
                })
            },
            positionItems: function () {
                f(this.allItems, this.positionItem, this);
                this.chart.isResizing || this.positionCheckboxes()
            },
            positionItem: function (a) {
                var c = this.options,
                    d = c.symbolPadding,
                    c = !c.rtl,
                    b = a._legendItemPos,
                    e = b[0],
                    b = b[1],
                    h = a.checkbox;
                if ((a = a.legendGroup) && a.element) a[n(a.translateY) ? "animate" : "attr"]({
                    translateX: c ? e : this.legendWidth - e - 2 * d - 4,
                    translateY: b
                });
                h && (h.x = e, h.y = b)
            },
            destroyItem: function (a) {
                var c = a.checkbox;
                f(["legendItem", "legendLine", "legendSymbol", "legendGroup"], function (c) {
                    a[c] && (a[c] = a[c].destroy())
                });
                c && I(a.checkbox)
            },
            destroy: function () {
                function a(a) {
                    this[a] && (this[a] = this[a].destroy())
                }
                f(this.getAllItems(), function (c) {
                    f(["legendItem", "legendGroup"],
                        a, c)
                });
                f("clipRect up down pager nav box title group".split(" "), a, this);
                this.display = null
            },
            positionCheckboxes: function () {
                var a = this.group && this.group.alignAttr,
                    c, d = this.clipHeight || this.legendHeight,
                    b = this.titleHeight;
                a && (c = a.translateY, f(this.allItems, function (e) {
                    var h = e.checkbox,
                        k;
                    h && (k = c + b + h.y + (this.scrollOffset || 0) + 3, F(h, {
                        left: a.translateX + e.checkboxOffset + h.x - 20 + "px",
                        top: k + "px",
                        display: this.proximate || k > c - 6 && k < c + d - 6 ? "" : "none"
                    }))
                }, this))
            },
            renderTitle: function () {
                var a = this.options,
                    c = this.padding,
                    d = a.title,
                    b = 0;
                d.text && (this.title || (this.title = this.chart.renderer.label(d.text, c - 3, c - 4, null, null, null, a.useHTML, null, "legend-title").attr({
                    zIndex: 1
                }).css(d.style).add(this.group)), a = this.title.getBBox(), b = a.height, this.offsetWidth = a.width, this.contentGroup.attr({
                    translateY: b
                }));
                this.titleHeight = b
            },
            setText: function (c) {
                var h = this.options;
                c.legendItem.attr({
                    text: h.labelFormat ? a.format(h.labelFormat, c, this.chart.time) : h.labelFormatter.call(c)
                })
            },
            renderItem: function (a) {
                var c = this.chart,
                    d = c.renderer,
                    b =
                    this.options,
                    h = this.symbolWidth,
                    e = b.symbolPadding,
                    l = this.itemStyle,
                    k = this.itemHiddenStyle,
                    f = "horizontal" === b.layout ? w(b.itemDistance, 20) : 0,
                    p = !b.rtl,
                    m = a.legendItem,
                    G = !a.series,
                    A = !G && a.series.drawLegendSymbol ? a.series : a,
                    n = A.options,
                    n = this.createCheckboxForItem && n && n.showCheckbox,
                    f = h + e + f + (n ? 20 : 0),
                    E = b.useHTML,
                    g = a.options.className;
                m || (a.legendGroup = d.g("legend-item").addClass("highcharts-" + A.type + "-series highcharts-color-" + a.colorIndex + (g ? " " + g : "") + (G ? " highcharts-series-" + a.index : "")).attr({
                        zIndex: 1
                    }).add(this.scrollGroup),
                    a.legendItem = m = d.text("", p ? h + e : -e, this.baseline || 0, E).css(t(a.visible ? l : k)).attr({
                        align: p ? "left" : "right",
                        zIndex: 2
                    }).add(a.legendGroup), this.baseline || (h = l.fontSize, this.fontMetrics = d.fontMetrics(h, m), this.baseline = this.fontMetrics.f + 3 + this.itemMarginTop, m.attr("y", this.baseline)), this.symbolHeight = b.symbolHeight || this.fontMetrics.f, A.drawLegendSymbol(this, a), this.setItemEvents && this.setItemEvents(a, m, E), n && this.createCheckboxForItem(a));
                this.colorizeItem(a, a.visible);
                l.width || m.css({
                    width: (b.itemWidth ||
                        b.width || c.spacingBox.width) - f
                });
                this.setText(a);
                c = m.getBBox();
                a.itemWidth = a.checkboxOffset = b.itemWidth || a.legendItemWidth || c.width + f;
                this.maxItemWidth = Math.max(this.maxItemWidth, a.itemWidth);
                this.totalItemWidth += a.itemWidth;
                this.itemHeight = a.itemHeight = Math.round(a.legendItemHeight || c.height || this.symbolHeight)
            },
            layoutItem: function (a) {
                var c = this.options,
                    d = this.padding,
                    b = "horizontal" === c.layout,
                    h = a.itemHeight,
                    e = c.itemMarginBottom || 0,
                    l = this.itemMarginTop,
                    k = b ? w(c.itemDistance, 20) : 0,
                    f = c.width,
                    p = f || this.chart.spacingBox.width -
                    2 * d - c.x,
                    c = c.alignColumns && this.totalItemWidth > p ? this.maxItemWidth : a.itemWidth;
                b && this.itemX - d + c > p && (this.itemX = d, this.itemY += l + this.lastLineHeight + e, this.lastLineHeight = 0);
                this.lastItemY = l + this.itemY + e;
                this.lastLineHeight = Math.max(h, this.lastLineHeight);
                a._legendItemPos = [this.itemX, this.itemY];
                b ? this.itemX += c : (this.itemY += l + h + e, this.lastLineHeight = h);
                this.offsetWidth = f || Math.max((b ? this.itemX - d - (a.checkbox ? 0 : k) : c) + d, this.offsetWidth)
            },
            getAllItems: function () {
                var a = [];
                f(this.chart.series, function (c) {
                    var d =
                        c && c.options;
                    c && w(d.showInLegend, n(d.linkedTo) ? !1 : void 0, !0) && (a = a.concat(c.legendItems || ("point" === d.legendType ? c.data : c)))
                });
                e(this, "afterGetAllItems", {
                    allItems: a
                });
                return a
            },
            getAlignment: function () {
                var a = this.options;
                return this.proximate ? a.align.charAt(0) + "tv" : a.floating ? "" : a.align.charAt(0) + a.verticalAlign.charAt(0) + a.layout.charAt(0)
            },
            adjustMargins: function (a, c) {
                var d = this.chart,
                    b = this.options,
                    h = this.getAlignment();
                h && f([/(lth|ct|rth)/, /(rtv|rm|rbv)/, /(rbh|cb|lbh)/, /(lbv|lm|ltv)/], function (e,
                    l) {
                    e.test(h) && !n(a[l]) && (d[x[l]] = Math.max(d[x[l]], d.legend[(l + 1) % 2 ? "legendHeight" : "legendWidth"] + [1, -1, -1, 1][l] * b[l % 2 ? "x" : "y"] + w(b.margin, 12) + c[l] + (0 === l && void 0 !== d.options.title.margin ? d.titleOffset + d.options.title.margin : 0)))
                })
            },
            proximatePositions: function () {
                var c = this.chart,
                    h = [],
                    d = "left" === this.options.align;
                f(this.allItems, function (b) {
                    var e, k;
                    e = d;
                    b.xAxis && b.points && (b.xAxis.options.reversed && (e = !e), e = a.find(e ? b.points : b.points.slice(0).reverse(), function (b) {
                            return a.isNumber(b.plotY)
                        }), k = b.legendGroup.getBBox().height,
                        h.push({
                            target: b.visible ? (e ? e.plotY : b.xAxis.height) - .3 * k : c.plotHeight,
                            size: k,
                            item: b
                        }))
                }, this);
                a.distribute(h, c.plotHeight);
                f(h, function (a) {
                    a.item._legendItemPos[1] = c.plotTop - c.spacing[0] + a.pos
                })
            },
            render: function () {
                var a = this.chart,
                    h = a.renderer,
                    d = this.group,
                    b, e, p, l = this.box,
                    n = this.options,
                    B = this.padding;
                this.itemX = B;
                this.itemY = this.initialItemY;
                this.lastItemY = this.offsetWidth = 0;
                d || (this.group = d = h.g("legend").attr({
                    zIndex: 7
                }).add(), this.contentGroup = h.g().attr({
                    zIndex: 1
                }).add(d), this.scrollGroup = h.g().add(this.contentGroup));
                this.renderTitle();
                b = this.getAllItems();
                c(b, function (a, b) {
                    return (a.options && a.options.legendIndex || 0) - (b.options && b.options.legendIndex || 0)
                });
                n.reversed && b.reverse();
                this.allItems = b;
                this.display = e = !!b.length;
                this.itemHeight = this.totalItemWidth = this.maxItemWidth = this.lastLineHeight = 0;
                f(b, this.renderItem, this);
                f(b, this.layoutItem, this);
                b = (n.width || this.offsetWidth) + B;
                p = this.lastItemY + this.lastLineHeight + this.titleHeight;
                p = this.handleOverflow(p);
                p += B;
                l || (this.box = l = h.rect().addClass("highcharts-legend-box").attr({
                        r: n.borderRadius
                    }).add(d),
                    l.isNew = !0);
                l.attr({
                    stroke: n.borderColor,
                    "stroke-width": n.borderWidth || 0,
                    fill: n.backgroundColor || "none"
                }).shadow(n.shadow);
                0 < b && 0 < p && (l[l.isNew ? "attr" : "animate"](l.crisp.call({}, {
                    x: 0,
                    y: 0,
                    width: b,
                    height: p
                }, l.strokeWidth())), l.isNew = !1);
                l[e ? "show" : "hide"]();
                this.legendWidth = b;
                this.legendHeight = p;
                e && (h = a.spacingBox, /(lth|ct|rth)/.test(this.getAlignment()) && (h = t(h, {
                    y: h.y + a.titleOffset + a.options.title.margin
                })), d.align(t(n, {
                    width: b,
                    height: p,
                    verticalAlign: this.proximate ? "top" : n.verticalAlign
                }), !0, h));
                this.proximate ||
                    this.positionItems()
            },
            handleOverflow: function (a) {
                var c = this,
                    d = this.chart,
                    b = d.renderer,
                    h = this.options,
                    e = h.y,
                    l = this.padding,
                    d = d.spacingBox.height + ("top" === h.verticalAlign ? -e : e) - l,
                    e = h.maxHeight,
                    k, p = this.clipRect,
                    n = h.navigation,
                    m = w(n.animation, !0),
                    G = n.arrowSize || 12,
                    A = this.nav,
                    t = this.pages,
                    E, g = this.allItems,
                    r = function (a) {
                        "number" === typeof a ? p.attr({
                            height: a
                        }) : p && (c.clipRect = p.destroy(), c.contentGroup.clip());
                        c.contentGroup.div && (c.contentGroup.div.style.clip = a ? "rect(" + l + "px,9999px," + (l + a) + "px,0)" : "auto")
                    };
                "horizontal" !== h.layout || "middle" === h.verticalAlign || h.floating || (d /= 2);
                e && (d = Math.min(d, e));
                t.length = 0;
                a > d && !1 !== n.enabled ? (this.clipHeight = k = Math.max(d - 20 - this.titleHeight - l, 0), this.currentPage = w(this.currentPage, 1), this.fullHeight = a, f(g, function (a, b) {
                    var c = a._legendItemPos[1],
                        d = Math.round(a.legendItem.getBBox().height),
                        m = t.length;
                    if (!m || c - t[m - 1] > k && (E || c) !== t[m - 1]) t.push(E || c), m++;
                    a.pageIx = m - 1;
                    E && (g[b - 1].pageIx = m - 1);
                    b === g.length - 1 && c + d - t[m - 1] > k && (t.push(c), a.pageIx = m);
                    c !== E && (E = c)
                }), p || (p = c.clipRect =
                    b.clipRect(0, l, 9999, 0), c.contentGroup.clip(p)), r(k), A || (this.nav = A = b.g().attr({
                    zIndex: 1
                }).add(this.group), this.up = b.symbol("triangle", 0, 0, G, G).on("click", function () {
                    c.scroll(-1, m)
                }).add(A), this.pager = b.text("", 15, 10).addClass("highcharts-legend-navigation").css(n.style).add(A), this.down = b.symbol("triangle-down", 0, 0, G, G).on("click", function () {
                    c.scroll(1, m)
                }).add(A)), c.scroll(0), a = d) : A && (r(), this.nav = A.destroy(), this.scrollGroup.attr({
                    translateY: 1
                }), this.clipHeight = 0);
                return a
            },
            scroll: function (a, c) {
                var d =
                    this.pages,
                    b = d.length;
                a = this.currentPage + a;
                var h = this.clipHeight,
                    e = this.options.navigation,
                    l = this.pager,
                    f = this.padding;
                a > b && (a = b);
                0 < a && (void 0 !== c && y(c, this.chart), this.nav.attr({
                        translateX: f,
                        translateY: h + this.padding + 7 + this.titleHeight,
                        visibility: "visible"
                    }), this.up.attr({
                        "class": 1 === a ? "highcharts-legend-nav-inactive" : "highcharts-legend-nav-active"
                    }), l.attr({
                        text: a + "/" + b
                    }), this.down.attr({
                        x: 18 + this.pager.getBBox().width,
                        "class": a === b ? "highcharts-legend-nav-inactive" : "highcharts-legend-nav-active"
                    }),
                    this.up.attr({
                        fill: 1 === a ? e.inactiveColor : e.activeColor
                    }).css({
                        cursor: 1 === a ? "default" : "pointer"
                    }), this.down.attr({
                        fill: a === b ? e.inactiveColor : e.activeColor
                    }).css({
                        cursor: a === b ? "default" : "pointer"
                    }), this.scrollOffset = -d[a - 1] + this.initialItemY, this.scrollGroup.animate({
                        translateY: this.scrollOffset
                    }), this.currentPage = a, this.positionCheckboxes())
            }
        };
        a.LegendSymbolMixin = {
            drawRectangle: function (a, c) {
                var d = a.symbolHeight,
                    b = a.options.squareSymbol;
                c.legendSymbol = this.chart.renderer.rect(b ? (a.symbolWidth - d) / 2 :
                    0, a.baseline - d + 1, b ? d : a.symbolWidth, d, w(a.options.symbolRadius, d / 2)).addClass("highcharts-point").attr({
                    zIndex: 3
                }).add(c.legendGroup)
            },
            drawLineMarker: function (a) {
                var c = this.options,
                    d = c.marker,
                    b = a.symbolWidth,
                    h = a.symbolHeight,
                    e = h / 2,
                    l = this.chart.renderer,
                    f = this.legendGroup;
                a = a.baseline - Math.round(.3 * a.fontMetrics.b);
                var k;
                k = {
                    "stroke-width": c.lineWidth || 0
                };
                c.dashStyle && (k.dashstyle = c.dashStyle);
                this.legendLine = l.path(["M", 0, a, "L", b, a]).addClass("highcharts-graph").attr(k).add(f);
                d && !1 !== d.enabled && b &&
                    (c = Math.min(w(d.radius, e), e), 0 === this.symbol.indexOf("url") && (d = t(d, {
                        width: h,
                        height: h
                    }), c = 0), this.legendSymbol = d = l.symbol(this.symbol, b / 2 - c, a - c, 2 * c, 2 * c, d).addClass("highcharts-point").add(f), d.isMarker = !0)
            }
        };
        (/Trident\/7\.0/.test(h.navigator.userAgent) || u) && p(a.Legend.prototype, "positionItem", function (a, c) {
            var d = this,
                b = function () {
                    c._legendItemPos && a.call(d, c)
                };
            b();
            setTimeout(b)
        })
    })(K);
    (function (a) {
        var C = a.addEvent,
            F = a.animate,
            I = a.animObject,
            n = a.attr,
            f = a.doc,
            e = a.Axis,
            u = a.createElement,
            x = a.defaultOptions,
            t = a.discardElement,
            w = a.charts,
            y = a.css,
            c = a.defined,
            h = a.each,
            p = a.extend,
            k = a.find,
            q = a.fireEvent,
            d = a.grep,
            b = a.isNumber,
            v = a.isObject,
            J = a.isString,
            l = a.Legend,
            L = a.marginNames,
            B = a.merge,
            D = a.objectEach,
            m = a.Pointer,
            G = a.pick,
            A = a.pInt,
            N = a.removeEvent,
            E = a.seriesTypes,
            g = a.splat,
            r = a.syncTimeout,
            M = a.win,
            O = a.Chart = function () {
                this.getArgs.apply(this, arguments)
            };
        a.chart = function (a, b, c) {
            return new O(a, b, c)
        };
        p(O.prototype, {
            callbacks: [],
            getArgs: function () {
                var a = [].slice.call(arguments);
                if (J(a[0]) || a[0].nodeName) this.renderTo =
                    a.shift();
                this.init(a[0], a[1])
            },
            init: function (b, c) {
                var d, g, m = b.series,
                    h = b.plotOptions || {};
                q(this, "init", {
                    args: arguments
                }, function () {
                    b.series = null;
                    d = B(x, b);
                    for (g in d.plotOptions) d.plotOptions[g].tooltip = h[g] && B(h[g].tooltip) || void 0;
                    d.tooltip.userOptions = b.chart && b.chart.forExport && b.tooltip.userOptions || b.tooltip;
                    d.series = b.series = m;
                    this.userOptions = b;
                    var e = d.chart,
                        l = e.events;
                    this.margin = [];
                    this.spacing = [];
                    this.bounds = {
                        h: {},
                        v: {}
                    };
                    this.labelCollectors = [];
                    this.callback = c;
                    this.isResizing = 0;
                    this.options =
                        d;
                    this.axes = [];
                    this.series = [];
                    this.time = b.time && a.keys(b.time).length ? new a.Time(b.time) : a.time;
                    this.hasCartesianSeries = e.showAxes;
                    var f = this;
                    f.index = w.length;
                    w.push(f);
                    a.chartCount++;
                    l && D(l, function (a, b) {
                        C(f, b, a)
                    });
                    f.xAxis = [];
                    f.yAxis = [];
                    f.pointCount = f.colorCounter = f.symbolCounter = 0;
                    q(f, "afterInit");
                    f.firstRender()
                })
            },
            initSeries: function (b) {
                var c = this.options.chart;
                (c = E[b.type || c.type || c.defaultSeriesType]) || a.error(17, !0);
                c = new c;
                c.init(this, b);
                return c
            },
            orderSeries: function (a) {
                var b = this.series;
                for (a = a || 0; a < b.length; a++) b[a] && (b[a].index = a, b[a].name = b[a].getName())
            },
            isInsidePlot: function (a, b, c) {
                var d = c ? b : a;
                a = c ? a : b;
                return 0 <= d && d <= this.plotWidth && 0 <= a && a <= this.plotHeight
            },
            redraw: function (b) {
                q(this, "beforeRedraw");
                var c = this.axes,
                    d = this.series,
                    g = this.pointer,
                    m = this.legend,
                    e = this.userOptions.legend,
                    l = this.isDirtyLegend,
                    f, A, k = this.hasCartesianSeries,
                    r = this.isDirtyBox,
                    G, v = this.renderer,
                    H = v.isHidden(),
                    E = [];
                this.setResponsive && this.setResponsive(!1);
                a.setAnimation(b, this);
                H && this.temporaryDisplay();
                this.layOutTitles();
                for (b = d.length; b--;)
                    if (G = d[b], G.options.stacking && (f = !0, G.isDirty)) {
                        A = !0;
                        break
                    } if (A)
                    for (b = d.length; b--;) G = d[b], G.options.stacking && (G.isDirty = !0);
                h(d, function (a) {
                    a.isDirty && ("point" === a.options.legendType ? (a.updateTotals && a.updateTotals(), l = !0) : e && (e.labelFormatter || e.labelFormat) && (l = !0));
                    a.isDirtyData && q(a, "updatedData")
                });
                l && m && m.options.enabled && (m.render(), this.isDirtyLegend = !1);
                f && this.getStacks();
                k && h(c, function (a) {
                    a.updateNames();
                    a.updateYNames && a.updateYNames();
                    a.setScale()
                });
                this.getMargins();
                k && (h(c, function (a) {
                    a.isDirty && (r = !0)
                }), h(c, function (a) {
                    var b = a.min + "," + a.max;
                    a.extKey !== b && (a.extKey = b, E.push(function () {
                        q(a, "afterSetExtremes", p(a.eventArgs, a.getExtremes()));
                        delete a.eventArgs
                    }));
                    (r || f) && a.redraw()
                }));
                r && this.drawChartBox();
                q(this, "predraw");
                h(d, function (a) {
                    (r || a.isDirty) && a.visible && a.redraw();
                    a.isDirtyData = !1
                });
                g && g.reset(!0);
                v.draw();
                q(this, "redraw");
                q(this, "render");
                H && this.temporaryDisplay(!0);
                h(E, function (a) {
                    a.call()
                })
            },
            get: function (a) {
                function b(b) {
                    return b.id ===
                        a || b.options && b.options.id === a
                }
                var c, d = this.series,
                    g;
                c = k(this.axes, b) || k(this.series, b);
                for (g = 0; !c && g < d.length; g++) c = k(d[g].points || [], b);
                return c
            },
            getAxes: function () {
                var a = this,
                    b = this.options,
                    c = b.xAxis = g(b.xAxis || {}),
                    b = b.yAxis = g(b.yAxis || {});
                q(this, "getAxes");
                h(c, function (a, b) {
                    a.index = b;
                    a.isX = !0
                });
                h(b, function (a, b) {
                    a.index = b
                });
                c = c.concat(b);
                h(c, function (b) {
                    new e(a, b)
                });
                q(this, "afterGetAxes")
            },
            getSelectedPoints: function () {
                var a = [];
                h(this.series, function (b) {
                    a = a.concat(d(b.data || [], function (a) {
                        return a.selected
                    }))
                });
                return a
            },
            getSelectedSeries: function () {
                return d(this.series, function (a) {
                    return a.selected
                })
            },
            setTitle: function (a, b, c) {
                var d = this,
                    g = d.options,
                    m;
                m = g.title = B({
                    style: {
                        color: "#333333",
                        fontSize: g.isStock ? "16px" : "18px"
                    }
                }, g.title, a);
                g = g.subtitle = B({
                    style: {
                        color: "#666666"
                    }
                }, g.subtitle, b);
                h([["title", a, m], ["subtitle", b, g]], function (a, b) {
                    var c = a[0],
                        g = d[c],
                        m = a[1];
                    a = a[2];
                    g && m && (d[c] = g = g.destroy());
                    a && !g && (d[c] = d.renderer.text(a.text, 0, 0, a.useHTML).attr({
                            align: a.align,
                            "class": "highcharts-" + c,
                            zIndex: a.zIndex || 4
                        }).add(),
                        d[c].update = function (a) {
                            d.setTitle(!b && a, b && a)
                        }, d[c].css(a.style))
                });
                d.layOutTitles(c)
            },
            layOutTitles: function (a) {
                var b = 0,
                    c, d = this.renderer,
                    g = this.spacingBox;
                h(["title", "subtitle"], function (a) {
                    var c = this[a],
                        m = this.options[a];
                    a = "title" === a ? -3 : m.verticalAlign ? 0 : b + 2;
                    var h;
                    c && (h = m.style.fontSize, h = d.fontMetrics(h, c).b, c.css({
                        width: (m.width || g.width + m.widthAdjust) + "px"
                    }).align(p({
                        y: a + h
                    }, m), !1, "spacingBox"), m.floating || m.verticalAlign || (b = Math.ceil(b + c.getBBox(m.useHTML).height)))
                }, this);
                c = this.titleOffset !==
                    b;
                this.titleOffset = b;
                !this.isDirtyBox && c && (this.isDirtyBox = this.isDirtyLegend = c, this.hasRendered && G(a, !0) && this.isDirtyBox && this.redraw())
            },
            getChartSize: function () {
                var b = this.options.chart,
                    d = b.width,
                    b = b.height,
                    g = this.renderTo;
                c(d) || (this.containerWidth = a.getStyle(g, "width"));
                c(b) || (this.containerHeight = a.getStyle(g, "height"));
                this.chartWidth = Math.max(0, d || this.containerWidth || 600);
                this.chartHeight = Math.max(0, a.relativeLength(b, this.chartWidth) || (1 < this.containerHeight ? this.containerHeight : 400))
            },
            temporaryDisplay: function (b) {
                var c = this.renderTo;
                if (b)
                    for (; c && c.style;) c.hcOrigStyle && (a.css(c, c.hcOrigStyle), delete c.hcOrigStyle), c.hcOrigDetached && (f.body.removeChild(c), c.hcOrigDetached = !1), c = c.parentNode;
                else
                    for (; c && c.style;) {
                        f.body.contains(c) || c.parentNode || (c.hcOrigDetached = !0, f.body.appendChild(c));
                        if ("none" === a.getStyle(c, "display", !1) || c.hcOricDetached) c.hcOrigStyle = {
                                display: c.style.display,
                                height: c.style.height,
                                overflow: c.style.overflow
                            }, b = {
                                display: "block",
                                overflow: "hidden"
                            }, c !== this.renderTo &&
                            (b.height = 0), a.css(c, b), c.offsetWidth || c.style.setProperty("display", "block", "important");
                        c = c.parentNode;
                        if (c === f.body) break
                    }
            },
            setClassName: function (a) {
                this.container.className = "highcharts-container " + (a || "")
            },
            getContainer: function () {
                var c, d = this.options,
                    g = d.chart,
                    m, h;
                c = this.renderTo;
                var e = a.uniqueKey(),
                    l;
                c || (this.renderTo = c = g.renderTo);
                J(c) && (this.renderTo = c = f.getElementById(c));
                c || a.error(13, !0);
                m = A(n(c, "data-highcharts-chart"));
                b(m) && w[m] && w[m].hasRendered && w[m].destroy();
                n(c, "data-highcharts-chart",
                    this.index);
                c.innerHTML = "";
                g.skipClone || c.offsetWidth || this.temporaryDisplay();
                this.getChartSize();
                m = this.chartWidth;
                h = this.chartHeight;
                l = p({
                    position: "relative",
                    overflow: "hidden",
                    width: m + "px",
                    height: h + "px",
                    textAlign: "left",
                    lineHeight: "normal",
                    zIndex: 0,
                    "-webkit-tap-highlight-color": "rgba(0,0,0,0)"
                }, g.style);
                this.container = c = u("div", {
                    id: e
                }, l, c);
                this._cursor = c.style.cursor;
                this.renderer = new(a[g.renderer] || a.Renderer)(c, m, h, null, g.forExport, d.exporting && d.exporting.allowHTML);
                this.setClassName(g.className);
                this.renderer.setStyle(g.style);
                this.renderer.chartIndex = this.index;
                q(this, "afterGetContainer")
            },
            getMargins: function (a) {
                var b = this.spacing,
                    d = this.margin,
                    g = this.titleOffset;
                this.resetMargins();
                g && !c(d[0]) && (this.plotTop = Math.max(this.plotTop, g + this.options.title.margin + b[0]));
                this.legend && this.legend.display && this.legend.adjustMargins(d, b);
                q(this, "getMargins");
                a || this.getAxisMargins()
            },
            getAxisMargins: function () {
                var a = this,
                    b = a.axisOffset = [0, 0, 0, 0],
                    d = a.margin;
                a.hasCartesianSeries && h(a.axes, function (a) {
                    a.visible &&
                        a.getOffset()
                });
                h(L, function (g, m) {
                    c(d[m]) || (a[g] += b[m])
                });
                a.setChartSize()
            },
            reflow: function (b) {
                var d = this,
                    g = d.options.chart,
                    m = d.renderTo,
                    h = c(g.width) && c(g.height),
                    e = g.width || a.getStyle(m, "width"),
                    g = g.height || a.getStyle(m, "height"),
                    m = b ? b.target : M;
                if (!h && !d.isPrinting && e && g && (m === M || m === f)) {
                    if (e !== d.containerWidth || g !== d.containerHeight) a.clearTimeout(d.reflowTimeout), d.reflowTimeout = r(function () {
                        d.container && d.setSize(void 0, void 0, !1)
                    }, b ? 100 : 0);
                    d.containerWidth = e;
                    d.containerHeight = g
                }
            },
            setReflow: function (a) {
                var b =
                    this;
                !1 === a || this.unbindReflow ? !1 === a && this.unbindReflow && (this.unbindReflow = this.unbindReflow()) : (this.unbindReflow = C(M, "resize", function (a) {
                    b.reflow(a)
                }), C(this, "destroy", this.unbindReflow))
            },
            setSize: function (b, c, d) {
                var g = this,
                    m = g.renderer;
                g.isResizing += 1;
                a.setAnimation(d, g);
                g.oldChartHeight = g.chartHeight;
                g.oldChartWidth = g.chartWidth;
                void 0 !== b && (g.options.chart.width = b);
                void 0 !== c && (g.options.chart.height = c);
                g.getChartSize();
                b = m.globalAnimation;
                (b ? F : y)(g.container, {
                    width: g.chartWidth + "px",
                    height: g.chartHeight +
                        "px"
                }, b);
                g.setChartSize(!0);
                m.setSize(g.chartWidth, g.chartHeight, d);
                h(g.axes, function (a) {
                    a.isDirty = !0;
                    a.setScale()
                });
                g.isDirtyLegend = !0;
                g.isDirtyBox = !0;
                g.layOutTitles();
                g.getMargins();
                g.redraw(d);
                g.oldChartHeight = null;
                q(g, "resize");
                r(function () {
                    g && q(g, "endResize", null, function () {
                        --g.isResizing
                    })
                }, I(b).duration)
            },
            setChartSize: function (a) {
                var b = this.inverted,
                    c = this.renderer,
                    g = this.chartWidth,
                    d = this.chartHeight,
                    m = this.options.chart,
                    e = this.spacing,
                    l = this.clipOffset,
                    f, A, k, r;
                this.plotLeft = f = Math.round(this.plotLeft);
                this.plotTop = A = Math.round(this.plotTop);
                this.plotWidth = k = Math.max(0, Math.round(g - f - this.marginRight));
                this.plotHeight = r = Math.max(0, Math.round(d - A - this.marginBottom));
                this.plotSizeX = b ? r : k;
                this.plotSizeY = b ? k : r;
                this.plotBorderWidth = m.plotBorderWidth || 0;
                this.spacingBox = c.spacingBox = {
                    x: e[3],
                    y: e[0],
                    width: g - e[3] - e[1],
                    height: d - e[0] - e[2]
                };
                this.plotBox = c.plotBox = {
                    x: f,
                    y: A,
                    width: k,
                    height: r
                };
                g = 2 * Math.floor(this.plotBorderWidth / 2);
                b = Math.ceil(Math.max(g, l[3]) / 2);
                c = Math.ceil(Math.max(g, l[0]) / 2);
                this.clipBox = {
                    x: b,
                    y: c,
                    width: Math.floor(this.plotSizeX - Math.max(g, l[1]) / 2 - b),
                    height: Math.max(0, Math.floor(this.plotSizeY - Math.max(g, l[2]) / 2 - c))
                };
                a || h(this.axes, function (a) {
                    a.setAxisSize();
                    a.setAxisTranslation()
                });
                q(this, "afterSetChartSize", {
                    skipAxes: a
                })
            },
            resetMargins: function () {
                var a = this,
                    b = a.options.chart;
                h(["margin", "spacing"], function (c) {
                    var g = b[c],
                        d = v(g) ? g : [g, g, g, g];
                    h(["Top", "Right", "Bottom", "Left"], function (g, m) {
                        a[c][m] = G(b[c + g], d[m])
                    })
                });
                h(L, function (b, c) {
                    a[b] = G(a.margin[c], a.spacing[c])
                });
                a.axisOffset = [0, 0, 0,
0];
                a.clipOffset = [0, 0, 0, 0]
            },
            drawChartBox: function () {
                var a = this.options.chart,
                    b = this.renderer,
                    c = this.chartWidth,
                    g = this.chartHeight,
                    d = this.chartBackground,
                    m = this.plotBackground,
                    h = this.plotBorder,
                    e, l = this.plotBGImage,
                    f = a.backgroundColor,
                    A = a.plotBackgroundColor,
                    k = a.plotBackgroundImage,
                    r, p = this.plotLeft,
                    G = this.plotTop,
                    v = this.plotWidth,
                    E = this.plotHeight,
                    n = this.plotBox,
                    B = this.clipRect,
                    t = this.clipBox,
                    u = "animate";
                d || (this.chartBackground = d = b.rect().addClass("highcharts-background").add(), u = "attr");
                e = a.borderWidth ||
                    0;
                r = e + (a.shadow ? 8 : 0);
                f = {
                    fill: f || "none"
                };
                if (e || d["stroke-width"]) f.stroke = a.borderColor, f["stroke-width"] = e;
                d.attr(f).shadow(a.shadow);
                d[u]({
                    x: r / 2,
                    y: r / 2,
                    width: c - r - e % 2,
                    height: g - r - e % 2,
                    r: a.borderRadius
                });
                u = "animate";
                m || (u = "attr", this.plotBackground = m = b.rect().addClass("highcharts-plot-background").add());
                m[u](n);
                m.attr({
                    fill: A || "none"
                }).shadow(a.plotShadow);
                k && (l ? l.animate(n) : this.plotBGImage = b.image(k, p, G, v, E).add());
                B ? B.animate({
                    width: t.width,
                    height: t.height
                }) : this.clipRect = b.clipRect(t);
                u = "animate";
                h || (u = "attr", this.plotBorder = h = b.rect().addClass("highcharts-plot-border").attr({
                    zIndex: 1
                }).add());
                h.attr({
                    stroke: a.plotBorderColor,
                    "stroke-width": a.plotBorderWidth || 0,
                    fill: "none"
                });
                h[u](h.crisp({
                    x: p,
                    y: G,
                    width: v,
                    height: E
                }, -h.strokeWidth()));
                this.isDirtyBox = !1;
                q(this, "afterDrawChartBox")
            },
            propFromSeries: function () {
                var a = this,
                    b = a.options.chart,
                    c, g = a.options.series,
                    d, m;
                h(["inverted", "angular", "polar"], function (h) {
                    c = E[b.type || b.defaultSeriesType];
                    m = b[h] || c && c.prototype[h];
                    for (d = g && g.length; !m && d--;)(c =
                        E[g[d].type]) && c.prototype[h] && (m = !0);
                    a[h] = m
                })
            },
            linkSeries: function () {
                var a = this,
                    b = a.series;
                h(b, function (a) {
                    a.linkedSeries.length = 0
                });
                h(b, function (b) {
                    var c = b.options.linkedTo;
                    J(c) && (c = ":previous" === c ? a.series[b.index - 1] : a.get(c)) && c.linkedParent !== b && (c.linkedSeries.push(b), b.linkedParent = c, b.visible = G(b.options.visible, c.options.visible, b.visible))
                });
                q(this, "afterLinkSeries")
            },
            renderSeries: function () {
                h(this.series, function (a) {
                    a.translate();
                    a.render()
                })
            },
            renderLabels: function () {
                var a = this,
                    b = a.options.labels;
                b.items && h(b.items, function (c) {
                    var g = p(b.style, c.style),
                        d = A(g.left) + a.plotLeft,
                        m = A(g.top) + a.plotTop + 12;
                    delete g.left;
                    delete g.top;
                    a.renderer.text(c.html, d, m).attr({
                        zIndex: 2
                    }).css(g).add()
                })
            },
            render: function () {
                var a = this.axes,
                    b = this.renderer,
                    c = this.options,
                    g, d, m;
                this.setTitle();
                this.legend = new l(this, c.legend);
                this.getStacks && this.getStacks();
                this.getMargins(!0);
                this.setChartSize();
                c = this.plotWidth;
                g = this.plotHeight = Math.max(this.plotHeight - 21, 0);
                h(a, function (a) {
                    a.setScale()
                });
                this.getAxisMargins();
                d = 1.1 < c / this.plotWidth;
                m = 1.05 < g / this.plotHeight;
                if (d || m) h(a, function (a) {
                    (a.horiz && d || !a.horiz && m) && a.setTickInterval(!0)
                }), this.getMargins();
                this.drawChartBox();
                this.hasCartesianSeries && h(a, function (a) {
                    a.visible && a.render()
                });
                this.seriesGroup || (this.seriesGroup = b.g("series-group").attr({
                    zIndex: 3
                }).add());
                this.renderSeries();
                this.renderLabels();
                this.addCredits();
                this.setResponsive && this.setResponsive();
                this.hasRendered = !0
            },
            addCredits: function (a) {
                var b = this;
                a = B(!0, this.options.credits, a);
                a.enabled &&
                    !this.credits && (this.credits = this.renderer.text(a.text + (this.mapCredits || ""), 0, 0).addClass("highcharts-credits").on("click", function () {
                        a.href && (M.location.href = a.href)
                    }).attr({
                        align: a.position.align,
                        zIndex: 8
                    }).css(a.style).add().align(a.position), this.credits.update = function (a) {
                        b.credits = b.credits.destroy();
                        b.addCredits(a)
                    })
            },
            destroy: function () {
                var b = this,
                    c = b.axes,
                    g = b.series,
                    d = b.container,
                    m, e = d && d.parentNode;
                q(b, "destroy");
                b.renderer.forExport ? a.erase(w, b) : w[b.index] = void 0;
                a.chartCount--;
                b.renderTo.removeAttribute("data-highcharts-chart");
                N(b);
                for (m = c.length; m--;) c[m] = c[m].destroy();
                this.scroller && this.scroller.destroy && this.scroller.destroy();
                for (m = g.length; m--;) g[m] = g[m].destroy();
                h("title subtitle chartBackground plotBackground plotBGImage plotBorder seriesGroup clipRect credits pointer rangeSelector legend resetZoomButton tooltip renderer".split(" "), function (a) {
                    var c = b[a];
                    c && c.destroy && (b[a] = c.destroy())
                });
                d && (d.innerHTML = "", N(d), e && t(d));
                D(b, function (a, c) {
                    delete b[c]
                })
            },
            firstRender: function () {
                var a = this,
                    b = a.options;
                if (!a.isReadyToRender ||
                    a.isReadyToRender()) {
                    a.getContainer();
                    a.resetMargins();
                    a.setChartSize();
                    a.propFromSeries();
                    a.getAxes();
                    h(b.series || [], function (b) {
                        a.initSeries(b)
                    });
                    a.linkSeries();
                    q(a, "beforeRender");
                    m && (a.pointer = new m(a, b));
                    a.render();
                    if (!a.renderer.imgCount && a.onload) a.onload();
                    a.temporaryDisplay(!0)
                }
            },
            onload: function () {
                h([this.callback].concat(this.callbacks), function (a) {
                    a && void 0 !== this.index && a.apply(this, [this])
                }, this);
                q(this, "load");
                q(this, "render");
                c(this.index) && this.setReflow(this.options.chart.reflow);
                this.onload = null
            }
        })
    })(K);
    (function (a) {
        var C = a.addEvent,
            F = a.Chart,
            I = a.each;
        C(F, "afterSetChartSize", function (n) {
            var f = this.options.chart.scrollablePlotArea;
            (f = f && f.minWidth) && !this.renderer.forExport && (this.scrollablePixels = f = Math.max(0, f - this.chartWidth)) && (this.plotWidth += f, this.clipBox.width += f, n.skipAxes || I(this.axes, function (e) {
                1 === e.side ? e.getPlotLinePath = function () {
                        var f = this.right,
                            n;
                        this.right = f - e.chart.scrollablePixels;
                        n = a.Axis.prototype.getPlotLinePath.apply(this, arguments);
                        this.right = f;
                        return n
                    } :
                    (e.setAxisSize(), e.setAxisTranslation())
            }))
        });
        C(F, "render", function () {
            this.scrollablePixels ? (this.setUpScrolling && this.setUpScrolling(), this.applyFixed()) : this.fixedDiv && this.applyFixed()
        });
        F.prototype.setUpScrolling = function () {
            this.scrollingContainer = a.createElement("div", {
                className: "highcharts-scrolling"
            }, {
                overflowX: "auto",
                WebkitOverflowScrolling: "touch"
            }, this.renderTo);
            this.innerContainer = a.createElement("div", {
                className: "highcharts-inner-container"
            }, null, this.scrollingContainer);
            this.innerContainer.appendChild(this.container);
            this.setUpScrolling = null
        };
        F.prototype.applyFixed = function () {
            var n = this.container,
                f, e, u = !this.fixedDiv;
            u && (this.fixedDiv = a.createElement("div", {
                    className: "highcharts-fixed"
                }, {
                    position: "absolute",
                    overflow: "hidden",
                    pointerEvents: "none",
                    zIndex: 2
                }, null, !0), this.renderTo.insertBefore(this.fixedDiv, this.renderTo.firstChild), this.fixedRenderer = f = new a.Renderer(this.fixedDiv, 0, 0), this.scrollableMask = f.path().attr({
                    fill: a.color(this.options.chart.backgroundColor || "#fff").setOpacity(.85).get(),
                    zIndex: -1
                }).addClass("highcharts-scrollable-mask").add(),
                a.each([this.inverted ? ".highcharts-xaxis" : ".highcharts-yaxis", this.inverted ? ".highcharts-xaxis-labels" : ".highcharts-yaxis-labels", ".highcharts-contextbutton", ".highcharts-credits", ".highcharts-legend", ".highcharts-subtitle", ".highcharts-title", ".highcharts-legend-checkbox"], function (e) {
                    a.each(n.querySelectorAll(e), function (a) {
                        (a.namespaceURI === f.SVG_NS ? f.box : f.box.parentNode).appendChild(a);
                        a.style.pointerEvents = "auto"
                    })
                }));
            this.fixedRenderer.setSize(this.chartWidth, this.chartHeight);
            e = this.chartWidth +
                this.scrollablePixels;
            a.stop(this.container);
            this.container.style.width = e + "px";
            this.renderer.boxWrapper.attr({
                width: e,
                height: this.chartHeight,
                viewBox: [0, 0, e, this.chartHeight].join(" ")
            });
            this.chartBackground.attr({
                width: e
            });
            u && (e = this.options.chart.scrollablePlotArea, e.scrollPositionX && (this.scrollingContainer.scrollLeft = this.scrollablePixels * e.scrollPositionX));
            u = this.axisOffset;
            e = this.plotTop - u[0] - 1;
            var u = this.plotTop + this.plotHeight + u[2],
                x = this.plotLeft + this.plotWidth - this.scrollablePixels;
            this.scrollableMask.attr({
                d: this.scrollablePixels ? ["M", 0, e, "L", this.plotLeft - 1, e, "L", this.plotLeft - 1, u, "L", 0, u, "Z", "M", x, e, "L", this.chartWidth, e, "L", this.chartWidth, u, "L", x, u, "Z"] : ["M", 0, 0]
            })
        }
    })(K);
    (function (a) {
        var C, F = a.each,
            I = a.extend,
            n = a.erase,
            f = a.fireEvent,
            e = a.format,
            u = a.isArray,
            x = a.isNumber,
            t = a.pick,
            w = a.uniqueKey,
            y = a.defined,
            c = a.removeEvent;
        a.Point = C = function () {};
        a.Point.prototype = {
            init: function (a, c, e) {
                this.series = a;
                this.color = a.color;
                this.applyOptions(c, e);
                this.id = y(this.id) ? this.id : w();
                a.options.colorByPoint ? (c = a.options.colors || a.chart.options.colors,
                    this.color = this.color || c[a.colorCounter], c = c.length, e = a.colorCounter, a.colorCounter++, a.colorCounter === c && (a.colorCounter = 0)) : e = a.colorIndex;
                this.colorIndex = t(this.colorIndex, e);
                a.chart.pointCount++;
                f(this, "afterInit");
                return this
            },
            applyOptions: function (a, c) {
                var e = this.series,
                    h = e.options.pointValKey || e.pointValKey;
                a = C.prototype.optionsToObject.call(this, a);
                I(this, a);
                this.options = this.options ? I(this.options, a) : a;
                a.group && delete this.group;
                a.dataLabels && delete this.dataLabels;
                h && (this.y = this[h]);
                this.isNull =
                    t(this.isValid && !this.isValid(), null === this.x || !x(this.y, !0));
                this.selected && (this.state = "select");
                "name" in this && void 0 === c && e.xAxis && e.xAxis.hasNames && (this.x = e.xAxis.nameToX(this));
                void 0 === this.x && e && (this.x = void 0 === c ? e.autoIncrement(this) : c);
                return this
            },
            setNestedProperty: function (c, e, f) {
                f = f.split(".");
                a.reduce(f, function (c, d, b, h) {
                    c[d] = h.length - 1 === b ? e : a.isObject(c[d], !0) ? c[d] : {};
                    return c[d]
                }, c);
                return c
            },
            optionsToObject: function (c) {
                var e = {},
                    h = this.series,
                    f = h.options.keys,
                    d = f || h.pointArrayMap || ["y"],
                    b = d.length,
                    v = 0,
                    n = 0;
                if (x(c) || null === c) e[d[0]] = c;
                else if (u(c))
                    for (!f && c.length > b && (h = typeof c[0], "string" === h ? e.name = c[0] : "number" === h && (e.x = c[0]), v++); n < b;) f && void 0 === c[v] || (0 < d[n].indexOf(".") ? a.Point.prototype.setNestedProperty(e, c[v], d[n]) : e[d[n]] = c[v]), v++, n++;
                else "object" === typeof c && (e = c, c.dataLabels && (h._hasPointLabels = !0), c.marker && (h._hasPointMarkers = !0));
                return e
            },
            getClassName: function () {
                return "highcharts-point" + (this.selected ? " highcharts-point-select" : "") + (this.negative ? " highcharts-negative" :
                    "") + (this.isNull ? " highcharts-null-point" : "") + (void 0 !== this.colorIndex ? " highcharts-color-" + this.colorIndex : "") + (this.options.className ? " " + this.options.className : "") + (this.zone && this.zone.className ? " " + this.zone.className.replace("highcharts-negative", "") : "")
            },
            getZone: function () {
                var a = this.series,
                    c = a.zones,
                    a = a.zoneAxis || "y",
                    e = 0,
                    f;
                for (f = c[e]; this[a] >= f.value;) f = c[++e];
                this.nonZonedColor || (this.nonZonedColor = this.color);
                this.color = f && f.color && !this.options.color ? f.color : this.nonZonedColor;
                return f
            },
            destroy: function () {
                var a = this.series.chart,
                    e = a.hoverPoints,
                    f;
                a.pointCount--;
                e && (this.setState(), n(e, this), e.length || (a.hoverPoints = null));
                if (this === a.hoverPoint) this.onMouseOut();
                if (this.graphic || this.dataLabel || this.dataLabels) c(this), this.destroyElements();
                this.legendItem && a.legend.destroyItem(this);
                for (f in this) this[f] = null
            },
            destroyElements: function () {
                for (var a = ["graphic", "dataLabel", "dataLabelUpper", "connector", "shadowGroup"], c, e = 6; e--;) c = a[e], this[c] && (this[c] = this[c].destroy());
                this.dataLabels &&
                    (F(this.dataLabels, function (a) {
                        a.element && a.destroy()
                    }), delete this.dataLabels);
                this.connectors && (F(this.connectors, function (a) {
                    a.element && a.destroy()
                }), delete this.connectors)
            },
            getLabelConfig: function () {
                return {
                    x: this.category,
                    y: this.y,
                    color: this.color,
                    colorIndex: this.colorIndex,
                    key: this.name || this.category,
                    series: this.series,
                    point: this,
                    percentage: this.percentage,
                    total: this.total || this.stackTotal
                }
            },
            tooltipFormatter: function (a) {
                var c = this.series,
                    h = c.tooltipOptions,
                    f = t(h.valueDecimals, ""),
                    d = h.valuePrefix ||
                    "",
                    b = h.valueSuffix || "";
                F(c.pointArrayMap || ["y"], function (c) {
                    c = "{point." + c;
                    if (d || b) a = a.replace(RegExp(c + "}", "g"), d + c + "}" + b);
                    a = a.replace(RegExp(c + "}", "g"), c + ":,." + f + "f}")
                });
                return e(a, {
                    point: this,
                    series: this.series
                }, c.chart.time)
            },
            firePointEvent: function (a, c, e) {
                var h = this,
                    d = this.series.options;
                (d.point.events[a] || h.options && h.options.events && h.options.events[a]) && this.importEvents();
                "click" === a && d.allowPointSelect && (e = function (a) {
                    h.select && h.select(null, a.ctrlKey || a.metaKey || a.shiftKey)
                });
                f(this, a,
                    c, e)
            },
            visible: !0
        }
    })(K);
    (function (a) {
        var C = a.addEvent,
            F = a.animObject,
            I = a.arrayMax,
            n = a.arrayMin,
            f = a.correctFloat,
            e = a.defaultOptions,
            u = a.defaultPlotOptions,
            x = a.defined,
            t = a.each,
            w = a.erase,
            y = a.extend,
            c = a.fireEvent,
            h = a.grep,
            p = a.isArray,
            k = a.isNumber,
            q = a.isString,
            d = a.merge,
            b = a.objectEach,
            v = a.pick,
            J = a.removeEvent,
            l = a.splat,
            L = a.SVGElement,
            B = a.syncTimeout,
            D = a.win;
        a.Series = a.seriesType("line", null, {
            lineWidth: 2,
            allowPointSelect: !1,
            showCheckbox: !1,
            animation: {
                duration: 1E3
            },
            events: {},
            marker: {
                lineWidth: 0,
                lineColor: "#ffffff",
                enabledThreshold: 2,
                radius: 4,
                states: {
                    normal: {
                        animation: !0
                    },
                    hover: {
                        animation: {
                            duration: 50
                        },
                        enabled: !0,
                        radiusPlus: 2,
                        lineWidthPlus: 1
                    },
                    select: {
                        fillColor: "#cccccc",
                        lineColor: "#000000",
                        lineWidth: 2
                    }
                }
            },
            point: {
                events: {}
            },
            dataLabels: {
                align: "center",
                formatter: function () {
                    return null === this.y ? "" : a.numberFormat(this.y, -1)
                },
                style: {
                    fontSize: "11px",
                    fontWeight: "bold",
                    color: "contrast",
                    textOutline: "1px contrast"
                },
                verticalAlign: "bottom",
                x: 0,
                y: 0,
                padding: 5
            },
            cropThreshold: 300,
            pointRange: 0,
            softThreshold: !0,
            states: {
                normal: {
                    animation: !0
                },
                hover: {
                    animation: {
                        duration: 50
                    },
                    lineWidthPlus: 1,
                    marker: {},
                    halo: {
                        size: 10,
                        opacity: .25
                    }
                },
                select: {}
            },
            stickyTracking: !0,
            turboThreshold: 1E3,
            findNearestPointBy: "x"
        }, {
            isCartesian: !0,
            pointClass: a.Point,
            sorted: !0,
            requireSorting: !0,
            directTouch: !1,
            axisTypes: ["xAxis", "yAxis"],
            colorCounter: 0,
            parallelArrays: ["x", "y"],
            coll: "series",
            init: function (a, d) {
                var m = this,
                    e, h = a.series,
                    g;
                m.chart = a;
                m.options = d = m.setOptions(d);
                m.linkedSeries = [];
                m.bindAxes();
                y(m, {
                    name: d.name,
                    state: "",
                    visible: !1 !== d.visible,
                    selected: !0 === d.selected
                });
                e = d.events;
                b(e, function (a, b) {
                    C(m, b, a)
                });
                if (e && e.click || d.point && d.point.events && d.point.events.click || d.allowPointSelect) a.runTrackerClick = !0;
                m.getColor();
                m.getSymbol();
                t(m.parallelArrays, function (a) {
                    m[a + "Data"] = []
                });
                m.setData(d.data, !1);
                m.isCartesian && (a.hasCartesianSeries = !0);
                h.length && (g = h[h.length - 1]);
                m._i = v(g && g._i, -1) + 1;
                a.orderSeries(this.insert(h));
                c(this, "afterInit")
            },
            insert: function (a) {
                var b = this.options.index,
                    c;
                if (k(b)) {
                    for (c = a.length; c--;)
                        if (b >= v(a[c].options.index, a[c]._i)) {
                            a.splice(c +
                                1, 0, this);
                            break
                        } - 1 === c && a.unshift(this);
                    c += 1
                } else a.push(this);
                return v(c, a.length - 1)
            },
            bindAxes: function () {
                var b = this,
                    c = b.options,
                    d = b.chart,
                    e;
                t(b.axisTypes || [], function (m) {
                    t(d[m], function (a) {
                        e = a.options;
                        if (c[m] === e.index || void 0 !== c[m] && c[m] === e.id || void 0 === c[m] && 0 === e.index) b.insert(a.series), b[m] = a, a.isDirty = !0
                    });
                    b[m] || b.optionalAxis === m || a.error(18, !0)
                })
            },
            updateParallelArrays: function (a, b) {
                var c = a.series,
                    d = arguments,
                    m = k(b) ? function (g) {
                        var d = "y" === g && c.toYData ? c.toYData(a) : a[g];
                        c[g + "Data"][b] =
                            d
                    } : function (a) {
                        Array.prototype[b].apply(c[a + "Data"], Array.prototype.slice.call(d, 2))
                    };
                t(c.parallelArrays, m)
            },
            autoIncrement: function () {
                var a = this.options,
                    b = this.xIncrement,
                    c, d = a.pointIntervalUnit,
                    e = this.chart.time,
                    b = v(b, a.pointStart, 0);
                this.pointInterval = c = v(this.pointInterval, a.pointInterval, 1);
                d && (a = new e.Date(b), "day" === d ? e.set("Date", a, e.get("Date", a) + c) : "month" === d ? e.set("Month", a, e.get("Month", a) + c) : "year" === d && e.set("FullYear", a, e.get("FullYear", a) + c), c = a.getTime() - b);
                this.xIncrement = b + c;
                return b
            },
            setOptions: function (a) {
                var b = this.chart,
                    m = b.options,
                    h = m.plotOptions,
                    f = (b.userOptions || {}).plotOptions || {},
                    g = h[this.type];
                this.userOptions = a;
                b = d(g, h.series, a);
                this.tooltipOptions = d(e.tooltip, e.plotOptions.series && e.plotOptions.series.tooltip, e.plotOptions[this.type].tooltip, m.tooltip.userOptions, h.series && h.series.tooltip, h[this.type].tooltip, a.tooltip);
                this.stickyTracking = v(a.stickyTracking, f[this.type] && f[this.type].stickyTracking, f.series && f.series.stickyTracking, this.tooltipOptions.shared && !this.noSharedTooltip ?
                    !0 : b.stickyTracking);
                null === g.marker && delete b.marker;
                this.zoneAxis = b.zoneAxis;
                a = this.zones = (b.zones || []).slice();
                !b.negativeColor && !b.negativeFillColor || b.zones || a.push({
                    value: b[this.zoneAxis + "Threshold"] || b.threshold || 0,
                    className: "highcharts-negative",
                    color: b.negativeColor,
                    fillColor: b.negativeFillColor
                });
                a.length && x(a[a.length - 1].value) && a.push({
                    color: this.color,
                    fillColor: this.fillColor
                });
                c(this, "afterSetOptions", {
                    options: b
                });
                return b
            },
            getName: function () {
                return this.name || "Series " + (this.index +
                    1)
            },
            getCyclic: function (a, b, c) {
                var d, e = this.chart,
                    g = this.userOptions,
                    m = a + "Index",
                    h = a + "Counter",
                    f = c ? c.length : v(e.options.chart[a + "Count"], e[a + "Count"]);
                b || (d = v(g[m], g["_" + m]), x(d) || (e.series.length || (e[h] = 0), g["_" + m] = d = e[h] % f, e[h] += 1), c && (b = c[d]));
                void 0 !== d && (this[m] = d);
                this[a] = b
            },
            getColor: function () {
                this.options.colorByPoint ? this.options.color = null : this.getCyclic("color", this.options.color || u[this.type].color, this.chart.options.colors)
            },
            getSymbol: function () {
                this.getCyclic("symbol", this.options.marker.symbol,
                    this.chart.options.symbols)
            },
            drawLegendSymbol: a.LegendSymbolMixin.drawLineMarker,
            updateData: function (b) {
                var c = this.options,
                    d = this.points,
                    e = [],
                    m, g, h, f = this.requireSorting;
                t(b, function (b) {
                    var g;
                    g = a.defined(b) && this.pointClass.prototype.optionsToObject.call({
                        series: this
                    }, b).x;
                    k(g) && (g = a.inArray(g, this.xData, h), -1 === g || d[g].touched ? e.push(b) : b !== c.data[g] ? (d[g].update(b, !1, null, !1), d[g].touched = !0, f && (h = g + 1)) : d[g] && (d[g].touched = !0), m = !0)
                }, this);
                if (m)
                    for (b = d.length; b--;) g = d[b], g.touched || g.remove(!1),
                        g.touched = !1;
                else if (b.length === d.length) t(b, function (a, b) {
                    d[b].update && a !== c.data[b] && d[b].update(a, !1, null, !1)
                });
                else return !1;
                t(e, function (a) {
                    this.addPoint(a, !1)
                }, this);
                return !0
            },
            setData: function (b, c, d, e) {
                var m = this,
                    g = m.points,
                    h = g && g.length || 0,
                    f, l = m.options,
                    A = m.chart,
                    G = null,
                    n = m.xAxis,
                    B = l.turboThreshold,
                    u = this.xData,
                    D = this.yData,
                    y = (f = m.pointArrayMap) && f.length,
                    N;
                b = b || [];
                f = b.length;
                c = v(c, !0);
                !1 !== e && f && h && !m.cropped && !m.hasGroupedData && m.visible && !m.isSeriesBoosting && (N = this.updateData(b));
                if (!N) {
                    m.xIncrement =
                        null;
                    m.colorCounter = 0;
                    t(this.parallelArrays, function (a) {
                        m[a + "Data"].length = 0
                    });
                    if (B && f > B) {
                        for (d = 0; null === G && d < f;) G = b[d], d++;
                        if (k(G))
                            for (d = 0; d < f; d++) u[d] = this.autoIncrement(), D[d] = b[d];
                        else if (p(G))
                            if (y)
                                for (d = 0; d < f; d++) G = b[d], u[d] = G[0], D[d] = G.slice(1, y + 1);
                            else
                                for (d = 0; d < f; d++) G = b[d], u[d] = G[0], D[d] = G[1];
                        else a.error(12)
                    } else
                        for (d = 0; d < f; d++) void 0 !== b[d] && (G = {
                            series: m
                        }, m.pointClass.prototype.applyOptions.apply(G, [b[d]]), m.updateParallelArrays(G, d));
                    D && q(D[0]) && a.error(14, !0);
                    m.data = [];
                    m.options.data =
                        m.userOptions.data = b;
                    for (d = h; d--;) g[d] && g[d].destroy && g[d].destroy();
                    n && (n.minRange = n.userMinRange);
                    m.isDirty = A.isDirtyBox = !0;
                    m.isDirtyData = !!g;
                    d = !1
                }
                "point" === l.legendType && (this.processData(), this.generatePoints());
                c && A.redraw(d)
            },
            processData: function (b) {
                var c = this.xData,
                    d = this.yData,
                    e = c.length,
                    m;
                m = 0;
                var g, h, f = this.xAxis,
                    l, k = this.options;
                l = k.cropThreshold;
                var p = this.getExtremesFromAll || k.getExtremesFromAll,
                    q = this.isCartesian,
                    k = f && f.val2lin,
                    v = f && f.isLog,
                    n = this.requireSorting,
                    B, t;
                if (q && !this.isDirty &&
                    !f.isDirty && !this.yAxis.isDirty && !b) return !1;
                f && (b = f.getExtremes(), B = b.min, t = b.max);
                q && this.sorted && !p && (!l || e > l || this.forceCrop) && (c[e - 1] < B || c[0] > t ? (c = [], d = []) : this.yData && (c[0] < B || c[e - 1] > t) && (m = this.cropData(this.xData, this.yData, B, t), c = m.xData, d = m.yData, m = m.start, g = !0));
                for (l = c.length || 1; --l;) e = v ? k(c[l]) - k(c[l - 1]) : c[l] - c[l - 1], 0 < e && (void 0 === h || e < h) ? h = e : 0 > e && n && (a.error(15), n = !1);
                this.cropped = g;
                this.cropStart = m;
                this.processedXData = c;
                this.processedYData = d;
                this.closestPointRange = h
            },
            cropData: function (a,
                b, c, d, e) {
                var g = a.length,
                    m = 0,
                    h = g,
                    f;
                e = v(e, this.cropShoulder, 1);
                for (f = 0; f < g; f++)
                    if (a[f] >= c) {
                        m = Math.max(0, f - e);
                        break
                    } for (c = f; c < g; c++)
                    if (a[c] > d) {
                        h = c + e;
                        break
                    } return {
                    xData: a.slice(m, h),
                    yData: b.slice(m, h),
                    start: m,
                    end: h
                }
            },
            generatePoints: function () {
                var a = this.options,
                    b = a.data,
                    c = this.data,
                    d, e = this.processedXData,
                    g = this.processedYData,
                    h = this.pointClass,
                    f = e.length,
                    k = this.cropStart || 0,
                    p, q = this.hasGroupedData,
                    a = a.keys,
                    v, n = [],
                    B;
                c || q || (c = [], c.length = b.length, c = this.data = c);
                a && q && (this.options.keys = !1);
                for (B = 0; B < f; B++) p =
                    k + B, q ? (v = (new h).init(this, [e[B]].concat(l(g[B]))), v.dataGroup = this.groupMap[B], v.dataGroup.options && (v.options = v.dataGroup.options, y(v, v.dataGroup.options))) : (v = c[p]) || void 0 === b[p] || (c[p] = v = (new h).init(this, b[p], e[B])), v && (v.index = p, n[B] = v);
                this.options.keys = a;
                if (c && (f !== (d = c.length) || q))
                    for (B = 0; B < d; B++) B !== k || q || (B += f), c[B] && (c[B].destroyElements(), c[B].plotX = void 0);
                this.data = c;
                this.points = n
            },
            getExtremes: function (a) {
                var b = this.yAxis,
                    c = this.processedXData,
                    d, e = [],
                    g = 0;
                d = this.xAxis.getExtremes();
                var m = d.min,
                    h = d.max,
                    f, l, q = this.requireSorting ? 1 : 0,
                    v, B;
                a = a || this.stackedYData || this.processedYData || [];
                d = a.length;
                for (B = 0; B < d; B++)
                    if (l = c[B], v = a[B], f = (k(v, !0) || p(v)) && (!b.positiveValuesOnly || v.length || 0 < v), l = this.getExtremesFromAll || this.options.getExtremesFromAll || this.cropped || (c[B + q] || l) >= m && (c[B - q] || l) <= h, f && l)
                        if (f = v.length)
                            for (; f--;) "number" === typeof v[f] && (e[g++] = v[f]);
                        else e[g++] = v;
                this.dataMin = n(e);
                this.dataMax = I(e)
            },
            translate: function () {
                this.processedXData || this.processData();
                this.generatePoints();
                var a = this.options,
                    b = a.stacking,
                    d = this.xAxis,
                    e = d.categories,
                    h = this.yAxis,
                    g = this.points,
                    l = g.length,
                    p = !!this.modifyValue,
                    q = a.pointPlacement,
                    B = "between" === q || k(q),
                    n = a.threshold,
                    t = a.startFromThreshold ? n : 0,
                    u, D, y, w, J = Number.MAX_VALUE;
                "between" === q && (q = .5);
                k(q) && (q *= v(a.pointRange || d.pointRange));
                for (a = 0; a < l; a++) {
                    var L = g[a],
                        C = L.x,
                        F = L.y;
                    D = L.low;
                    var I = b && h.stacks[(this.negStacks && F < (t ? 0 : n) ? "-" : "") + this.stackKey],
                        K;
                    h.positiveValuesOnly && null !== F && 0 >= F && (L.isNull = !0);
                    L.plotX = u = f(Math.min(Math.max(-1E5, d.translate(C,
                        0, 0, 0, 1, q, "flags" === this.type)), 1E5));
                    b && this.visible && !L.isNull && I && I[C] && (w = this.getStackIndicator(w, C, this.index), K = I[C], F = K.points[w.key], D = F[0], F = F[1], D === t && w.key === I[C].base && (D = v(k(n) && n, h.min)), h.positiveValuesOnly && 0 >= D && (D = null), L.total = L.stackTotal = K.total, L.percentage = K.total && L.y / K.total * 100, L.stackY = F, K.setOffset(this.pointXOffset || 0, this.barW || 0));
                    L.yBottom = x(D) ? Math.min(Math.max(-1E5, h.translate(D, 0, 1, 0, 1)), 1E5) : null;
                    p && (F = this.modifyValue(F, L));
                    L.plotY = D = "number" === typeof F && Infinity !==
                        F ? Math.min(Math.max(-1E5, h.translate(F, 0, 1, 0, 1)), 1E5) : void 0;
                    L.isInside = void 0 !== D && 0 <= D && D <= h.len && 0 <= u && u <= d.len;
                    L.clientX = B ? f(d.translate(C, 0, 0, 0, 1, q)) : u;
                    L.negative = L.y < (n || 0);
                    L.category = e && void 0 !== e[L.x] ? e[L.x] : L.x;
                    L.isNull || (void 0 !== y && (J = Math.min(J, Math.abs(u - y))), y = u);
                    L.zone = this.zones.length && L.getZone()
                }
                this.closestPointRangePx = J;
                c(this, "afterTranslate")
            },
            getValidPoints: function (a, b) {
                var c = this.chart;
                return h(a || this.points || [], function (a) {
                    return b && !c.isInsidePlot(a.plotX, a.plotY, c.inverted) ?
                        !1 : !a.isNull
                })
            },
            setClip: function (a) {
                var b = this.chart,
                    c = this.options,
                    d = b.renderer,
                    e = b.inverted,
                    g = this.clipBox,
                    m = g || b.clipBox,
                    h = this.sharedClipKey || ["_sharedClip", a && a.duration, a && a.easing, m.height, c.xAxis, c.yAxis].join(),
                    f = b[h],
                    l = b[h + "m"];
                f || (a && (m.width = 0, e && (m.x = b.plotSizeX), b[h + "m"] = l = d.clipRect(e ? b.plotSizeX + 99 : -99, e ? -b.plotLeft : -b.plotTop, 99, e ? b.chartWidth : b.chartHeight)), b[h] = f = d.clipRect(m), f.count = {
                    length: 0
                });
                a && !f.count[this.index] && (f.count[this.index] = !0, f.count.length += 1);
                !1 !== c.clip &&
                    (this.group.clip(a || g ? f : b.clipRect), this.markerGroup.clip(l), this.sharedClipKey = h);
                a || (f.count[this.index] && (delete f.count[this.index], --f.count.length), 0 === f.count.length && h && b[h] && (g || (b[h] = b[h].destroy()), b[h + "m"] && (b[h + "m"] = b[h + "m"].destroy())))
            },
            animate: function (a) {
                var b = this.chart,
                    c = F(this.options.animation),
                    d;
                a ? this.setClip(c) : (d = this.sharedClipKey, (a = b[d]) && a.animate({
                    width: b.plotSizeX,
                    x: 0
                }, c), b[d + "m"] && b[d + "m"].animate({
                    width: b.plotSizeX + 99,
                    x: 0
                }, c), this.animate = null)
            },
            afterAnimate: function () {
                this.setClip();
                c(this, "afterAnimate");
                this.finishedAnimating = !0
            },
            drawPoints: function () {
                var a = this.points,
                    b = this.chart,
                    c, d, e, g, h = this.options.marker,
                    f, l, k, p = this[this.specialGroup] || this.markerGroup,
                    q, n = v(h.enabled, this.xAxis.isRadial ? !0 : null, this.closestPointRangePx >= h.enabledThreshold * h.radius);
                if (!1 !== h.enabled || this._hasPointMarkers)
                    for (c = 0; c < a.length; c++) d = a[c], g = d.graphic, f = d.marker || {}, l = !!d.marker, e = n && void 0 === f.enabled || f.enabled, k = d.isInside, e && !d.isNull ? (e = v(f.symbol, this.symbol), q = this.markerAttribs(d,
                        d.selected && "select"), g ? g[k ? "show" : "hide"](!0).animate(q) : k && (0 < q.width || d.hasImage) && (d.graphic = g = b.renderer.symbol(e, q.x, q.y, q.width, q.height, l ? f : h).add(p)), g && g.attr(this.pointAttribs(d, d.selected && "select")), g && g.addClass(d.getClassName(), !0)) : g && (d.graphic = g.destroy())
            },
            markerAttribs: function (a, b) {
                var c = this.options.marker,
                    d = a.marker || {},
                    e = d.symbol || c.symbol,
                    g = v(d.radius, c.radius);
                b && (c = c.states[b], b = d.states && d.states[b], g = v(b && b.radius, c && c.radius, g + (c && c.radiusPlus || 0)));
                a.hasImage = e && 0 ===
                    e.indexOf("url");
                a.hasImage && (g = 0);
                a = {
                    x: Math.floor(a.plotX) - g,
                    y: a.plotY - g
                };
                g && (a.width = a.height = 2 * g);
                return a
            },
            pointAttribs: function (a, b) {
                var c = this.options.marker,
                    d = a && a.options,
                    e = d && d.marker || {},
                    g = this.color,
                    h = d && d.color,
                    m = a && a.color,
                    d = v(e.lineWidth, c.lineWidth);
                a = a && a.zone && a.zone.color;
                g = h || a || m || g;
                a = e.fillColor || c.fillColor || g;
                g = e.lineColor || c.lineColor || g;
                b && (c = c.states[b], b = e.states && e.states[b] || {}, d = v(b.lineWidth, c.lineWidth, d + v(b.lineWidthPlus, c.lineWidthPlus, 0)), a = b.fillColor || c.fillColor ||
                    a, g = b.lineColor || c.lineColor || g);
                return {
                    stroke: g,
                    "stroke-width": d,
                    fill: a
                }
            },
            destroy: function () {
                var d = this,
                    e = d.chart,
                    h = /AppleWebKit\/533/.test(D.navigator.userAgent),
                    f, l, g = d.data || [],
                    k, p;
                c(d, "destroy");
                J(d);
                t(d.axisTypes || [], function (a) {
                    (p = d[a]) && p.series && (w(p.series, d), p.isDirty = p.forceRedraw = !0)
                });
                d.legendItem && d.chart.legend.destroyItem(d);
                for (l = g.length; l--;)(k = g[l]) && k.destroy && k.destroy();
                d.points = null;
                a.clearTimeout(d.animationTimeout);
                b(d, function (a, b) {
                    a instanceof L && !a.survive && (f = h && "group" ===
                        b ? "hide" : "destroy", a[f]())
                });
                e.hoverSeries === d && (e.hoverSeries = null);
                w(e.series, d);
                e.orderSeries();
                b(d, function (a, b) {
                    delete d[b]
                })
            },
            getGraphPath: function (a, b, c) {
                var d = this,
                    e = d.options,
                    g = e.step,
                    h, m = [],
                    f = [],
                    l;
                a = a || d.points;
                (h = a.reversed) && a.reverse();
                (g = {
                    right: 1,
                    center: 2
                } [g] || g && 3) && h && (g = 4 - g);
                !e.connectNulls || b || c || (a = this.getValidPoints(a));
                t(a, function (h, k) {
                    var r = h.plotX,
                        p = h.plotY,
                        q = a[k - 1];
                    (h.leftCliff || q && q.rightCliff) && !c && (l = !0);
                    h.isNull && !x(b) && 0 < k ? l = !e.connectNulls : h.isNull && !b ? l = !0 : (0 === k ||
                        l ? k = ["M", h.plotX, h.plotY] : d.getPointSpline ? k = d.getPointSpline(a, h, k) : g ? (k = 1 === g ? ["L", q.plotX, p] : 2 === g ? ["L", (q.plotX + r) / 2, q.plotY, "L", (q.plotX + r) / 2, p] : ["L", r, q.plotY], k.push("L", r, p)) : k = ["L", r, p], f.push(h.x), g && (f.push(h.x), 2 === g && f.push(h.x)), m.push.apply(m, k), l = !1)
                });
                m.xMap = f;
                return d.graphPath = m
            },
            drawGraph: function () {
                var a = this,
                    b = this.options,
                    c = (this.gappedPath || this.getGraphPath).call(this),
                    d = [["graph", "highcharts-graph", b.lineColor || this.color, b.dashStyle]],
                    d = a.getZonesGraphs(d);
                t(d, function (d,
                    g) {
                    var e = d[0],
                        h = a[e];
                    h ? (h.endX = a.preventGraphAnimation ? null : c.xMap, h.animate({
                        d: c
                    })) : c.length && (a[e] = a.chart.renderer.path(c).addClass(d[1]).attr({
                        zIndex: 1
                    }).add(a.group), h = {
                        stroke: d[2],
                        "stroke-width": b.lineWidth,
                        fill: a.fillGraph && a.color || "none"
                    }, d[3] ? h.dashstyle = d[3] : "square" !== b.linecap && (h["stroke-linecap"] = h["stroke-linejoin"] = "round"), h = a[e].attr(h).shadow(2 > g && b.shadow));
                    h && (h.startX = c.xMap, h.isArea = c.isArea)
                })
            },
            getZonesGraphs: function (a) {
                t(this.zones, function (b, c) {
                    a.push(["zone-graph-" + c,
"highcharts-graph highcharts-zone-graph-" + c + " " + (b.className || ""), b.color || this.color, b.dashStyle || this.options.dashStyle])
                }, this);
                return a
            },
            applyZones: function () {
                var a = this,
                    b = this.chart,
                    c = b.renderer,
                    d = this.zones,
                    e, g, h = this.clips || [],
                    f, l = this.graph,
                    k = this.area,
                    p = Math.max(b.chartWidth, b.chartHeight),
                    q = this[(this.zoneAxis || "y") + "Axis"],
                    n, B, u = b.inverted,
                    D, y, w, x, J = !1;
                d.length && (l || k) && q && void 0 !== q.min && (B = q.reversed, D = q.horiz, l && !this.showLine && l.hide(), k && k.hide(), n = q.getExtremes(), t(d, function (d, m) {
                    e =
                        B ? D ? b.plotWidth : 0 : D ? 0 : q.toPixels(n.min);
                    e = Math.min(Math.max(v(g, e), 0), p);
                    g = Math.min(Math.max(Math.round(q.toPixels(v(d.value, n.max), !0)), 0), p);
                    J && (e = g = q.toPixels(n.max));
                    y = Math.abs(e - g);
                    w = Math.min(e, g);
                    x = Math.max(e, g);
                    q.isXAxis ? (f = {
                        x: u ? x : w,
                        y: 0,
                        width: y,
                        height: p
                    }, D || (f.x = b.plotHeight - f.x)) : (f = {
                        x: 0,
                        y: u ? x : w,
                        width: p,
                        height: y
                    }, D && (f.y = b.plotWidth - f.y));
                    u && c.isVML && (f = q.isXAxis ? {
                        x: 0,
                        y: B ? w : x,
                        height: f.width,
                        width: b.chartWidth
                    } : {
                        x: f.y - b.plotLeft - b.spacingBox.x,
                        y: 0,
                        width: f.height,
                        height: b.chartHeight
                    });
                    h[m] ?
                        h[m].animate(f) : (h[m] = c.clipRect(f), l && a["zone-graph-" + m].clip(h[m]), k && a["zone-area-" + m].clip(h[m]));
                    J = d.value > n.max;
                    a.resetZones && 0 === g && (g = void 0)
                }), this.clips = h)
            },
            invertGroups: function (a) {
                function b() {
                    t(["group", "markerGroup"], function (b) {
                        c[b] && (d.renderer.isVML && c[b].attr({
                            width: c.yAxis.len,
                            height: c.xAxis.len
                        }), c[b].width = c.yAxis.len, c[b].height = c.xAxis.len, c[b].invert(a))
                    })
                }
                var c = this,
                    d = c.chart,
                    e;
                c.xAxis && (e = C(d, "resize", b), C(c, "destroy", e), b(a), c.invertGroups = b)
            },
            plotGroup: function (a, b, c, d,
                e) {
                var g = this[a],
                    h = !g;
                h && (this[a] = g = this.chart.renderer.g().attr({
                    zIndex: d || .1
                }).add(e));
                g.addClass("highcharts-" + b + " highcharts-series-" + this.index + " highcharts-" + this.type + "-series " + (x(this.colorIndex) ? "highcharts-color-" + this.colorIndex + " " : "") + (this.options.className || "") + (g.hasClass("highcharts-tracker") ? " highcharts-tracker" : ""), !0);
                g.attr({
                    visibility: c
                })[h ? "attr" : "animate"](this.getPlotBox());
                return g
            },
            getPlotBox: function () {
                var a = this.chart,
                    b = this.xAxis,
                    c = this.yAxis;
                a.inverted && (b = c, c = this.xAxis);
                return {
                    translateX: b ? b.left : a.plotLeft,
                    translateY: c ? c.top : a.plotTop,
                    scaleX: 1,
                    scaleY: 1
                }
            },
            render: function () {
                var a = this,
                    b = a.chart,
                    d, e = a.options,
                    h = !!a.animate && b.renderer.isSVG && F(e.animation).duration,
                    g = a.visible ? "inherit" : "hidden",
                    f = e.zIndex,
                    l = a.hasRendered,
                    k = b.seriesGroup,
                    p = b.inverted;
                d = a.plotGroup("group", "series", g, f, k);
                a.markerGroup = a.plotGroup("markerGroup", "markers", g, f, k);
                h && a.animate(!0);
                d.inverted = a.isCartesian ? p : !1;
                a.drawGraph && (a.drawGraph(), a.applyZones());
                a.drawDataLabels && a.drawDataLabels();
                a.visible && a.drawPoints();
                a.drawTracker && !1 !== a.options.enableMouseTracking && a.drawTracker();
                a.invertGroups(p);
                !1 === e.clip || a.sharedClipKey || l || d.clip(b.clipRect);
                h && a.animate();
                l || (a.animationTimeout = B(function () {
                    a.afterAnimate()
                }, h));
                a.isDirty = !1;
                a.hasRendered = !0;
                c(a, "afterRender")
            },
            redraw: function () {
                var a = this.chart,
                    b = this.isDirty || this.isDirtyData,
                    c = this.group,
                    d = this.xAxis,
                    e = this.yAxis;
                c && (a.inverted && c.attr({
                    width: a.plotWidth,
                    height: a.plotHeight
                }), c.animate({
                    translateX: v(d && d.left, a.plotLeft),
                    translateY: v(e && e.top, a.plotTop)
                }));
                this.translate();
                this.render();
                b && delete this.kdTree
            },
            kdAxisArray: ["clientX", "plotY"],
            searchPoint: function (a, b) {
                var c = this.xAxis,
                    d = this.yAxis,
                    e = this.chart.inverted;
                return this.searchKDTree({
                    clientX: e ? c.len - a.chartY + c.pos : a.chartX - c.pos,
                    plotY: e ? d.len - a.chartX + d.pos : a.chartY - d.pos
                }, b)
            },
            buildKDTree: function () {
                function a(c, d, g) {
                    var e, h;
                    if (h = c && c.length) return e = b.kdAxisArray[d % g], c.sort(function (a, b) {
                        return a[e] - b[e]
                    }), h = Math.floor(h / 2), {
                        point: c[h],
                        left: a(c.slice(0,
                            h), d + 1, g),
                        right: a(c.slice(h + 1), d + 1, g)
                    }
                }
                this.buildingKdTree = !0;
                var b = this,
                    c = -1 < b.options.findNearestPointBy.indexOf("y") ? 2 : 1;
                delete b.kdTree;
                B(function () {
                    b.kdTree = a(b.getValidPoints(null, !b.directTouch), c, c);
                    b.buildingKdTree = !1
                }, b.options.kdNow ? 0 : 1)
            },
            searchKDTree: function (a, b) {
                function c(a, b, f, l) {
                    var m = b.point,
                        k = d.kdAxisArray[f % l],
                        p, q, r = m;
                    q = x(a[e]) && x(m[e]) ? Math.pow(a[e] - m[e], 2) : null;
                    p = x(a[g]) && x(m[g]) ? Math.pow(a[g] - m[g], 2) : null;
                    p = (q || 0) + (p || 0);
                    m.dist = x(p) ? Math.sqrt(p) : Number.MAX_VALUE;
                    m.distX = x(q) ?
                        Math.sqrt(q) : Number.MAX_VALUE;
                    k = a[k] - m[k];
                    p = 0 > k ? "left" : "right";
                    q = 0 > k ? "right" : "left";
                    b[p] && (p = c(a, b[p], f + 1, l), r = p[h] < r[h] ? p : m);
                    b[q] && Math.sqrt(k * k) < r[h] && (a = c(a, b[q], f + 1, l), r = a[h] < r[h] ? a : r);
                    return r
                }
                var d = this,
                    e = this.kdAxisArray[0],
                    g = this.kdAxisArray[1],
                    h = b ? "distX" : "dist";
                b = -1 < d.options.findNearestPointBy.indexOf("y") ? 2 : 1;
                this.kdTree || this.buildingKdTree || this.buildKDTree();
                if (this.kdTree) return c(a, this.kdTree, b, b)
            }
        })
    })(K);
    (function (a) {
        var C = a.Axis,
            F = a.Chart,
            I = a.correctFloat,
            n = a.defined,
            f = a.destroyObjectProperties,
            e = a.each,
            u = a.format,
            x = a.objectEach,
            t = a.pick,
            w = a.Series;
        a.StackItem = function (a, c, e, f, k) {
            var h = a.chart.inverted;
            this.axis = a;
            this.isNegative = e;
            this.options = c;
            this.x = f;
            this.total = null;
            this.points = {};
            this.stack = k;
            this.rightCliff = this.leftCliff = 0;
            this.alignOptions = {
                align: c.align || (h ? e ? "left" : "right" : "center"),
                verticalAlign: c.verticalAlign || (h ? "middle" : e ? "bottom" : "top"),
                y: t(c.y, h ? 4 : e ? 14 : -6),
                x: t(c.x, h ? e ? -6 : 6 : 0)
            };
            this.textAlign = c.textAlign || (h ? e ? "right" : "left" : "center")
        };
        a.StackItem.prototype = {
            destroy: function () {
                f(this,
                    this.axis)
            },
            render: function (a) {
                var c = this.axis.chart,
                    e = this.options,
                    f = e.format,
                    f = f ? u(f, this, c.time) : e.formatter.call(this);
                this.label ? this.label.attr({
                    text: f,
                    visibility: "hidden"
                }) : this.label = c.renderer.text(f, null, null, e.useHTML).css(e.style).attr({
                    align: this.textAlign,
                    rotation: e.rotation,
                    visibility: "hidden"
                }).add(a);
                this.label.labelrank = c.plotHeight
            },
            setOffset: function (a, c) {
                var e = this.axis,
                    f = e.chart,
                    k = e.translate(e.usePercentage ? 100 : this.total, 0, 0, 0, 1),
                    q = e.translate(0),
                    q = n(k) && Math.abs(k - q);
                a = f.xAxis[0].translate(this.x) +
                    a;
                e = n(k) && this.getStackBox(f, this, a, k, c, q, e);
                (c = this.label) && e && (c.align(this.alignOptions, null, e), e = c.alignAttr, c[!1 === this.options.crop || f.isInsidePlot(e.x, e.y) ? "show" : "hide"](!0))
            },
            getStackBox: function (a, c, e, f, k, q, d) {
                var b = c.axis.reversed,
                    h = a.inverted;
                a = d.height + d.pos - (h ? a.plotLeft : a.plotTop);
                c = c.isNegative && !b || !c.isNegative && b;
                return {
                    x: h ? c ? f : f - q : e,
                    y: h ? a - e - k : c ? a - f - q : a - f,
                    width: h ? q : k,
                    height: h ? k : q
                }
            }
        };
        F.prototype.getStacks = function () {
            var a = this;
            e(a.yAxis, function (a) {
                a.stacks && a.hasVisibleSeries &&
                    (a.oldStacks = a.stacks)
            });
            e(a.series, function (c) {
                !c.options.stacking || !0 !== c.visible && !1 !== a.options.chart.ignoreHiddenSeries || (c.stackKey = c.type + t(c.options.stack, ""))
            })
        };
        C.prototype.buildStacks = function () {
            var a = this.series,
                c = t(this.options.reversedStacks, !0),
                e = a.length,
                f;
            if (!this.isXAxis) {
                this.usePercentage = !1;
                for (f = e; f--;) a[c ? f : e - f - 1].setStackedPoints();
                for (f = 0; f < e; f++) a[f].modifyStacks()
            }
        };
        C.prototype.renderStackTotals = function () {
            var a = this.chart,
                c = a.renderer,
                e = this.stacks,
                f = this.stackTotalGroup;
            f || (this.stackTotalGroup = f = c.g("stack-labels").attr({
                visibility: "visible",
                zIndex: 6
            }).add());
            f.translate(a.plotLeft, a.plotTop);
            x(e, function (a) {
                x(a, function (a) {
                    a.render(f)
                })
            })
        };
        C.prototype.resetStacks = function () {
            var a = this,
                c = a.stacks;
            a.isXAxis || x(c, function (c) {
                x(c, function (e, h) {
                    e.touched < a.stacksTouched ? (e.destroy(), delete c[h]) : (e.total = null, e.cumulative = null)
                })
            })
        };
        C.prototype.cleanStacks = function () {
            var a;
            this.isXAxis || (this.oldStacks && (a = this.stacks = this.oldStacks), x(a, function (a) {
                x(a, function (a) {
                    a.cumulative =
                        a.total
                })
            }))
        };
        w.prototype.setStackedPoints = function () {
            if (this.options.stacking && (!0 === this.visible || !1 === this.chart.options.chart.ignoreHiddenSeries)) {
                var e = this.processedXData,
                    c = this.processedYData,
                    h = [],
                    f = c.length,
                    k = this.options,
                    q = k.threshold,
                    d = t(k.startFromThreshold && q, 0),
                    b = k.stack,
                    k = k.stacking,
                    v = this.stackKey,
                    u = "-" + v,
                    l = this.negStacks,
                    w = this.yAxis,
                    B = w.stacks,
                    D = w.oldStacks,
                    m, G, A, x, E, g, r;
                w.stacksTouched += 1;
                for (E = 0; E < f; E++) g = e[E], r = c[E], m = this.getStackIndicator(m, g, this.index), x = m.key, A = (G = l && r < (d ?
                    0 : q)) ? u : v, B[A] || (B[A] = {}), B[A][g] || (D[A] && D[A][g] ? (B[A][g] = D[A][g], B[A][g].total = null) : B[A][g] = new a.StackItem(w, w.options.stackLabels, G, g, b)), A = B[A][g], null !== r ? (A.points[x] = A.points[this.index] = [t(A.cumulative, d)], n(A.cumulative) || (A.base = x), A.touched = w.stacksTouched, 0 < m.index && !1 === this.singleStacks && (A.points[x][0] = A.points[this.index + "," + g + ",0"][0])) : A.points[x] = A.points[this.index] = null, "percent" === k ? (G = G ? v : u, l && B[G] && B[G][g] ? (G = B[G][g], A.total = G.total = Math.max(G.total, A.total) + Math.abs(r) ||
                    0) : A.total = I(A.total + (Math.abs(r) || 0))) : A.total = I(A.total + (r || 0)), A.cumulative = t(A.cumulative, d) + (r || 0), null !== r && (A.points[x].push(A.cumulative), h[E] = A.cumulative);
                "percent" === k && (w.usePercentage = !0);
                this.stackedYData = h;
                w.oldStacks = {}
            }
        };
        w.prototype.modifyStacks = function () {
            var a = this,
                c = a.stackKey,
                h = a.yAxis.stacks,
                f = a.processedXData,
                k, q = a.options.stacking;
            a[q + "Stacker"] && e([c, "-" + c], function (c) {
                for (var b = f.length, d, e; b--;)
                    if (d = f[b], k = a.getStackIndicator(k, d, a.index, c), e = (d = h[c] && h[c][d]) && d.points[k.key]) a[q +
                        "Stacker"](e, d, b)
            })
        };
        w.prototype.percentStacker = function (a, c, e) {
            c = c.total ? 100 / c.total : 0;
            a[0] = I(a[0] * c);
            a[1] = I(a[1] * c);
            this.stackedYData[e] = a[1]
        };
        w.prototype.getStackIndicator = function (a, c, e, f) {
            !n(a) || a.x !== c || f && a.key !== f ? a = {
                x: c,
                index: 0,
                key: f
            } : a.index++;
            a.key = [e, c, a.index].join();
            return a
        }
    })(K);
    (function (a) {
        var C = a.addEvent,
            F = a.animate,
            I = a.Axis,
            n = a.createElement,
            f = a.css,
            e = a.defined,
            u = a.each,
            x = a.erase,
            t = a.extend,
            w = a.fireEvent,
            y = a.inArray,
            c = a.isNumber,
            h = a.isObject,
            p = a.isArray,
            k = a.merge,
            q = a.objectEach,
            d = a.pick,
            b = a.Point,
            v = a.Series,
            J = a.seriesTypes,
            l = a.setAnimation,
            L = a.splat;
        t(a.Chart.prototype, {
            addSeries: function (a, b, c) {
                var e, h = this;
                a && (b = d(b, !0), w(h, "addSeries", {
                    options: a
                }, function () {
                    e = h.initSeries(a);
                    h.isDirtyLegend = !0;
                    h.linkSeries();
                    w(h, "afterAddSeries");
                    b && h.redraw(c)
                }));
                return e
            },
            addAxis: function (a, b, c, e) {
                var h = b ? "xAxis" : "yAxis",
                    f = this.options;
                a = k(a, {
                    index: this[h].length,
                    isX: b
                });
                b = new I(this, a);
                f[h] = L(f[h] || {});
                f[h].push(a);
                d(c, !0) && this.redraw(e);
                return b
            },
            showLoading: function (a) {
                var b = this,
                    c = b.options,
                    d = b.loadingDiv,
                    e = c.loading,
                    h = function () {
                        d && f(d, {
                            left: b.plotLeft + "px",
                            top: b.plotTop + "px",
                            width: b.plotWidth + "px",
                            height: b.plotHeight + "px"
                        })
                    };
                d || (b.loadingDiv = d = n("div", {
                    className: "highcharts-loading highcharts-loading-hidden"
                }, null, b.container), b.loadingSpan = n("span", {
                    className: "highcharts-loading-inner"
                }, null, d), C(b, "redraw", h));
                d.className = "highcharts-loading";
                b.loadingSpan.innerHTML = a || c.lang.loading;
                f(d, t(e.style, {
                    zIndex: 10
                }));
                f(b.loadingSpan, e.labelStyle);
                b.loadingShown || (f(d, {
                    opacity: 0,
                    display: ""
                }), F(d, {
                    opacity: e.style.opacity || .5
                }, {
                    duration: e.showDuration || 0
                }));
                b.loadingShown = !0;
                h()
            },
            hideLoading: function () {
                var a = this.options,
                    b = this.loadingDiv;
                b && (b.className = "highcharts-loading highcharts-loading-hidden", F(b, {
                    opacity: 0
                }, {
                    duration: a.loading.hideDuration || 100,
                    complete: function () {
                        f(b, {
                            display: "none"
                        })
                    }
                }));
                this.loadingShown = !1
            },
            propsRequireDirtyBox: "backgroundColor borderColor borderWidth margin marginTop marginRight marginBottom marginLeft spacing spacingTop spacingRight spacingBottom spacingLeft borderRadius plotBackgroundColor plotBackgroundImage plotBorderColor plotBorderWidth plotShadow shadow".split(" "),
            propsRequireUpdateSeries: "chart.inverted chart.polar chart.ignoreHiddenSeries chart.type colors plotOptions time tooltip".split(" "),
            update: function (a, b, h, f) {
                var l = this,
                    m = {
                        credits: "addCredits",
                        title: "setTitle",
                        subtitle: "setSubtitle"
                    },
                    p = a.chart,
                    g, r, v = [];
                w(l, "update", {
                    options: a
                });
                if (p) {
                    k(!0, l.options.chart, p);
                    "className" in p && l.setClassName(p.className);
                    "reflow" in p && l.setReflow(p.reflow);
                    if ("inverted" in p || "polar" in p || "type" in p) l.propFromSeries(), g = !0;
                    "alignTicks" in p && (g = !0);
                    q(p, function (a, b) {
                        -1 !==
                            y("chart." + b, l.propsRequireUpdateSeries) && (r = !0); - 1 !== y(b, l.propsRequireDirtyBox) && (l.isDirtyBox = !0)
                    });
                    "style" in p && l.renderer.setStyle(p.style)
                }
                a.colors && (this.options.colors = a.colors);
                a.plotOptions && k(!0, this.options.plotOptions, a.plotOptions);
                q(a, function (a, b) {
                    if (l[b] && "function" === typeof l[b].update) l[b].update(a, !1);
                    else if ("function" === typeof l[m[b]]) l[m[b]](a);
                    "chart" !== b && -1 !== y(b, l.propsRequireUpdateSeries) && (r = !0)
                });
                u("xAxis yAxis zAxis series colorAxis pane".split(" "), function (b) {
                    var c;
                    a[b] && ("series" === b && (c = [], u(l[b], function (a, b) {
                        a.options.isInternal || c.push(b)
                    })), u(L(a[b]), function (a, d) {
                        (d = e(a.id) && l.get(a.id) || l[b][c ? c[d] : d]) && d.coll === b && (d.update(a, !1), h && (d.touched = !0));
                        if (!d && h)
                            if ("series" === b) l.addSeries(a, !1).touched = !0;
                            else if ("xAxis" === b || "yAxis" === b) l.addAxis(a, "xAxis" === b, !1).touched = !0
                    }), h && u(l[b], function (a) {
                        a.touched || a.options.isInternal ? delete a.touched : v.push(a)
                    }))
                });
                u(v, function (a) {
                    a.remove && a.remove(!1)
                });
                g && u(l.axes, function (a) {
                    a.update({}, !1)
                });
                r && u(l.series,
                    function (a) {
                        a.update({}, !1)
                    });
                a.loading && k(!0, l.options.loading, a.loading);
                g = p && p.width;
                p = p && p.height;
                c(g) && g !== l.chartWidth || c(p) && p !== l.chartHeight ? l.setSize(g, p, f) : d(b, !0) && l.redraw(f);
                w(l, "afterUpdate", {
                    options: a
                })
            },
            setSubtitle: function (a) {
                this.setTitle(void 0, a)
            }
        });
        t(b.prototype, {
            update: function (a, b, c, e) {
                function f() {
                    l.applyOptions(a);
                    null === l.y && g && (l.graphic = g.destroy());
                    h(a, !0) && (g && g.element && a && a.marker && void 0 !== a.marker.symbol && (l.graphic = g.destroy()), a && a.dataLabels && l.dataLabel && (l.dataLabel =
                        l.dataLabel.destroy()), l.connector && (l.connector = l.connector.destroy()));
                    k = l.index;
                    m.updateParallelArrays(l, k);
                    p.data[k] = h(p.data[k], !0) || h(a, !0) ? l.options : d(a, p.data[k]);
                    m.isDirty = m.isDirtyData = !0;
                    !m.fixedBox && m.hasCartesianSeries && (q.isDirtyBox = !0);
                    "point" === p.legendType && (q.isDirtyLegend = !0);
                    b && q.redraw(c)
                }
                var l = this,
                    m = l.series,
                    g = l.graphic,
                    k, q = m.chart,
                    p = m.options;
                b = d(b, !0);
                !1 === e ? f() : l.firePointEvent("update", {
                    options: a
                }, f)
            },
            remove: function (a, b) {
                this.series.removePoint(y(this, this.series.data),
                    a, b)
            }
        });
        t(v.prototype, {
            addPoint: function (a, b, c, e) {
                var h = this.options,
                    f = this.data,
                    l = this.chart,
                    g = this.xAxis,
                    g = g && g.hasNames && g.names,
                    m = h.data,
                    k, p, q = this.xData,
                    v, n;
                b = d(b, !0);
                k = {
                    series: this
                };
                this.pointClass.prototype.applyOptions.apply(k, [a]);
                n = k.x;
                v = q.length;
                if (this.requireSorting && n < q[v - 1])
                    for (p = !0; v && q[v - 1] > n;) v--;
                this.updateParallelArrays(k, "splice", v, 0, 0);
                this.updateParallelArrays(k, v);
                g && k.name && (g[n] = k.name);
                m.splice(v, 0, a);
                p && (this.data.splice(v, 0, null), this.processData());
                "point" === h.legendType &&
                    this.generatePoints();
                c && (f[0] && f[0].remove ? f[0].remove(!1) : (f.shift(), this.updateParallelArrays(k, "shift"), m.shift()));
                this.isDirtyData = this.isDirty = !0;
                b && l.redraw(e)
            },
            removePoint: function (a, b, c) {
                var e = this,
                    h = e.data,
                    f = h[a],
                    m = e.points,
                    g = e.chart,
                    k = function () {
                        m && m.length === h.length && m.splice(a, 1);
                        h.splice(a, 1);
                        e.options.data.splice(a, 1);
                        e.updateParallelArrays(f || {
                            series: e
                        }, "splice", a, 1);
                        f && f.destroy();
                        e.isDirty = !0;
                        e.isDirtyData = !0;
                        b && g.redraw()
                    };
                l(c, g);
                b = d(b, !0);
                f ? f.firePointEvent("remove", null, k) :
                    k()
            },
            remove: function (a, b, c) {
                function e() {
                    h.destroy();
                    h.remove = null;
                    f.isDirtyLegend = f.isDirtyBox = !0;
                    f.linkSeries();
                    d(a, !0) && f.redraw(b)
                }
                var h = this,
                    f = h.chart;
                !1 !== c ? w(h, "remove", null, e) : e()
            },
            update: function (b, c) {
                var e = this,
                    h = e.chart,
                    f = e.userOptions,
                    l = e.oldType || e.type,
                    q = b.type || f.type || h.options.chart.type,
                    g = J[l].prototype,
                    p, v = ["group", "markerGroup", "dataLabelsGroup"],
                    n = ["navigatorSeries", "baseSeries"],
                    B = e.finishedAnimating && {
                        animation: !1
                    },
                    D = ["data", "name", "turboThreshold"],
                    x = a.keys(b),
                    L = 0 < x.length;
                u(x, function (a) {
                    -1 === y(a, D) && (L = !1)
                });
                if (L) b.data && this.setData(b.data, !1), b.name && this.setName(b.name, !1);
                else {
                    n = v.concat(n);
                    u(n, function (a) {
                        n[a] = e[a];
                        delete e[a]
                    });
                    b = k(f, B, {
                        index: e.index,
                        pointStart: d(f.pointStart, e.xData[0])
                    }, {
                        data: e.options.data
                    }, b);
                    e.remove(!1, null, !1);
                    for (p in g) e[p] = void 0;
                    J[q || l] ? t(e, J[q || l].prototype) : a.error(17, !0);
                    u(n, function (a) {
                        e[a] = n[a]
                    });
                    e.init(h, b);
                    b.zIndex !== f.zIndex && u(v, function (a) {
                        e[a] && e[a].attr({
                            zIndex: b.zIndex
                        })
                    });
                    e.oldType = l;
                    h.linkSeries()
                }
                w(this, "afterUpdate");
                d(c, !0) && h.redraw(L ? void 0 : !1)
            },
            setName: function (a) {
                this.name = this.options.name = this.userOptions.name = a;
                this.chart.isDirtyLegend = !0
            }
        });
        t(I.prototype, {
            update: function (a, b) {
                var c = this.chart,
                    e = a && a.events || {};
                a = k(this.userOptions, a);
                c.options[this.coll].indexOf && (c.options[this.coll][c.options[this.coll].indexOf(this.userOptions)] = a);
                q(c.options[this.coll].events, function (a, b) {
                    "undefined" === typeof e[b] && (e[b] = void 0)
                });
                this.destroy(!0);
                this.init(c, t(a, {
                    events: e
                }));
                c.isDirtyBox = !0;
                d(b, !0) && c.redraw()
            },
            remove: function (a) {
                for (var b = this.chart, c = this.coll, e = this.series, h = e.length; h--;) e[h] && e[h].remove(!1);
                x(b.axes, this);
                x(b[c], this);
                p(b.options[c]) ? b.options[c].splice(this.options.index, 1) : delete b.options[c];
                u(b[c], function (a, b) {
                    a.options.index = a.userOptions.index = b
                });
                this.destroy();
                b.isDirtyBox = !0;
                d(a, !0) && b.redraw()
            },
            setTitle: function (a, b) {
                this.update({
                    title: a
                }, b)
            },
            setCategories: function (a, b) {
                this.update({
                    categories: a
                }, b)
            }
        })
    })(K);
    (function (a) {
        var C = a.color,
            F = a.each,
            I = a.map,
            n = a.pick,
            f = a.Series,
            e = a.seriesType;
        e("area", "line", {
            softThreshold: !1,
            threshold: 0
        }, {
            singleStacks: !1,
            getStackPoints: function (e) {
                var f = [],
                    t = [],
                    u = this.xAxis,
                    y = this.yAxis,
                    c = y.stacks[this.stackKey],
                    h = {},
                    p = this.index,
                    k = y.series,
                    q = k.length,
                    d, b = n(y.options.reversedStacks, !0) ? 1 : -1,
                    v;
                e = e || this.points;
                if (this.options.stacking) {
                    for (v = 0; v < e.length; v++) e[v].leftNull = e[v].rightNull = null, h[e[v].x] = e[v];
                    a.objectEach(c, function (a, b) {
                        null !== a.total && t.push(b)
                    });
                    t.sort(function (a, b) {
                        return a - b
                    });
                    d = I(k, function () {
                        return this.visible
                    });
                    F(t,
                        function (a, e) {
                            var l = 0,
                                k, n;
                            if (h[a] && !h[a].isNull) f.push(h[a]), F([-1, 1], function (f) {
                                var l = 1 === f ? "rightNull" : "leftNull",
                                    m = 0,
                                    u = c[t[e + f]];
                                if (u)
                                    for (v = p; 0 <= v && v < q;) k = u.points[v], k || (v === p ? h[a][l] = !0 : d[v] && (n = c[a].points[v]) && (m -= n[1] - n[0])), v += b;
                                h[a][1 === f ? "rightCliff" : "leftCliff"] = m
                            });
                            else {
                                for (v = p; 0 <= v && v < q;) {
                                    if (k = c[a].points[v]) {
                                        l = k[1];
                                        break
                                    }
                                    v += b
                                }
                                l = y.translate(l, 0, 1, 0, 1);
                                f.push({
                                    isNull: !0,
                                    plotX: u.translate(a, 0, 0, 0, 1),
                                    x: a,
                                    plotY: l,
                                    yBottom: l
                                })
                            }
                        })
                }
                return f
            },
            getGraphPath: function (a) {
                var e = f.prototype.getGraphPath,
                    t = this.options,
                    u = t.stacking,
                    y = this.yAxis,
                    c, h, p = [],
                    k = [],
                    q = this.index,
                    d, b = y.stacks[this.stackKey],
                    v = t.threshold,
                    J = y.getThreshold(t.threshold),
                    l, t = t.connectNulls || "percent" === u,
                    L = function (c, e, h) {
                        var f = a[c];
                        c = u && b[f.x].points[q];
                        var l = f[h + "Null"] || 0;
                        h = f[h + "Cliff"] || 0;
                        var m, n, f = !0;
                        h || l ? (m = (l ? c[0] : c[1]) + h, n = c[0] + h, f = !!l) : !u && a[e] && a[e].isNull && (m = n = v);
                        void 0 !== m && (k.push({
                            plotX: d,
                            plotY: null === m ? J : y.getThreshold(m),
                            isNull: f,
                            isCliff: !0
                        }), p.push({
                            plotX: d,
                            plotY: null === n ? J : y.getThreshold(n),
                            doCurve: !1
                        }))
                    };
                a =
                    a || this.points;
                u && (a = this.getStackPoints(a));
                for (c = 0; c < a.length; c++)
                    if (h = a[c].isNull, d = n(a[c].rectPlotX, a[c].plotX), l = n(a[c].yBottom, J), !h || t) t || L(c, c - 1, "left"), h && !u && t || (k.push(a[c]), p.push({
                        x: c,
                        plotX: d,
                        plotY: l
                    })), t || L(c, c + 1, "right");
                c = e.call(this, k, !0, !0);
                p.reversed = !0;
                h = e.call(this, p, !0, !0);
                h.length && (h[0] = "L");
                h = c.concat(h);
                e = e.call(this, k, !1, t);
                h.xMap = c.xMap;
                this.areaPath = h;
                return e
            },
            drawGraph: function () {
                this.areaPath = [];
                f.prototype.drawGraph.apply(this);
                var a = this,
                    e = this.areaPath,
                    t = this.options,
                    w = [["area", "highcharts-area", this.color, t.fillColor]];
                F(this.zones, function (e, c) {
                    w.push(["zone-area-" + c, "highcharts-area highcharts-zone-area-" + c + " " + e.className, e.color || a.color, e.fillColor || t.fillColor])
                });
                F(w, function (f) {
                    var c = f[0],
                        h = a[c];
                    h ? (h.endX = a.preventGraphAnimation ? null : e.xMap, h.animate({
                        d: e
                    })) : (h = a[c] = a.chart.renderer.path(e).addClass(f[1]).attr({
                        fill: n(f[3], C(f[2]).setOpacity(n(t.fillOpacity, .75)).get()),
                        zIndex: 0
                    }).add(a.group), h.isArea = !0);
                    h.startX = e.xMap;
                    h.shiftUnit = t.step ? 2 : 1
                })
            },
            drawLegendSymbol: a.LegendSymbolMixin.drawRectangle
        })
    })(K);
    (function (a) {
        var C = a.pick;
        a = a.seriesType;
        a("spline", "line", {}, {
            getPointSpline: function (a, I, n) {
                var f = I.plotX,
                    e = I.plotY,
                    u = a[n - 1];
                n = a[n + 1];
                var x, t, w, y;
                if (u && !u.isNull && !1 !== u.doCurve && !I.isCliff && n && !n.isNull && !1 !== n.doCurve && !I.isCliff) {
                    a = u.plotY;
                    w = n.plotX;
                    n = n.plotY;
                    var c = 0;
                    x = (1.5 * f + u.plotX) / 2.5;
                    t = (1.5 * e + a) / 2.5;
                    w = (1.5 * f + w) / 2.5;
                    y = (1.5 * e + n) / 2.5;
                    w !== x && (c = (y - t) * (w - f) / (w - x) + e - y);
                    t += c;
                    y += c;
                    t > a && t > e ? (t = Math.max(a, e), y = 2 * e - t) : t < a && t < e && (t = Math.min(a, e), y = 2 * e - t);
                    y > n && y > e ? (y = Math.max(n, e), t = 2 * e - y) : y < n && y < e &&
                        (y = Math.min(n, e), t = 2 * e - y);
                    I.rightContX = w;
                    I.rightContY = y
                }
                I = ["C", C(u.rightContX, u.plotX), C(u.rightContY, u.plotY), C(x, f), C(t, e), f, e];
                u.rightContX = u.rightContY = null;
                return I
            }
        })
    })(K);
    (function (a) {
        var C = a.seriesTypes.area.prototype,
            F = a.seriesType;
        F("areaspline", "spline", a.defaultPlotOptions.area, {
            getStackPoints: C.getStackPoints,
            getGraphPath: C.getGraphPath,
            drawGraph: C.drawGraph,
            drawLegendSymbol: a.LegendSymbolMixin.drawRectangle
        })
    })(K);
    (function (a) {
        var C = a.animObject,
            F = a.color,
            I = a.each,
            n = a.extend,
            f = a.defined,
            e = a.isNumber,
            u = a.merge,
            x = a.pick,
            t = a.Series,
            w = a.seriesType,
            y = a.svg;
        w("column", "line", {
            borderRadius: 0,
            crisp: !0,
            groupPadding: .2,
            marker: null,
            pointPadding: .1,
            minPointLength: 0,
            cropThreshold: 50,
            pointRange: null,
            states: {
                hover: {
                    halo: !1,
                    brightness: .1
                },
                select: {
                    color: "#cccccc",
                    borderColor: "#000000"
                }
            },
            dataLabels: {
                align: null,
                verticalAlign: null,
                y: null
            },
            softThreshold: !1,
            startFromThreshold: !0,
            stickyTracking: !1,
            tooltip: {
                distance: 6
            },
            threshold: 0,
            borderColor: "#ffffff"
        }, {
            cropShoulder: 0,
            directTouch: !0,
            trackerGroups: ["group",
"dataLabelsGroup"],
            negStacks: !0,
            init: function () {
                t.prototype.init.apply(this, arguments);
                var a = this,
                    e = a.chart;
                e.hasRendered && I(e.series, function (c) {
                    c.type === a.type && (c.isDirty = !0)
                })
            },
            getColumnMetrics: function () {
                var a = this,
                    e = a.options,
                    f = a.xAxis,
                    k = a.yAxis,
                    q = f.options.reversedStacks,
                    q = f.reversed && !q || !f.reversed && q,
                    d, b = {},
                    v = 0;
                !1 === e.grouping ? v = 1 : I(a.chart.series, function (c) {
                    var e = c.options,
                        f = c.yAxis,
                        h;
                    c.type !== a.type || !c.visible && a.chart.options.chart.ignoreHiddenSeries || k.len !== f.len || k.pos !== f.pos ||
                        (e.stacking ? (d = c.stackKey, void 0 === b[d] && (b[d] = v++), h = b[d]) : !1 !== e.grouping && (h = v++), c.columnIndex = h)
                });
                var n = Math.min(Math.abs(f.transA) * (f.ordinalSlope || e.pointRange || f.closestPointRange || f.tickInterval || 1), f.len),
                    l = n * e.groupPadding,
                    t = (n - 2 * l) / (v || 1),
                    e = Math.min(e.maxPointWidth || f.len, x(e.pointWidth, t * (1 - 2 * e.pointPadding)));
                a.columnMetrics = {
                    width: e,
                    offset: (t - e) / 2 + (l + ((a.columnIndex || 0) + (q ? 1 : 0)) * t - n / 2) * (q ? -1 : 1)
                };
                return a.columnMetrics
            },
            crispCol: function (a, e, f, k) {
                var c = this.chart,
                    d = this.borderWidth,
                    b = -(d % 2 ? .5 : 0),
                    d = d % 2 ? .5 : 1;
                c.inverted && c.renderer.isVML && (d += 1);
                this.options.crisp && (f = Math.round(a + f) + b, a = Math.round(a) + b, f -= a);
                k = Math.round(e + k) + d;
                b = .5 >= Math.abs(e) && .5 < k;
                e = Math.round(e) + d;
                k -= e;
                b && k && (--e, k += 1);
                return {
                    x: a,
                    y: e,
                    width: f,
                    height: k
                }
            },
            translate: function () {
                var a = this,
                    e = a.chart,
                    p = a.options,
                    k = a.dense = 2 > a.closestPointRange * a.xAxis.transA,
                    k = a.borderWidth = x(p.borderWidth, k ? 0 : 1),
                    q = a.yAxis,
                    d = p.threshold,
                    b = a.translatedThreshold = q.getThreshold(d),
                    v = x(p.minPointLength, 5),
                    n = a.getColumnMetrics(),
                    l = n.width,
                    u = a.barW = Math.max(l, 1 + 2 * k),
                    B = a.pointXOffset = n.offset;
                e.inverted && (b -= .5);
                p.pointPadding && (u = Math.ceil(u));
                t.prototype.translate.apply(a);
                I(a.points, function (c) {
                    var h = x(c.yBottom, b),
                        k = 999 + Math.abs(h),
                        p = l,
                        k = Math.min(Math.max(-k, c.plotY), q.len + k),
                        n = c.plotX + B,
                        t = u,
                        g = Math.min(k, h),
                        r, w = Math.max(k, h) - g;
                    v && Math.abs(w) < v && (w = v, r = !q.reversed && !c.negative || q.reversed && c.negative, c.y === d && a.dataMax <= d && q.min < d && (r = !r), g = Math.abs(g - b) > v ? h - v : b - (r ? v : 0));
                    f(c.options.pointWidth) && (p = t = Math.ceil(c.options.pointWidth),
                        n -= Math.round((p - l) / 2));
                    c.barX = n;
                    c.pointWidth = p;
                    c.tooltipPos = e.inverted ? [q.len + q.pos - e.plotLeft - k, a.xAxis.len - n - t / 2, w] : [n + t / 2, k + q.pos - e.plotTop, w];
                    c.shapeType = "rect";
                    c.shapeArgs = a.crispCol.apply(a, c.isNull ? [n, b, t, 0] : [n, g, t, w])
                })
            },
            getSymbol: a.noop,
            drawLegendSymbol: a.LegendSymbolMixin.drawRectangle,
            drawGraph: function () {
                this.group[this.dense ? "addClass" : "removeClass"]("highcharts-dense-data")
            },
            pointAttribs: function (a, e) {
                var c = this.options,
                    f, h = this.pointAttrToOptions || {};
                f = h.stroke || "borderColor";
                var d =
                    h["stroke-width"] || "borderWidth",
                    b = a && a.color || this.color,
                    n = a && a[f] || c[f] || this.color || b,
                    t = a && a[d] || c[d] || this[d] || 0,
                    h = c.dashStyle;
                a && this.zones.length && (b = a.getZone(), b = a.options.color || b && b.color || this.color);
                e && (a = u(c.states[e], a.options.states && a.options.states[e] || {}), e = a.brightness, b = a.color || void 0 !== e && F(b).brighten(a.brightness).get() || b, n = a[f] || n, t = a[d] || t, h = a.dashStyle || h);
                f = {
                    fill: b,
                    stroke: n,
                    "stroke-width": t
                };
                h && (f.dashstyle = h);
                return f
            },
            drawPoints: function () {
                var a = this,
                    f = this.chart,
                    p =
                    a.options,
                    k = f.renderer,
                    q = p.animationLimit || 250,
                    d;
                I(a.points, function (b) {
                    var c = b.graphic,
                        h = c && f.pointCount < q ? "animate" : "attr";
                    if (e(b.plotY) && null !== b.y) {
                        d = b.shapeArgs;
                        if (c) c[h](u(d));
                        else b.graphic = c = k[b.shapeType](d).add(b.group || a.group);
                        p.borderRadius && c.attr({
                            r: p.borderRadius
                        });
                        c[h](a.pointAttribs(b, b.selected && "select")).shadow(p.shadow, null, p.stacking && !p.borderRadius);
                        c.addClass(b.getClassName(), !0)
                    } else c && (b.graphic = c.destroy())
                })
            },
            animate: function (a) {
                var c = this,
                    e = this.yAxis,
                    f = c.options,
                    q =
                    this.chart.inverted,
                    d = {},
                    b = q ? "translateX" : "translateY",
                    v;
                y && (a ? (d.scaleY = .001, a = Math.min(e.pos + e.len, Math.max(e.pos, e.toPixels(f.threshold))), q ? d.translateX = a - e.len : d.translateY = a, c.group.attr(d)) : (v = c.group.attr(b), c.group.animate({
                    scaleY: 1
                }, n(C(c.options.animation), {
                    step: function (a, f) {
                        d[b] = v + f.pos * (e.pos - v);
                        c.group.attr(d)
                    }
                })), c.animate = null))
            },
            remove: function () {
                var a = this,
                    e = a.chart;
                e.hasRendered && I(e.series, function (c) {
                    c.type === a.type && (c.isDirty = !0)
                });
                t.prototype.remove.apply(a, arguments)
            }
        })
    })(K);
    (function (a) {
        a = a.seriesType;
        a("bar", "column", null, {
            inverted: !0
        })
    })(K);
    (function (a) {
        var C = a.Series;
        a = a.seriesType;
        a("scatter", "line", {
            lineWidth: 0,
            findNearestPointBy: "xy",
            marker: {
                enabled: !0
            },
            tooltip: {
                headerFormat: '\x3cspan style\x3d"color:{point.color}"\x3e\u25cf\x3c/span\x3e \x3cspan style\x3d"font-size: 0.85em"\x3e {series.name}\x3c/span\x3e\x3cbr/\x3e',
                pointFormat: "x: \x3cb\x3e{point.x}\x3c/b\x3e\x3cbr/\x3ey: \x3cb\x3e{point.y}\x3c/b\x3e\x3cbr/\x3e"
            }
        }, {
            sorted: !1,
            requireSorting: !1,
            noSharedTooltip: !0,
            trackerGroups: ["group", "markerGroup", "dataLabelsGroup"],
            takeOrdinalPosition: !1,
            drawGraph: function () {
                this.options.lineWidth && C.prototype.drawGraph.call(this)
            }
        })
    })(K);
    (function (a) {
        var C = a.deg2rad,
            F = a.isNumber,
            I = a.pick,
            n = a.relativeLength;
        a.CenteredSeriesMixin = {
            getCenter: function () {
                var a = this.options,
                    e = this.chart,
                    u = 2 * (a.slicedOffset || 0),
                    x = e.plotWidth - 2 * u,
                    e = e.plotHeight - 2 * u,
                    t = a.center,
                    t = [I(t[0], "50%"), I(t[1], "50%"), a.size || "100%", a.innerSize || 0],
                    w = Math.min(x, e),
                    y, c;
                for (y = 0; 4 > y; ++y) c = t[y], a = 2 > y || 2 === y &&
                    /%$/.test(c), t[y] = n(c, [x, e, w, t[2]][y]) + (a ? u : 0);
                t[3] > t[2] && (t[3] = t[2]);
                return t
            },
            getStartAndEndRadians: function (a, e) {
                a = F(a) ? a : 0;
                e = F(e) && e > a && 360 > e - a ? e : a + 360;
                return {
                    start: C * (a + -90),
                    end: C * (e + -90)
                }
            }
        }
    })(K);
    (function (a) {
        var C = a.addEvent,
            F = a.CenteredSeriesMixin,
            I = a.defined,
            n = a.each,
            f = a.extend,
            e = F.getStartAndEndRadians,
            u = a.inArray,
            x = a.noop,
            t = a.pick,
            w = a.Point,
            y = a.Series,
            c = a.seriesType,
            h = a.setAnimation;
        c("pie", "line", {
            center: [null, null],
            clip: !1,
            colorByPoint: !0,
            dataLabels: {
                allowOverlap: !0,
                distance: 30,
                enabled: !0,
                formatter: function () {
                    return this.point.isNull ? void 0 : this.point.name
                },
                x: 0
            },
            ignoreHiddenPoint: !0,
            legendType: "point",
            marker: null,
            size: null,
            showInLegend: !1,
            slicedOffset: 10,
            stickyTracking: !1,
            tooltip: {
                followPointer: !0
            },
            borderColor: "#ffffff",
            borderWidth: 1,
            states: {
                hover: {
                    brightness: .1
                }
            }
        }, {
            isCartesian: !1,
            requireSorting: !1,
            directTouch: !0,
            noSharedTooltip: !0,
            trackerGroups: ["group", "dataLabelsGroup"],
            axisTypes: [],
            pointAttribs: a.seriesTypes.column.prototype.pointAttribs,
            animate: function (a) {
                var c = this,
                    e = c.points,
                    d = c.startAngleRad;
                a || (n(e, function (a) {
                    var b = a.graphic,
                        e = a.shapeArgs;
                    b && (b.attr({
                        r: a.startR || c.center[3] / 2,
                        start: d,
                        end: d
                    }), b.animate({
                        r: e.r,
                        start: e.start,
                        end: e.end
                    }, c.options.animation))
                }), c.animate = null)
            },
            updateTotals: function () {
                var a, c = 0,
                    e = this.points,
                    d = e.length,
                    b, f = this.options.ignoreHiddenPoint;
                for (a = 0; a < d; a++) b = e[a], c += f && !b.visible ? 0 : b.isNull ? 0 : b.y;
                this.total = c;
                for (a = 0; a < d; a++) b = e[a], b.percentage = 0 < c && (b.visible || !f) ? b.y / c * 100 : 0, b.total = c
            },
            generatePoints: function () {
                y.prototype.generatePoints.call(this);
                this.updateTotals()
            },
            translate: function (a) {
                this.generatePoints();
                var c = 0,
                    f = this.options,
                    d = f.slicedOffset,
                    b = d + (f.borderWidth || 0),
                    h, n, l, p = e(f.startAngle, f.endAngle),
                    u = this.startAngleRad = p.start,
                    p = (this.endAngleRad = p.end) - u,
                    w = this.points,
                    m, x = f.dataLabels.distance,
                    f = f.ignoreHiddenPoint,
                    A, y = w.length,
                    E;
                a || (this.center = a = this.getCenter());
                this.getX = function (b, c, d) {
                    l = Math.asin(Math.min((b - a[1]) / (a[2] / 2 + d.labelDistance), 1));
                    return a[0] + (c ? -1 : 1) * Math.cos(l) * (a[2] / 2 + d.labelDistance)
                };
                for (A = 0; A < y; A++) {
                    E = w[A];
                    E.labelDistance = t(E.options.dataLabels && E.options.dataLabels.distance, x);
                    this.maxLabelDistance = Math.max(this.maxLabelDistance || 0, E.labelDistance);
                    h = u + c * p;
                    if (!f || E.visible) c += E.percentage / 100;
                    n = u + c * p;
                    E.shapeType = "arc";
                    E.shapeArgs = {
                        x: a[0],
                        y: a[1],
                        r: a[2] / 2,
                        innerR: a[3] / 2,
                        start: Math.round(1E3 * h) / 1E3,
                        end: Math.round(1E3 * n) / 1E3
                    };
                    l = (n + h) / 2;
                    l > 1.5 * Math.PI ? l -= 2 * Math.PI : l < -Math.PI / 2 && (l += 2 * Math.PI);
                    E.slicedTranslation = {
                        translateX: Math.round(Math.cos(l) * d),
                        translateY: Math.round(Math.sin(l) * d)
                    };
                    n = Math.cos(l) * a[2] /
                        2;
                    m = Math.sin(l) * a[2] / 2;
                    E.tooltipPos = [a[0] + .7 * n, a[1] + .7 * m];
                    E.half = l < -Math.PI / 2 || l > Math.PI / 2 ? 1 : 0;
                    E.angle = l;
                    h = Math.min(b, E.labelDistance / 5);
                    E.labelPos = [a[0] + n + Math.cos(l) * E.labelDistance, a[1] + m + Math.sin(l) * E.labelDistance, a[0] + n + Math.cos(l) * h, a[1] + m + Math.sin(l) * h, a[0] + n, a[1] + m, 0 > E.labelDistance ? "center" : E.half ? "right" : "left", l]
                }
            },
            drawGraph: null,
            drawPoints: function () {
                var a = this,
                    c = a.chart.renderer,
                    e, d, b, h, t = a.options.shadow;
                t && !a.shadowGroup && (a.shadowGroup = c.g("shadow").add(a.group));
                n(a.points, function (l) {
                    d =
                        l.graphic;
                    if (l.isNull) d && (l.graphic = d.destroy());
                    else {
                        h = l.shapeArgs;
                        e = l.getTranslate();
                        var k = l.shadowGroup;
                        t && !k && (k = l.shadowGroup = c.g("shadow").add(a.shadowGroup));
                        k && k.attr(e);
                        b = a.pointAttribs(l, l.selected && "select");
                        d ? d.setRadialReference(a.center).attr(b).animate(f(h, e)) : (l.graphic = d = c[l.shapeType](h).setRadialReference(a.center).attr(e).add(a.group), d.attr(b).attr({
                            "stroke-linejoin": "round"
                        }).shadow(t, k));
                        d.attr({
                            visibility: l.visible ? "inherit" : "hidden"
                        });
                        d.addClass(l.getClassName())
                    }
                })
            },
            searchPoint: x,
            sortByAngle: function (a, c) {
                a.sort(function (a, d) {
                    return void 0 !== a.angle && (d.angle - a.angle) * c
                })
            },
            drawLegendSymbol: a.LegendSymbolMixin.drawRectangle,
            getCenter: F.getCenter,
            getSymbol: x
        }, {
            init: function () {
                w.prototype.init.apply(this, arguments);
                var a = this,
                    c;
                a.name = t(a.name, "Slice");
                c = function (c) {
                    a.slice("select" === c.type)
                };
                C(a, "select", c);
                C(a, "unselect", c);
                return a
            },
            isValid: function () {
                return a.isNumber(this.y, !0) && 0 <= this.y
            },
            setVisible: function (a, c) {
                var e = this,
                    d = e.series,
                    b = d.chart,
                    f = d.options.ignoreHiddenPoint;
                c = t(c, f);
                a !== e.visible && (e.visible = e.options.visible = a = void 0 === a ? !e.visible : a, d.options.data[u(e, d.data)] = e.options, n(["graphic", "dataLabel", "connector", "shadowGroup"], function (b) {
                    if (e[b]) e[b][a ? "show" : "hide"](!0)
                }), e.legendItem && b.legend.colorizeItem(e, a), a || "hover" !== e.state || e.setState(""), f && (d.isDirty = !0), c && b.redraw())
            },
            slice: function (a, c, e) {
                var d = this.series;
                h(e, d.chart);
                t(c, !0);
                this.sliced = this.options.sliced = I(a) ? a : !this.sliced;
                d.options.data[u(this, d.data)] = this.options;
                this.graphic.animate(this.getTranslate());
                this.shadowGroup && this.shadowGroup.animate(this.getTranslate())
            },
            getTranslate: function () {
                return this.sliced ? this.slicedTranslation : {
                    translateX: 0,
                    translateY: 0
                }
            },
            haloPath: function (a) {
                var c = this.shapeArgs;
                return this.sliced || !this.visible ? [] : this.series.chart.renderer.symbols.arc(c.x, c.y, c.r + a, c.r + a, {
                    innerR: this.shapeArgs.r - 1,
                    start: c.start,
                    end: c.end
                })
            }
        })
    })(K);
    (function (a) {
        var C = a.addEvent,
            F = a.arrayMax,
            I = a.defined,
            n = a.each,
            f = a.extend,
            e = a.format,
            u = a.map,
            x = a.merge,
            t = a.noop,
            w = a.pick,
            y = a.relativeLength,
            c =
            a.Series,
            h = a.seriesTypes,
            p = a.some,
            k = a.stableSort,
            q = a.isArray,
            d = a.splat;
        a.distribute = function (b, c, d) {
            function e(a, b) {
                return a.target - b.target
            }
            var f, h = !0,
                q = b,
                m = [],
                v;
            v = 0;
            var t = q.reducedLen || c;
            for (f = b.length; f--;) v += b[f].size;
            if (v > t) {
                k(b, function (a, b) {
                    return (b.rank || 0) - (a.rank || 0)
                });
                for (v = f = 0; v <= t;) v += b[f].size, f++;
                m = b.splice(f - 1, b.length)
            }
            k(b, e);
            for (b = u(b, function (a) {
                    return {
                        size: a.size,
                        targets: [a.target],
                        align: w(a.align, .5)
                    }
                }); h;) {
                for (f = b.length; f--;) h = b[f], v = (Math.min.apply(0, h.targets) + Math.max.apply(0,
                    h.targets)) / 2, h.pos = Math.min(Math.max(0, v - h.size * h.align), c - h.size);
                f = b.length;
                for (h = !1; f--;) 0 < f && b[f - 1].pos + b[f - 1].size > b[f].pos && (b[f - 1].size += b[f].size, b[f - 1].targets = b[f - 1].targets.concat(b[f].targets), b[f - 1].align = .5, b[f - 1].pos + b[f - 1].size > c && (b[f - 1].pos = c - b[f - 1].size), b.splice(f, 1), h = !0)
            }
            q.push.apply(q, m);
            f = 0;
            p(b, function (b) {
                var e = 0;
                if (p(b.targets, function () {
                        q[f].pos = b.pos + e;
                        if (Math.abs(q[f].pos - q[f].target) > d) return n(q.slice(0, f + 1), function (a) {
                                delete a.pos
                            }), q.reducedLen = (q.reducedLen || c) -
                            .1 * c, q.reducedLen > .1 * c && a.distribute(q, c, d), !0;
                        e += q[f].size;
                        f++
                    })) return !0
            });
            k(q, e)
        };
        c.prototype.drawDataLabels = function () {
            function b(a, b) {
                var c = b.filter;
                return c ? (b = c.operator, a = a[c.property], c = c.value, "\x3e" === b && a > c || "\x3c" === b && a < c || "\x3e\x3d" === b && a >= c || "\x3c\x3d" === b && a <= c || "\x3d\x3d" === b && a == c || "\x3d\x3d\x3d" === b && a === c ? !0 : !1) : !0
            }

            function c(a, b) {
                var c = [],
                    d;
                if (q(a) && !q(b)) c = u(a, function (a) {
                    return x(a, b)
                });
                else if (q(b) && !q(a)) c = u(b, function (b) {
                    return x(a, b)
                });
                else if (q(a) || q(b))
                    for (d = Math.max(a.length,
                            b.length); d--;) c[d] = x(a[d], b[d]);
                else c = x(a, b);
                return c
            }
            var f = this,
                h = f.chart,
                k = f.options,
                p = k.dataLabels,
                t = f.points,
                m, y = f.hasRendered || 0,
                A, F = w(p.defer, !!k.animation),
                E = h.renderer,
                p = c(c(h.options.plotOptions && h.options.plotOptions.series && h.options.plotOptions.series.dataLabels, h.options.plotOptions && h.options.plotOptions[f.type] && h.options.plotOptions[f.type].dataLabels), p);
            if (q(p) || p.enabled || f._hasPointLabels) A = f.plotGroup("dataLabelsGroup", "data-labels", F && !y ? "hidden" : "visible", p.zIndex || 6), F &&
                (A.attr({
                    opacity: +y
                }), y || C(f, "afterAnimate", function () {
                    f.visible && A.show(!0);
                    A[k.animation ? "animate" : "attr"]({
                        opacity: 1
                    }, {
                        duration: 200
                    })
                })), n(t, function (g) {
                    m = d(c(p, g.dlOptions || g.options && g.options.dataLabels));
                    n(m, function (c, d) {
                        var l = c.enabled && !g.isNull && b(g, c),
                            m, n, q, r, p = g.dataLabels ? g.dataLabels[d] : g.dataLabel,
                            v = g.connectors ? g.connectors[d] : g.connector,
                            t = !p;
                        l && (m = g.getLabelConfig(), n = c[g.formatPrefix + "Format"] || c.format, m = I(n) ? e(n, m, h.time) : (c[g.formatPrefix + "Formatter"] || c.formatter).call(m, c),
                            n = c.style, q = c.rotation, n.color = w(c.color, n.color, f.color, "#000000"), "contrast" === n.color && (g.contrastColor = E.getContrast(g.color || f.color), n.color = c.inside || 0 > w(c.distance, g.labelDistance) || k.stacking ? g.contrastColor : "#000000"), k.cursor && (n.cursor = k.cursor), r = {
                                fill: c.backgroundColor,
                                stroke: c.borderColor,
                                "stroke-width": c.borderWidth,
                                r: c.borderRadius || 0,
                                rotation: q,
                                padding: c.padding,
                                zIndex: 1
                            }, a.objectEach(r, function (a, b) {
                                void 0 === a && delete r[b]
                            }));
                        !p || l && I(m) ? l && I(m) && (p ? r.text = m : (g.dataLabels = g.dataLabels || [], p = g.dataLabels[d] = q ? E.text(m, 0, -9999).addClass("highcharts-data-label") : E.label(m, 0, -9999, c.shape, null, null, c.useHTML, null, "data-label"), d || (g.dataLabel = p), p.addClass(" highcharts-data-label-color-" + g.colorIndex + " " + (c.className || "") + (c.useHTML ? " highcharts-tracker" : ""))), p.options = c, p.attr(r), p.css(n).shadow(c.shadow), p.added || p.add(A), f.alignDataLabel(g, p, c, null, t)) : (g.dataLabel = g.dataLabel.destroy(), g.dataLabels && (1 === g.dataLabels.length ? delete g.dataLabels : delete g.dataLabels[d]), d || delete g.dataLabel,
                            v && (g.connector = g.connector.destroy(), g.connectors && (1 === g.connectors.length ? delete g.connectors : delete g.connectors[d])))
                    })
                });
            a.fireEvent(this, "afterDrawDataLabels")
        };
        c.prototype.alignDataLabel = function (a, c, d, e, h) {
            var b = this.chart,
                l = b.inverted,
                m = w(a.dlBox && a.dlBox.centerX, a.plotX, -9999),
                k = w(a.plotY, -9999),
                n = c.getBBox(),
                q, p = d.rotation,
                g = d.align,
                r = this.visible && (a.series.forceDL || b.isInsidePlot(m, Math.round(k), l) || e && b.isInsidePlot(m, l ? e.x + 1 : e.y + e.height - 1, l)),
                v = "justify" === w(d.overflow, "justify");
            if (r && (q = d.style.fontSize, q = b.renderer.fontMetrics(q, c).b, e = f({
                    x: l ? this.yAxis.len - k : m,
                    y: Math.round(l ? this.xAxis.len - m : k),
                    width: 0,
                    height: 0
                }, e), f(d, {
                    width: n.width,
                    height: n.height
                }), p ? (v = !1, m = b.renderer.rotCorr(q, p), m = {
                    x: e.x + d.x + e.width / 2 + m.x,
                    y: e.y + d.y + {
                        top: 0,
                        middle: .5,
                        bottom: 1
                    } [d.verticalAlign] * e.height
                }, c[h ? "attr" : "animate"](m).attr({
                    align: g
                }), k = (p + 720) % 360, k = 180 < k && 360 > k, "left" === g ? m.y -= k ? n.height : 0 : "center" === g ? (m.x -= n.width / 2, m.y -= n.height / 2) : "right" === g && (m.x -= n.width, m.y -= k ? 0 : n.height), c.placed = !0, c.alignAttr = m) : (c.align(d, null, e), m = c.alignAttr), v && 0 <= e.height ? a.isLabelJustified = this.justifyDataLabel(c, d, m, n, e, h) : w(d.crop, !0) && (r = b.isInsidePlot(m.x, m.y) && b.isInsidePlot(m.x + n.width, m.y + n.height)), d.shape && !p)) c[h ? "attr" : "animate"]({
                anchorX: l ? b.plotWidth - a.plotY : a.plotX,
                anchorY: l ? b.plotHeight - a.plotX : a.plotY
            });
            r || (c.attr({
                y: -9999
            }), c.placed = !1)
        };
        c.prototype.justifyDataLabel = function (a, c, d, e, f, h) {
            var b = this.chart,
                l = c.align,
                k = c.verticalAlign,
                n, q, p = a.box ? 0 : a.padding || 0;
            n = d.x + p;
            0 > n && ("right" ===
                l ? c.align = "left" : c.x = -n, q = !0);
            n = d.x + e.width - p;
            n > b.plotWidth && ("left" === l ? c.align = "right" : c.x = b.plotWidth - n, q = !0);
            n = d.y + p;
            0 > n && ("bottom" === k ? c.verticalAlign = "top" : c.y = -n, q = !0);
            n = d.y + e.height - p;
            n > b.plotHeight && ("top" === k ? c.verticalAlign = "bottom" : c.y = b.plotHeight - n, q = !0);
            q && (a.placed = !h, a.align(c, null, f));
            return q
        };
        h.pie && (h.pie.prototype.drawDataLabels = function () {
            var b = this,
                d = b.data,
                e, f = b.chart,
                h = b.options.dataLabels,
                k = w(h.connectorPadding, 10),
                q = w(h.connectorWidth, 1),
                m = f.plotWidth,
                p = f.plotHeight,
                t =
                Math.round(f.chartWidth / 3),
                u, x = b.center,
                g = x[2] / 2,
                r = x[1],
                y, C, H, K, Q = [[], []],
                z, P, T, S, U = [0, 0, 0, 0];
            b.visible && (h.enabled || b._hasPointLabels) && (n(d, function (a) {
                a.dataLabel && a.visible && a.dataLabel.shortened && (a.dataLabel.attr({
                    width: "auto"
                }).css({
                    width: "auto",
                    textOverflow: "clip"
                }), a.dataLabel.shortened = !1)
            }), c.prototype.drawDataLabels.apply(b), n(d, function (a) {
                a.dataLabel && (a.visible ? (Q[a.half].push(a), a.dataLabel._pos = null, !I(h.style.width) && !I(a.options.dataLabels && a.options.dataLabels.style && a.options.dataLabels.style.width) &&
                    a.dataLabel.getBBox().width > t && (a.dataLabel.css({
                        width: .7 * t
                    }), a.dataLabel.shortened = !0)) : (a.dataLabel = a.dataLabel.destroy(), a.dataLabels && 1 === a.dataLabels.length && delete a.dataLabels))
            }), n(Q, function (c, d) {
                var l, q, t = c.length,
                    v = [],
                    u;
                if (t)
                    for (b.sortByAngle(c, d - .5), 0 < b.maxLabelDistance && (l = Math.max(0, r - g - b.maxLabelDistance), q = Math.min(r + g + b.maxLabelDistance, f.plotHeight), n(c, function (a) {
                            0 < a.labelDistance && a.dataLabel && (a.top = Math.max(0, r - g - a.labelDistance), a.bottom = Math.min(r + g + a.labelDistance, f.plotHeight),
                                u = a.dataLabel.getBBox().height || 21, a.distributeBox = {
                                    target: a.labelPos[1] - a.top + u / 2,
                                    size: u,
                                    rank: a.y
                                }, v.push(a.distributeBox))
                        }), l = q + u - l, a.distribute(v, l, l / 5)), S = 0; S < t; S++) e = c[S], H = e.labelPos, y = e.dataLabel, T = !1 === e.visible ? "hidden" : "inherit", P = l = H[1], v && I(e.distributeBox) && (void 0 === e.distributeBox.pos ? T = "hidden" : (K = e.distributeBox.size, P = e.top + e.distributeBox.pos)), delete e.positionIndex, z = h.justify ? x[0] + (d ? -1 : 1) * (g + e.labelDistance) : b.getX(P < e.top + 2 || P > e.bottom - 2 ? l : P, d, e), y._attr = {
                            visibility: T,
                            align: H[6]
                        },
                        y._pos = {
                            x: z + h.x + ({
                                left: k,
                                right: -k
                            } [H[6]] || 0),
                            y: P + h.y - 10
                        }, H.x = z, H.y = P, w(h.crop, !0) && (C = y.getBBox().width, l = null, z - C < k && 1 === d ? (l = Math.round(C - z + k), U[3] = Math.max(l, U[3])) : z + C > m - k && 0 === d && (l = Math.round(z + C - m + k), U[1] = Math.max(l, U[1])), 0 > P - K / 2 ? U[0] = Math.max(Math.round(-P + K / 2), U[0]) : P + K / 2 > p && (U[2] = Math.max(Math.round(P + K / 2 - p), U[2])), y.sideOverflow = l)
            }), 0 === F(U) || this.verifyDataLabelOverflow(U)) && (this.placeDataLabels(), q && n(this.points, function (a) {
                var c;
                u = a.connector;
                if ((y = a.dataLabel) && y._pos && a.visible &&
                    0 < a.labelDistance) {
                    T = y._attr.visibility;
                    if (c = !u) a.connector = u = f.renderer.path().addClass("highcharts-data-label-connector  highcharts-color-" + a.colorIndex + (a.className ? " " + a.className : "")).add(b.dataLabelsGroup), u.attr({
                        "stroke-width": q,
                        stroke: h.connectorColor || a.color || "#666666"
                    });
                    u[c ? "attr" : "animate"]({
                        d: b.connectorPath(a.labelPos)
                    });
                    u.attr("visibility", T)
                } else u && (a.connector = u.destroy())
            }))
        }, h.pie.prototype.connectorPath = function (a) {
            var b = a.x,
                c = a.y;
            return w(this.options.dataLabels.softConnector,
                !0) ? ["M", b + ("left" === a[6] ? 5 : -5), c, "C", b, c, 2 * a[2] - a[4], 2 * a[3] - a[5], a[2], a[3], "L", a[4], a[5]] : ["M", b + ("left" === a[6] ? 5 : -5), c, "L", a[2], a[3], "L", a[4], a[5]]
        }, h.pie.prototype.placeDataLabels = function () {
            n(this.points, function (a) {
                var b = a.dataLabel;
                b && a.visible && ((a = b._pos) ? (b.sideOverflow && (b._attr.width = b.getBBox().width - b.sideOverflow, b.css({
                    width: b._attr.width + "px",
                    textOverflow: (this.options.dataLabels.style || {}).textOverflow || "ellipsis"
                }), b.shortened = !0), b.attr(b._attr), b[b.moved ? "animate" : "attr"](a), b.moved = !0) : b && b.attr({
                    y: -9999
                }))
            }, this)
        }, h.pie.prototype.alignDataLabel = t, h.pie.prototype.verifyDataLabelOverflow = function (a) {
            var b = this.center,
                c = this.options,
                d = c.center,
                e = c.minSize || 80,
                f, h = null !== c.size;
            h || (null !== d[0] ? f = Math.max(b[2] - Math.max(a[1], a[3]), e) : (f = Math.max(b[2] - a[1] - a[3], e), b[0] += (a[3] - a[1]) / 2), null !== d[1] ? f = Math.max(Math.min(f, b[2] - Math.max(a[0], a[2])), e) : (f = Math.max(Math.min(f, b[2] - a[0] - a[2]), e), b[1] += (a[0] - a[2]) / 2), f < b[2] ? (b[2] = f, b[3] = Math.min(y(c.innerSize || 0, f), f), this.translate(b), this.drawDataLabels &&
                this.drawDataLabels()) : h = !0);
            return h
        });
        h.column && (h.column.prototype.alignDataLabel = function (a, d, e, f, h) {
            var b = this.chart.inverted,
                l = a.series,
                m = a.dlBox || a.shapeArgs,
                k = w(a.below, a.plotY > w(this.translatedThreshold, l.yAxis.len)),
                n = w(e.inside, !!this.options.stacking);
            m && (f = x(m), 0 > f.y && (f.height += f.y, f.y = 0), m = f.y + f.height - l.yAxis.len, 0 < m && (f.height -= m), b && (f = {
                x: l.yAxis.len - f.y - f.height,
                y: l.xAxis.len - f.x - f.width,
                width: f.height,
                height: f.width
            }), n || (b ? (f.x += k ? 0 : f.width, f.width = 0) : (f.y += k ? f.height : 0, f.height =
                0)));
            e.align = w(e.align, !b || n ? "center" : k ? "right" : "left");
            e.verticalAlign = w(e.verticalAlign, b || n ? "middle" : k ? "top" : "bottom");
            c.prototype.alignDataLabel.call(this, a, d, e, f, h);
            a.isLabelJustified && a.contrastColor && d.css({
                color: a.contrastColor
            })
        })
    })(K);
    (function (a) {
        var C = a.Chart,
            F = a.each,
            I = a.isArray,
            n = a.objectEach,
            f = a.pick;
        a = a.addEvent;
        a(C, "render", function () {
            var a = [];
            F(this.labelCollectors || [], function (e) {
                a = a.concat(e())
            });
            F(this.yAxis || [], function (e) {
                e.options.stackLabels && !e.options.stackLabels.allowOverlap &&
                    n(e.stacks, function (e) {
                        n(e, function (e) {
                            a.push(e.label)
                        })
                    })
            });
            F(this.series || [], function (e) {
                var n = e.options.dataLabels;
                e.visible && (!1 !== n.enabled || e._hasPointLabels) && F(e.points, function (e) {
                    if (e.visible) {
                        var n = I(e.dataLabels) ? e.dataLabels : e.dataLabel ? [e.dataLabel] : [];
                        F(n, function (n) {
                            var c = n.options;
                            n.labelrank = f(c.labelrank, e.labelrank, e.shapeArgs && e.shapeArgs.height);
                            c.allowOverlap || a.push(n)
                        })
                    }
                })
            });
            this.hideOverlappingLabels(a)
        });
        C.prototype.hideOverlappingLabels = function (a) {
            var e = a.length,
                f = this.renderer,
                n, w, y, c, h, p, k = function (a, c, b, e, f, h, k, n) {
                    return !(f > a + b || f + k < a || h > c + e || h + n < c)
                };
            y = function (a) {
                var c, b, e, h = a.box ? 0 : a.padding || 0;
                e = 0;
                if (a && (!a.alignAttr || a.placed)) return c = a.alignAttr || {
                    x: a.attr("x"),
                    y: a.attr("y")
                }, b = a.parentGroup, a.width || (e = a.getBBox(), a.width = e.width, a.height = e.height, e = f.fontMetrics(null, a.element).h), {
                    x: c.x + (b.translateX || 0) + h,
                    y: c.y + (b.translateY || 0) + h - e,
                    width: a.width - 2 * h,
                    height: a.height - 2 * h
                }
            };
            for (w = 0; w < e; w++)
                if (n = a[w]) n.oldOpacity = n.opacity, n.newOpacity = 1, n.absoluteBox = y(n);
            a.sort(function (a,
                c) {
                return (c.labelrank || 0) - (a.labelrank || 0)
            });
            for (w = 0; w < e; w++)
                for (p = (y = a[w]) && y.absoluteBox, n = w + 1; n < e; ++n)
                    if (h = (c = a[n]) && c.absoluteBox, p && h && y !== c && 0 !== y.newOpacity && 0 !== c.newOpacity && (h = k(p.x, p.y, p.width, p.height, h.x, h.y, h.width, h.height)))(y.labelrank < c.labelrank ? y : c).newOpacity = 0;
            F(a, function (a) {
                var c, b;
                a && (b = a.newOpacity, a.oldOpacity !== b && (a.alignAttr && a.placed ? (b ? a.show(!0) : c = function () {
                    a.hide()
                }, a.alignAttr.opacity = b, a[a.isOld ? "animate" : "attr"](a.alignAttr, null, c)) : a.attr({
                    opacity: b
                })), a.isOld = !0)
            })
        }
    })(K);
    (function (a) {
        var C = a.addEvent,
            F = a.Chart,
            I = a.createElement,
            n = a.css,
            f = a.defaultOptions,
            e = a.defaultPlotOptions,
            u = a.each,
            x = a.extend,
            t = a.fireEvent,
            w = a.hasTouch,
            y = a.inArray,
            c = a.isObject,
            h = a.Legend,
            p = a.merge,
            k = a.pick,
            q = a.Point,
            d = a.Series,
            b = a.seriesTypes,
            v = a.svg,
            J;
        J = a.TrackerMixin = {
            drawTrackerPoint: function () {
                var a = this,
                    b = a.chart.pointer,
                    c = function (a) {
                        var c = b.getPointFromEvent(a);
                        void 0 !== c && (b.isDirectTouch = !0, c.onMouseOver(a))
                    };
                u(a.points, function (a) {
                    a.graphic && (a.graphic.element.point = a);
                    a.dataLabel &&
                        (a.dataLabel.div ? a.dataLabel.div.point = a : a.dataLabel.element.point = a)
                });
                a._hasTracking || (u(a.trackerGroups, function (d) {
                    if (a[d]) {
                        a[d].addClass("highcharts-tracker").on("mouseover", c).on("mouseout", function (a) {
                            b.onTrackerMouseOut(a)
                        });
                        if (w) a[d].on("touchstart", c);
                        a.options.cursor && a[d].css(n).css({
                            cursor: a.options.cursor
                        })
                    }
                }), a._hasTracking = !0);
                t(this, "afterDrawTracker")
            },
            drawTrackerGraph: function () {
                var a = this,
                    b = a.options,
                    c = b.trackByArea,
                    d = [].concat(c ? a.areaPath : a.graphPath),
                    e = d.length,
                    f = a.chart,
                    h =
                    f.pointer,
                    k = f.renderer,
                    n = f.options.tooltip.snap,
                    g = a.tracker,
                    q, p = function () {
                        if (f.hoverSeries !== a) a.onMouseOver()
                    },
                    x = "rgba(192,192,192," + (v ? .0001 : .002) + ")";
                if (e && !c)
                    for (q = e + 1; q--;) "M" === d[q] && d.splice(q + 1, 0, d[q + 1] - n, d[q + 2], "L"), (q && "M" === d[q] || q === e) && d.splice(q, 0, "L", d[q - 2] + n, d[q - 1]);
                g ? g.attr({
                    d: d
                }) : a.graph && (a.tracker = k.path(d).attr({
                    "stroke-linejoin": "round",
                    stroke: x,
                    fill: c ? x : "none",
                    "stroke-width": a.graph.strokeWidth() + (c ? 0 : 2 * n),
                    visibility: a.visible ? "visible" : "hidden",
                    zIndex: 2
                }).addClass(c ? "highcharts-tracker-area" :
                    "highcharts-tracker-line").add(a.group), u([a.tracker, a.markerGroup], function (a) {
                    a.addClass("highcharts-tracker").on("mouseover", p).on("mouseout", function (a) {
                        h.onTrackerMouseOut(a)
                    });
                    b.cursor && a.css({
                        cursor: b.cursor
                    });
                    if (w) a.on("touchstart", p)
                }));
                t(this, "afterDrawTracker")
            }
        };
        b.column && (b.column.prototype.drawTracker = J.drawTrackerPoint);
        b.pie && (b.pie.prototype.drawTracker = J.drawTrackerPoint);
        b.scatter && (b.scatter.prototype.drawTracker = J.drawTrackerPoint);
        f.legend.itemStyle.cursor = "pointer";
        x(h.prototype, {
            setItemEvents: function (a, b, c) {
                var d = this,
                    e = d.chart.renderer.boxWrapper,
                    f = "highcharts-legend-" + (a instanceof q ? "point" : "series") + "-active";
                (c ? b : a.legendGroup).on("mouseover", function () {
                    a.setState("hover");
                    e.addClass(f);
                    b.css(d.options.itemHoverStyle)
                }).on("mouseout", function () {
                    b.css(p(a.visible ? d.itemStyle : d.itemHiddenStyle));
                    e.removeClass(f);
                    a.setState()
                }).on("click", function (b) {
                    var c = function () {
                        a.setVisible && a.setVisible()
                    };
                    e.removeClass(f);
                    b = {
                        browserEvent: b
                    };
                    a.firePointEvent ? a.firePointEvent("legendItemClick",
                        b, c) : t(a, "legendItemClick", b, c)
                })
            },
            createCheckboxForItem: function (a) {
                a.checkbox = I("input", {
                    type: "checkbox",
                    className: "highcharts-legend-checkbox",
                    checked: a.selected,
                    defaultChecked: a.selected
                }, this.options.itemCheckboxStyle, this.chart.container);
                C(a.checkbox, "click", function (b) {
                    t(a.series || a, "checkboxClick", {
                        checked: b.target.checked,
                        item: a
                    }, function () {
                        a.select()
                    })
                })
            }
        });
        x(F.prototype, {
            showResetZoom: function () {
                function a() {
                    b.zoomOut()
                }
                var b = this,
                    c = f.lang,
                    d = b.options.chart.resetZoomButton,
                    e = d.theme,
                    h =
                    e.states,
                    k = "chart" === d.relativeTo ? null : "plotBox";
                t(this, "beforeShowResetZoom", null, function () {
                    b.resetZoomButton = b.renderer.button(c.resetZoom, null, null, a, e, h && h.hover).attr({
                        align: d.position.align,
                        title: c.resetZoomTitle
                    }).addClass("highcharts-reset-zoom").add().align(d.position, !1, k)
                })
            },
            zoomOut: function () {
                t(this, "selection", {
                    resetSelection: !0
                }, this.zoom)
            },
            zoom: function (a) {
                var b, d = this.pointer,
                    e = !1,
                    f;
                !a || a.resetSelection ? (u(this.axes, function (a) {
                    b = a.zoom()
                }), d.initiated = !1) : u(a.xAxis.concat(a.yAxis),
                    function (a) {
                        var c = a.axis;
                        d[c.isXAxis ? "zoomX" : "zoomY"] && (b = c.zoom(a.min, a.max), c.displayBtn && (e = !0))
                    });
                f = this.resetZoomButton;
                e && !f ? this.showResetZoom() : !e && c(f) && (this.resetZoomButton = f.destroy());
                b && this.redraw(k(this.options.chart.animation, a && a.animation, 100 > this.pointCount))
            },
            pan: function (a, b) {
                var c = this,
                    d = c.hoverPoints,
                    e;
                d && u(d, function (a) {
                    a.setState()
                });
                u("xy" === b ? [1, 0] : [1], function (b) {
                    b = c[b ? "xAxis" : "yAxis"][0];
                    var d = b.horiz,
                        f = a[d ? "chartX" : "chartY"],
                        d = d ? "mouseDownX" : "mouseDownY",
                        h = c[d],
                        g = (b.pointRange ||
                            0) / 2,
                        l = b.reversed && !c.inverted || !b.reversed && c.inverted ? -1 : 1,
                        m = b.getExtremes(),
                        k = b.toValue(h - f, !0) + g * l,
                        l = b.toValue(h + b.len - f, !0) - g * l,
                        n = l < k,
                        h = n ? l : k,
                        k = n ? k : l,
                        l = Math.min(m.dataMin, g ? m.min : b.toValue(b.toPixels(m.min) - b.minPixelPadding)),
                        g = Math.max(m.dataMax, g ? m.max : b.toValue(b.toPixels(m.max) + b.minPixelPadding)),
                        n = l - h;
                    0 < n && (k += n, h = l);
                    n = k - g;
                    0 < n && (k = g, h -= n);
                    b.series.length && h !== m.min && k !== m.max && (b.setExtremes(h, k, !1, !1, {
                        trigger: "pan"
                    }), e = !0);
                    c[d] = f
                });
                e && c.redraw(!1);
                n(c.container, {
                    cursor: "move"
                })
            }
        });
        x(q.prototype, {
            select: function (a, b) {
                var c = this,
                    d = c.series,
                    e = d.chart;
                a = k(a, !c.selected);
                c.firePointEvent(a ? "select" : "unselect", {
                    accumulate: b
                }, function () {
                    c.selected = c.options.selected = a;
                    d.options.data[y(c, d.data)] = c.options;
                    c.setState(a && "select");
                    b || u(e.getSelectedPoints(), function (a) {
                        a.selected && a !== c && (a.selected = a.options.selected = !1, d.options.data[y(a, d.data)] = a.options, a.setState(""), a.firePointEvent("unselect"))
                    })
                })
            },
            onMouseOver: function (a) {
                var b = this.series.chart,
                    c = b.pointer;
                a = a ? c.normalize(a) : c.getChartCoordinatesFromPoint(this,
                    b.inverted);
                c.runPointActions(a, this)
            },
            onMouseOut: function () {
                var a = this.series.chart;
                this.firePointEvent("mouseOut");
                u(a.hoverPoints || [], function (a) {
                    a.setState()
                });
                a.hoverPoints = a.hoverPoint = null
            },
            importEvents: function () {
                if (!this.hasImportedEvents) {
                    var b = this,
                        c = p(b.series.options.point, b.options).events;
                    b.events = c;
                    a.objectEach(c, function (a, c) {
                        C(b, c, a)
                    });
                    this.hasImportedEvents = !0
                }
            },
            setState: function (a, b) {
                var c = Math.floor(this.plotX),
                    d = this.plotY,
                    f = this.series,
                    h = f.options.states[a || "normal"] || {},
                    l =
                    e[f.type].marker && f.options.marker,
                    n = l && !1 === l.enabled,
                    q = l && l.states && l.states[a || "normal"] || {},
                    g = !1 === q.enabled,
                    p = f.stateMarkerGraphic,
                    v = this.marker || {},
                    u = f.chart,
                    w = f.halo,
                    y, C = l && f.markerAttribs;
                a = a || "";
                if (!(a === this.state && !b || this.selected && "select" !== a || !1 === h.enabled || a && (g || n && !1 === q.enabled) || a && v.states && v.states[a] && !1 === v.states[a].enabled)) {
                    C && (y = f.markerAttribs(this, a));
                    if (this.graphic) this.state && this.graphic.removeClass("highcharts-point-" + this.state), a && this.graphic.addClass("highcharts-point-" +
                        a), this.graphic.animate(f.pointAttribs(this, a), k(u.options.chart.animation, h.animation)), y && this.graphic.animate(y, k(u.options.chart.animation, q.animation, l.animation)), p && p.hide();
                    else {
                        if (a && q) {
                            l = v.symbol || f.symbol;
                            p && p.currentSymbol !== l && (p = p.destroy());
                            if (p) p[b ? "animate" : "attr"]({
                                x: y.x,
                                y: y.y
                            });
                            else l && (f.stateMarkerGraphic = p = u.renderer.symbol(l, y.x, y.y, y.width, y.height).add(f.markerGroup), p.currentSymbol = l);
                            p && p.attr(f.pointAttribs(this, a))
                        }
                        p && (p[a && u.isInsidePlot(c, d, u.inverted) ? "show" : "hide"](),
                            p.element.point = this)
                    }(c = h.halo) && c.size ? (w || (f.halo = w = u.renderer.path().add((this.graphic || p).parentGroup)), w.show()[b ? "animate" : "attr"]({
                        d: this.haloPath(c.size)
                    }), w.attr({
                        "class": "highcharts-halo highcharts-color-" + k(this.colorIndex, f.colorIndex) + (this.className ? " " + this.className : ""),
                        zIndex: -1
                    }), w.point = this, w.attr(x({
                        fill: this.color || f.color,
                        "fill-opacity": c.opacity
                    }, c.attributes))) : w && w.point && w.point.haloPath && w.animate({
                        d: w.point.haloPath(0)
                    }, null, w.hide);
                    this.state = a;
                    t(this, "afterSetState")
                }
            },
            haloPath: function (a) {
                return this.series.chart.renderer.symbols.circle(Math.floor(this.plotX) - a, this.plotY - a, 2 * a, 2 * a)
            }
        });
        x(d.prototype, {
            onMouseOver: function () {
                var a = this.chart,
                    b = a.hoverSeries;
                if (b && b !== this) b.onMouseOut();
                this.options.events.mouseOver && t(this, "mouseOver");
                this.setState("hover");
                a.hoverSeries = this
            },
            onMouseOut: function () {
                var a = this.options,
                    b = this.chart,
                    c = b.tooltip,
                    d = b.hoverPoint;
                b.hoverSeries = null;
                if (d) d.onMouseOut();
                this && a.events.mouseOut && t(this, "mouseOut");
                !c || this.stickyTracking ||
                    c.shared && !this.noSharedTooltip || c.hide();
                this.setState()
            },
            setState: function (a) {
                var b = this,
                    c = b.options,
                    d = b.graph,
                    e = c.states,
                    f = c.lineWidth,
                    c = 0;
                a = a || "";
                if (b.state !== a && (u([b.group, b.markerGroup, b.dataLabelsGroup], function (c) {
                        c && (b.state && c.removeClass("highcharts-series-" + b.state), a && c.addClass("highcharts-series-" + a))
                    }), b.state = a, !e[a] || !1 !== e[a].enabled) && (a && (f = e[a].lineWidth || f + (e[a].lineWidthPlus || 0)), d && !d.dashstyle))
                    for (f = {
                            "stroke-width": f
                        }, d.animate(f, k(e[a || "normal"] && e[a || "normal"].animation,
                            b.chart.options.chart.animation)); b["zone-graph-" + c];) b["zone-graph-" + c].attr(f), c += 1
            },
            setVisible: function (a, b) {
                var c = this,
                    d = c.chart,
                    e = c.legendItem,
                    f, h = d.options.chart.ignoreHiddenSeries,
                    k = c.visible;
                f = (c.visible = a = c.options.visible = c.userOptions.visible = void 0 === a ? !k : a) ? "show" : "hide";
                u(["group", "dataLabelsGroup", "markerGroup", "tracker", "tt"], function (a) {
                    if (c[a]) c[a][f]()
                });
                if (d.hoverSeries === c || (d.hoverPoint && d.hoverPoint.series) === c) c.onMouseOut();
                e && d.legend.colorizeItem(c, a);
                c.isDirty = !0;
                c.options.stacking &&
                    u(d.series, function (a) {
                        a.options.stacking && a.visible && (a.isDirty = !0)
                    });
                u(c.linkedSeries, function (b) {
                    b.setVisible(a, !1)
                });
                h && (d.isDirtyBox = !0);
                t(c, f);
                !1 !== b && d.redraw()
            },
            show: function () {
                this.setVisible(!0)
            },
            hide: function () {
                this.setVisible(!1)
            },
            select: function (a) {
                this.selected = a = void 0 === a ? !this.selected : a;
                this.checkbox && (this.checkbox.checked = a);
                t(this, a ? "select" : "unselect")
            },
            drawTracker: J.drawTrackerGraph
        })
    })(K);
    (function (a) {
        var C = a.Chart,
            F = a.each,
            I = a.inArray,
            n = a.isArray,
            f = a.isObject,
            e = a.pick,
            u = a.splat;
        C.prototype.setResponsive = function (e) {
            var f = this.options.responsive,
                n = [],
                u = this.currentResponsive;
            f && f.rules && F(f.rules, function (c) {
                void 0 === c._id && (c._id = a.uniqueKey());
                this.matchResponsiveRule(c, n, e)
            }, this);
            var c = a.merge.apply(0, a.map(n, function (c) {
                    return a.find(f.rules, function (a) {
                        return a._id === c
                    }).chartOptions
                })),
                n = n.toString() || void 0;
            n !== (u && u.ruleIds) && (u && this.update(u.undoOptions, e), n ? (this.currentResponsive = {
                    ruleIds: n,
                    mergedOptions: c,
                    undoOptions: this.currentOptions(c)
                }, this.update(c, e)) :
                this.currentResponsive = void 0)
        };
        C.prototype.matchResponsiveRule = function (a, f) {
            var n = a.condition;
            (n.callback || function () {
                return this.chartWidth <= e(n.maxWidth, Number.MAX_VALUE) && this.chartHeight <= e(n.maxHeight, Number.MAX_VALUE) && this.chartWidth >= e(n.minWidth, 0) && this.chartHeight >= e(n.minHeight, 0)
            }).call(this) && f.push(a._id)
        };
        C.prototype.currentOptions = function (e) {
            function t(e, c, h, p) {
                var k;
                a.objectEach(e, function (a, d) {
                    if (!p && -1 < I(d, ["series", "xAxis", "yAxis"]))
                        for (a = u(a), h[d] = [], k = 0; k < a.length; k++) c[d][k] &&
                            (h[d][k] = {}, t(a[k], c[d][k], h[d][k], p + 1));
                    else f(a) ? (h[d] = n(a) ? [] : {}, t(a, c[d] || {}, h[d], p + 1)) : h[d] = c[d] || null
                })
            }
            var w = {};
            t(e, this.options, w, 0);
            return w
        }
    })(K);
    return K
});
//# sourceMappingURL=highcharts.js.map

/*
     _ _      _       _
 ___| (_) ___| | __  (_)___
/ __| | |/ __| |/ /  | / __|
\__ \ | | (__|   < _ | \__ \
|___/_|_|\___|_|\_(_)/ |___/
                   |__/

 Version: 1.5.9
  Author: Ken Wheeler
 Website: http://kenwheeler.github.io
    Docs: http://kenwheeler.github.io/slick
    Repo: http://github.com/kenwheeler/slick
  Issues: http://github.com/kenwheeler/slick/issues

 */
! function (a) {
    "use strict";
    "function" == typeof define && define.amd ? define(["jquery"], a) : "undefined" != typeof exports ? module.exports = a(require("jquery")) : a(jQuery)
}(function (a) {
    "use strict";
    var b = window.Slick || {};
    b = function () {
        function c(c, d) {
            var f, e = this;
            e.defaults = {
                accessibility: !0,
                adaptiveHeight: !1,
                appendArrows: a(c),
                appendDots: a(c),
                arrows: !0,
                asNavFor: null,
                prevArrow: '<button type="button" data-role="none" class="slick-prev" aria-label="Previous" tabindex="0" role="button">Previous</button>',
                nextArrow: '<button type="button" data-role="none" class="slick-next" aria-label="Next" tabindex="0" role="button">Next</button>',
                autoplay: !1,
                autoplaySpeed: 3e3,
                centerMode: !1,
                centerPadding: "50px",
                cssEase: "ease",
                customPaging: function (a, b) {
                    return '<button type="button" data-role="none" role="button" aria-required="false" tabindex="0">' + (b + 1) + "</button>"
                },
                dots: !1,
                dotsClass: "slick-dots",
                draggable: !0,
                easing: "linear",
                edgeFriction: .35,
                fade: !1,
                focusOnSelect: !1,
                infinite: !0,
                initialSlide: 0,
                lazyLoad: "ondemand",
                mobileFirst: !1,
                pauseOnHover: !0,
                pauseOnDotsHover: !1,
                respondTo: "window",
                responsive: null,
                rows: 1,
                rtl: !1,
                slide: "",
                slidesPerRow: 1,
                slidesToShow: 1,
                slidesToScroll: 1,
                speed: 500,
                swipe: !0,
                swipeToSlide: !1,
                touchMove: !0,
                touchThreshold: 5,
                useCSS: !0,
                useTransform: !1,
                variableWidth: !1,
                vertical: !1,
                verticalSwiping: !1,
                waitForAnimate: !0,
                zIndex: 1e3
            }, e.initials = {
                animating: !1,
                dragging: !1,
                autoPlayTimer: null,
                currentDirection: 0,
                currentLeft: null,
                currentSlide: 0,
                direction: 1,
                $dots: null,
                listWidth: null,
                listHeight: null,
                loadIndex: 0,
                $nextArrow: null,
                $prevArrow: null,
                slideCount: null,
                slideWidth: null,
                $slideTrack: null,
                $slides: null,
                sliding: !1,
                slideOffset: 0,
                swipeLeft: null,
                $list: null,
                touchObject: {},
                transformsEnabled: !1,
                unslicked: !1
            }, a.extend(e, e.initials), e.activeBreakpoint = null, e.animType = null, e.animProp = null, e.breakpoints = [], e.breakpointSettings = [], e.cssTransitions = !1, e.hidden = "hidden", e.paused = !1, e.positionProp = null, e.respondTo = null, e.rowCount = 1, e.shouldClick = !0, e.$slider = a(c), e.$slidesCache = null, e.transformType = null, e.transitionType = null, e.visibilityChange = "visibilitychange", e.windowWidth = 0, e.windowTimer = null, f = a(c).data("slick") || {}, e.options = a.extend({}, e.defaults, f, d), e.currentSlide = e.options.initialSlide, e.originalSettings = e.options, "undefined" != typeof document.mozHidden ? (e.hidden = "mozHidden", e.visibilityChange = "mozvisibilitychange") : "undefined" != typeof document.webkitHidden && (e.hidden = "webkitHidden", e.visibilityChange = "webkitvisibilitychange"), e.autoPlay = a.proxy(e.autoPlay, e), e.autoPlayClear = a.proxy(e.autoPlayClear, e), e.changeSlide = a.proxy(e.changeSlide, e), e.clickHandler = a.proxy(e.clickHandler, e), e.selectHandler = a.proxy(e.selectHandler, e), e.setPosition = a.proxy(e.setPosition, e), e.swipeHandler = a.proxy(e.swipeHandler, e), e.dragHandler = a.proxy(e.dragHandler, e), e.keyHandler = a.proxy(e.keyHandler, e), e.autoPlayIterator = a.proxy(e.autoPlayIterator, e), e.instanceUid = b++, e.htmlExpr = /^(?:\s*(<[\w\W]+>)[^>]*)$/, e.registerBreakpoints(), e.init(!0), e.checkResponsive(!0)
        }
        var b = 0;
        return c
    }(), b.prototype.addSlide = b.prototype.slickAdd = function (b, c, d) {
        var e = this;
        if ("boolean" == typeof c) d = c, c = null;
        else if (0 > c || c >= e.slideCount) return !1;
        e.unload(), "number" == typeof c ? 0 === c && 0 === e.$slides.length ? a(b).appendTo(e.$slideTrack) : d ? a(b).insertBefore(e.$slides.eq(c)) : a(b).insertAfter(e.$slides.eq(c)) : d === !0 ? a(b).prependTo(e.$slideTrack) : a(b).appendTo(e.$slideTrack), e.$slides = e.$slideTrack.children(this.options.slide), e.$slideTrack.children(this.options.slide).detach(), e.$slideTrack.append(e.$slides), e.$slides.each(function (b, c) {
            a(c).attr("data-slick-index", b)
        }), e.$slidesCache = e.$slides, e.reinit()
    }, b.prototype.animateHeight = function () {
        var a = this;
        if (1 === a.options.slidesToShow && a.options.adaptiveHeight === !0 && a.options.vertical === !1) {
            var b = a.$slides.eq(a.currentSlide).outerHeight(!0);
            a.$list.animate({
                height: b
            }, a.options.speed)
        }
    }, b.prototype.animateSlide = function (b, c) {
        var d = {},
            e = this;
        e.animateHeight(), e.options.rtl === !0 && e.options.vertical === !1 && (b = -b), e.transformsEnabled === !1 ? e.options.vertical === !1 ? e.$slideTrack.animate({
            left: b
        }, e.options.speed, e.options.easing, c) : e.$slideTrack.animate({
            top: b
        }, e.options.speed, e.options.easing, c) : e.cssTransitions === !1 ? (e.options.rtl === !0 && (e.currentLeft = -e.currentLeft), a({
            animStart: e.currentLeft
        }).animate({
            animStart: b
        }, {
            duration: e.options.speed,
            easing: e.options.easing,
            step: function (a) {
                a = Math.ceil(a), e.options.vertical === !1 ? (d[e.animType] = "translate(" + a + "px, 0px)", e.$slideTrack.css(d)) : (d[e.animType] = "translate(0px," + a + "px)", e.$slideTrack.css(d))
            },
            complete: function () {
                c && c.call()
            }
        })) : (e.applyTransition(), b = Math.ceil(b), e.options.vertical === !1 ? d[e.animType] = "translate3d(" + b + "px, 0px, 0px)" : d[e.animType] = "translate3d(0px," + b + "px, 0px)", e.$slideTrack.css(d), c && setTimeout(function () {
            e.disableTransition(), c.call()
        }, e.options.speed))
    }, b.prototype.asNavFor = function (b) {
        var c = this,
            d = c.options.asNavFor;
        d && null !== d && (d = a(d).not(c.$slider)), null !== d && "object" == typeof d && d.each(function () {
            var c = a(this).slick("getSlick");
            c.unslicked || c.slideHandler(b, !0)
        })
    }, b.prototype.applyTransition = function (a) {
        var b = this,
            c = {};
        b.options.fade === !1 ? c[b.transitionType] = b.transformType + " " + b.options.speed + "ms " + b.options.cssEase : c[b.transitionType] = "opacity " + b.options.speed + "ms " + b.options.cssEase, b.options.fade === !1 ? b.$slideTrack.css(c) : b.$slides.eq(a).css(c)
    }, b.prototype.autoPlay = function () {
        var a = this;
        a.autoPlayTimer && clearInterval(a.autoPlayTimer), a.slideCount > a.options.slidesToShow && a.paused !== !0 && (a.autoPlayTimer = setInterval(a.autoPlayIterator, a.options.autoplaySpeed))
    }, b.prototype.autoPlayClear = function () {
        var a = this;
        a.autoPlayTimer && clearInterval(a.autoPlayTimer)
    }, b.prototype.autoPlayIterator = function () {
        var a = this;
        a.options.infinite === !1 ? 1 === a.direction ? (a.currentSlide + 1 === a.slideCount - 1 && (a.direction = 0), a.slideHandler(a.currentSlide + a.options.slidesToScroll)) : (a.currentSlide - 1 === 0 && (a.direction = 1), a.slideHandler(a.currentSlide - a.options.slidesToScroll)) : a.slideHandler(a.currentSlide + a.options.slidesToScroll)
    }, b.prototype.buildArrows = function () {
        var b = this;
        b.options.arrows === !0 && (b.$prevArrow = a(b.options.prevArrow).addClass("slick-arrow"), b.$nextArrow = a(b.options.nextArrow).addClass("slick-arrow"), b.slideCount > b.options.slidesToShow ? (b.$prevArrow.removeClass("slick-hidden").removeAttr("aria-hidden tabindex"), b.$nextArrow.removeClass("slick-hidden").removeAttr("aria-hidden tabindex"), b.htmlExpr.test(b.options.prevArrow) && b.$prevArrow.prependTo(b.options.appendArrows), b.htmlExpr.test(b.options.nextArrow) && b.$nextArrow.appendTo(b.options.appendArrows), b.options.infinite !== !0 && b.$prevArrow.addClass("slick-disabled").attr("aria-disabled", "true")) : b.$prevArrow.add(b.$nextArrow).addClass("slick-hidden").attr({
            "aria-disabled": "true",
            tabindex: "-1"
        }))
    }, b.prototype.buildDots = function () {
        var c, d, b = this;
        if (b.options.dots === !0 && b.slideCount > b.options.slidesToShow) {
            for (d = '<ul class="' + b.options.dotsClass + '">', c = 0; c <= b.getDotCount(); c += 1) d += "<li>" + b.options.customPaging.call(this, b, c) + "</li>";
            d += "</ul>", b.$dots = a(d).appendTo(b.options.appendDots), b.$dots.find("li").first().addClass("slick-active").attr("aria-hidden", "false")
        }
    }, b.prototype.buildOut = function () {
        var b = this;
        b.$slides = b.$slider.children(b.options.slide + ":not(.slick-cloned)").addClass("slick-slide"), b.slideCount = b.$slides.length, b.$slides.each(function (b, c) {
            a(c).attr("data-slick-index", b).data("originalStyling", a(c).attr("style") || "")
        }), b.$slider.addClass("slick-slider"), b.$slideTrack = 0 === b.slideCount ? a('<div class="slick-track"/>').appendTo(b.$slider) : b.$slides.wrapAll('<div class="slick-track"/>').parent(), b.$list = b.$slideTrack.wrap('<div aria-live="polite" class="slick-list"/>').parent(), b.$slideTrack.css("opacity", 0), (b.options.centerMode === !0 || b.options.swipeToSlide === !0) && (b.options.slidesToScroll = 1), a("img[data-lazy]", b.$slider).not("[src]").addClass("slick-loading"), b.setupInfinite(), b.buildArrows(), b.buildDots(), b.updateDots(), b.setSlideClasses("number" == typeof b.currentSlide ? b.currentSlide : 0), b.options.draggable === !0 && b.$list.addClass("draggable")
    }, b.prototype.buildRows = function () {
        var b, c, d, e, f, g, h, a = this;
        if (e = document.createDocumentFragment(), g = a.$slider.children(), a.options.rows > 1) {
            for (h = a.options.slidesPerRow * a.options.rows, f = Math.ceil(g.length / h), b = 0; f > b; b++) {
                var i = document.createElement("div");
                for (c = 0; c < a.options.rows; c++) {
                    var j = document.createElement("div");
                    for (d = 0; d < a.options.slidesPerRow; d++) {
                        var k = b * h + (c * a.options.slidesPerRow + d);
                        g.get(k) && j.appendChild(g.get(k))
                    }
                    i.appendChild(j)
                }
                e.appendChild(i)
            }
            a.$slider.html(e), a.$slider.children().children().children().css({
                width: 100 / a.options.slidesPerRow + "%",
                display: "inline-block"
            })
        }
    }, b.prototype.checkResponsive = function (b, c) {
        var e, f, g, d = this,
            h = !1,
            i = d.$slider.width(),
            j = window.innerWidth || a(window).width();
        if ("window" === d.respondTo ? g = j : "slider" === d.respondTo ? g = i : "min" === d.respondTo && (g = Math.min(j, i)), d.options.responsive && d.options.responsive.length && null !== d.options.responsive) {
            f = null;
            for (e in d.breakpoints) d.breakpoints.hasOwnProperty(e) && (d.originalSettings.mobileFirst === !1 ? g < d.breakpoints[e] && (f = d.breakpoints[e]) : g > d.breakpoints[e] && (f = d.breakpoints[e]));
            null !== f ? null !== d.activeBreakpoint ? (f !== d.activeBreakpoint || c) && (d.activeBreakpoint = f, "unslick" === d.breakpointSettings[f] ? d.unslick(f) : (d.options = a.extend({}, d.originalSettings, d.breakpointSettings[f]), b === !0 && (d.currentSlide = d.options.initialSlide), d.refresh(b)), h = f) : (d.activeBreakpoint = f, "unslick" === d.breakpointSettings[f] ? d.unslick(f) : (d.options = a.extend({}, d.originalSettings, d.breakpointSettings[f]), b === !0 && (d.currentSlide = d.options.initialSlide), d.refresh(b)), h = f) : null !== d.activeBreakpoint && (d.activeBreakpoint = null, d.options = d.originalSettings, b === !0 && (d.currentSlide = d.options.initialSlide), d.refresh(b), h = f), b || h === !1 || d.$slider.trigger("breakpoint", [d, h])
        }
    }, b.prototype.changeSlide = function (b, c) {
        var f, g, h, d = this,
            e = a(b.target);
        switch (e.is("a") && b.preventDefault(), e.is("li") || (e = e.closest("li")), h = d.slideCount % d.options.slidesToScroll !== 0, f = h ? 0 : (d.slideCount - d.currentSlide) % d.options.slidesToScroll, b.data.message) {
            case "previous":
                g = 0 === f ? d.options.slidesToScroll : d.options.slidesToShow - f, d.slideCount > d.options.slidesToShow && d.slideHandler(d.currentSlide - g, !1, c);
                break;
            case "next":
                g = 0 === f ? d.options.slidesToScroll : f, d.slideCount > d.options.slidesToShow && d.slideHandler(d.currentSlide + g, !1, c);
                break;
            case "index":
                var i = 0 === b.data.index ? 0 : b.data.index || e.index() * d.options.slidesToScroll;
                d.slideHandler(d.checkNavigable(i), !1, c), e.children().trigger("focus");
                break;
            default:
                return
        }
    }, b.prototype.checkNavigable = function (a) {
        var c, d, b = this;
        if (c = b.getNavigableIndexes(), d = 0, a > c[c.length - 1]) a = c[c.length - 1];
        else
            for (var e in c) {
                if (a < c[e]) {
                    a = d;
                    break
                }
                d = c[e]
            }
        return a
    }, b.prototype.cleanUpEvents = function () {
        var b = this;
        b.options.dots && null !== b.$dots && (a("li", b.$dots).off("click.slick", b.changeSlide), b.options.pauseOnDotsHover === !0 && b.options.autoplay === !0 && a("li", b.$dots).off("mouseenter.slick", a.proxy(b.setPaused, b, !0)).off("mouseleave.slick", a.proxy(b.setPaused, b, !1))), b.options.arrows === !0 && b.slideCount > b.options.slidesToShow && (b.$prevArrow && b.$prevArrow.off("click.slick", b.changeSlide), b.$nextArrow && b.$nextArrow.off("click.slick", b.changeSlide)), b.$list.off("touchstart.slick mousedown.slick", b.swipeHandler), b.$list.off("touchmove.slick mousemove.slick", b.swipeHandler), b.$list.off("touchend.slick mouseup.slick", b.swipeHandler), b.$list.off("touchcancel.slick mouseleave.slick", b.swipeHandler), b.$list.off("click.slick", b.clickHandler), a(document).off(b.visibilityChange, b.visibility), b.$list.off("mouseenter.slick", a.proxy(b.setPaused, b, !0)), b.$list.off("mouseleave.slick", a.proxy(b.setPaused, b, !1)), b.options.accessibility === !0 && b.$list.off("keydown.slick", b.keyHandler), b.options.focusOnSelect === !0 && a(b.$slideTrack).children().off("click.slick", b.selectHandler), a(window).off("orientationchange.slick.slick-" + b.instanceUid, b.orientationChange), a(window).off("resize.slick.slick-" + b.instanceUid, b.resize), a("[draggable!=true]", b.$slideTrack).off("dragstart", b.preventDefault), a(window).off("load.slick.slick-" + b.instanceUid, b.setPosition), a(document).off("ready.slick.slick-" + b.instanceUid, b.setPosition)
    }, b.prototype.cleanUpRows = function () {
        var b, a = this;
        a.options.rows > 1 && (b = a.$slides.children().children(), b.removeAttr("style"), a.$slider.html(b))
    }, b.prototype.clickHandler = function (a) {
        var b = this;
        b.shouldClick === !1 && (a.stopImmediatePropagation(), a.stopPropagation(), a.preventDefault())
    }, b.prototype.destroy = function (b) {
        var c = this;
        c.autoPlayClear(), c.touchObject = {}, c.cleanUpEvents(), a(".slick-cloned", c.$slider).detach(), c.$dots && c.$dots.remove(), c.$prevArrow && c.$prevArrow.length && (c.$prevArrow.removeClass("slick-disabled slick-arrow slick-hidden").removeAttr("aria-hidden aria-disabled tabindex").css("display", ""), c.htmlExpr.test(c.options.prevArrow) && c.$prevArrow.remove()), c.$nextArrow && c.$nextArrow.length && (c.$nextArrow.removeClass("slick-disabled slick-arrow slick-hidden").removeAttr("aria-hidden aria-disabled tabindex").css("display", ""), c.htmlExpr.test(c.options.nextArrow) && c.$nextArrow.remove()), c.$slides && (c.$slides.removeClass("slick-slide slick-active slick-center slick-visible slick-current").removeAttr("aria-hidden").removeAttr("data-slick-index").each(function () {
            a(this).attr("style", a(this).data("originalStyling"))
        }), c.$slideTrack.children(this.options.slide).detach(), c.$slideTrack.detach(), c.$list.detach(), c.$slider.append(c.$slides)), c.cleanUpRows(), c.$slider.removeClass("slick-slider"), c.$slider.removeClass("slick-initialized"), c.unslicked = !0, b || c.$slider.trigger("destroy", [c])
    }, b.prototype.disableTransition = function (a) {
        var b = this,
            c = {};
        c[b.transitionType] = "", b.options.fade === !1 ? b.$slideTrack.css(c) : b.$slides.eq(a).css(c)
    }, b.prototype.fadeSlide = function (a, b) {
        var c = this;
        c.cssTransitions === !1 ? (c.$slides.eq(a).css({
            zIndex: c.options.zIndex
        }), c.$slides.eq(a).animate({
            opacity: 1
        }, c.options.speed, c.options.easing, b)) : (c.applyTransition(a), c.$slides.eq(a).css({
            opacity: 1,
            zIndex: c.options.zIndex
        }), b && setTimeout(function () {
            c.disableTransition(a), b.call()
        }, c.options.speed))
    }, b.prototype.fadeSlideOut = function (a) {
        var b = this;
        b.cssTransitions === !1 ? b.$slides.eq(a).animate({
            opacity: 0,
            zIndex: b.options.zIndex - 2
        }, b.options.speed, b.options.easing) : (b.applyTransition(a), b.$slides.eq(a).css({
            opacity: 0,
            zIndex: b.options.zIndex - 2
        }))
    }, b.prototype.filterSlides = b.prototype.slickFilter = function (a) {
        var b = this;
        null !== a && (b.$slidesCache = b.$slides, b.unload(), b.$slideTrack.children(this.options.slide).detach(), b.$slidesCache.filter(a).appendTo(b.$slideTrack), b.reinit())
    }, b.prototype.getCurrent = b.prototype.slickCurrentSlide = function () {
        var a = this;
        return a.currentSlide
    }, b.prototype.getDotCount = function () {
        var a = this,
            b = 0,
            c = 0,
            d = 0;
        if (a.options.infinite === !0)
            for (; b < a.slideCount;) ++d, b = c + a.options.slidesToScroll, c += a.options.slidesToScroll <= a.options.slidesToShow ? a.options.slidesToScroll : a.options.slidesToShow;
        else if (a.options.centerMode === !0) d = a.slideCount;
        else
            for (; b < a.slideCount;) ++d, b = c + a.options.slidesToScroll, c += a.options.slidesToScroll <= a.options.slidesToShow ? a.options.slidesToScroll : a.options.slidesToShow;
        return d - 1
    }, b.prototype.getLeft = function (a) {
        var c, d, f, b = this,
            e = 0;
        return b.slideOffset = 0, d = b.$slides.first().outerHeight(!0), b.options.infinite === !0 ? (b.slideCount > b.options.slidesToShow && (b.slideOffset = b.slideWidth * b.options.slidesToShow * -1, e = d * b.options.slidesToShow * -1), b.slideCount % b.options.slidesToScroll !== 0 && a + b.options.slidesToScroll > b.slideCount && b.slideCount > b.options.slidesToShow && (a > b.slideCount ? (b.slideOffset = (b.options.slidesToShow - (a - b.slideCount)) * b.slideWidth * -1, e = (b.options.slidesToShow - (a - b.slideCount)) * d * -1) : (b.slideOffset = b.slideCount % b.options.slidesToScroll * b.slideWidth * -1, e = b.slideCount % b.options.slidesToScroll * d * -1))) : a + b.options.slidesToShow > b.slideCount && (b.slideOffset = (a + b.options.slidesToShow - b.slideCount) * b.slideWidth, e = (a + b.options.slidesToShow - b.slideCount) * d), b.slideCount <= b.options.slidesToShow && (b.slideOffset = 0, e = 0), b.options.centerMode === !0 && b.options.infinite === !0 ? b.slideOffset += b.slideWidth * Math.floor(b.options.slidesToShow / 2) - b.slideWidth : b.options.centerMode === !0 && (b.slideOffset = 0, b.slideOffset += b.slideWidth * Math.floor(b.options.slidesToShow / 2)), c = b.options.vertical === !1 ? a * b.slideWidth * -1 + b.slideOffset : a * d * -1 + e, b.options.variableWidth === !0 && (f = b.slideCount <= b.options.slidesToShow || b.options.infinite === !1 ? b.$slideTrack.children(".slick-slide").eq(a) : b.$slideTrack.children(".slick-slide").eq(a + b.options.slidesToShow), c = b.options.rtl === !0 ? f[0] ? -1 * (b.$slideTrack.width() - f[0].offsetLeft - f.width()) : 0 : f[0] ? -1 * f[0].offsetLeft : 0, b.options.centerMode === !0 && (f = b.slideCount <= b.options.slidesToShow || b.options.infinite === !1 ? b.$slideTrack.children(".slick-slide").eq(a) : b.$slideTrack.children(".slick-slide").eq(a + b.options.slidesToShow + 1), c = b.options.rtl === !0 ? f[0] ? -1 * (b.$slideTrack.width() - f[0].offsetLeft - f.width()) : 0 : f[0] ? -1 * f[0].offsetLeft : 0, c += (b.$list.width() - f.outerWidth()) / 2)), c
    }, b.prototype.getOption = b.prototype.slickGetOption = function (a) {
        var b = this;
        return b.options[a]
    }, b.prototype.getNavigableIndexes = function () {
        var e, a = this,
            b = 0,
            c = 0,
            d = [];
        for (a.options.infinite === !1 ? e = a.slideCount : (b = -1 * a.options.slidesToScroll, c = -1 * a.options.slidesToScroll, e = 2 * a.slideCount); e > b;) d.push(b), b = c + a.options.slidesToScroll, c += a.options.slidesToScroll <= a.options.slidesToShow ? a.options.slidesToScroll : a.options.slidesToShow;
        return d
    }, b.prototype.getSlick = function () {
        return this
    }, b.prototype.getSlideCount = function () {
        var c, d, e, b = this;
        return e = b.options.centerMode === !0 ? b.slideWidth * Math.floor(b.options.slidesToShow / 2) : 0, b.options.swipeToSlide === !0 ? (b.$slideTrack.find(".slick-slide").each(function (c, f) {
            return f.offsetLeft - e + a(f).outerWidth() / 2 > -1 * b.swipeLeft ? (d = f, !1) : void 0
        }), c = Math.abs(a(d).attr("data-slick-index") - b.currentSlide) || 1) : b.options.slidesToScroll
    }, b.prototype.goTo = b.prototype.slickGoTo = function (a, b) {
        var c = this;
        c.changeSlide({
            data: {
                message: "index",
                index: parseInt(a)
            }
        }, b)
    }, b.prototype.init = function (b) {
        var c = this;
        a(c.$slider).hasClass("slick-initialized") || (a(c.$slider).addClass("slick-initialized"), c.buildRows(), c.buildOut(), c.setProps(), c.startLoad(), c.loadSlider(), c.initializeEvents(), c.updateArrows(), c.updateDots()), b && c.$slider.trigger("init", [c]), c.options.accessibility === !0 && c.initADA()
    }, b.prototype.initArrowEvents = function () {
        var a = this;
        a.options.arrows === !0 && a.slideCount > a.options.slidesToShow && (a.$prevArrow.on("click.slick", {
            message: "previous"
        }, a.changeSlide), a.$nextArrow.on("click.slick", {
            message: "next"
        }, a.changeSlide))
    }, b.prototype.initDotEvents = function () {
        var b = this;
        b.options.dots === !0 && b.slideCount > b.options.slidesToShow && a("li", b.$dots).on("click.slick", {
            message: "index"
        }, b.changeSlide), b.options.dots === !0 && b.options.pauseOnDotsHover === !0 && b.options.autoplay === !0 && a("li", b.$dots).on("mouseenter.slick", a.proxy(b.setPaused, b, !0)).on("mouseleave.slick", a.proxy(b.setPaused, b, !1))
    }, b.prototype.initializeEvents = function () {
        var b = this;
        b.initArrowEvents(), b.initDotEvents(), b.$list.on("touchstart.slick mousedown.slick", {
            action: "start"
        }, b.swipeHandler), b.$list.on("touchmove.slick mousemove.slick", {
            action: "move"
        }, b.swipeHandler), b.$list.on("touchend.slick mouseup.slick", {
            action: "end"
        }, b.swipeHandler), b.$list.on("touchcancel.slick mouseleave.slick", {
            action: "end"
        }, b.swipeHandler), b.$list.on("click.slick", b.clickHandler), a(document).on(b.visibilityChange, a.proxy(b.visibility, b)), b.$list.on("mouseenter.slick", a.proxy(b.setPaused, b, !0)), b.$list.on("mouseleave.slick", a.proxy(b.setPaused, b, !1)), b.options.accessibility === !0 && b.$list.on("keydown.slick", b.keyHandler), b.options.focusOnSelect === !0 && a(b.$slideTrack).children().on("click.slick", b.selectHandler), a(window).on("orientationchange.slick.slick-" + b.instanceUid, a.proxy(b.orientationChange, b)), a(window).on("resize.slick.slick-" + b.instanceUid, a.proxy(b.resize, b)), a("[draggable!=true]", b.$slideTrack).on("dragstart", b.preventDefault), a(window).on("load.slick.slick-" + b.instanceUid, b.setPosition), a(document).on("ready.slick.slick-" + b.instanceUid, b.setPosition)
    }, b.prototype.initUI = function () {
        var a = this;
        a.options.arrows === !0 && a.slideCount > a.options.slidesToShow && (a.$prevArrow.show(), a.$nextArrow.show()), a.options.dots === !0 && a.slideCount > a.options.slidesToShow && a.$dots.show(), a.options.autoplay === !0 && a.autoPlay()
    }, b.prototype.keyHandler = function (a) {
        var b = this;
        a.target.tagName.match("TEXTAREA|INPUT|SELECT") || (37 === a.keyCode && b.options.accessibility === !0 ? b.changeSlide({
            data: {
                message: "previous"
            }
        }) : 39 === a.keyCode && b.options.accessibility === !0 && b.changeSlide({
            data: {
                message: "next"
            }
        }))
    }, b.prototype.lazyLoad = function () {
        function g(b) {
            a("img[data-lazy]", b).each(function () {
                var b = a(this),
                    c = a(this).attr("data-lazy"),
                    d = document.createElement("img");
                d.onload = function () {
                    b.animate({
                        opacity: 0
                    }, 100, function () {
                        b.attr("src", c).animate({
                            opacity: 1
                        }, 200, function () {
                            b.removeAttr("data-lazy").removeClass("slick-loading")
                        })
                    })
                }, d.src = c
            })
        }
        var c, d, e, f, b = this;
        b.options.centerMode === !0 ? b.options.infinite === !0 ? (e = b.currentSlide + (b.options.slidesToShow / 2 + 1), f = e + b.options.slidesToShow + 2) : (e = Math.max(0, b.currentSlide - (b.options.slidesToShow / 2 + 1)), f = 2 + (b.options.slidesToShow / 2 + 1) + b.currentSlide) : (e = b.options.infinite ? b.options.slidesToShow + b.currentSlide : b.currentSlide, f = e + b.options.slidesToShow, b.options.fade === !0 && (e > 0 && e--, f <= b.slideCount && f++)), c = b.$slider.find(".slick-slide").slice(e, f), g(c), b.slideCount <= b.options.slidesToShow ? (d = b.$slider.find(".slick-slide"), g(d)) : b.currentSlide >= b.slideCount - b.options.slidesToShow ? (d = b.$slider.find(".slick-cloned").slice(0, b.options.slidesToShow), g(d)) : 0 === b.currentSlide && (d = b.$slider.find(".slick-cloned").slice(-1 * b.options.slidesToShow), g(d))
    }, b.prototype.loadSlider = function () {
        var a = this;
        a.setPosition(), a.$slideTrack.css({
            opacity: 1
        }), a.$slider.removeClass("slick-loading"), a.initUI(), "progressive" === a.options.lazyLoad && a.progressiveLazyLoad()
    }, b.prototype.next = b.prototype.slickNext = function () {
        var a = this;
        a.changeSlide({
            data: {
                message: "next"
            }
        })
    }, b.prototype.orientationChange = function () {
        var a = this;
        a.checkResponsive(), a.setPosition()
    }, b.prototype.pause = b.prototype.slickPause = function () {
        var a = this;
        a.autoPlayClear(), a.paused = !0
    }, b.prototype.play = b.prototype.slickPlay = function () {
        var a = this;
        a.paused = !1, a.autoPlay()
    }, b.prototype.postSlide = function (a) {
        var b = this;
        b.$slider.trigger("afterChange", [b, a]), b.animating = !1, b.setPosition(), b.swipeLeft = null, b.options.autoplay === !0 && b.paused === !1 && b.autoPlay(), b.options.accessibility === !0 && b.initADA()
    }, b.prototype.prev = b.prototype.slickPrev = function () {
        var a = this;
        a.changeSlide({
            data: {
                message: "previous"
            }
        })
    }, b.prototype.preventDefault = function (a) {
        a.preventDefault()
    }, b.prototype.progressiveLazyLoad = function () {
        var c, d, b = this;
        c = a("img[data-lazy]", b.$slider).length, c > 0 && (d = a("img[data-lazy]", b.$slider).first(), d.attr("src", null), d.attr("src", d.attr("data-lazy")).removeClass("slick-loading").load(function () {
            d.removeAttr("data-lazy"), b.progressiveLazyLoad(), b.options.adaptiveHeight === !0 && b.setPosition()
        }).error(function () {
            d.removeAttr("data-lazy"), b.progressiveLazyLoad()
        }))
    }, b.prototype.refresh = function (b) {
        var d, e, c = this;
        e = c.slideCount - c.options.slidesToShow, c.options.infinite || (c.slideCount <= c.options.slidesToShow ? c.currentSlide = 0 : c.currentSlide > e && (c.currentSlide = e)), d = c.currentSlide, c.destroy(!0), a.extend(c, c.initials, {
            currentSlide: d
        }), c.init(), b || c.changeSlide({
            data: {
                message: "index",
                index: d
            }
        }, !1)
    }, b.prototype.registerBreakpoints = function () {
        var c, d, e, b = this,
            f = b.options.responsive || null;
        if ("array" === a.type(f) && f.length) {
            b.respondTo = b.options.respondTo || "window";
            for (c in f)
                if (e = b.breakpoints.length - 1, d = f[c].breakpoint, f.hasOwnProperty(c)) {
                    for (; e >= 0;) b.breakpoints[e] && b.breakpoints[e] === d && b.breakpoints.splice(e, 1), e--;
                    b.breakpoints.push(d), b.breakpointSettings[d] = f[c].settings
                } b.breakpoints.sort(function (a, c) {
                return b.options.mobileFirst ? a - c : c - a
            })
        }
    }, b.prototype.reinit = function () {
        var b = this;
        b.$slides = b.$slideTrack.children(b.options.slide).addClass("slick-slide"), b.slideCount = b.$slides.length, b.currentSlide >= b.slideCount && 0 !== b.currentSlide && (b.currentSlide = b.currentSlide - b.options.slidesToScroll), b.slideCount <= b.options.slidesToShow && (b.currentSlide = 0), b.registerBreakpoints(), b.setProps(), b.setupInfinite(), b.buildArrows(), b.updateArrows(), b.initArrowEvents(), b.buildDots(), b.updateDots(), b.initDotEvents(), b.checkResponsive(!1, !0), b.options.focusOnSelect === !0 && a(b.$slideTrack).children().on("click.slick", b.selectHandler), b.setSlideClasses(0), b.setPosition(), b.$slider.trigger("reInit", [b]), b.options.autoplay === !0 && b.focusHandler()
    }, b.prototype.resize = function () {
        var b = this;
        a(window).width() !== b.windowWidth && (clearTimeout(b.windowDelay), b.windowDelay = window.setTimeout(function () {
            b.windowWidth = a(window).width(), b.checkResponsive(), b.unslicked || b.setPosition()
        }, 50))
    }, b.prototype.removeSlide = b.prototype.slickRemove = function (a, b, c) {
        var d = this;
        return "boolean" == typeof a ? (b = a, a = b === !0 ? 0 : d.slideCount - 1) : a = b === !0 ? --a : a, d.slideCount < 1 || 0 > a || a > d.slideCount - 1 ? !1 : (d.unload(), c === !0 ? d.$slideTrack.children().remove() : d.$slideTrack.children(this.options.slide).eq(a).remove(), d.$slides = d.$slideTrack.children(this.options.slide), d.$slideTrack.children(this.options.slide).detach(), d.$slideTrack.append(d.$slides), d.$slidesCache = d.$slides, void d.reinit())
    }, b.prototype.setCSS = function (a) {
        var d, e, b = this,
            c = {};
        b.options.rtl === !0 && (a = -a), d = "left" == b.positionProp ? Math.ceil(a) + "px" : "0px", e = "top" == b.positionProp ? Math.ceil(a) + "px" : "0px", c[b.positionProp] = a, b.transformsEnabled === !1 ? b.$slideTrack.css(c) : (c = {}, b.cssTransitions === !1 ? (c[b.animType] = "translate(" + d + ", " + e + ")", b.$slideTrack.css(c)) : (c[b.animType] = "translate3d(" + d + ", " + e + ", 0px)", b.$slideTrack.css(c)))
    }, b.prototype.setDimensions = function () {
        var a = this;
        a.options.vertical === !1 ? a.options.centerMode === !0 && a.$list.css({
            padding: "0px " + a.options.centerPadding
        }) : (a.$list.height(a.$slides.first().outerHeight(!0) * a.options.slidesToShow), a.options.centerMode === !0 && a.$list.css({
            padding: a.options.centerPadding + " 0px"
        })), a.listWidth = a.$list.width(), a.listHeight = a.$list.height(), a.options.vertical === !1 && a.options.variableWidth === !1 ? (a.slideWidth = Math.ceil(a.listWidth / a.options.slidesToShow), a.$slideTrack.width(Math.ceil(a.slideWidth * a.$slideTrack.children(".slick-slide").length))) : a.options.variableWidth === !0 ? a.$slideTrack.width(5e3 * a.slideCount) : (a.slideWidth = Math.ceil(a.listWidth), a.$slideTrack.height(Math.ceil(a.$slides.first().outerHeight(!0) * a.$slideTrack.children(".slick-slide").length)));
        var b = a.$slides.first().outerWidth(!0) - a.$slides.first().width();
        a.options.variableWidth === !1 && a.$slideTrack.children(".slick-slide").width(a.slideWidth - b)
    }, b.prototype.setFade = function () {
        var c, b = this;
        b.$slides.each(function (d, e) {
            c = b.slideWidth * d * -1, b.options.rtl === !0 ? a(e).css({
                position: "relative",
                right: c,
                top: 0,
                zIndex: b.options.zIndex - 2,
                opacity: 0
            }) : a(e).css({
                position: "relative",
                left: c,
                top: 0,
                zIndex: b.options.zIndex - 2,
                opacity: 0
            })
        }), b.$slides.eq(b.currentSlide).css({
            zIndex: b.options.zIndex - 1,
            opacity: 1
        })
    }, b.prototype.setHeight = function () {
        var a = this;
        if (1 === a.options.slidesToShow && a.options.adaptiveHeight === !0 && a.options.vertical === !1) {
            var b = a.$slides.eq(a.currentSlide).outerHeight(!0);
            a.$list.css("height", b)
        }
    }, b.prototype.setOption = b.prototype.slickSetOption = function (b, c, d) {
        var f, g, e = this;
        if ("responsive" === b && "array" === a.type(c))
            for (g in c)
                if ("array" !== a.type(e.options.responsive)) e.options.responsive = [c[g]];
                else {
                    for (f = e.options.responsive.length - 1; f >= 0;) e.options.responsive[f].breakpoint === c[g].breakpoint && e.options.responsive.splice(f, 1), f--;
                    e.options.responsive.push(c[g])
                }
        else e.options[b] = c;
        d === !0 && (e.unload(), e.reinit())
    }, b.prototype.setPosition = function () {
        var a = this;
        a.setDimensions(), a.setHeight(), a.options.fade === !1 ? a.setCSS(a.getLeft(a.currentSlide)) : a.setFade(), a.$slider.trigger("setPosition", [a])
    }, b.prototype.setProps = function () {
        var a = this,
            b = document.body.style;
        a.positionProp = a.options.vertical === !0 ? "top" : "left", "top" === a.positionProp ? a.$slider.addClass("slick-vertical") : a.$slider.removeClass("slick-vertical"), (void 0 !== b.WebkitTransition || void 0 !== b.MozTransition || void 0 !== b.msTransition) && a.options.useCSS === !0 && (a.cssTransitions = !0), a.options.fade && ("number" == typeof a.options.zIndex ? a.options.zIndex < 3 && (a.options.zIndex = 3) : a.options.zIndex = a.defaults.zIndex), void 0 !== b.OTransform && (a.animType = "OTransform", a.transformType = "-o-transform", a.transitionType = "OTransition", void 0 === b.perspectiveProperty && void 0 === b.webkitPerspective && (a.animType = !1)), void 0 !== b.MozTransform && (a.animType = "MozTransform", a.transformType = "-moz-transform", a.transitionType = "MozTransition", void 0 === b.perspectiveProperty && void 0 === b.MozPerspective && (a.animType = !1)), void 0 !== b.webkitTransform && (a.animType = "webkitTransform", a.transformType = "-webkit-transform", a.transitionType = "webkitTransition", void 0 === b.perspectiveProperty && void 0 === b.webkitPerspective && (a.animType = !1)), void 0 !== b.msTransform && (a.animType = "msTransform", a.transformType = "-ms-transform", a.transitionType = "msTransition", void 0 === b.msTransform && (a.animType = !1)), void 0 !== b.transform && a.animType !== !1 && (a.animType = "transform", a.transformType = "transform", a.transitionType = "transition"), a.transformsEnabled = a.options.useTransform && null !== a.animType && a.animType !== !1
    }, b.prototype.setSlideClasses = function (a) {
        var c, d, e, f, b = this;
        d = b.$slider.find(".slick-slide").removeClass("slick-active slick-center slick-current").attr("aria-hidden", "true"), b.$slides.eq(a).addClass("slick-current"), b.options.centerMode === !0 ? (c = Math.floor(b.options.slidesToShow / 2), b.options.infinite === !0 && (a >= c && a <= b.slideCount - 1 - c ? b.$slides.slice(a - c, a + c + 1).addClass("slick-active").attr("aria-hidden", "false") : (e = b.options.slidesToShow + a, d.slice(e - c + 1, e + c + 2).addClass("slick-active").attr("aria-hidden", "false")), 0 === a ? d.eq(d.length - 1 - b.options.slidesToShow).addClass("slick-center") : a === b.slideCount - 1 && d.eq(b.options.slidesToShow).addClass("slick-center")), b.$slides.eq(a).addClass("slick-center")) : a >= 0 && a <= b.slideCount - b.options.slidesToShow ? b.$slides.slice(a, a + b.options.slidesToShow).addClass("slick-active").attr("aria-hidden", "false") : d.length <= b.options.slidesToShow ? d.addClass("slick-active").attr("aria-hidden", "false") : (f = b.slideCount % b.options.slidesToShow, e = b.options.infinite === !0 ? b.options.slidesToShow + a : a, b.options.slidesToShow == b.options.slidesToScroll && b.slideCount - a < b.options.slidesToShow ? d.slice(e - (b.options.slidesToShow - f), e + f).addClass("slick-active").attr("aria-hidden", "false") : d.slice(e, e + b.options.slidesToShow).addClass("slick-active").attr("aria-hidden", "false")), "ondemand" === b.options.lazyLoad && b.lazyLoad()
    }, b.prototype.setupInfinite = function () {
        var c, d, e, b = this;
        if (b.options.fade === !0 && (b.options.centerMode = !1), b.options.infinite === !0 && b.options.fade === !1 && (d = null, b.slideCount > b.options.slidesToShow)) {
            for (e = b.options.centerMode === !0 ? b.options.slidesToShow + 1 : b.options.slidesToShow, c = b.slideCount; c > b.slideCount - e; c -= 1) d = c - 1, a(b.$slides[d]).clone(!0).attr("id", "").attr("data-slick-index", d - b.slideCount).prependTo(b.$slideTrack).addClass("slick-cloned");
            for (c = 0; e > c; c += 1) d = c, a(b.$slides[d]).clone(!0).attr("id", "").attr("data-slick-index", d + b.slideCount).appendTo(b.$slideTrack).addClass("slick-cloned");
            b.$slideTrack.find(".slick-cloned").find("[id]").each(function () {
                a(this).attr("id", "")
            })
        }
    }, b.prototype.setPaused = function (a) {
        var b = this;
        b.options.autoplay === !0 && b.options.pauseOnHover === !0 && (b.paused = a, a ? b.autoPlayClear() : b.autoPlay())
    }, b.prototype.selectHandler = function (b) {
        var c = this,
            d = a(b.target).is(".slick-slide") ? a(b.target) : a(b.target).parents(".slick-slide"),
            e = parseInt(d.attr("data-slick-index"));
        return e || (e = 0), c.slideCount <= c.options.slidesToShow ? (c.setSlideClasses(e), void c.asNavFor(e)) : void c.slideHandler(e)
    }, b.prototype.slideHandler = function (a, b, c) {
        var d, e, f, g, h = null,
            i = this;
        return b = b || !1, i.animating === !0 && i.options.waitForAnimate === !0 || i.options.fade === !0 && i.currentSlide === a || i.slideCount <= i.options.slidesToShow ? void 0 : (b === !1 && i.asNavFor(a), d = a, h = i.getLeft(d), g = i.getLeft(i.currentSlide), i.currentLeft = null === i.swipeLeft ? g : i.swipeLeft, i.options.infinite === !1 && i.options.centerMode === !1 && (0 > a || a > i.getDotCount() * i.options.slidesToScroll) ? void(i.options.fade === !1 && (d = i.currentSlide, c !== !0 ? i.animateSlide(g, function () {
            i.postSlide(d);
        }) : i.postSlide(d))) : i.options.infinite === !1 && i.options.centerMode === !0 && (0 > a || a > i.slideCount - i.options.slidesToScroll) ? void(i.options.fade === !1 && (d = i.currentSlide, c !== !0 ? i.animateSlide(g, function () {
            i.postSlide(d)
        }) : i.postSlide(d))) : (i.options.autoplay === !0 && clearInterval(i.autoPlayTimer), e = 0 > d ? i.slideCount % i.options.slidesToScroll !== 0 ? i.slideCount - i.slideCount % i.options.slidesToScroll : i.slideCount + d : d >= i.slideCount ? i.slideCount % i.options.slidesToScroll !== 0 ? 0 : d - i.slideCount : d, i.animating = !0, i.$slider.trigger("beforeChange", [i, i.currentSlide, e]), f = i.currentSlide, i.currentSlide = e, i.setSlideClasses(i.currentSlide), i.updateDots(), i.updateArrows(), i.options.fade === !0 ? (c !== !0 ? (i.fadeSlideOut(f), i.fadeSlide(e, function () {
            i.postSlide(e)
        })) : i.postSlide(e), void i.animateHeight()) : void(c !== !0 ? i.animateSlide(h, function () {
            i.postSlide(e)
        }) : i.postSlide(e))))
    }, b.prototype.startLoad = function () {
        var a = this;
        a.options.arrows === !0 && a.slideCount > a.options.slidesToShow && (a.$prevArrow.hide(), a.$nextArrow.hide()), a.options.dots === !0 && a.slideCount > a.options.slidesToShow && a.$dots.hide(), a.$slider.addClass("slick-loading")
    }, b.prototype.swipeDirection = function () {
        var a, b, c, d, e = this;
        return a = e.touchObject.startX - e.touchObject.curX, b = e.touchObject.startY - e.touchObject.curY, c = Math.atan2(b, a), d = Math.round(180 * c / Math.PI), 0 > d && (d = 360 - Math.abs(d)), 45 >= d && d >= 0 ? e.options.rtl === !1 ? "left" : "right" : 360 >= d && d >= 315 ? e.options.rtl === !1 ? "left" : "right" : d >= 135 && 225 >= d ? e.options.rtl === !1 ? "right" : "left" : e.options.verticalSwiping === !0 ? d >= 35 && 135 >= d ? "left" : "right" : "vertical"
    }, b.prototype.swipeEnd = function (a) {
        var c, b = this;
        if (b.dragging = !1, b.shouldClick = b.touchObject.swipeLength > 10 ? !1 : !0, void 0 === b.touchObject.curX) return !1;
        if (b.touchObject.edgeHit === !0 && b.$slider.trigger("edge", [b, b.swipeDirection()]), b.touchObject.swipeLength >= b.touchObject.minSwipe) switch (b.swipeDirection()) {
            case "left":
                c = b.options.swipeToSlide ? b.checkNavigable(b.currentSlide + b.getSlideCount()) : b.currentSlide + b.getSlideCount(), b.slideHandler(c), b.currentDirection = 0, b.touchObject = {}, b.$slider.trigger("swipe", [b, "left"]);
                break;
            case "right":
                c = b.options.swipeToSlide ? b.checkNavigable(b.currentSlide - b.getSlideCount()) : b.currentSlide - b.getSlideCount(), b.slideHandler(c), b.currentDirection = 1, b.touchObject = {}, b.$slider.trigger("swipe", [b, "right"])
        } else b.touchObject.startX !== b.touchObject.curX && (b.slideHandler(b.currentSlide), b.touchObject = {})
    }, b.prototype.swipeHandler = function (a) {
        var b = this;
        if (!(b.options.swipe === !1 || "ontouchend" in document && b.options.swipe === !1 || b.options.draggable === !1 && -1 !== a.type.indexOf("mouse"))) switch (b.touchObject.fingerCount = a.originalEvent && void 0 !== a.originalEvent.touches ? a.originalEvent.touches.length : 1, b.touchObject.minSwipe = b.listWidth / b.options.touchThreshold, b.options.verticalSwiping === !0 && (b.touchObject.minSwipe = b.listHeight / b.options.touchThreshold), a.data.action) {
            case "start":
                b.swipeStart(a);
                break;
            case "move":
                b.swipeMove(a);
                break;
            case "end":
                b.swipeEnd(a)
        }
    }, b.prototype.swipeMove = function (a) {
        var d, e, f, g, h, b = this;
        return h = void 0 !== a.originalEvent ? a.originalEvent.touches : null, !b.dragging || h && 1 !== h.length ? !1 : (d = b.getLeft(b.currentSlide), b.touchObject.curX = void 0 !== h ? h[0].pageX : a.clientX, b.touchObject.curY = void 0 !== h ? h[0].pageY : a.clientY, b.touchObject.swipeLength = Math.round(Math.sqrt(Math.pow(b.touchObject.curX - b.touchObject.startX, 2))), b.options.verticalSwiping === !0 && (b.touchObject.swipeLength = Math.round(Math.sqrt(Math.pow(b.touchObject.curY - b.touchObject.startY, 2)))), e = b.swipeDirection(), "vertical" !== e ? (void 0 !== a.originalEvent && b.touchObject.swipeLength > 4 && a.preventDefault(), g = (b.options.rtl === !1 ? 1 : -1) * (b.touchObject.curX > b.touchObject.startX ? 1 : -1), b.options.verticalSwiping === !0 && (g = b.touchObject.curY > b.touchObject.startY ? 1 : -1), f = b.touchObject.swipeLength, b.touchObject.edgeHit = !1, b.options.infinite === !1 && (0 === b.currentSlide && "right" === e || b.currentSlide >= b.getDotCount() && "left" === e) && (f = b.touchObject.swipeLength * b.options.edgeFriction, b.touchObject.edgeHit = !0), b.options.vertical === !1 ? b.swipeLeft = d + f * g : b.swipeLeft = d + f * (b.$list.height() / b.listWidth) * g, b.options.verticalSwiping === !0 && (b.swipeLeft = d + f * g), b.options.fade === !0 || b.options.touchMove === !1 ? !1 : b.animating === !0 ? (b.swipeLeft = null, !1) : void b.setCSS(b.swipeLeft)) : void 0)
    }, b.prototype.swipeStart = function (a) {
        var c, b = this;
        return 1 !== b.touchObject.fingerCount || b.slideCount <= b.options.slidesToShow ? (b.touchObject = {}, !1) : (void 0 !== a.originalEvent && void 0 !== a.originalEvent.touches && (c = a.originalEvent.touches[0]), b.touchObject.startX = b.touchObject.curX = void 0 !== c ? c.pageX : a.clientX, b.touchObject.startY = b.touchObject.curY = void 0 !== c ? c.pageY : a.clientY, void(b.dragging = !0))
    }, b.prototype.unfilterSlides = b.prototype.slickUnfilter = function () {
        var a = this;
        null !== a.$slidesCache && (a.unload(), a.$slideTrack.children(this.options.slide).detach(), a.$slidesCache.appendTo(a.$slideTrack), a.reinit())
    }, b.prototype.unload = function () {
        var b = this;
        a(".slick-cloned", b.$slider).remove(), b.$dots && b.$dots.remove(), b.$prevArrow && b.htmlExpr.test(b.options.prevArrow) && b.$prevArrow.remove(), b.$nextArrow && b.htmlExpr.test(b.options.nextArrow) && b.$nextArrow.remove(), b.$slides.removeClass("slick-slide slick-active slick-visible slick-current").attr("aria-hidden", "true").css("width", "")
    }, b.prototype.unslick = function (a) {
        var b = this;
        b.$slider.trigger("unslick", [b, a]), b.destroy()
    }, b.prototype.updateArrows = function () {
        var b, a = this;
        b = Math.floor(a.options.slidesToShow / 2), a.options.arrows === !0 && a.slideCount > a.options.slidesToShow && !a.options.infinite && (a.$prevArrow.removeClass("slick-disabled").attr("aria-disabled", "false"), a.$nextArrow.removeClass("slick-disabled").attr("aria-disabled", "false"), 0 === a.currentSlide ? (a.$prevArrow.addClass("slick-disabled").attr("aria-disabled", "true"), a.$nextArrow.removeClass("slick-disabled").attr("aria-disabled", "false")) : a.currentSlide >= a.slideCount - a.options.slidesToShow && a.options.centerMode === !1 ? (a.$nextArrow.addClass("slick-disabled").attr("aria-disabled", "true"), a.$prevArrow.removeClass("slick-disabled").attr("aria-disabled", "false")) : a.currentSlide >= a.slideCount - 1 && a.options.centerMode === !0 && (a.$nextArrow.addClass("slick-disabled").attr("aria-disabled", "true"), a.$prevArrow.removeClass("slick-disabled").attr("aria-disabled", "false")))
    }, b.prototype.updateDots = function () {
        var a = this;
        null !== a.$dots && (a.$dots.find("li").removeClass("slick-active").attr("aria-hidden", "true"), a.$dots.find("li").eq(Math.floor(a.currentSlide / a.options.slidesToScroll)).addClass("slick-active").attr("aria-hidden", "false"))
    }, b.prototype.visibility = function () {
        var a = this;
        document[a.hidden] ? (a.paused = !0, a.autoPlayClear()) : a.options.autoplay === !0 && (a.paused = !1, a.autoPlay())
    }, b.prototype.initADA = function () {
        var b = this;
        b.$slides.add(b.$slideTrack.find(".slick-cloned")).attr({
            "aria-hidden": "true",
            tabindex: "-1"
        }).find("a, input, button, select").attr({
            tabindex: "-1"
        }), b.$slideTrack.attr("role", "listbox"), b.$slides.not(b.$slideTrack.find(".slick-cloned")).each(function (c) {
            a(this).attr({
                role: "option",
                "aria-describedby": "slick-slide" + b.instanceUid + c
            })
        }), null !== b.$dots && b.$dots.attr("role", "tablist").find("li").each(function (c) {
            a(this).attr({
                role: "presentation",
                "aria-selected": "false",
                "aria-controls": "navigation" + b.instanceUid + c,
                id: "slick-slide" + b.instanceUid + c
            })
        }).first().attr("aria-selected", "true").end().find("button").attr("role", "button").end().closest("div").attr("role", "toolbar"), b.activateADA()
    }, b.prototype.activateADA = function () {
        var a = this;
        a.$slideTrack.find(".slick-active").attr({
            "aria-hidden": "false"
        }).find("a, input, button, select").attr({
            tabindex: "0"
        })
    }, b.prototype.focusHandler = function () {
        var b = this;
        b.$slider.on("focus.slick blur.slick", "*", function (c) {
            c.stopImmediatePropagation();
            var d = a(this);
            setTimeout(function () {
                b.isPlay && (d.is(":focus") ? (b.autoPlayClear(), b.paused = !0) : (b.paused = !1, b.autoPlay()))
            }, 0)
        })
    }, a.fn.slick = function () {
        var f, g, a = this,
            c = arguments[0],
            d = Array.prototype.slice.call(arguments, 1),
            e = a.length;
        for (f = 0; e > f; f++)
            if ("object" == typeof c || "undefined" == typeof c ? a[f].slick = new b(a[f], c) : g = a[f].slick[c].apply(a[f].slick, d), "undefined" != typeof g) return g;
        return a
    }
});



(function ($) {
    $.fn.filetree = function (method) {

        var settings = { // settings to expose
            animationSpeed: 'fast',
            collapsed: true,
            console: false
        }
        var methods = {
            init: function (options) {
                // Get standard settings and merge with passed in values
                var options = $.extend(settings, options);
                // Do this for every file tree found in the document
                return this.each(function () {

                    var $fileList = $(this);

                    $fileList
                        .addClass('file-list')
                        .find('li')
                        .has('ul') // Any li that has a list inside is a folder root
                        .addClass('folder-root closed')
                        .on('click', 'a[href="#"]', function (e) { // Add a click override for the folder root links
                            e.preventDefault();
                            $(this).parent().toggleClass('closed').toggleClass('open');


                            return false;
                        });

                    //alert(options.animationSpeed); Are the settings coming in

                });


            }
        }




        if (typeof method === 'object' || !method) {
            return methods.init.apply(this, arguments);
        } else {
            $.on("error", function () {
                console.log(method + " does not exist in the file exploerer plugin");
            });
        }
    }

}(jQuery));


/* Accordion */
(
    function ($) {
        $.fn.accordion = function (options) {
            return this.each(function () {
                var settings = $.extend({
                    firstChildExpand: true,
                    multiExpand: false,
                    slideSpeed: 500,
                    dropDownIcon: '&#9660'
                }, options);

                $(this).children(".gnb_unit").each(
                    function () {
                        $(this).next('.gnb_unit_open').andSelf().wrapAll("<div class='accordion-item'></div>");
                    }
                );
                $(this).children().children('div').addClass("accordion-content");
                $(this).find(".gnb_unit").wrap("<div class='accordion-header'></div>");
                //$(this).find(".gnb_unit").after("<div class='accordion-header-icon'>"+settings.dropDownIcon+"</div>");
                $(this).children('.accordion-item').wrap('<div class="drawer"></div>');
                if (settings.firstChildExpand == true) {
                    $(this).find(".accordion-header:first").toggleClass("accordion-header-active");
                    $(this).find(".accordion-header:first").parent().toggleClass("accordion-item-active");
                    $(this).find(".accordion-header:first").next().slideToggle(0);
                    $(this).find(".accordion-header:first").children(".accordion-header-icon").toggleClass("accordion-header-icon-active");
                }
                $(this).find(".accordion-header").click(
                    function () {
                        if (settings.multiExpand == false) {
                            if (!$(this).hasClass('accordion-header-active')) {
                                $(this).parent().parent().parent().find(".accordion-header-active").removeClass('accordion-header-active');
                                $(this).parent().parent().parent().find(".accordion-item-active").children(".accordion-content").slideUp(settings.slideSpeed);
                                $(this).parent().parent().parent().find(".accordion-header-icon-active").removeClass("accordion-header-icon-active");
                                $(this).parent().parent().parent().find(".accordion-item-active").removeClass("accordion-item-active");
                            }
                        }
                        $(this).toggleClass("accordion-header-active");
                        $(this).parent().toggleClass("accordion-item-active");
                        $(this).next().slideToggle(settings.slideSpeed);
                        $(this).children(".accordion-header-icon").toggleClass("accordion-header-icon-active");
                    }
                );
            });
        }
        $.fn.openSection = function (index) {
            $(".accordion").find(".accordion-header").filter(function (indexx) {
                return indexx == index;
            }).click();
        }
    }
    (jQuery));


/* == malihu jquery custom scrollbar plugin == Version: 3.1.5, License: MIT License (MIT) */
! function (e) {
    "function" == typeof define && define.amd ? define(["jquery"], e) : "undefined" != typeof module && module.exports ? module.exports = e : e(jQuery, window, document)
}(function (e) {
    ! function (t) {
        var o = "function" == typeof define && define.amd,
            a = "undefined" != typeof module && module.exports,
            n = "https:" == document.location.protocol ? "https:" : "http:",
            i = "cdnjs.cloudflare.com/ajax/libs/jquery-mousewheel/3.1.13/jquery.mousewheel.min.js";
        o || (a ? require("jquery-mousewheel")(e) : e.event.special.mousewheel || e("head").append(decodeURI("%3Cscript src=" + n + "//" + i + "%3E%3C/script%3E"))), t()
    }(function () {
        var t, o = "mCustomScrollbar",
            a = "mCS",
            n = ".mCustomScrollbar",
            i = {
                setTop: 0,
                setLeft: 0,
                axis: "y",
                scrollbarPosition: "inside",
                scrollInertia: 950,
                autoDraggerLength: !0,
                alwaysShowScrollbar: 0,
                snapOffset: 0,
                mouseWheel: {
                    enable: !0,
                    scrollAmount: "auto",
                    axis: "y",
                    deltaFactor: "auto",
                    disableOver: ["select", "option", "keygen", "datalist", "textarea"]
                },
                scrollButtons: {
                    scrollType: "stepless",
                    scrollAmount: "auto"
                },
                keyboard: {
                    enable: !0,
                    scrollType: "stepless",
                    scrollAmount: "auto"
                },
                contentTouchScroll: 25,
                documentTouchScroll: !0,
                advanced: {
                    autoScrollOnFocus: "input,textarea,select,button,datalist,keygen,a[tabindex],area,object,[contenteditable='true']",
                    updateOnContentResize: !0,
                    updateOnImageLoad: "auto",
                    autoUpdateTimeout: 60
                },
                theme: "light",
                callbacks: {
                    onTotalScrollOffset: 0,
                    onTotalScrollBackOffset: 0,
                    alwaysTriggerOffsets: !0
                }
            },
            r = 0,
            l = {},
            s = window.attachEvent && !window.addEventListener ? 1 : 0,
            c = !1,
            d = ["mCSB_dragger_onDrag", "mCSB_scrollTools_onDrag", "mCS_img_loaded", "mCS_disabled", "mCS_destroyed", "mCS_no_scrollbar", "mCS-autoHide", "mCS-dir-rtl", "mCS_no_scrollbar_y", "mCS_no_scrollbar_x", "mCS_y_hidden", "mCS_x_hidden", "mCSB_draggerContainer", "mCSB_buttonUp", "mCSB_buttonDown", "mCSB_buttonLeft", "mCSB_buttonRight"],
            u = {
                init: function (t) {
                    var t = e.extend(!0, {}, i, t),
                        o = f.call(this);
                    if (t.live) {
                        var s = t.liveSelector || this.selector || n,
                            c = e(s);
                        if ("off" === t.live) return void m(s);
                        l[s] = setTimeout(function () {
                            c.mCustomScrollbar(t), "once" === t.live && c.length && m(s)
                        }, 500)
                    } else m(s);
                    return t.setWidth = t.set_width ? t.set_width : t.setWidth, t.setHeight = t.set_height ? t.set_height : t.setHeight, t.axis = t.horizontalScroll ? "x" : p(t.axis), t.scrollInertia = t.scrollInertia > 0 && t.scrollInertia < 17 ? 17 : t.scrollInertia, "object" != typeof t.mouseWheel && 1 == t.mouseWheel && (t.mouseWheel = {
                        enable: !0,
                        scrollAmount: "auto",
                        axis: "y",
                        preventDefault: !1,
                        deltaFactor: "auto",
                        normalizeDelta: !1,
                        invert: !1
                    }), t.mouseWheel.scrollAmount = t.mouseWheelPixels ? t.mouseWheelPixels : t.mouseWheel.scrollAmount, t.mouseWheel.normalizeDelta = t.advanced.normalizeMouseWheelDelta ? t.advanced.normalizeMouseWheelDelta : t.mouseWheel.normalizeDelta, t.scrollButtons.scrollType = g(t.scrollButtons.scrollType), h(t), e(o).each(function () {
                        var o = e(this);
                        if (!o.data(a)) {
                            o.data(a, {
                                idx: ++r,
                                opt: t,
                                scrollRatio: {
                                    y: null,
                                    x: null
                                },
                                overflowed: null,
                                contentReset: {
                                    y: null,
                                    x: null
                                },
                                bindEvents: !1,
                                tweenRunning: !1,
                                sequential: {},
                                langDir: o.css("direction"),
                                cbOffsets: null,
                                trigger: null,
                                poll: {
                                    size: {
                                        o: 0,
                                        n: 0
                                    },
                                    img: {
                                        o: 0,
                                        n: 0
                                    },
                                    change: {
                                        o: 0,
                                        n: 0
                                    }
                                }
                            });
                            var n = o.data(a),
                                i = n.opt,
                                l = o.data("mcs-axis"),
                                s = o.data("mcs-scrollbar-position"),
                                c = o.data("mcs-theme");
                            l && (i.axis = l), s && (i.scrollbarPosition = s), c && (i.theme = c, h(i)), v.call(this), n && i.callbacks.onCreate && "function" == typeof i.callbacks.onCreate && i.callbacks.onCreate.call(this), e("#mCSB_" + n.idx + "_container img:not(." + d[2] + ")").addClass(d[2]), u.update.call(null, o)
                        }
                    })
                },
                update: function (t, o) {
                    var n = t || f.call(this);
                    return e(n).each(function () {
                        var t = e(this);
                        if (t.data(a)) {
                            var n = t.data(a),
                                i = n.opt,
                                r = e("#mCSB_" + n.idx + "_container"),
                                l = e("#mCSB_" + n.idx),
                                s = [e("#mCSB_" + n.idx + "_dragger_vertical"), e("#mCSB_" + n.idx + "_dragger_horizontal")];
                            if (!r.length) return;
                            n.tweenRunning && Q(t), o && n && i.callbacks.onBeforeUpdate && "function" == typeof i.callbacks.onBeforeUpdate && i.callbacks.onBeforeUpdate.call(this), t.hasClass(d[3]) && t.removeClass(d[3]), t.hasClass(d[4]) && t.removeClass(d[4]), l.css("max-height", "none"), l.height() !== t.height() && l.css("max-height", t.height()), _.call(this), "y" === i.axis || i.advanced.autoExpandHorizontalScroll || r.css("width", x(r)), n.overflowed = y.call(this), M.call(this), i.autoDraggerLength && S.call(this), b.call(this), T.call(this);
                            var c = [Math.abs(r[0].offsetTop), Math.abs(r[0].offsetLeft)];
                            "x" !== i.axis && (n.overflowed[0] ? s[0].height() > s[0].parent().height() ? B.call(this) : (G(t, c[0].toString(), {
                                dir: "y",
                                dur: 0,
                                overwrite: "none"
                            }), n.contentReset.y = null) : (B.call(this), "y" === i.axis ? k.call(this) : "yx" === i.axis && n.overflowed[1] && G(t, c[1].toString(), {
                                dir: "x",
                                dur: 0,
                                overwrite: "none"
                            }))), "y" !== i.axis && (n.overflowed[1] ? s[1].width() > s[1].parent().width() ? B.call(this) : (G(t, c[1].toString(), {
                                dir: "x",
                                dur: 0,
                                overwrite: "none"
                            }), n.contentReset.x = null) : (B.call(this), "x" === i.axis ? k.call(this) : "yx" === i.axis && n.overflowed[0] && G(t, c[0].toString(), {
                                dir: "y",
                                dur: 0,
                                overwrite: "none"
                            }))), o && n && (2 === o && i.callbacks.onImageLoad && "function" == typeof i.callbacks.onImageLoad ? i.callbacks.onImageLoad.call(this) : 3 === o && i.callbacks.onSelectorChange && "function" == typeof i.callbacks.onSelectorChange ? i.callbacks.onSelectorChange.call(this) : i.callbacks.onUpdate && "function" == typeof i.callbacks.onUpdate && i.callbacks.onUpdate.call(this)), N.call(this)
                        }
                    })
                },
                scrollTo: function (t, o) {
                    if ("undefined" != typeof t && null != t) {
                        var n = f.call(this);
                        return e(n).each(function () {
                            var n = e(this);
                            if (n.data(a)) {
                                var i = n.data(a),
                                    r = i.opt,
                                    l = {
                                        trigger: "external",
                                        scrollInertia: r.scrollInertia,
                                        scrollEasing: "mcsEaseInOut",
                                        moveDragger: !1,
                                        timeout: 60,
                                        callbacks: !0,
                                        onStart: !0,
                                        onUpdate: !0,
                                        onComplete: !0
                                    },
                                    s = e.extend(!0, {}, l, o),
                                    c = Y.call(this, t),
                                    d = s.scrollInertia > 0 && s.scrollInertia < 17 ? 17 : s.scrollInertia;
                                c[0] = X.call(this, c[0], "y"), c[1] = X.call(this, c[1], "x"), s.moveDragger && (c[0] *= i.scrollRatio.y, c[1] *= i.scrollRatio.x), s.dur = ne() ? 0 : d, setTimeout(function () {
                                    null !== c[0] && "undefined" != typeof c[0] && "x" !== r.axis && i.overflowed[0] && (s.dir = "y", s.overwrite = "all", G(n, c[0].toString(), s)), null !== c[1] && "undefined" != typeof c[1] && "y" !== r.axis && i.overflowed[1] && (s.dir = "x", s.overwrite = "none", G(n, c[1].toString(), s))
                                }, s.timeout)
                            }
                        })
                    }
                },
                stop: function () {
                    var t = f.call(this);
                    return e(t).each(function () {
                        var t = e(this);
                        t.data(a) && Q(t)
                    })
                },
                disable: function (t) {
                    var o = f.call(this);
                    return e(o).each(function () {
                        var o = e(this);
                        if (o.data(a)) {
                            o.data(a);
                            N.call(this, "remove"), k.call(this), t && B.call(this), M.call(this, !0), o.addClass(d[3])
                        }
                    })
                },
                destroy: function () {
                    var t = f.call(this);
                    return e(t).each(function () {
                        var n = e(this);
                        if (n.data(a)) {
                            var i = n.data(a),
                                r = i.opt,
                                l = e("#mCSB_" + i.idx),
                                s = e("#mCSB_" + i.idx + "_container"),
                                c = e(".mCSB_" + i.idx + "_scrollbar");
                            r.live && m(r.liveSelector || e(t).selector), N.call(this, "remove"), k.call(this), B.call(this), n.removeData(a), $(this, "mcs"), c.remove(), s.find("img." + d[2]).removeClass(d[2]), l.replaceWith(s.contents()), n.removeClass(o + " _" + a + "_" + i.idx + " " + d[6] + " " + d[7] + " " + d[5] + " " + d[3]).addClass(d[4])
                        }
                    })
                }
            },
            f = function () {
                return "object" != typeof e(this) || e(this).length < 1 ? n : this
            },
            h = function (t) {
                var o = ["rounded", "rounded-dark", "rounded-dots", "rounded-dots-dark"],
                    a = ["rounded-dots", "rounded-dots-dark", "3d", "3d-dark", "3d-thick", "3d-thick-dark", "inset", "inset-dark", "inset-2", "inset-2-dark", "inset-3", "inset-3-dark"],
                    n = ["minimal", "minimal-dark"],
                    i = ["minimal", "minimal-dark"],
                    r = ["minimal", "minimal-dark"];
                t.autoDraggerLength = e.inArray(t.theme, o) > -1 ? !1 : t.autoDraggerLength, t.autoExpandScrollbar = e.inArray(t.theme, a) > -1 ? !1 : t.autoExpandScrollbar, t.scrollButtons.enable = e.inArray(t.theme, n) > -1 ? !1 : t.scrollButtons.enable, t.autoHideScrollbar = e.inArray(t.theme, i) > -1 ? !0 : t.autoHideScrollbar, t.scrollbarPosition = e.inArray(t.theme, r) > -1 ? "outside" : t.scrollbarPosition
            },
            m = function (e) {
                l[e] && (clearTimeout(l[e]), $(l, e))
            },
            p = function (e) {
                return "yx" === e || "xy" === e || "auto" === e ? "yx" : "x" === e || "horizontal" === e ? "x" : "y"
            },
            g = function (e) {
                return "stepped" === e || "pixels" === e || "step" === e || "click" === e ? "stepped" : "stepless"
            },
            v = function () {
                var t = e(this),
                    n = t.data(a),
                    i = n.opt,
                    r = i.autoExpandScrollbar ? " " + d[1] + "_expand" : "",
                    l = ["<div id='mCSB_" + n.idx + "_scrollbar_vertical' class='mCSB_scrollTools mCSB_" + n.idx + "_scrollbar mCS-" + i.theme + " mCSB_scrollTools_vertical" + r + "'><div class='" + d[12] + "'><div id='mCSB_" + n.idx + "_dragger_vertical' class='mCSB_dragger' style='position:absolute;'><div class='mCSB_dragger_bar' /></div><div class='mCSB_draggerRail' /></div></div>", "<div id='mCSB_" + n.idx + "_scrollbar_horizontal' class='mCSB_scrollTools mCSB_" + n.idx + "_scrollbar mCS-" + i.theme + " mCSB_scrollTools_horizontal" + r + "'><div class='" + d[12] + "'><div id='mCSB_" + n.idx + "_dragger_horizontal' class='mCSB_dragger' style='position:absolute;'><div class='mCSB_dragger_bar' /></div><div class='mCSB_draggerRail' /></div></div>"],
                    s = "yx" === i.axis ? "mCSB_vertical_horizontal" : "x" === i.axis ? "mCSB_horizontal" : "mCSB_vertical",
                    c = "yx" === i.axis ? l[0] + l[1] : "x" === i.axis ? l[1] : l[0],
                    u = "yx" === i.axis ? "<div id='mCSB_" + n.idx + "_container_wrapper' class='mCSB_container_wrapper' />" : "",
                    f = i.autoHideScrollbar ? " " + d[6] : "",
                    h = "x" !== i.axis && "rtl" === n.langDir ? " " + d[7] : "";
                i.setWidth && t.css("width", i.setWidth), i.setHeight && t.css("height", i.setHeight), i.setLeft = "y" !== i.axis && "rtl" === n.langDir ? "989999px" : i.setLeft, t.addClass(o + " _" + a + "_" + n.idx + f + h).wrapInner("<div id='mCSB_" + n.idx + "' class='mCustomScrollBox mCS-" + i.theme + " " + s + "'><div id='mCSB_" + n.idx + "_container' class='mCSB_container' style='position:relative; top:" + i.setTop + "; left:" + i.setLeft + ";' dir='" + n.langDir + "' /></div>");
                var m = e("#mCSB_" + n.idx),
                    p = e("#mCSB_" + n.idx + "_container");
                "y" === i.axis || i.advanced.autoExpandHorizontalScroll || p.css("width", x(p)), "outside" === i.scrollbarPosition ? ("static" === t.css("position") && t.css("position", "relative"), t.css("overflow", "visible"), m.addClass("mCSB_outside").after(c)) : (m.addClass("mCSB_inside").append(c), p.wrap(u)), w.call(this);
                var g = [e("#mCSB_" + n.idx + "_dragger_vertical"), e("#mCSB_" + n.idx + "_dragger_horizontal")];
                g[0].css("min-height", g[0].height()), g[1].css("min-width", g[1].width())
            },
            x = function (t) {
                var o = [t[0].scrollWidth, Math.max.apply(Math, t.children().map(function () {
                        return e(this).outerWidth(!0)
                    }).get())],
                    a = t.parent().width();
                return o[0] > a ? o[0] : o[1] > a ? o[1] : "100%"
            },
            _ = function () {
                var t = e(this),
                    o = t.data(a),
                    n = o.opt,
                    i = e("#mCSB_" + o.idx + "_container");
                if (n.advanced.autoExpandHorizontalScroll && "y" !== n.axis) {
                    i.css({
                        width: "auto",
                        "min-width": 0,
                        "overflow-x": "scroll"
                    });
                    var r = Math.ceil(i[0].scrollWidth);
                    3 === n.advanced.autoExpandHorizontalScroll || 2 !== n.advanced.autoExpandHorizontalScroll && r > i.parent().width() ? i.css({
                        width: r,
                        "min-width": "100%",
                        "overflow-x": "inherit"
                    }) : i.css({
                        "overflow-x": "inherit",
                        position: "absolute"
                    }).wrap("<div class='mCSB_h_wrapper' style='position:relative; left:0; width:999999px;' />").css({
                        width: Math.ceil(i[0].getBoundingClientRect().right + .4) - Math.floor(i[0].getBoundingClientRect().left),
                        "min-width": "100%",
                        position: "relative"
                    }).unwrap()
                }
            },
            w = function () {
                var t = e(this),
                    o = t.data(a),
                    n = o.opt,
                    i = e(".mCSB_" + o.idx + "_scrollbar:first"),
                    r = oe(n.scrollButtons.tabindex) ? "tabindex='" + n.scrollButtons.tabindex + "'" : "",
                    l = ["<a href='#' class='" + d[13] + "' " + r + " />", "<a href='#' class='" + d[14] + "' " + r + " />", "<a href='#' class='" + d[15] + "' " + r + " />", "<a href='#' class='" + d[16] + "' " + r + " />"],
                    s = ["x" === n.axis ? l[2] : l[0], "x" === n.axis ? l[3] : l[1], l[2], l[3]];
                n.scrollButtons.enable && i.prepend(s[0]).append(s[1]).next(".mCSB_scrollTools").prepend(s[2]).append(s[3])
            },
            S = function () {
                var t = e(this),
                    o = t.data(a),
                    n = e("#mCSB_" + o.idx),
                    i = e("#mCSB_" + o.idx + "_container"),
                    r = [e("#mCSB_" + o.idx + "_dragger_vertical"), e("#mCSB_" + o.idx + "_dragger_horizontal")],
                    l = [n.height() / i.outerHeight(!1), n.width() / i.outerWidth(!1)],
                    c = [parseInt(r[0].css("min-height")), Math.round(l[0] * r[0].parent().height()), parseInt(r[1].css("min-width")), Math.round(l[1] * r[1].parent().width())],
                    d = s && c[1] < c[0] ? c[0] : c[1],
                    u = s && c[3] < c[2] ? c[2] : c[3];
                r[0].css({
                    height: d,
                    "max-height": r[0].parent().height() - 10
                }).find(".mCSB_dragger_bar").css({
                    "line-height": c[0] + "px"
                }), r[1].css({
                    width: u,
                    "max-width": r[1].parent().width() - 10
                })
            },
            b = function () {
                var t = e(this),
                    o = t.data(a),
                    n = e("#mCSB_" + o.idx),
                    i = e("#mCSB_" + o.idx + "_container"),
                    r = [e("#mCSB_" + o.idx + "_dragger_vertical"), e("#mCSB_" + o.idx + "_dragger_horizontal")],
                    l = [i.outerHeight(!1) - n.height(), i.outerWidth(!1) - n.width()],
                    s = [l[0] / (r[0].parent().height() - r[0].height()), l[1] / (r[1].parent().width() - r[1].width())];
                o.scrollRatio = {
                    y: s[0],
                    x: s[1]
                }
            },
            C = function (e, t, o) {
                var a = o ? d[0] + "_expanded" : "",
                    n = e.closest(".mCSB_scrollTools");
                "active" === t ? (e.toggleClass(d[0] + " " + a), n.toggleClass(d[1]), e[0]._draggable = e[0]._draggable ? 0 : 1) : e[0]._draggable || ("hide" === t ? (e.removeClass(d[0]), n.removeClass(d[1])) : (e.addClass(d[0]), n.addClass(d[1])))
            },
            y = function () {
                var t = e(this),
                    o = t.data(a),
                    n = e("#mCSB_" + o.idx),
                    i = e("#mCSB_" + o.idx + "_container"),
                    r = null == o.overflowed ? i.height() : i.outerHeight(!1),
                    l = null == o.overflowed ? i.width() : i.outerWidth(!1),
                    s = i[0].scrollHeight,
                    c = i[0].scrollWidth;
                return s > r && (r = s), c > l && (l = c), [r > n.height(), l > n.width()]
            },
            B = function () {
                var t = e(this),
                    o = t.data(a),
                    n = o.opt,
                    i = e("#mCSB_" + o.idx),
                    r = e("#mCSB_" + o.idx + "_container"),
                    l = [e("#mCSB_" + o.idx + "_dragger_vertical"), e("#mCSB_" + o.idx + "_dragger_horizontal")];
                if (Q(t), ("x" !== n.axis && !o.overflowed[0] || "y" === n.axis && o.overflowed[0]) && (l[0].add(r).css("top", 0), G(t, "_resetY")), "y" !== n.axis && !o.overflowed[1] || "x" === n.axis && o.overflowed[1]) {
                    var s = dx = 0;
                    "rtl" === o.langDir && (s = i.width() - r.outerWidth(!1), dx = Math.abs(s / o.scrollRatio.x)), r.css("left", s), l[1].css("left", dx), G(t, "_resetX")
                }
            },
            T = function () {
                function t() {
                    r = setTimeout(function () {
                        e.event.special.mousewheel ? (clearTimeout(r), W.call(o[0])) : t()
                    }, 100)
                }
                var o = e(this),
                    n = o.data(a),
                    i = n.opt;
                if (!n.bindEvents) {
                    if (I.call(this), i.contentTouchScroll && D.call(this), E.call(this), i.mouseWheel.enable) {
                        var r;
                        t()
                    }
                    P.call(this), U.call(this), i.advanced.autoScrollOnFocus && H.call(this), i.scrollButtons.enable && F.call(this), i.keyboard.enable && q.call(this), n.bindEvents = !0
                }
            },
            k = function () {
                var t = e(this),
                    o = t.data(a),
                    n = o.opt,
                    i = a + "_" + o.idx,
                    r = ".mCSB_" + o.idx + "_scrollbar",
                    l = e("#mCSB_" + o.idx + ",#mCSB_" + o.idx + "_container,#mCSB_" + o.idx + "_container_wrapper," + r + " ." + d[12] + ",#mCSB_" + o.idx + "_dragger_vertical,#mCSB_" + o.idx + "_dragger_horizontal," + r + ">a"),
                    s = e("#mCSB_" + o.idx + "_container");
                n.advanced.releaseDraggableSelectors && l.add(e(n.advanced.releaseDraggableSelectors)), n.advanced.extraDraggableSelectors && l.add(e(n.advanced.extraDraggableSelectors)), o.bindEvents && (e(document).add(e(!A() || top.document)).unbind("." + i), l.each(function () {
                    e(this).unbind("." + i)
                }), clearTimeout(t[0]._focusTimeout), $(t[0], "_focusTimeout"), clearTimeout(o.sequential.step), $(o.sequential, "step"), clearTimeout(s[0].onCompleteTimeout), $(s[0], "onCompleteTimeout"), o.bindEvents = !1)
            },
            M = function (t) {
                var o = e(this),
                    n = o.data(a),
                    i = n.opt,
                    r = e("#mCSB_" + n.idx + "_container_wrapper"),
                    l = r.length ? r : e("#mCSB_" + n.idx + "_container"),
                    s = [e("#mCSB_" + n.idx + "_scrollbar_vertical"), e("#mCSB_" + n.idx + "_scrollbar_horizontal")],
                    c = [s[0].find(".mCSB_dragger"), s[1].find(".mCSB_dragger")];
                "x" !== i.axis && (n.overflowed[0] && !t ? (s[0].add(c[0]).add(s[0].children("a")).css("display", "block"), l.removeClass(d[8] + " " + d[10])) : (i.alwaysShowScrollbar ? (2 !== i.alwaysShowScrollbar && c[0].css("display", "none"), l.removeClass(d[10])) : (s[0].css("display", "none"), l.addClass(d[10])), l.addClass(d[8]))), "y" !== i.axis && (n.overflowed[1] && !t ? (s[1].add(c[1]).add(s[1].children("a")).css("display", "block"), l.removeClass(d[9] + " " + d[11])) : (i.alwaysShowScrollbar ? (2 !== i.alwaysShowScrollbar && c[1].css("display", "none"), l.removeClass(d[11])) : (s[1].css("display", "none"), l.addClass(d[11])), l.addClass(d[9]))), n.overflowed[0] || n.overflowed[1] ? o.removeClass(d[5]) : o.addClass(d[5])
            },
            O = function (t) {
                var o = t.type,
                    a = t.target.ownerDocument !== document && null !== frameElement ? [e(frameElement).offset().top, e(frameElement).offset().left] : null,
                    n = A() && t.target.ownerDocument !== top.document && null !== frameElement ? [e(t.view.frameElement).offset().top, e(t.view.frameElement).offset().left] : [0, 0];
                switch (o) {
                    case "pointerdown":
                    case "MSPointerDown":
                    case "pointermove":
                    case "MSPointerMove":
                    case "pointerup":
                    case "MSPointerUp":
                        return a ? [t.originalEvent.pageY - a[0] + n[0], t.originalEvent.pageX - a[1] + n[1], !1] : [t.originalEvent.pageY, t.originalEvent.pageX, !1];
                    case "touchstart":
                    case "touchmove":
                    case "touchend":
                        var i = t.originalEvent.touches[0] || t.originalEvent.changedTouches[0],
                            r = t.originalEvent.touches.length || t.originalEvent.changedTouches.length;
                        return t.target.ownerDocument !== document ? [i.screenY, i.screenX, r > 1] : [i.pageY, i.pageX, r > 1];
                    default:
                        return a ? [t.pageY - a[0] + n[0], t.pageX - a[1] + n[1], !1] : [t.pageY, t.pageX, !1]
                }
            },
            I = function () {
                function t(e, t, a, n) {
                    if (h[0].idleTimer = d.scrollInertia < 233 ? 250 : 0, o.attr("id") === f[1]) var i = "x",
                        s = (o[0].offsetLeft - t + n) * l.scrollRatio.x;
                    else var i = "y",
                        s = (o[0].offsetTop - e + a) * l.scrollRatio.y;
                    G(r, s.toString(), {
                        dir: i,
                        drag: !0
                    })
                }
                var o, n, i, r = e(this),
                    l = r.data(a),
                    d = l.opt,
                    u = a + "_" + l.idx,
                    f = ["mCSB_" + l.idx + "_dragger_vertical", "mCSB_" + l.idx + "_dragger_horizontal"],
                    h = e("#mCSB_" + l.idx + "_container"),
                    m = e("#" + f[0] + ",#" + f[1]),
                    p = d.advanced.releaseDraggableSelectors ? m.add(e(d.advanced.releaseDraggableSelectors)) : m,
                    g = d.advanced.extraDraggableSelectors ? e(!A() || top.document).add(e(d.advanced.extraDraggableSelectors)) : e(!A() || top.document);
                m.bind("contextmenu." + u, function (e) {
                    e.preventDefault()
                }).bind("mousedown." + u + " touchstart." + u + " pointerdown." + u + " MSPointerDown." + u, function (t) {
                    if (t.stopImmediatePropagation(), t.preventDefault(), ee(t)) {
                        c = !0, s && (document.onselectstart = function () {
                            return !1
                        }), L.call(h, !1), Q(r), o = e(this);
                        var a = o.offset(),
                            l = O(t)[0] - a.top,
                            u = O(t)[1] - a.left,
                            f = o.height() + a.top,
                            m = o.width() + a.left;
                        f > l && l > 0 && m > u && u > 0 && (n = l, i = u), C(o, "active", d.autoExpandScrollbar)
                    }
                }).bind("touchmove." + u, function (e) {
                    e.stopImmediatePropagation(), e.preventDefault();
                    var a = o.offset(),
                        r = O(e)[0] - a.top,
                        l = O(e)[1] - a.left;
                    t(n, i, r, l)
                }), e(document).add(g).bind("mousemove." + u + " pointermove." + u + " MSPointerMove." + u, function (e) {
                    if (o) {
                        var a = o.offset(),
                            r = O(e)[0] - a.top,
                            l = O(e)[1] - a.left;
                        if (n === r && i === l) return;
                        t(n, i, r, l)
                    }
                }).add(p).bind("mouseup." + u + " touchend." + u + " pointerup." + u + " MSPointerUp." + u, function () {
                    o && (C(o, "active", d.autoExpandScrollbar), o = null), c = !1, s && (document.onselectstart = null), L.call(h, !0)
                })
            },
            D = function () {
                function o(e) {
                    if (!te(e) || c || O(e)[2]) return void(t = 0);
                    t = 1, b = 0, C = 0, d = 1, y.removeClass("mCS_touch_action");
                    var o = I.offset();
                    u = O(e)[0] - o.top, f = O(e)[1] - o.left, z = [O(e)[0], O(e)[1]]
                }

                function n(e) {
                    if (te(e) && !c && !O(e)[2] && (T.documentTouchScroll || e.preventDefault(), e.stopImmediatePropagation(), (!C || b) && d)) {
                        g = K();
                        var t = M.offset(),
                            o = O(e)[0] - t.top,
                            a = O(e)[1] - t.left,
                            n = "mcsLinearOut";
                        if (E.push(o), W.push(a), z[2] = Math.abs(O(e)[0] - z[0]), z[3] = Math.abs(O(e)[1] - z[1]), B.overflowed[0]) var i = D[0].parent().height() - D[0].height(),
                            r = u - o > 0 && o - u > -(i * B.scrollRatio.y) && (2 * z[3] < z[2] || "yx" === T.axis);
                        if (B.overflowed[1]) var l = D[1].parent().width() - D[1].width(),
                            h = f - a > 0 && a - f > -(l * B.scrollRatio.x) && (2 * z[2] < z[3] || "yx" === T.axis);
                        r || h ? (U || e.preventDefault(), b = 1) : (C = 1, y.addClass("mCS_touch_action")), U && e.preventDefault(), w = "yx" === T.axis ? [u - o, f - a] : "x" === T.axis ? [null, f - a] : [u - o, null], I[0].idleTimer = 250, B.overflowed[0] && s(w[0], R, n, "y", "all", !0), B.overflowed[1] && s(w[1], R, n, "x", L, !0)
                    }
                }

                function i(e) {
                    if (!te(e) || c || O(e)[2]) return void(t = 0);
                    t = 1, e.stopImmediatePropagation(), Q(y), p = K();
                    var o = M.offset();
                    h = O(e)[0] - o.top, m = O(e)[1] - o.left, E = [], W = []
                }

                function r(e) {
                    if (te(e) && !c && !O(e)[2]) {
                        d = 0, e.stopImmediatePropagation(), b = 0, C = 0, v = K();
                        var t = M.offset(),
                            o = O(e)[0] - t.top,
                            a = O(e)[1] - t.left;
                        if (!(v - g > 30)) {
                            _ = 1e3 / (v - p);
                            var n = "mcsEaseOut",
                                i = 2.5 > _,
                                r = i ? [E[E.length - 2], W[W.length - 2]] : [0, 0];
                            x = i ? [o - r[0], a - r[1]] : [o - h, a - m];
                            var u = [Math.abs(x[0]), Math.abs(x[1])];
                            _ = i ? [Math.abs(x[0] / 4), Math.abs(x[1] / 4)] : [_, _];
                            var f = [Math.abs(I[0].offsetTop) - x[0] * l(u[0] / _[0], _[0]), Math.abs(I[0].offsetLeft) - x[1] * l(u[1] / _[1], _[1])];
                            w = "yx" === T.axis ? [f[0], f[1]] : "x" === T.axis ? [null, f[1]] : [f[0], null], S = [4 * u[0] + T.scrollInertia, 4 * u[1] + T.scrollInertia];
                            var y = parseInt(T.contentTouchScroll) || 0;
                            w[0] = u[0] > y ? w[0] : 0, w[1] = u[1] > y ? w[1] : 0, B.overflowed[0] && s(w[0], S[0], n, "y", L, !1), B.overflowed[1] && s(w[1], S[1], n, "x", L, !1)
                        }
                    }
                }

                function l(e, t) {
                    var o = [1.5 * t, 2 * t, t / 1.5, t / 2];
                    return e > 90 ? t > 4 ? o[0] : o[3] : e > 60 ? t > 3 ? o[3] : o[2] : e > 30 ? t > 8 ? o[1] : t > 6 ? o[0] : t > 4 ? t : o[2] : t > 8 ? t : o[3]
                }

                function s(e, t, o, a, n, i) {
                    e && G(y, e.toString(), {
                        dur: t,
                        scrollEasing: o,
                        dir: a,
                        overwrite: n,
                        drag: i
                    })
                }
                var d, u, f, h, m, p, g, v, x, _, w, S, b, C, y = e(this),
                    B = y.data(a),
                    T = B.opt,
                    k = a + "_" + B.idx,
                    M = e("#mCSB_" + B.idx),
                    I = e("#mCSB_" + B.idx + "_container"),
                    D = [e("#mCSB_" + B.idx + "_dragger_vertical"), e("#mCSB_" + B.idx + "_dragger_horizontal")],
                    E = [],
                    W = [],
                    R = 0,
                    L = "yx" === T.axis ? "none" : "all",
                    z = [],
                    P = I.find("iframe"),
                    H = ["touchstart." + k + " pointerdown." + k + " MSPointerDown." + k, "touchmove." + k + " pointermove." + k + " MSPointerMove." + k, "touchend." + k + " pointerup." + k + " MSPointerUp." + k],
                    U = void 0 !== document.body.style.touchAction && "" !== document.body.style.touchAction;
                I.bind(H[0], function (e) {
                    o(e)
                }).bind(H[1], function (e) {
                    n(e)
                }), M.bind(H[0], function (e) {
                    i(e)
                }).bind(H[2], function (e) {
                    r(e)
                }), P.length && P.each(function () {
                    e(this).bind("load", function () {
                        A(this) && e(this.contentDocument || this.contentWindow.document).bind(H[0], function (e) {
                            o(e), i(e)
                        }).bind(H[1], function (e) {
                            n(e)
                        }).bind(H[2], function (e) {
                            r(e)
                        })
                    })
                })
            },
            E = function () {
                function o() {
                    return window.getSelection ? window.getSelection().toString() : document.selection && "Control" != document.selection.type ? document.selection.createRange().text : 0
                }

                function n(e, t, o) {
                    d.type = o && i ? "stepped" : "stepless", d.scrollAmount = 10, j(r, e, t, "mcsLinearOut", o ? 60 : null)
                }
                var i, r = e(this),
                    l = r.data(a),
                    s = l.opt,
                    d = l.sequential,
                    u = a + "_" + l.idx,
                    f = e("#mCSB_" + l.idx + "_container"),
                    h = f.parent();
                f.bind("mousedown." + u, function () {
                    t || i || (i = 1, c = !0)
                }).add(document).bind("mousemove." + u, function (e) {
                    if (!t && i && o()) {
                        var a = f.offset(),
                            r = O(e)[0] - a.top + f[0].offsetTop,
                            c = O(e)[1] - a.left + f[0].offsetLeft;
                        r > 0 && r < h.height() && c > 0 && c < h.width() ? d.step && n("off", null, "stepped") : ("x" !== s.axis && l.overflowed[0] && (0 > r ? n("on", 38) : r > h.height() && n("on", 40)), "y" !== s.axis && l.overflowed[1] && (0 > c ? n("on", 37) : c > h.width() && n("on", 39)))
                    }
                }).bind("mouseup." + u + " dragend." + u, function () {
                    t || (i && (i = 0, n("off", null)), c = !1)
                })
            },
            W = function () {
                function t(t, a) {
                    if (Q(o), !z(o, t.target)) {
                        var r = "auto" !== i.mouseWheel.deltaFactor ? parseInt(i.mouseWheel.deltaFactor) : s && t.deltaFactor < 100 ? 100 : t.deltaFactor || 100,
                            d = i.scrollInertia;
                        if ("x" === i.axis || "x" === i.mouseWheel.axis) var u = "x",
                            f = [Math.round(r * n.scrollRatio.x), parseInt(i.mouseWheel.scrollAmount)],
                            h = "auto" !== i.mouseWheel.scrollAmount ? f[1] : f[0] >= l.width() ? .9 * l.width() : f[0],
                            m = Math.abs(e("#mCSB_" + n.idx + "_container")[0].offsetLeft),
                            p = c[1][0].offsetLeft,
                            g = c[1].parent().width() - c[1].width(),
                            v = "y" === i.mouseWheel.axis ? t.deltaY || a : t.deltaX;
                        else var u = "y",
                            f = [Math.round(r * n.scrollRatio.y), parseInt(i.mouseWheel.scrollAmount)],
                            h = "auto" !== i.mouseWheel.scrollAmount ? f[1] : f[0] >= l.height() ? .9 * l.height() : f[0],
                            m = Math.abs(e("#mCSB_" + n.idx + "_container")[0].offsetTop),
                            p = c[0][0].offsetTop,
                            g = c[0].parent().height() - c[0].height(),
                            v = t.deltaY || a;
                        "y" === u && !n.overflowed[0] || "x" === u && !n.overflowed[1] || ((i.mouseWheel.invert || t.webkitDirectionInvertedFromDevice) && (v = -v), i.mouseWheel.normalizeDelta && (v = 0 > v ? -1 : 1), (v > 0 && 0 !== p || 0 > v && p !== g || i.mouseWheel.preventDefault) && (t.stopImmediatePropagation(), t.preventDefault()), t.deltaFactor < 5 && !i.mouseWheel.normalizeDelta && (h = t.deltaFactor, d = 17), G(o, (m - v * h).toString(), {
                            dir: u,
                            dur: d
                        }))
                    }
                }
                if (e(this).data(a)) {
                    var o = e(this),
                        n = o.data(a),
                        i = n.opt,
                        r = a + "_" + n.idx,
                        l = e("#mCSB_" + n.idx),
                        c = [e("#mCSB_" + n.idx + "_dragger_vertical"), e("#mCSB_" + n.idx + "_dragger_horizontal")],
                        d = e("#mCSB_" + n.idx + "_container").find("iframe");
                    d.length && d.each(function () {
                        e(this).bind("load", function () {
                            A(this) && e(this.contentDocument || this.contentWindow.document).bind("mousewheel." + r, function (e, o) {
                                t(e, o)
                            })
                        })
                    }), l.bind("mousewheel." + r, function (e, o) {
                        t(e, o)
                    })
                }
            },
            R = new Object,
            A = function (t) {
                var o = !1,
                    a = !1,
                    n = null;
                if (void 0 === t ? a = "#empty" : void 0 !== e(t).attr("id") && (a = e(t).attr("id")), a !== !1 && void 0 !== R[a]) return R[a];
                if (t) {
                    try {
                        var i = t.contentDocument || t.contentWindow.document;
                        n = i.body.innerHTML
                    } catch (r) {}
                    o = null !== n
                } else {
                    try {
                        var i = top.document;
                        n = i.body.innerHTML
                    } catch (r) {}
                    o = null !== n
                }
                return a !== !1 && (R[a] = o), o
            },
            L = function (e) {
                var t = this.find("iframe");
                if (t.length) {
                    var o = e ? "auto" : "none";
                    t.css("pointer-events", o)
                }
            },
            z = function (t, o) {
                var n = o.nodeName.toLowerCase(),
                    i = t.data(a).opt.mouseWheel.disableOver,
                    r = ["select", "textarea"];
                return e.inArray(n, i) > -1 && !(e.inArray(n, r) > -1 && !e(o).is(":focus"))
            },
            P = function () {
                var t, o = e(this),
                    n = o.data(a),
                    i = a + "_" + n.idx,
                    r = e("#mCSB_" + n.idx + "_container"),
                    l = r.parent(),
                    s = e(".mCSB_" + n.idx + "_scrollbar ." + d[12]);
                s.bind("mousedown." + i + " touchstart." + i + " pointerdown." + i + " MSPointerDown." + i, function (o) {
                    c = !0, e(o.target).hasClass("mCSB_dragger") || (t = 1)
                }).bind("touchend." + i + " pointerup." + i + " MSPointerUp." + i, function () {
                    c = !1
                }).bind("click." + i, function (a) {
                    if (t && (t = 0, e(a.target).hasClass(d[12]) || e(a.target).hasClass("mCSB_draggerRail"))) {
                        Q(o);
                        var i = e(this),
                            s = i.find(".mCSB_dragger");
                        if (i.parent(".mCSB_scrollTools_horizontal").length > 0) {
                            if (!n.overflowed[1]) return;
                            var c = "x",
                                u = a.pageX > s.offset().left ? -1 : 1,
                                f = Math.abs(r[0].offsetLeft) - u * (.9 * l.width())
                        } else {
                            if (!n.overflowed[0]) return;
                            var c = "y",
                                u = a.pageY > s.offset().top ? -1 : 1,
                                f = Math.abs(r[0].offsetTop) - u * (.9 * l.height())
                        }
                        G(o, f.toString(), {
                            dir: c,
                            scrollEasing: "mcsEaseInOut"
                        })
                    }
                })
            },
            H = function () {
                var t = e(this),
                    o = t.data(a),
                    n = o.opt,
                    i = a + "_" + o.idx,
                    r = e("#mCSB_" + o.idx + "_container"),
                    l = r.parent();
                r.bind("focusin." + i, function () {
                    var o = e(document.activeElement),
                        a = r.find(".mCustomScrollBox").length,
                        i = 0;
                    o.is(n.advanced.autoScrollOnFocus) && (Q(t), clearTimeout(t[0]._focusTimeout), t[0]._focusTimer = a ? (i + 17) * a : 0, t[0]._focusTimeout = setTimeout(function () {
                        var e = [ae(o)[0], ae(o)[1]],
                            a = [r[0].offsetTop, r[0].offsetLeft],
                            s = [a[0] + e[0] >= 0 && a[0] + e[0] < l.height() - o.outerHeight(!1), a[1] + e[1] >= 0 && a[0] + e[1] < l.width() - o.outerWidth(!1)],
                            c = "yx" !== n.axis || s[0] || s[1] ? "all" : "none";
                        "x" === n.axis || s[0] || G(t, e[0].toString(), {
                            dir: "y",
                            scrollEasing: "mcsEaseInOut",
                            overwrite: c,
                            dur: i
                        }), "y" === n.axis || s[1] || G(t, e[1].toString(), {
                            dir: "x",
                            scrollEasing: "mcsEaseInOut",
                            overwrite: c,
                            dur: i
                        })
                    }, t[0]._focusTimer))
                })
            },
            U = function () {
                var t = e(this),
                    o = t.data(a),
                    n = a + "_" + o.idx,
                    i = e("#mCSB_" + o.idx + "_container").parent();
                i.bind("scroll." + n, function () {
                    0 === i.scrollTop() && 0 === i.scrollLeft() || e(".mCSB_" + o.idx + "_scrollbar").css("visibility", "hidden")
                })
            },
            F = function () {
                var t = e(this),
                    o = t.data(a),
                    n = o.opt,
                    i = o.sequential,
                    r = a + "_" + o.idx,
                    l = ".mCSB_" + o.idx + "_scrollbar",
                    s = e(l + ">a");
                s.bind("contextmenu." + r, function (e) {
                    e.preventDefault()
                }).bind("mousedown." + r + " touchstart." + r + " pointerdown." + r + " MSPointerDown." + r + " mouseup." + r + " touchend." + r + " pointerup." + r + " MSPointerUp." + r + " mouseout." + r + " pointerout." + r + " MSPointerOut." + r + " click." + r, function (a) {
                    function r(e, o) {
                        i.scrollAmount = n.scrollButtons.scrollAmount, j(t, e, o)
                    }
                    if (a.preventDefault(), ee(a)) {
                        var l = e(this).attr("class");
                        switch (i.type = n.scrollButtons.scrollType, a.type) {
                            case "mousedown":
                            case "touchstart":
                            case "pointerdown":
                            case "MSPointerDown":
                                if ("stepped" === i.type) return;
                                c = !0, o.tweenRunning = !1, r("on", l);
                                break;
                            case "mouseup":
                            case "touchend":
                            case "pointerup":
                            case "MSPointerUp":
                            case "mouseout":
                            case "pointerout":
                            case "MSPointerOut":
                                if ("stepped" === i.type) return;
                                c = !1, i.dir && r("off", l);
                                break;
                            case "click":
                                if ("stepped" !== i.type || o.tweenRunning) return;
                                r("on", l)
                        }
                    }
                })
            },
            q = function () {
                function t(t) {
                    function a(e, t) {
                        r.type = i.keyboard.scrollType, r.scrollAmount = i.keyboard.scrollAmount, "stepped" === r.type && n.tweenRunning || j(o, e, t)
                    }
                    switch (t.type) {
                        case "blur":
                            n.tweenRunning && r.dir && a("off", null);
                            break;
                        case "keydown":
                        case "keyup":
                            var l = t.keyCode ? t.keyCode : t.which,
                                s = "on";
                            if ("x" !== i.axis && (38 === l || 40 === l) || "y" !== i.axis && (37 === l || 39 === l)) {
                                if ((38 === l || 40 === l) && !n.overflowed[0] || (37 === l || 39 === l) && !n.overflowed[1]) return;
                                "keyup" === t.type && (s = "off"), e(document.activeElement).is(u) || (t.preventDefault(), t.stopImmediatePropagation(), a(s, l))
                            } else if (33 === l || 34 === l) {
                                if ((n.overflowed[0] || n.overflowed[1]) && (t.preventDefault(), t.stopImmediatePropagation()), "keyup" === t.type) {
                                    Q(o);
                                    var f = 34 === l ? -1 : 1;
                                    if ("x" === i.axis || "yx" === i.axis && n.overflowed[1] && !n.overflowed[0]) var h = "x",
                                        m = Math.abs(c[0].offsetLeft) - f * (.9 * d.width());
                                    else var h = "y",
                                        m = Math.abs(c[0].offsetTop) - f * (.9 * d.height());
                                    G(o, m.toString(), {
                                        dir: h,
                                        scrollEasing: "mcsEaseInOut"
                                    })
                                }
                            } else if ((35 === l || 36 === l) && !e(document.activeElement).is(u) && ((n.overflowed[0] || n.overflowed[1]) && (t.preventDefault(), t.stopImmediatePropagation()), "keyup" === t.type)) {
                                if ("x" === i.axis || "yx" === i.axis && n.overflowed[1] && !n.overflowed[0]) var h = "x",
                                    m = 35 === l ? Math.abs(d.width() - c.outerWidth(!1)) : 0;
                                else var h = "y",
                                    m = 35 === l ? Math.abs(d.height() - c.outerHeight(!1)) : 0;
                                G(o, m.toString(), {
                                    dir: h,
                                    scrollEasing: "mcsEaseInOut"
                                })
                            }
                    }
                }
                var o = e(this),
                    n = o.data(a),
                    i = n.opt,
                    r = n.sequential,
                    l = a + "_" + n.idx,
                    s = e("#mCSB_" + n.idx),
                    c = e("#mCSB_" + n.idx + "_container"),
                    d = c.parent(),
                    u = "input,textarea,select,datalist,keygen,[contenteditable='true']",
                    f = c.find("iframe"),
                    h = ["blur." + l + " keydown." + l + " keyup." + l];
                f.length && f.each(function () {
                    e(this).bind("load", function () {
                        A(this) && e(this.contentDocument || this.contentWindow.document).bind(h[0], function (e) {
                            t(e)
                        })
                    })
                }), s.attr("tabindex", "0").bind(h[0], function (e) {
                    t(e)
                })
            },
            j = function (t, o, n, i, r) {
                function l(e) {
                    u.snapAmount && (f.scrollAmount = u.snapAmount instanceof Array ? "x" === f.dir[0] ? u.snapAmount[1] : u.snapAmount[0] : u.snapAmount);
                    var o = "stepped" !== f.type,
                        a = r ? r : e ? o ? p / 1.5 : g : 1e3 / 60,
                        n = e ? o ? 7.5 : 40 : 2.5,
                        s = [Math.abs(h[0].offsetTop), Math.abs(h[0].offsetLeft)],
                        d = [c.scrollRatio.y > 10 ? 10 : c.scrollRatio.y, c.scrollRatio.x > 10 ? 10 : c.scrollRatio.x],
                        m = "x" === f.dir[0] ? s[1] + f.dir[1] * (d[1] * n) : s[0] + f.dir[1] * (d[0] * n),
                        v = "x" === f.dir[0] ? s[1] + f.dir[1] * parseInt(f.scrollAmount) : s[0] + f.dir[1] * parseInt(f.scrollAmount),
                        x = "auto" !== f.scrollAmount ? v : m,
                        _ = i ? i : e ? o ? "mcsLinearOut" : "mcsEaseInOut" : "mcsLinear",
                        w = !!e;
                    return e && 17 > a && (x = "x" === f.dir[0] ? s[1] : s[0]), G(t, x.toString(), {
                        dir: f.dir[0],
                        scrollEasing: _,
                        dur: a,
                        onComplete: w
                    }), e ? void(f.dir = !1) : (clearTimeout(f.step), void(f.step = setTimeout(function () {
                        l()
                    }, a)))
                }

                function s() {
                    clearTimeout(f.step), $(f, "step"), Q(t)
                }
                var c = t.data(a),
                    u = c.opt,
                    f = c.sequential,
                    h = e("#mCSB_" + c.idx + "_container"),
                    m = "stepped" === f.type,
                    p = u.scrollInertia < 26 ? 26 : u.scrollInertia,
                    g = u.scrollInertia < 1 ? 17 : u.scrollInertia;
                switch (o) {
                    case "on":
                        if (f.dir = [n === d[16] || n === d[15] || 39 === n || 37 === n ? "x" : "y", n === d[13] || n === d[15] || 38 === n || 37 === n ? -1 : 1], Q(t), oe(n) && "stepped" === f.type) return;
                        l(m);
                        break;
                    case "off":
                        s(), (m || c.tweenRunning && f.dir) && l(!0)
                }
            },
            Y = function (t) {
                var o = e(this).data(a).opt,
                    n = [];
                return "function" == typeof t && (t = t()), t instanceof Array ? n = t.length > 1 ? [t[0], t[1]] : "x" === o.axis ? [null, t[0]] : [t[0], null] : (n[0] = t.y ? t.y : t.x || "x" === o.axis ? null : t, n[1] = t.x ? t.x : t.y || "y" === o.axis ? null : t), "function" == typeof n[0] && (n[0] = n[0]()), "function" == typeof n[1] && (n[1] = n[1]()), n
            },
            X = function (t, o) {
                if (null != t && "undefined" != typeof t) {
                    var n = e(this),
                        i = n.data(a),
                        r = i.opt,
                        l = e("#mCSB_" + i.idx + "_container"),
                        s = l.parent(),
                        c = typeof t;
                    o || (o = "x" === r.axis ? "x" : "y");
                    var d = "x" === o ? l.outerWidth(!1) - s.width() : l.outerHeight(!1) - s.height(),
                        f = "x" === o ? l[0].offsetLeft : l[0].offsetTop,
                        h = "x" === o ? "left" : "top";
                    switch (c) {
                        case "function":
                            return t();
                        case "object":
                            var m = t.jquery ? t : e(t);
                            if (!m.length) return;
                            return "x" === o ? ae(m)[1] : ae(m)[0];
                        case "string":
                        case "number":
                            if (oe(t)) return Math.abs(t);
                            if (-1 !== t.indexOf("%")) return Math.abs(d * parseInt(t) / 100);
                            if (-1 !== t.indexOf("-=")) return Math.abs(f - parseInt(t.split("-=")[1]));
                            if (-1 !== t.indexOf("+=")) {
                                var p = f + parseInt(t.split("+=")[1]);
                                return p >= 0 ? 0 : Math.abs(p)
                            }
                            if (-1 !== t.indexOf("px") && oe(t.split("px")[0])) return Math.abs(t.split("px")[0]);
                            if ("top" === t || "left" === t) return 0;
                            if ("bottom" === t) return Math.abs(s.height() - l.outerHeight(!1));
                            if ("right" === t) return Math.abs(s.width() - l.outerWidth(!1));
                            if ("first" === t || "last" === t) {
                                var m = l.find(":" + t);
                                return "x" === o ? ae(m)[1] : ae(m)[0]
                            }
                            return e(t).length ? "x" === o ? ae(e(t))[1] : ae(e(t))[0] : (l.css(h, t), void u.update.call(null, n[0]))
                    }
                }
            },
            N = function (t) {
                function o() {
                    return clearTimeout(f[0].autoUpdate), 0 === l.parents("html").length ? void(l = null) : void(f[0].autoUpdate = setTimeout(function () {
                        return c.advanced.updateOnSelectorChange && (s.poll.change.n = i(), s.poll.change.n !== s.poll.change.o) ? (s.poll.change.o = s.poll.change.n, void r(3)) : c.advanced.updateOnContentResize && (s.poll.size.n = l[0].scrollHeight + l[0].scrollWidth + f[0].offsetHeight + l[0].offsetHeight + l[0].offsetWidth, s.poll.size.n !== s.poll.size.o) ? (s.poll.size.o = s.poll.size.n, void r(1)) : !c.advanced.updateOnImageLoad || "auto" === c.advanced.updateOnImageLoad && "y" === c.axis || (s.poll.img.n = f.find("img").length, s.poll.img.n === s.poll.img.o) ? void((c.advanced.updateOnSelectorChange || c.advanced.updateOnContentResize || c.advanced.updateOnImageLoad) && o()) : (s.poll.img.o = s.poll.img.n, void f.find("img").each(function () {
                            n(this)
                        }))
                    }, c.advanced.autoUpdateTimeout))
                }

                function n(t) {
                    function o(e, t) {
                        return function () {
                            return t.apply(e, arguments)
                        }
                    }

                    function a() {
                        this.onload = null, e(t).addClass(d[2]), r(2)
                    }
                    if (e(t).hasClass(d[2])) return void r();
                    var n = new Image;
                    n.onload = o(n, a), n.src = t.src
                }

                function i() {
                    c.advanced.updateOnSelectorChange === !0 && (c.advanced.updateOnSelectorChange = "*");
                    var e = 0,
                        t = f.find(c.advanced.updateOnSelectorChange);
                    return c.advanced.updateOnSelectorChange && t.length > 0 && t.each(function () {
                        e += this.offsetHeight + this.offsetWidth
                    }), e
                }

                function r(e) {
                    clearTimeout(f[0].autoUpdate), u.update.call(null, l[0], e)
                }
                var l = e(this),
                    s = l.data(a),
                    c = s.opt,
                    f = e("#mCSB_" + s.idx + "_container");
                return t ? (clearTimeout(f[0].autoUpdate), void $(f[0], "autoUpdate")) : void o()
            },
            V = function (e, t, o) {
                return Math.round(e / t) * t - o
            },
            Q = function (t) {
                var o = t.data(a),
                    n = e("#mCSB_" + o.idx + "_container,#mCSB_" + o.idx + "_container_wrapper,#mCSB_" + o.idx + "_dragger_vertical,#mCSB_" + o.idx + "_dragger_horizontal");
                n.each(function () {
                    Z.call(this)
                })
            },
            G = function (t, o, n) {
                function i(e) {
                    return s && c.callbacks[e] && "function" == typeof c.callbacks[e]
                }

                function r() {
                    return [c.callbacks.alwaysTriggerOffsets || w >= S[0] + y, c.callbacks.alwaysTriggerOffsets || -B >= w]
                }

                function l() {
                    var e = [h[0].offsetTop, h[0].offsetLeft],
                        o = [x[0].offsetTop, x[0].offsetLeft],
                        a = [h.outerHeight(!1), h.outerWidth(!1)],
                        i = [f.height(), f.width()];
                    t[0].mcs = {
                        content: h,
                        top: e[0],
                        left: e[1],
                        draggerTop: o[0],
                        draggerLeft: o[1],
                        topPct: Math.round(100 * Math.abs(e[0]) / (Math.abs(a[0]) - i[0])),
                        leftPct: Math.round(100 * Math.abs(e[1]) / (Math.abs(a[1]) - i[1])),
                        direction: n.dir
                    }
                }
                var s = t.data(a),
                    c = s.opt,
                    d = {
                        trigger: "internal",
                        dir: "y",
                        scrollEasing: "mcsEaseOut",
                        drag: !1,
                        dur: c.scrollInertia,
                        overwrite: "all",
                        callbacks: !0,
                        onStart: !0,
                        onUpdate: !0,
                        onComplete: !0
                    },
                    n = e.extend(d, n),
                    u = [n.dur, n.drag ? 0 : n.dur],
                    f = e("#mCSB_" + s.idx),
                    h = e("#mCSB_" + s.idx + "_container"),
                    m = h.parent(),
                    p = c.callbacks.onTotalScrollOffset ? Y.call(t, c.callbacks.onTotalScrollOffset) : [0, 0],
                    g = c.callbacks.onTotalScrollBackOffset ? Y.call(t, c.callbacks.onTotalScrollBackOffset) : [0, 0];
                if (s.trigger = n.trigger, 0 === m.scrollTop() && 0 === m.scrollLeft() || (e(".mCSB_" + s.idx + "_scrollbar").css("visibility", "visible"), m.scrollTop(0).scrollLeft(0)), "_resetY" !== o || s.contentReset.y || (i("onOverflowYNone") && c.callbacks.onOverflowYNone.call(t[0]), s.contentReset.y = 1), "_resetX" !== o || s.contentReset.x || (i("onOverflowXNone") && c.callbacks.onOverflowXNone.call(t[0]), s.contentReset.x = 1), "_resetY" !== o && "_resetX" !== o) {
                    if (!s.contentReset.y && t[0].mcs || !s.overflowed[0] || (i("onOverflowY") && c.callbacks.onOverflowY.call(t[0]), s.contentReset.x = null), !s.contentReset.x && t[0].mcs || !s.overflowed[1] || (i("onOverflowX") && c.callbacks.onOverflowX.call(t[0]), s.contentReset.x = null), c.snapAmount) {
                        var v = c.snapAmount instanceof Array ? "x" === n.dir ? c.snapAmount[1] : c.snapAmount[0] : c.snapAmount;
                        o = V(o, v, c.snapOffset)
                    }
                    switch (n.dir) {
                        case "x":
                            var x = e("#mCSB_" + s.idx + "_dragger_horizontal"),
                                _ = "left",
                                w = h[0].offsetLeft,
                                S = [f.width() - h.outerWidth(!1), x.parent().width() - x.width()],
                                b = [o, 0 === o ? 0 : o / s.scrollRatio.x],
                                y = p[1],
                                B = g[1],
                                T = y > 0 ? y / s.scrollRatio.x : 0,
                                k = B > 0 ? B / s.scrollRatio.x : 0;
                            break;
                        case "y":
                            var x = e("#mCSB_" + s.idx + "_dragger_vertical"),
                                _ = "top",
                                w = h[0].offsetTop,
                                S = [f.height() - h.outerHeight(!1), x.parent().height() - x.height()],
                                b = [o, 0 === o ? 0 : o / s.scrollRatio.y],
                                y = p[0],
                                B = g[0],
                                T = y > 0 ? y / s.scrollRatio.y : 0,
                                k = B > 0 ? B / s.scrollRatio.y : 0
                    }
                    b[1] < 0 || 0 === b[0] && 0 === b[1] ? b = [0, 0] : b[1] >= S[1] ? b = [S[0], S[1]] : b[0] = -b[0], t[0].mcs || (l(), i("onInit") && c.callbacks.onInit.call(t[0])), clearTimeout(h[0].onCompleteTimeout), J(x[0], _, Math.round(b[1]), u[1], n.scrollEasing), !s.tweenRunning && (0 === w && b[0] >= 0 || w === S[0] && b[0] <= S[0]) || J(h[0], _, Math.round(b[0]), u[0], n.scrollEasing, n.overwrite, {
                        onStart: function () {
                            n.callbacks && n.onStart && !s.tweenRunning && (i("onScrollStart") && (l(), c.callbacks.onScrollStart.call(t[0])), s.tweenRunning = !0, C(x), s.cbOffsets = r())
                        },
                        onUpdate: function () {
                            n.callbacks && n.onUpdate && i("whileScrolling") && (l(), c.callbacks.whileScrolling.call(t[0]))
                        },
                        onComplete: function () {
                            if (n.callbacks && n.onComplete) {
                                "yx" === c.axis && clearTimeout(h[0].onCompleteTimeout);
                                var e = h[0].idleTimer || 0;
                                h[0].onCompleteTimeout = setTimeout(function () {
                                    i("onScroll") && (l(), c.callbacks.onScroll.call(t[0])), i("onTotalScroll") && b[1] >= S[1] - T && s.cbOffsets[0] && (l(), c.callbacks.onTotalScroll.call(t[0])), i("onTotalScrollBack") && b[1] <= k && s.cbOffsets[1] && (l(), c.callbacks.onTotalScrollBack.call(t[0])), s.tweenRunning = !1, h[0].idleTimer = 0, C(x, "hide")
                                }, e)
                            }
                        }
                    })
                }
            },
            J = function (e, t, o, a, n, i, r) {
                function l() {
                    S.stop || (x || m.call(), x = K() - v, s(), x >= S.time && (S.time = x > S.time ? x + f - (x - S.time) : x + f - 1, S.time < x + 1 && (S.time = x + 1)), S.time < a ? S.id = h(l) : g.call())
                }

                function s() {
                    a > 0 ? (S.currVal = u(S.time, _, b, a, n), w[t] = Math.round(S.currVal) + "px") : w[t] = o + "px", p.call()
                }

                function c() {
                    f = 1e3 / 60, S.time = x + f, h = window.requestAnimationFrame ? window.requestAnimationFrame : function (e) {
                        return s(), setTimeout(e, .01)
                    }, S.id = h(l)
                }

                function d() {
                    null != S.id && (window.requestAnimationFrame ? window.cancelAnimationFrame(S.id) : clearTimeout(S.id), S.id = null)
                }

                function u(e, t, o, a, n) {
                    switch (n) {
                        case "linear":
                        case "mcsLinear":
                            return o * e / a + t;
                        case "mcsLinearOut":
                            return e /= a, e--, o * Math.sqrt(1 - e * e) + t;
                        case "easeInOutSmooth":
                            return e /= a / 2, 1 > e ? o / 2 * e * e + t : (e--, -o / 2 * (e * (e - 2) - 1) + t);
                        case "easeInOutStrong":
                            return e /= a / 2, 1 > e ? o / 2 * Math.pow(2, 10 * (e - 1)) + t : (e--, o / 2 * (-Math.pow(2, -10 * e) + 2) + t);
                        case "easeInOut":
                        case "mcsEaseInOut":
                            return e /= a / 2, 1 > e ? o / 2 * e * e * e + t : (e -= 2, o / 2 * (e * e * e + 2) + t);
                        case "easeOutSmooth":
                            return e /= a, e--, -o * (e * e * e * e - 1) + t;
                        case "easeOutStrong":
                            return o * (-Math.pow(2, -10 * e / a) + 1) + t;
                        case "easeOut":
                        case "mcsEaseOut":
                        default:
                            var i = (e /= a) * e,
                                r = i * e;
                            return t + o * (.499999999999997 * r * i + -2.5 * i * i + 5.5 * r + -6.5 * i + 4 * e)
                    }
                }
                e._mTween || (e._mTween = {
                    top: {},
                    left: {}
                });
                var f, h, r = r || {},
                    m = r.onStart || function () {},
                    p = r.onUpdate || function () {},
                    g = r.onComplete || function () {},
                    v = K(),
                    x = 0,
                    _ = e.offsetTop,
                    w = e.style,
                    S = e._mTween[t];
                "left" === t && (_ = e.offsetLeft);
                var b = o - _;
                S.stop = 0, "none" !== i && d(), c()
            },
            K = function () {
                return window.performance && window.performance.now ? window.performance.now() : window.performance && window.performance.webkitNow ? window.performance.webkitNow() : Date.now ? Date.now() : (new Date).getTime()
            },
            Z = function () {
                var e = this;
                e._mTween || (e._mTween = {
                    top: {},
                    left: {}
                });
                for (var t = ["top", "left"], o = 0; o < t.length; o++) {
                    var a = t[o];
                    e._mTween[a].id && (window.requestAnimationFrame ? window.cancelAnimationFrame(e._mTween[a].id) : clearTimeout(e._mTween[a].id), e._mTween[a].id = null, e._mTween[a].stop = 1)
                }
            },
            $ = function (e, t) {
                try {
                    delete e[t]
                } catch (o) {
                    e[t] = null
                }
            },
            ee = function (e) {
                return !(e.which && 1 !== e.which)
            },
            te = function (e) {
                var t = e.originalEvent.pointerType;
                return !(t && "touch" !== t && 2 !== t)
            },
            oe = function (e) {
                return !isNaN(parseFloat(e)) && isFinite(e)
            },
            ae = function (e) {
                var t = e.parents(".mCSB_container");
                return [e.offset().top - t.offset().top, e.offset().left - t.offset().left]
            },
            ne = function () {
                function e() {
                    var e = ["webkit", "moz", "ms", "o"];
                    if ("hidden" in document) return "hidden";
                    for (var t = 0; t < e.length; t++)
                        if (e[t] + "Hidden" in document) return e[t] + "Hidden";
                    return null
                }
                var t = e();
                return t ? document[t] : !1
            };
        e.fn[o] = function (t) {
            return u[t] ? u[t].apply(this, Array.prototype.slice.call(arguments, 1)) : "object" != typeof t && t ? void e.error("Method " + t + " does not exist") : u.init.apply(this, arguments)
        }, e[o] = function (t) {
            return u[t] ? u[t].apply(this, Array.prototype.slice.call(arguments, 1)) : "object" != typeof t && t ? void e.error("Method " + t + " does not exist") : u.init.apply(this, arguments)
        }, e[o].defaults = i, window[o] = !0, e(window).bind("load", function () {
            e(n)[o](), e.extend(e.expr[":"], {
                mcsInView: e.expr[":"].mcsInView || function (t) {
                    var o, a, n = e(t),
                        i = n.parents(".mCSB_container");
                    if (i.length) return o = i.parent(), a = [i[0].offsetTop, i[0].offsetLeft], a[0] + ae(n)[0] >= 0 && a[0] + ae(n)[0] < o.height() - n.outerHeight(!1) && a[1] + ae(n)[1] >= 0 && a[1] + ae(n)[1] < o.width() - n.outerWidth(!1)
                },
                mcsInSight: e.expr[":"].mcsInSight || function (t, o, a) {
                    var n, i, r, l, s = e(t),
                        c = s.parents(".mCSB_container"),
                        d = "exact" === a[3] ? [[1, 0], [1, 0]] : [[.9, .1], [.6, .4]];
                    if (c.length) return n = [s.outerHeight(!1), s.outerWidth(!1)], r = [c[0].offsetTop + ae(s)[0], c[0].offsetLeft + ae(s)[1]], i = [c.parent()[0].offsetHeight, c.parent()[0].offsetWidth], l = [n[0] < i[0] ? d[0] : d[1], n[1] < i[1] ? d[0] : d[1]], r[0] - i[0] * l[0][0] < 0 && r[0] + n[0] - i[0] * l[0][1] >= 0 && r[1] - i[1] * l[1][0] < 0 && r[1] + n[1] - i[1] * l[1][1] >= 0
                },
                mcsOverflow: e.expr[":"].mcsOverflow || function (t) {
                    var o = e(t).data(a);
                    if (o) return o.overflowed[0] || o.overflowed[1]
                }
            })
        })
    })
});
